[
  {
    "id": "counting_four_digit_odd",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 3,
    "statement": "Rozważamy wszystkie liczby naturalne czterocyfrowe składające się jedynie z cyfr nieparzystych, które są mniejsze od 7000 oraz są podzielne przez 5. Dokończ zdanie. Wybierz właściwą odpowiedź spośród podanych. Wszystkich takich liczb jest dokładnie: A. 75, B. 96, C. 115, D. 134",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry są nieparzyste?",
        "expression": "Cyfry nieparzyste: $1, 3, 5, 7, 9$",
        "explanation": "Mamy 5 cyfr nieparzystych do wyboru"
      },
      {
        "step": 2,
        "hint": "Co oznacza warunek 'mniejsze od 7000' dla pierwszej cyfry?",
        "expression": "Pierwsza cyfra: $1, 3$ lub $5$ (3 możliwości)",
        "explanation": "Warunek < 7000 ogranicza wybór pierwszej cyfry",
        "interactive_choice": {
          "prompt": "Które cyfry nieparzyste mogą być pierwszą cyfrą liczby mniejszej od 7000?",
          "options": [
            {
              "id": "A",
              "text": "Tylko cyfry $1, 3, 5$",
              "feedback": "Świetnie! Liczba zaczyna się od 1, 3 lub 5, bo 7 i 9 dałyby liczbę ≥ 7000",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wszystkie cyfry nieparzyste $1, 3, 5, 7, 9$",
              "feedback": "Nie - cyfry 7 i 9 na początku dałyby liczby ≥ 7000",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Tylko cyfry $1, 3, 5, 7$",
              "feedback": "Prawie! Ale 7 też jest za dużo - 7000 nie spełnia warunku < 7000",
              "is_correct": false
            }
          ],
          "explanation_after": "Pierwsza cyfra może być tylko 1, 3 lub 5, bo liczba musi być mniejsza od 7000."
        }
      },
      {
        "step": 3,
        "hint": "Co oznacza warunek 'podzielne przez 5' dla ostatniej cyfry?",
        "expression": "Ostatnia cyfra: tylko $5$ (1 możliwość)",
        "explanation": "Warunek podzielności przez 5 i nieparzystości wymusza cyfrę 5 na końcu",
        "why": "To kluczowe ograniczenie - z 5 cyfr nieparzystych tylko jedna spełnia warunek podzielności przez 5",
        "interactive_choice": {
          "prompt": "Która cyfra nieparzysta może być ostatnią cyfrą liczby podzielnej przez 5?",
          "options": [
            {
              "id": "A",
              "text": "Tylko cyfra $5$",
              "feedback": "Dokładnie! Liczba podzielna przez 5 kończy się na 0 lub 5, a tylko 5 jest nieparzyste",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Cyfry $1$ lub $5$",
              "feedback": "Nie - liczby kończące się na 1 nie są podzielne przez 5",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wszystkie cyfry nieparzyste",
              "feedback": "Nie - tylko liczby kończące się na 0 lub 5 są podzielne przez 5",
              "is_correct": false
            }
          ],
          "explanation_after": "Liczba podzielna przez 5 musi kończyć się na 0 lub 5. Ponieważ używamy tylko cyfr nieparzystych, ostatnia cyfra to 5."
        }
      },
      {
        "step": 4,
        "hint": "Ile możliwości mamy dla drugiej i trzeciej cyfry?",
        "expression": "Druga cyfra: dowolna nieparzysta $1, 3, 5, 7, 9$ (5 możliwości)",
        "explanation": "Druga cyfra nie ma żadnych ograniczeń - może być dowolną cyfrą nieparzystą"
      },
      {
        "step": 5,
        "hint": "A co z trzecią cyfrą?",
        "expression": "Trzecia cyfra: dowolna nieparzysta $1, 3, 5, 7, 9$ (5 możliwości)",
        "explanation": "Trzecia cyfra też nie ma ograniczeń - może być dowolną cyfrą nieparzystą"
      },
      {
        "step": 6,
        "hint": "Jak obliczyć liczbę wszystkich możliwości?",
        "expression": "$3 \\times 5 \\times 5 \\times 1 = 75$",
        "explanation": "Mnożymy liczbę możliwości dla każdej cyfry",
        "why": "Zasada mnożenia: wybory dla poszczególnych pozycji są niezależne, więc mnożymy ich liczności",
        "interactive_choice": {
          "prompt": "Którą metodę zastosować do policzenia wszystkich liczb?",
          "options": [
            {
              "id": "A",
              "text": "Zasada mnożenia: $3 \\times 5 \\times 5 \\times 1$",
              "feedback": "Perfekcyjnie! Mnożymy liczbę możliwości dla każdej pozycji",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Zasada dodawania: $3 + 5 + 5 + 1$",
              "feedback": "Nie - dodawanie używamy gdy wybieramy ALBO jedno ALBO drugie. Tu wybieramy I jedno I drugie",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Permutacje: $\\frac{14!}{(14-4)!}$",
              "feedback": "Nie - to nie jest problem permutacji. Cyfry mogą się powtarzać",
              "is_correct": false
            }
          ],
          "explanation_after": "Zasada mnożenia: gdy wybieramy niezależnie dla każdej pozycji, mnożymy liczby możliwości."
        }
      },
      {
        "step": 7,
        "hint": "Jaka jest odpowiedź końcowa?",
        "expression": "Wszystkich takich liczb jest dokładnie $75$",
        "explanation": "Odpowiedź A jest prawidłowa"
      }
    ],
    "solutions": [
      "A. 75"
    ],
    "parameters": {
      "cyfry_nieparzyste": "$1, 3, 5, 7, 9$",
      "warunek_1": "liczba < 7000",
      "warunek_2": "podzielna przez 5"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-30T03:44:30.425Z"
  },
  {
    "id": "probability_sum_diff_prime",
    "topic": "Prawdopodobieństwo klasyczne",
    "difficulty": 4,
    "statement": "Ze zbioru $K = \\{1, 2, 3, 4, 5, 6, 7\\}$ losujemy dwukrotnie ze zwracaniem po jednej liczbie. Oblicz prawdopodobieństwo zdarzenia $A$ polegającego na tym, że wartość bezwzględna sumy bądź różnicy wylosowanych liczb jest liczbą pierwszą.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile wszystkich par liczb możemy wylosować ze zwracaniem?",
        "expression": "$|\\Omega| = 7 \\times 7 = 49$",
        "explanation": "Każda z 7 liczb może być wylosowana jako pierwsza, i każda z 7 jako druga",
        "why": "Losowanie ze zwracaniem oznacza, że ta sama liczba może być wylosowana dwukrotnie. Liczba wszystkich możliwości to iloczyn liczby wyborów."
      },
      {
        "step": 2,
        "hint": "Jak zinterpretować warunek zadania?",
        "expression": "Zdarzenie $A$: $|a + b| \\in \\mathbb{P}$ lub $|a - b| \\in \\mathbb{P}$",
        "explanation": "Definiujemy dokładnie warunek zdarzenia sprzyjającego",
        "interactive_choice": {
          "prompt": "Co dokładnie oznacza warunek 'wartość bezwzględna sumy bądź różnicy'?",
          "options": [
            {
              "id": "A",
              "text": "Albo $|a + b|$ jest pierwsza, albo $|a - b|$ jest pierwsza (lub obie)",
              "feedback": "Dokładnie! Słowo 'bądź' oznacza alternatywę - wystarczy jeden z warunków.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Zarówno $|a + b|$ jak i $|a - b|$ muszą być pierwsze",
              "feedback": "Nie - 'bądź' to alternatywa, nie koniunkcja. Wystarczy jeden warunek.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wartość $|a + b - a + b|$ musi być pierwsza",
              "feedback": "Nie - to błędna interpretacja. Chodzi o dwie osobne wartości: sumę lub różnicę.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zdarzenie $A$ zachodzi gdy $|a+b|$ jest pierwsza LUB $|a-b|$ jest pierwsza (lub obie warunki)."
        }
      },
      {
        "step": 3,
        "hint": "Jakie liczby pierwsze możemy otrzymać z liczb ze zbioru $K$?",
        "expression": "Suma: $a + b \\in [2, 14]$, różnica: $|a - b| \\in [0, 6]$",
        "explanation": "Minimalna suma to $1+1=2$, maksymalna $7+7=14$. Różnica od $|1-1|=0$ do $|7-1|=6$"
      },
      {
        "step": 4,
        "hint": "Które z tych wartości są liczbami pierwszymi?",
        "expression": "Liczby pierwsze: $2, 3, 5, 7, 11, 13$",
        "explanation": "Z zakresu $[0, 14]$ wybieramy liczby pierwsze",
        "why": "Liczba pierwsza to liczba naturalna większa od 1, podzielna tylko przez 1 i samą siebie. Zero i jeden nie są pierwsze."
      },
      {
        "step": 5,
        "hint": "Jak najefektywniej policzyć pary sprzyjające?",
        "expression": "Liczymy pary dla każdej liczby pierwszej osobno",
        "explanation": "Będziemy analizować kolejno: 2, 3, 5, 7, 11, 13",
        "interactive_choice": {
          "prompt": "Którą strategię zastosować do zliczania par?",
          "options": [
            {
              "id": "A",
              "text": "Sprawdzić wszystkie 49 par jedna po drugiej",
              "feedback": "Możliwe, ale pracochłonne i łatwo o błąd. Można systematyczniej.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Dla każdej liczby pierwszej znaleźć pary dające tę wartość",
              "feedback": "Świetnie! Systematyczne podejście - dla każdej pierwszej liczymy pary.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Policzyć pary niesprzyjające i odjąć od 49",
              "feedback": "Możliwe, ale trudniejsze - łatwiej liczyć bezpośrednio sprzyjające.",
              "is_correct": false
            }
          ],
          "explanation_after": "Systematycznie sprawdzimy dla każdej liczby pierwszej, które pary $(a,b)$ dają tę wartość jako sumę lub różnicę."
        }
      },
      {
        "step": 6,
        "hint": "Które pary dają $|a+b|=2$ lub $|a-b|=2$?",
        "expression": "Dla 2: suma $a+b=2$: $(1,1)$ - 1 para; różnica $|a-b|=2$: $(1,3), (3,1), (2,4), (4,2), (3,5), (5,3), (4,6), (6,4), (5,7), (7,5)$ - 10 par",
        "explanation": "Suma 2 tylko z $(1,1)$. Różnica 2 gdy liczby różnią się o 2"
      },
      {
        "step": 7,
        "hint": "Które pary dają $|a+b|=3$ lub $|a-b|=3$?",
        "expression": "Dla 3: suma $a+b=3$: $(1,2), (2,1)$ - 2 pary; różnica $|a-b|=3$: $(1,4), (4,1), (2,5), (5,2), (3,6), (6,3), (4,7), (7,4)$ - 8 par",
        "explanation": "Suma 3 z par o sumie składników 3. Różnica 3 gdy liczby różnią się o 3"
      },
      {
        "step": 8,
        "hint": "Które pary dają $|a+b|=5$ lub $|a-b|=5$?",
        "expression": "Dla 5: suma $a+b=5$: $(1,4), (2,3), (3,2), (4,1)$ - 4 pary; różnica $|a-b|=5$: $(1,6), (6,1), (2,7), (7,2)$ - 4 pary",
        "explanation": "Suma 5 z różnych kombinacji. Różnica 5 gdy liczby różnią się o 5"
      },
      {
        "step": 9,
        "hint": "Które pary dają $|a+b|=7$ lub $|a-b|=7$?",
        "expression": "Dla 7: suma $a+b=7$: $(1,6), (2,5), (3,4), (4,3), (5,2), (6,1)$ - 6 par; różnica $|a-b|=7$: brak par (max różnica to 6)",
        "explanation": "Suma 7 z sześciu par. Różnica 7 niemożliwa w zbiorze $K$"
      },
      {
        "step": 10,
        "hint": "Które pary dają $|a+b|=11$?",
        "expression": "Dla 11: suma $a+b=11$: $(4,7), (5,6), (6,5), (7,4)$ - 4 pary",
        "explanation": "Suma 11 z czterech par większych liczb"
      },
      {
        "step": 11,
        "hint": "Które pary dają $|a+b|=13$?",
        "expression": "Dla 13: suma $a+b=13$: $(6,7), (7,6)$ - 2 pary",
        "explanation": "Suma 13 tylko z największych liczb"
      },
      {
        "step": 12,
        "hint": "Czy niektóre pary zostały policzone więcej niż raz?",
        "expression": "Sprawdzamy pary policzone dwukrotnie",
        "explanation": "Niektóre pary mogą spełniać oba warunki jednocześnie",
        "interactive_choice": {
          "prompt": "Jak sprawdzić czy nie ma powtórzeń w zliczonych parach?",
          "options": [
            {
              "id": "A",
              "text": "Zsumować wszystkie pary - jeśli >49 to są powtórzenia",
              "feedback": "Dobra obserwacja, ale to nie wystarczy - trzeba sprawdzić konkretne pary.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Sprawdzić czy jakaś para spełnia warunki dla dwóch różnych liczb pierwszych",
              "feedback": "Dokładnie! Np. para $(1,6)$ daje sumę 7 i różnicę 5 - obie pierwsze!",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Nie ma powtórzeń - każda para ma unikalną sumę i różnicę",
              "feedback": "Nieprawda - np. $(1,6)$ ma sumę 7 (pierwsza) i różnicę 5 (pierwsza).",
              "is_correct": false
            }
          ],
          "explanation_after": "Musimy odjąć pary policzone dwukrotnie - te gdzie zarówno suma jak i różnica są pierwsze."
        }
      },
      {
        "step": 13,
        "hint": "Które pary mają zarówno sumę jak i różnicę pierwszą?",
        "expression": "Pary dwukrotnie: $(1,6)$: suma=7, różnica=5; $(6,1)$: suma=7, różnica=5; $(2,5)$: suma=7, różnica=3; $(5,2)$: suma=7, różnica=3 - razem 4 pary",
        "explanation": "Te pary zostały policzone raz przy sumie i raz przy różnicy",
        "why": "Zasada włączeń i wyłączeń: $|A \\cup B| = |A| + |B| - |A \\cap B|$. Musimy odjąć pary policzone dwukrotnie."
      },
      {
        "step": 14,
        "hint": "Ile jest wszystkich par sprzyjających bez powtórzeń?",
        "expression": "$|A| = 1 + 10 + 2 + 8 + 4 + 4 + 6 + 0 + 4 + 2 - 4 = 37$",
        "explanation": "Sumujemy wszystkie pary i odejmujemy te policzone dwukrotnie"
      },
      {
        "step": 15,
        "hint": "Jakie jest prawdopodobieństwo zdarzenia $A$?",
        "expression": "$P(A) = \\frac{|A|}{|\\Omega|} = \\frac{37}{49}$",
        "explanation": "Stosujemy definicję prawdopodobieństwa klasycznego"
      }
    ],
    "solutions": [
      "$P(A) = \\frac{37}{49}$"
    ],
    "parameters": {
      "set": "$K = \\{1, 2, 3, 4, 5, 6, 7\\}$",
      "sampling": "ze zwracaniem"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 15,
        "stepsWithWhy": 3,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-30T03:45:17.905Z"
  },
  {
    "id": "stats_mean_median",
    "topic": "Statystyka - średnia i mediana",
    "difficulty": 2,
    "statement": "Na wykresie przedstawiono wyniki ankiety przeprowadzonej wśród maturzystów dotyczącej liczby zdawanych przez nich egzaminów dodatkowych na egzaminie maturalnym. 2 egzaminy dodatkowe - najpopularniejszy wybór (40% maturzystów), 3 egzaminy dodatkowe - drugi co do popularności wybór (35% maturzystów), 1 egzamin dodatkowy - wybiera 10% maturzystów, 4 egzaminy dodatkowe - również 10% maturzystów, 5 egzaminów dodatkowych - najmniej popularna opcja (5% maturzystów). Uzupełnij tabelę: (27.1) Średnia arytmetyczna liczby zdawanych egzaminów dodatkowych wynosi ___. (27.2) Mediana liczby zdawanych egzaminów dodatkowych wynosi ___.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie dane mamy w zadaniu?",
        "expression": "Liczba egzaminów: 1, 2, 3, 4, 5. Procenty: 10%, 40%, 35%, 10%, 5%",
        "explanation": "Organizujemy dane z wykresu w uporządkowaną formę"
      },
      {
        "step": 2,
        "hint": "Którą miarę statystyczną obliczamy najpierw?",
        "expression": "Obliczamy średnią arytmetyczną",
        "explanation": "Średnia to suma iloczynów wartości i ich częstości",
        "interactive_choice": {
          "prompt": "Od czego wygodniej zacząć obliczenia?",
          "options": [
            {
              "id": "A",
              "text": "Od średniej arytmetycznej",
              "feedback": "Dobry wybór! Średnią obliczamy ze wzoru, nie wymaga sortowania danych.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Od mediany",
              "feedback": "Można, ale mediana wymaga uporządkowania danych według częstości.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Od dominanty",
              "feedback": "Dominanta nie jest pytana w zadaniu, choć łatwo ją odczytać (2 egzaminy).",
              "is_correct": false
            }
          ],
          "explanation_after": "Obie kolejności są poprawne. Zaczniemy od średniej, bo wzór jest prosty."
        }
      },
      {
        "step": 3,
        "hint": "Jaki jest wzór na średnią arytmetyczną dla danych z częstościami?",
        "expression": "$\\bar{x} = \\frac{1 \\cdot 10\\% + 2 \\cdot 40\\% + 3 \\cdot 35\\% + 4 \\cdot 10\\% + 5 \\cdot 5\\%}{100\\%}$",
        "explanation": "Każdą liczbę egzaminów mnożymy przez jej procent wystąpień",
        "why": "W statystyce średnią ważoną obliczamy mnożąc wartości przez ich częstości (wagi). Procenty sumują się do 100%, więc dzielimy przez 100%."
      },
      {
        "step": 4,
        "hint": "Ile wynoszą poszczególne iloczyny?",
        "expression": "$\\bar{x} = \\frac{10 + 80 + 105 + 40 + 25}{100}$",
        "explanation": "Obliczamy: $1 \\cdot 10 = 10$, $2 \\cdot 40 = 80$, $3 \\cdot 35 = 105$, $4 \\cdot 10 = 40$, $5 \\cdot 5 = 25$"
      },
      {
        "step": 5,
        "hint": "Jaka jest suma w liczniku?",
        "expression": "$\\bar{x} = \\frac{260}{100} = 2.6$",
        "explanation": "Sumujemy licznik i dzielimy przez 100"
      },
      {
        "step": 6,
        "hint": "Co to znaczy, że mediana to wartość środkowa?",
        "expression": "Szukamy wartości przy skumulowanym procencie 50%",
        "explanation": "Mediana dzieli dane na dwie równe części",
        "interactive_choice": {
          "prompt": "Jak znaleźć medianę dla danych procentowych?",
          "options": [
            {
              "id": "A",
              "text": "Znaleźć wartość, przy której skumulowany procent przekracza 50%",
              "feedback": "Świetnie! Mediana dzieli zbiór na dwie równe części - po 50%.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Obliczyć średnią z najmniejszej i największej wartości",
              "feedback": "To nie jest mediana - to średnia z wartości skrajnych.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wybrać wartość z największym procentem",
              "feedback": "To jest dominanta (wartość najczęstsza), nie mediana.",
              "is_correct": false
            }
          ],
          "explanation_after": "Mediana to wartość środkowa - szukamy momentu, gdy skumulowany procent osiąga lub przekracza 50%."
        }
      },
      {
        "step": 7,
        "hint": "Jakie są skumulowane procenty dla kolejnych wartości?",
        "expression": "1 egz.: 10%, 2 egz.: 10% + 40% = 50%, 3 egz.: 50% + 35% = 85%",
        "explanation": "Dodajemy kolejne procenty od najmniejszej wartości"
      },
      {
        "step": 8,
        "hint": "Przy której liczbie egzaminów osiągamy lub przekraczamy 50%?",
        "expression": "Mediana = 2",
        "explanation": "Przy 2 egzaminach skumulowany procent wynosi dokładnie 50%",
        "why": "Gdy skumulowany procent osiąga dokładnie 50%, mediana to ta wartość. Połowa maturzystów zdaje 2 lub mniej egzaminów, połowa 2 lub więcej."
      }
    ],
    "solutions": [
      "27.1: Średnia arytmetyczna = $2.6$",
      "27.2: Mediana = $2$"
    ],
    "parameters": {
      "data": "1 egz. (10%), 2 egz. (40%), 3 egz. (35%), 4 egz. (10%), 5 egz. (5%)"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-30T03:45:45.571Z"
  }
]