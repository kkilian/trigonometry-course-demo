[
  {
    "id": "complex_powers_expression",
    "topic": "Potęgi i pierwiastki",
    "difficulty": 4,
    "statement": "Liczba $\\frac{6^{18} \\cdot 8^{-5}}{216} \\cdot \\sqrt[3]{\\frac{8}{3^{45}}}$ jest równa",
    "steps": [
      {
        "step": 1,
        "hint": "Jak najlepiej podejść do tego skomplikowanego wyrażenia?",
        "expression": "Rozkładamy: $6 = 2 \\cdot 3$, $8 = 2^3$, $216 = 6^3 = 2^3 \\cdot 3^3$",
        "explanation": "Znajdujemy rozkład wszystkich podstaw na czynniki pierwsze",
        "interactive_choice": {
          "prompt": "Jaką strategię wybierzesz do uproszczenia wyrażenia $\\frac{6^{18} \\cdot 8^{-5}}{216} \\cdot \\sqrt[3]{\\frac{8}{3^{45}}}$?",
          "options": [
            {
              "id": "A",
              "text": "Liczyć bezpośrednio z kalkulatorem",
              "feedback": "To będą ogromne liczby - kalkulator może nie dać rady lub zaokrąglić wynik.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Rozkład wszystkich liczb na czynniki pierwsze",
              "feedback": "Świetny wybór! To pozwoli użyć praw potęg i znacznie uprościć wyrażenie.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Próbować uprościć każdy składnik osobno",
              "feedback": "Możliwe, ale rozkład na czynniki pierwsze będzie bardziej systematyczny.",
              "is_correct": false
            }
          ],
          "explanation_after": "Rozkład na czynniki pierwsze pozwala wykorzystać prawa potęg: $a^m \\cdot a^n = a^{m+n}$ i $\\frac{a^m}{a^n} = a^{m-n}$"
        }
      },
      {
        "step": 2,
        "hint": "Jak przepisać każdy składnik używając potęg liczb pierwszych?",
        "expression": "$6^{18} = (2 \\cdot 3)^{18} = 2^{18} \\cdot 3^{18}$",
        "explanation": "Przepisujemy pierwszą potęgę"
      },
      {
        "step": 3,
        "hint": "Jak zapisać pozostałe składniki?",
        "expression": "$8^{-5} = (2^3)^{-5} = 2^{-15}$ oraz $216 = 2^3 \\cdot 3^3$",
        "explanation": "Przepisujemy kolejne składniki używając praw potęg"
      },
      {
        "step": 4,
        "hint": "Co zrobić z pierwiastkiem sześciennym?",
        "expression": "$\\sqrt[3]{\\frac{8}{3^{45}}} = \\sqrt[3]{\\frac{2^3}{3^{45}}} = \\frac{2}{3^{15}}$",
        "explanation": "Pierwiastek sześcienny z $\\frac{a}{b}$ równa się $\\frac{\\sqrt[3]{a}}{\\sqrt[3]{b}}$",
        "why": "Użyliśmy wzoru $\\sqrt[n]{\\frac{a}{b}} = \\frac{\\sqrt[n]{a}}{\\sqrt[n]{b}}$ oraz $\\sqrt[3]{a^3} = a$",
        "interactive_choice": {
          "prompt": "Jak najlepiej uprościć $\\sqrt[3]{\\frac{8}{3^{45}}}$?",
          "options": [
            {
              "id": "A",
              "text": "Zostawić jako pierwiastek i liczyć na końcu",
              "feedback": "Niepotrzebnie skomplikowane - lepiej od razu uprościć używając praw potęg.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$(\\frac{8}{3^{45}})^{\\frac{1}{3}}$",
              "feedback": "Dobry kierunek! Teraz można użyć praw potęg do dalszego uproszczenia.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Osobno pierwiastkować licznik i mianownik",
              "feedback": "Tak, to też zadziała: $\\frac{\\sqrt[3]{8}}{\\sqrt[3]{3^{45}}} = \\frac{2}{3^{15}}$",
              "is_correct": true
            }
          ],
          "explanation_after": "Oba sposoby $B$ i $C$ prowadzą do tego samego: $\\sqrt[3]{\\frac{8}{3^{45}}} = \\frac{\\sqrt[3]{2^3}}{\\sqrt[3]{3^{45}}} = \\frac{2}{3^{15}}$"
        }
      },
      {
        "step": 5,
        "hint": "Jak teraz wygląda całe wyrażenie po podstawieniu?",
        "expression": "$\\frac{2^{18} \\cdot 3^{18} \\cdot 2^{-15}}{2^3 \\cdot 3^3} \\cdot \\frac{2}{3^{15}}$",
        "explanation": "Podstawiamy wszystkie przepisane składniki"
      },
      {
        "step": 6,
        "hint": "Jak uprościć potęgi o tej samej podstawie w liczniku?",
        "expression": "$\\frac{2^{18} \\cdot 2^{-15} \\cdot 3^{18}}{2^3 \\cdot 3^3} \\cdot \\frac{2}{3^{15}} = \\frac{2^3 \\cdot 3^{18}}{2^3 \\cdot 3^3} \\cdot \\frac{2}{3^{15}}$",
        "explanation": "Używamy prawa $a^m \\cdot a^n = a^{m+n}$: $2^{18} \\cdot 2^{-15} = 2^3$"
      },
      {
        "step": 7,
        "hint": "Co się dzieje gdy skracamy ułamek?",
        "expression": "$\\frac{2^3 \\cdot 3^{18}}{2^3 \\cdot 3^3} \\cdot \\frac{2}{3^{15}} = \\frac{3^{18}}{3^3} \\cdot \\frac{2}{3^{15}} = 3^{15} \\cdot \\frac{2}{3^{15}}$",
        "explanation": "Skracamy $2^3$ oraz używamy $\\frac{a^m}{a^n} = a^{m-n}$: $\\frac{3^{18}}{3^3} = 3^{15}$"
      },
      {
        "step": 8,
        "hint": "Jaki jest końcowy wynik mnożenia?",
        "expression": "$3^{15} \\cdot \\frac{2}{3^{15}} = \\frac{3^{15} \\cdot 2}{3^{15}} = 2$",
        "explanation": "Potęgi $3^{15}$ się skracają, zostaje $2$",
        "interactive_choice": {
          "prompt": "Ile wynosi $3^{15} \\cdot \\frac{2}{3^{15}}$?",
          "options": [
            {
              "id": "A",
              "text": "$\\frac{2 \\cdot 3^{15}}{3^{15}} = 2 \\cdot 3^0 = 2$",
              "feedback": "Doskonale! $3^{15}$ w liczniku i mianowniku się skraca, zostaje $2$.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$3^{15} \\cdot \\frac{2}{3^{15}} = \\frac{2}{1} = 2$",
              "feedback": "Tak, to też poprawne rozumowanie - mnożenie przez odwrotność.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "To się nie da uprościć dalej",
              "feedback": "Nieprawda! $3^{15}$ występuje w liczniku i mianowniku, więc się skraca.",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy ta sama potęga występuje w liczniku i mianowniku, skracają się: $\\frac{a \\cdot b}{b} = a$"
        }
      }
    ],
    "solutions": [
      "$2$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-09-27T10:47:14.735Z",
    "thinking_used": true
  },
  {
    "id": "logarithm_complex_bases",
    "topic": "Logarytmy o różnych podstawach",
    "difficulty": 4,
    "statement": "Dokończ zdanie. Wybierz właściwą odpowiedź spośród podanych. Liczba $\\log_{2\\sqrt{2}} 96 - \\log_{\\sqrt{8}} 3$ jest równa",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie są podstawy logarytmów w tym wyrażeniu?",
        "expression": "$\\log_{2\\sqrt{2}} 96 - \\log_{\\sqrt{8}} 3$",
        "explanation": "Mamy dwie różne podstawy: $2\\sqrt{2}$ i $\\sqrt{8}$"
      },
      {
        "step": 2,
        "hint": "Jak najlepiej podejść do tego problemu z różnymi podstawami?",
        "expression": "Przepiszmy podstawy jako potęgi liczby $2$",
        "explanation": "Szukamy postaci $2^k$ dla obu podstaw",
        "interactive_choice": {
          "prompt": "Którą strategię wybierzesz do rozwiązania tego zadania?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru na zmianę podstawy do podstawy $10$",
              "feedback": "Możliwe, ale obliczenia będą skomplikowane i nieprecyzyjne.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Przepisać obie podstawy jako potęgi liczby $2$",
              "feedback": "Świetny pomysł! To pozwoli na łatwiejsze obliczenia.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Przekształcić każdy logarytm osobno używając wzorów",
              "feedback": "Skomplikowane - lepiej najpierw uprościć podstawy.",
              "is_correct": false
            }
          ],
          "explanation_after": "Przepisanie obu podstaw jako potęgi liczby $2$ pozwoli nam na zastosowanie właściwości logarytmów."
        }
      },
      {
        "step": 3,
        "hint": "Jak przepisać $2\\sqrt{2}$ jako potęgę liczby $2$?",
        "expression": "$2\\sqrt{2} = 2 \\cdot 2^{\\frac{1}{2}} = 2^1 \\cdot 2^{\\frac{1}{2}} = 2^{\\frac{3}{2}}$",
        "explanation": "Używamy właściwości potęg: $a^m \\cdot a^n = a^{m+n}$",
        "why": "Kluczowe jest rozpoznanie, że $\\sqrt{2} = 2^{1/2}$ i zastosowanie reguły dodawania wykładników."
      },
      {
        "step": 4,
        "hint": "Jak przepisać $\\sqrt{8}$ jako potęgę liczby $2$?",
        "expression": "$\\sqrt{8} = \\sqrt{2^3} = 2^{\\frac{3}{2}}$",
        "explanation": "Obie podstawy to $2^{\\frac{3}{2}}$",
        "interactive_choice": {
          "prompt": "Która z tych równości jest poprawna dla $\\sqrt{8}$?",
          "options": [
            {
              "id": "A",
              "text": "$\\sqrt{8} = 2^{\\frac{3}{2}}$",
              "feedback": "Dokładnie! $\\sqrt{8} = \\sqrt{2^3} = 2^{3/2}$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$\\sqrt{8} = 2^3$",
              "feedback": "Nie, to by było $8$, a nie $\\sqrt{8}$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$\\sqrt{8} = 2^{\\frac{1}{2}}$",
              "feedback": "To byłoby $\\sqrt{2}$, nie $\\sqrt{8}$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Pamiętaj: $\\sqrt{a^n} = a^{n/2}$, więc $\\sqrt{8} = \\sqrt{2^3} = 2^{3/2}$."
        }
      },
      {
        "step": 5,
        "hint": "Co możemy zrobić gdy obie podstawy są takie same?",
        "expression": "$\\log_{2^{\\frac{3}{2}}} 96 - \\log_{2^{\\frac{3}{2}}} 3$",
        "explanation": "Teraz mamy tę samą podstawę w obu $\\log$arytmach",
        "why": "Gdy podstawy są takie same, możemy zastosować właściwość: $\\log_a x - \\log_a y = \\log_a \\frac{x}{y}$."
      },
      {
        "step": 6,
        "hint": "Jak uprościć różnicę logarytmów o tej samej podstawie?",
        "expression": "$\\log_{2^{\\frac{3}{2}}} 96 - \\log_{2^{\\frac{3}{2}}} 3 = \\log_{2^{\\frac{3}{2}}} \\frac{96}{3}$",
        "explanation": "Stosujemy właściwość: $\\log_a x - \\log_a y = \\log_a \\frac{x}{y}$"
      },
      {
        "step": 7,
        "hint": "Ile wynosi $\\frac{96}{3}$?",
        "expression": "$\\log_{2^{\\frac{3}{2}}} \\frac{96}{3} = \\log_{2^{\\frac{3}{2}}} 32$",
        "explanation": "Obliczamy: $96 \\div 3 = 32$"
      },
      {
        "step": 8,
        "hint": "Jak przepisać $32$ jako potęgę liczby $2$?",
        "expression": "$\\log_{2^{\\frac{3}{2}}} 32 = \\log_{2^{\\frac{3}{2}}} 2^5$",
        "explanation": "Przepisujemy $32$ jako $2^5$",
        "interactive_choice": {
          "prompt": "Która z tych równości jest poprawna dla liczby $32$?",
          "options": [
            {
              "id": "A",
              "text": "$32 = 2^4$",
              "feedback": "Nie, $2^4 = 16$. Sprawdź ponownie.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$32 = 2^5$",
              "feedback": "Dokładnie! $2^5 = 32$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$32 = 2^6$",
              "feedback": "Za dużo - $2^6 = 64$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Sprawdzenie: $2^5 = 2 \\cdot 2 \\cdot 2 \\cdot 2 \\cdot 2 = 32$"
        }
      },
      {
        "step": 9,
        "hint": "Jak obliczyć $\\log_{2^{\\frac{3}{2}}} 2^5$ używając wzoru na logarytm potęgi?",
        "expression": "$\\log_{2^{\\frac{3}{2}}} 2^5 = \\frac{5}{\\frac{3}{2}}$",
        "explanation": "Stosujemy wzór: $\\log_{a^k} b^m = \\frac{m}{k} \\log_a b$, a tutaj $\\log_2 2 = 1$",
        "why": "To kluczowy wzór: gdy podstawa to $a^k$ i argument to $a^m$, to $\\log_{a^k} a^m = \\frac{m}{k}$."
      },
      {
        "step": 10,
        "hint": "Jak uprościć ułamek $\\frac{5}{\\frac{3}{2}}$?",
        "expression": "$\\frac{5}{\\frac{3}{2}} = 5 \\cdot \\frac{2}{3} = \\frac{10}{3}$",
        "explanation": "Dzielenie przez ułamek to mnożenie przez jego odwrotność"
      }
    ],
    "solutions": [
      "$\\frac{10}{3}$"
    ],
    "parameters": {
      "correct_answer": "$C$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 3,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T10:48:08.029Z",
    "thinking_used": true
  },
  {
    "id": "divisibility_powers_39",
    "topic": "Podzielność i potęgi",
    "difficulty": 4,
    "statement": "Wykaż, że liczba $3^{94} + 9^{46} + 27^{30}$ jest podzielna przez $39$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jak możemy przepisać liczby $9$ i $27$ używając podstawy $3$?",
        "expression": "$9 = 3^2$ oraz $27 = 3^3$",
        "explanation": "Wyrażamy $9$ i $27$ jako potęgi liczby $3$",
        "interactive_choice": {
          "prompt": "Jaki jest najlepszy sposób na rozpoczęcie tego zadania?",
          "options": [
            {
              "id": "A",
              "text": "Przepisać wszystko w postaci potęg liczby $3$",
              "feedback": "Świetny wybór! To ujednolici podstawę i ułatwi obliczenia.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Obliczyć każdą potęgę osobno i dodać",
              "feedback": "To byłoby bardzo pracochłonne - te liczby są ogromne!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzorów skróconego mnożenia",
              "feedback": "Tutaj wzory skróconego mnożenia nie pomogą bezpośrednio.",
              "is_correct": false
            }
          ],
          "explanation_after": "Przepisanie wszystkiego jako potęgi liczby $3$ pozwoli nam wyciągnąć wspólny czynnik."
        }
      },
      {
        "step": 2,
        "hint": "Jak teraz wygląda nasze wyrażenie po podstawieniu?",
        "expression": "$3^{94} + 9^{46} + 27^{30} = 3^{94} + (3^2)^{46} + (3^3)^{30}$",
        "explanation": "Podstawiamy przepisane podstawy\n\n(No mathematical expressions found to wrap in dollars)"
      },
      {
        "step": 3,
        "hint": "Jakie są prawa potęgowania dla $(a^m)^n$?",
        "expression": "$3^{94} + (3^2)^{46} + (3^3)^{30} = 3^{94} + 3^{92} + 3^{90}$",
        "explanation": "Używamy prawa $(a^m)^n = a^{mn}$",
        "why": "Teraz mamy wszystko jako potęgi liczby $3$: $2 \\cdot 46 = 92$ oraz $3 \\cdot 30 = 90$"
      },
      {
        "step": 4,
        "hint": "Jaki wspólny czynnik możemy wyciągnąć z potęg $94$, $92$ i $90$?",
        "expression": "$3^{94} + 3^{92} + 3^{90} = 3^{90}(3^4 + 3^2 + 3^0)$",
        "explanation": "Wyciągamy najniższą potęgę $3^{90}$ przed nawias"
      },
      {
        "step": 5,
        "hint": "Ile wynoszą potęgi: $3^4$, $3^2$ i $3^0$?",
        "expression": "$3^{90}(3^4 + 3^2 + 3^0) = 3^{90}(81 + 9 + 1) = 3^{90} \\cdot 91$",
        "explanation": "Obliczamy wartości w nawiasie: $3^4 = 81$, $3^2 = 9$, $3^0 = 1$"
      },
      {
        "step": 6,
        "hint": "Na jakie czynniki możemy rozkłożyć liczbę $91$?",
        "expression": "$91 = 7 \\times 13$",
        "explanation": "Znajdujemy rozkład: $91 \\div 7 = 13$",
        "interactive_choice": {
          "prompt": "Jak najlepiej sprawdzić rozkład liczby $91$?",
          "options": [
            {
              "id": "A",
              "text": "Sprawdzić podzielność przez małe liczby pierwsze",
              "feedback": "Dobra strategia! Sprawdź czy $91$ dzieli się przez $7$, $11$, $13$...",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć wzoru na różnicę kwadratów",
              "feedback": "91 nie ma formy $a^2 - b^2$, więc ten wzór nie pomoże.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Sprawdzić czy to liczba pierwsza",
              "feedback": "To może być czasochłonne, lepiej od razu szukać dzielników.",
              "is_correct": false
            }
          ],
          "explanation_after": "91 to stosunkowo mała liczba, więc można sprawdzić dzielniki przez małe liczby pierwsze.\n\n(No changes needed as there are no mathematical expressions requiring LaTeX formatting)"
        }
      },
      {
        "step": 7,
        "hint": "Jak wygląda teraz nasze wyrażenie z rozkładem liczby $91$?",
        "expression": "$3^{90} \\cdot 91 = 3^{90} \\cdot 7 \\cdot 13$",
        "explanation": "Podstawiamy rozkład liczby $91$"
      },
      {
        "step": 8,
        "hint": "Na jakie czynniki pierwsze rozkłada się liczba $39$?",
        "expression": "$39 = 3 \\times 13$",
        "explanation": "Rozkładamy $39$ na czynniki pierwsze",
        "interactive_choice": {
          "prompt": "Aby wykazać podzielność przez $39$, musimy sprawdzić:",
          "options": [
            {
              "id": "A",
              "text": "Czy nasze wyrażenie dzieli się przez $3$ i przez $13$",
              "feedback": "Świetnie! Ponieważ $39 = 3 \\times 13$, to właśnie to musimy sprawdzić.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Czy nasze wyrażenie dzieli się przez $39$ bezpośrednio",
              "feedback": "To byłoby trudne bez rozkładu na czynniki pierwsze.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Czy reszta z dzielenia przez $39$ wynosi $0$",
              "feedback": "To poprawne, ale niepraktyczne dla tak dużych liczb.",
              "is_correct": false
            }
          ],
          "explanation_after": "Rozkład $39 = 3 \\times 13$ pozwala sprawdzić podzielność przez każdy czynnik osobno."
        }
      },
      {
        "step": 9,
        "hint": "Czy wyrażenie $3^{90} \\cdot 7 \\cdot 13$ dzieli się przez $3$?",
        "expression": "$3^{90} \\cdot 7 \\cdot 13$ zawiera czynnik $3^{90}$, więc dzieli się przez $3$",
        "explanation": "Podzielność przez $3$ jest oczywista ze względu na czynnik $3^{90}$"
      },
      {
        "step": 10,
        "hint": "Czy wyrażenie $3^{90} \\cdot 7 \\cdot 13$ dzieli się przez $13$?",
        "expression": "$3^{90} \\cdot 7 \\cdot 13$ zawiera czynnik $13$, więc dzieli się przez $13$",
        "explanation": "Podzielność przez $13$ wynika z obecności czynnika $13$"
      },
      {
        "step": 11,
        "hint": "Jaki wniosek możemy wyciągnąć o podzielności przez $39$?",
        "expression": "$3^{94} + 9^{46} + 27^{30} = 3^{90} \\cdot 7 \\cdot 13$ dzieli się przez $3 \\times 13 = 39$",
        "explanation": "Ponieważ wyrażenie dzieli się przez $3$ i przez $13$, to dzieli się przez ich iloczyn $39$",
        "why": "Jeśli liczba dzieli się przez dwie liczby względnie pierwsze, to dzieli się przez ich iloczyn. Tu $\\gcd(3,13) = 1$."
      }
    ],
    "solutions": [
      "Liczba $3^{94} + 9^{46} + 27^{30} = 3^{90} \\cdot 7 \\cdot 13$ jest podzielna przez $39$, ponieważ zawiera czynniki $3$ i $13$."
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 11,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T10:48:58.093Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "sqrt_equation_choice",
    "topic": "Równania z pierwiastkami",
    "difficulty": 4,
    "statement": "Dane jest równanie $\\sqrt{4x^2 + 4x + 1} = 11$. Iloczyn wszystkich rzeczywistych rozwiązań tego równania jest równy:",
    "steps": [
      {
        "step": 1,
        "hint": "Jak najlepiej pozbyć się pierwiastka z równania?",
        "expression": "$(\\sqrt{4x^2 + 4x + 1})^2 = 11^2$",
        "explanation": "Podnosimy obie strony równania do kwadratu",
        "interactive_choice": {
          "prompt": "Jaką metodę wybierzesz do rozwiązania równania $\\sqrt{4x^2 + 4x + 1} = 11$?",
          "options": [
            {
              "id": "A",
              "text": "Podnieść obie strony do $\\text{kwadratu}$",
              "feedback": "Świetnie! To standardowa metoda dla równań z pierwiastkami.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Podstawić $u = \\sqrt{4x^2 + 4x + 1}$",
              "feedback": "To nie pomoże - nadal będziemy mieli pierwiastek do rozwiązania.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Przenieść wszystko na jedną stronę",
              "feedback": "To nie uprości równania - pierwiastek nadal będzie problemem.\n\n(No mathematical expressions found to convert)",
              "is_correct": false
            }
          ],
          "explanation_after": "Podniesienie do kwadratu eliminuje pierwiastek, ale pamiętaj o sprawdzeniu rozwiązań!"
        }
      },
      {
        "step": 2,
        "hint": "Co otrzymamy po podniesieniu do kwadratu $(-2)$?",
        "expression": "$4x^2 + 4x + 1 = 121$",
        "explanation": "Pierwiastek znika, otrzymujemy równanie kwadratowe"
      },
      {
        "step": 3,
        "hint": "Czy wyrażenie $4x^2 + 4x + 1$ przypomina Ci jakiś wzór?",
        "expression": "$(2x + 1)^2 = 121$",
        "explanation": "Rozpoznajemy wzór na kwadrat sumy $(a + b)^2$",
        "why": "Wzór $(2x + 1)^2 = 4x^2 + 4x + 1$ znacznie uprości rozwiązanie równania.",
        "interactive_choice": {
          "prompt": "Jak rozpoznasz wzór w wyrażeniu $4x^2 + 4x + 1$?",
          "options": [
            {
              "id": "A",
              "text": "To kwadrat sumy $$(2x + 1)^2$$",
              "feedback": "Doskonale! $(2x + 1)^2 = 4x^2 + 4x + 1$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "To różnica kwadratów",
              "feedback": "Nie - różnica kwadratów ma postać $a^2 - b^2$, a tu mamy same plusy.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "To zwykły trójmian kwadratowy, użyję $\\Delta$",
              "feedback": "Możliwe, ale rozpoznanie wzoru $$(2x+1)^2$$ znacznie uprości zadanie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wzór $(a+b)^2 = a^2 + 2ab + b^2$ pozwala zapisać $4x^2 + 4x + 1 = (2x + 1)^2$"
        }
      },
      {
        "step": 4,
        "hint": "Jak rozwiążesz równanie $(2x + 1)^2 = 121$?",
        "expression": "$|2x + 1| = \\sqrt{121} = 11$",
        "explanation": "Pierwiastkujemy obie strony, otrzymując równanie z wartością bezwzględną"
      },
      {
        "step": 5,
        "hint": "Na ile przypadków rozkłada się równanie z wartością bezwzględną?",
        "expression": "$2x + 1 = 11$ lub $2x + 1 = -11$",
        "explanation": "Rozkładamy równanie z wartością bezwzględną na dwa przypadki",
        "interactive_choice": {
          "prompt": "Jak rozłożyć równanie $|2x + 1| = 11$?",
          "options": [
            {
              "id": "A",
              "text": "Tylko $2x + 1 = 11$ (wartość dodatnia)",
              "feedback": "Niepoprawne - wartość bezwzględna może pochodzić z dodatniej i ujemnej wartości.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Dwa przypadki: $2x + 1 = 11$ lub $2x + 1 = -11$",
              "feedback": "Dokładnie! Wartość bezwzględna równa $11$ oznacza dwie możliwości.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Tylko $2x + 1 = -11$ (wartość ujemna)",
              "feedback": "Niepoprawne - pomijasz przypadek dodatni.",
              "is_correct": false
            }
          ],
          "explanation_after": "Równanie $|a| = b$ (gdzie $b > 0$) ma zawsze dwa rozwiązania: $a = b$ lub $a = -b$"
        }
      },
      {
        "step": 6,
        "hint": "Jakie są rozwiązania każdego z przypadków?",
        "expression": "Przypadek I: $2x = 10 \\Rightarrow x_1 = 5$\nPrzypadek II: $2x = -12 \\Rightarrow x_2 = -6$",
        "explanation": "Rozwiązujemy oba równania liniowe"
      },
      {
        "step": 7,
        "hint": "Czy warto sprawdzić rozwiązania w równaniu wyjściowym?",
        "expression": "Sprawdzenie: $\\sqrt{4 \\cdot 25 + 4 \\cdot 5 + 1} = \\sqrt{121} = 11$ ✓\n$\\sqrt{4 \\cdot 36 + 4 \\cdot (-6) + 1} = \\sqrt{121} = 11$ ✓",
        "explanation": "Oba rozwiązania spełniają równanie wyjściowe",
        "why": "Po podniesieniu do kwadratu mogą pojawić się rozwiązania pozorne - zawsze sprawdzaj!"
      },
      {
        "step": 8,
        "hint": "Jaki jest iloczyn wszystkich rozwiązań?",
        "expression": "Iloczyn: $x_1 \\cdot x_2 = 5 \\cdot (-6) = -30$",
        "explanation": "Obliczamy iloczyn obu rozwiązań"
      }
    ],
    "solutions": [
      "$-30$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T10:49:32.017Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "symmetric_expressions_a4_b4",
    "topic": "Wyrażenia symetryczne",
    "difficulty": 4,
    "statement": "Dane są liczby $a$ i $b$ dla których spełnione są warunki: $a + b = 6$ oraz $a \\cdot b = 4$. Wartość wyrażenia $a^4 + b^4$ jest równa",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie informacje mamy o liczbach $a$ i $b$?",
        "expression": "$a + b = 6$ oraz $a \\cdot b = 4$",
        "explanation": "Znamy sumę i iloczyn liczb $a$ i $b$"
      },
      {
        "step": 2,
        "hint": "Czy możemy bezpośrednio obliczyć $a^4 + b^4$ z tych danych?",
        "expression": "Wybieramy metodę wyrażeń symetrycznych",
        "explanation": "Będziemy używać wzorów łączących $a + b$, $ab$ z $a^2 + b^2$ i $a^4 + b^4$",
        "interactive_choice": {
          "prompt": "Jak najlepiej podejść do obliczenia $a^4 + b^4$ znając $a + b$ i $ab$?",
          "options": [
            {
              "id": "A",
              "text": "Znaleźć konkretne wartości $a$ i $b$, potem podnieść do $4$. potęgi",
              "feedback": "Możliwe, ale prowadzi do równania kwadratowego. Jest prostszy sposób!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Użyć wzorów na wyrażenia symetryczne: najpierw $a^2 + b^2$, potem $a^4 + b^4$",
              "feedback": "Świetnie! To najefektywniejsza metoda dla wyrażeń symetrycznych.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Rozwinąć $(a + b)^4$ i odpowiednio przekształcić",
              "feedback": "Zbyt skomplikowane - będziesz mieć dużo niepotrzebnych składników.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wyrażenia symetryczne najłatwiej obliczać krok po kroku: od niższych do wyższych potęg."
        }
      },
      {
        "step": 3,
        "hint": "Jaki wzór łączy $a + b$ i $ab$ z $a^2 + b^2$?",
        "expression": "$a^2 + b^2 = (a + b)^2 - 2ab$",
        "explanation": "Korzystamy ze wzoru na kwadrat sumy $(a + b)^2 = a^2 + 2ab + b^2$",
        "why": "Ten wzór to podstawa: $(a+b)^2 = a^2 + 2ab + b^2$, więc $a^2 + b^2 = (a+b)^2 - 2ab$"
      },
      {
        "step": 4,
        "hint": "Jaką wartość ma $a^2 + b^2$?",
        "expression": "$a^2 + b^2 = 6^2 - 2 \\cdot 4 = 36 - 8 = 28$",
        "explanation": "Podstawiamy znane wartości i obliczamy"
      },
      {
        "step": 5,
        "hint": "Jak teraz przejść od $a^2 + b^2$ do $a^4 + b^4$?",
        "expression": "$a^4 + b^4 = (a^2 + b^2)^2 - 2a^2b^2$",
        "explanation": "Stosujemy wzór analogiczny do wzoru na $a^2 + b^2$",
        "interactive_choice": {
          "prompt": "Znając $a^2 + b^2 = 28$ i $ab = 4$, jak obliczyć $a^4 + b^4$?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru $a^4 + b^4 = (a^2 + b^2)^2 - 2a^2b^2$",
              "feedback": "Dokładnie! To analogiczny wzór do tego z kroku 3.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Rozłożyć $a^4 + b^4 = (a^2)^2 + (b^2)^2$ i szukać $a^2$, $b^2$ osobno",
              "feedback": "Niepraktyczne - musisz znaleźć konkretne wartości $a^2$ i $b^2$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Skorzystać z wzoru $(a^2 + b^2)^2 = a^4 + 2a^2b^2 + b^4$",
              "feedback": "Dobry kierunek, ale lepiej od razu użyć wzoru z opcji A.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wzór $a^4 + b^4 = (a^2 + b^2)^2 - 2a^2b^2$ to analogia wzoru z kroku 3."
        }
      },
      {
        "step": 6,
        "hint": "Jaka jest wartość $a^2b^2$?",
        "expression": "$a^2b^2 = (ab)^2 = 4^2 = 16$",
        "explanation": "Obliczamy kwadrat iloczynu $ab$"
      },
      {
        "step": 7,
        "hint": "Jaka jest końcowa wartość $a^4 + b^4$?",
        "expression": "$a^4 + b^4 = 28^2 - 2 \\cdot 16 = 784 - 32 = 752$",
        "explanation": "Podstawiamy wszystkie wartości i obliczamy wynik końcowy"
      }
    ],
    "solutions": [
      "$752$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 1,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 2
      }
    },
    "timestamp": "2025-09-27T10:50:03.596Z",
    "thinking_used": true
  },
  {
    "id": "rational_expression_division",
    "topic": "Wyrażenia wymierne - dzielenie",
    "difficulty": 4,
    "statement": "Dane jest wyrażenie określone dla każdej liczby rzeczywistej $x \\in \\mathbb{R} \\setminus \\{-3, -2, 0, 4\\}$: $\\frac{(x^2 - 5x)(x + 2)}{(2x - 8)(x + 3)^2} \\div \\frac{x^2 + 2x}{2x^2 - 2x - 24}$. Wyrażenie to można przekształcić do postaci:",
    "steps": [
      {
        "step": 1,
        "hint": "Jak przekształcić dzielenie ułamków na mnożenie?",
        "expression": "$\\frac{(x^2 - 5x)(x + 2)}{(2x - 8)(x + 3)^2} \\cdot \\frac{2x^2 - 2x - 24}{x^2 + 2x}$",
        "explanation": "Zamieniamy dzielenie na mnożenie przez odwrotność drugiego ułamka",
        "interactive_choice": {
          "prompt": "Jaką regułę zastosujemy do dzielenia wyrażeń wymiernych?",
          "options": [
            {
              "id": "A",
              "text": "Dzielenie przez ułamek to mnożenie przez jego odwrotność",
              "feedback": "Świetnie! To fundamentalna reguła dla wyrażeń wymiernych.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Można skrócić bezpośrednio liczniki i mianowniki",
              "feedback": "Nie, najpierw musimy zmienić dzielenie na mnożenie.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Należy pomnożyć oba ułamki przez siebie",
              "feedback": "To byłoby mnożenie, nie dzielenie wyrażeń.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dzielenie przez ułamek zawsze zamieniamy na mnożenie przez odwrotność tego ułamka.\n\n(No mathematical expressions to format in this text)"
        }
      },
      {
        "step": 2,
        "hint": "Które wielomiany można rozłożyć na czynniki?",
        "expression": "Rozkładamy: $x^2 - 5x = x(x - 5)$, $2x - 8 = 2(x - 4)$, $x^2 + 2x = x(x + 2)$, $2x^2 - 2x - 24 = 2(x - 4)(x + 3)$",
        "explanation": "Wszystkie wielomiany w postaci iloczynowej",
        "interactive_choice": {
          "prompt": "Który rozkład na czynniki będzie najważniejszy dla uproszczenia?",
          "options": [
            {
              "id": "A",
              "text": "Rozkład $x^2 - 5x = x(x - 5)$",
              "feedback": "Dobry start, ale nie najważniejszy dla skrócenia.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Rozkład $2x^2 - 2x - 24 = 2(x - 4)(x + 3)$",
              "feedback": "Excellent! Ten rozkład da najwięcej możliwości skrócenia.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Rozkład $2x - 8 = 2(x - 4)$",
              "feedback": "Ważny, ale nie kluczowy dla całego uproszczenia.",
              "is_correct": false
            }
          ],
          "explanation_after": "Rozkład $2x^2 - 2x - 24$ ujawni czynniki $(x - 4)$ i $(x + 3)$, które będą się skracać."
        }
      },
      {
        "step": 3,
        "hint": "Jak wygląda wyrażenie po podstawieniu rozkładów?",
        "expression": "$\\frac{x(x - 5)(x + 2)}{2(x - 4)(x + 3)^2} \\cdot \\frac{2(x - 4)(x + 3)}{x(x + 2)}$",
        "explanation": "Wyrażenie z wszystkimi czynnikami w postaci iloczynowej",
        "why": "Teraz widać wszystkie czynniki, które mogą się skrócić między licznikami a mianownikami."
      },
      {
        "step": 4,
        "hint": "Które czynniki można skrócić?",
        "expression": "$\\frac{\\cancel{x}(x - 5)\\cancel{(x + 2)}}{\\cancel{2}\\cancel{(x - 4)}\\cancel{(x + 3)}(x + 3)} \\cdot \\frac{\\cancel{2}\\cancel{(x - 4)}\\cancel{(x + 3)}}{\\cancel{x}\\cancel{(x + 2)}}$",
        "explanation": "Skracamy wszystkie wspólne czynniki występujące w liczniku i mianowniku",
        "interactive_choice": {
          "prompt": "Które pary czynników się skrócą?",
          "options": [
            {
              "id": "A",
              "text": "Tylko $x$ w pierwszym ułamku z $x$ w drugim",
              "feedback": "To za mało - jest więcej czynników do skrócenia.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$x$, $(x+2)$, $(x-4)$, $(x+3)$ i $2$",
              "feedback": "Dokładnie! Wszystkie te czynniki mają swoje pary.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Tylko $(x+2)$ i $2$",
              "feedback": "To za mało - przejrzyj uważnie wszystkie czynniki.",
              "is_correct": false
            }
          ],
          "explanation_after": "Po skróceniu wszystkich wspólnych czynników zostaje tylko $\\frac{x-5}{x+3}$."
        }
      },
      {
        "step": 5,
        "hint": "Jaki jest wynik po skróceniu?",
        "expression": "$\\frac{x - 5}{x + 3}$",
        "explanation": "Po skróceniu wszystkich wspólnych czynników otrzymujemy najprostszą postać wyrażenia"
      }
    ],
    "solutions": [
      "$\\frac{x - 5}{x + 3}$ (odpowiedź A)"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T10:50:43.423Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "compound_interest_biannual",
    "topic": "Procent składany",
    "difficulty": 3,
    "statement": "Pan Cezary wpłacił do banku $5000$ zł na lokatę na procent składany, z kapitalizacją odsetek co pół roku. Po każdym rocznym okresie oszczędzania bank nalicza odsetki w wysokości $4\\%$ od kwoty bieżącego kapitału znajdującego się na lokacie. Po roku oszczędzania na koncie Pana Cezarego, bez uwzględnienia podatków, będzie kwota",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie dane mamy w zadaniu?",
        "expression": "Kapitał początkowy $K_0 = 5000$ zł, oprocentowanie roczne $4\\%$, kapitalizacja co pół roku",
        "explanation": "Wypisujemy znane wartości z zadania"
      },
      {
        "step": 2,
        "hint": "Co oznacza kapitalizacja co pół roku przy oprocentowaniu $4\\%$ rocznie?",
        "expression": "Oprocentowanie półroczne: $\\frac{4\\%}{2} = 2\\% = 0{,}02$",
        "explanation": "W ciągu roku mamy dwie kapitalizacje po $2\\%$ każda",
        "interactive_choice": {
          "prompt": "Jak interpretować kapitalizację co pół roku przy $4\\%$ rocznie?",
          "options": [
            {
              "id": "A",
              "text": "Co pół roku naliczane jest $4\\%$ odsetek",
              "feedback": "Nie - to byłoby $8\\%$ rocznie, zbyt dużo!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Co pół roku naliczane jest $2\\%$ odsetek (połowa z $4\\%$)",
              "feedback": "Dokładnie! $4\\%$ rocznie = $2\\%$ co pół roku.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Raz w roku naliczane jest $4\\%$, ale dzieli się na dwa raty",
              "feedback": "To byłby procent prosty, a nie składany z kapitalizacją.",
              "is_correct": false
            }
          ],
          "explanation_after": "Kapitalizacja co pół roku oznacza, że odsetki są doliczone do kapitału dwa razy w roku, każdorazowo w wysokości $2\\%$."
        }
      },
      {
        "step": 3,
        "hint": "Ile razy kapitalizujemy odsetki w ciągu jednego roku?",
        "expression": "W ciągu roku: $2$ kapitalizacje (po $\\frac{1}{2}$ roku każda)",
        "explanation": "Od stycznia do grudnia mamy dwie kapitalizacje: po $\\frac{1}{2}$ roku i na koniec roku"
      },
      {
        "step": 4,
        "hint": "Który wzór zastosujemy do obliczenia kapitału po roku?",
        "expression": "$K = K_0\\left(1 + \\frac{r}{n}\\right)^{n \\cdot t}$",
        "explanation": "Wzór na procent składany z kapitalizacją okresową",
        "why": "W tym wzorze $r$ to oprocentowanie roczne, $n$ to liczba kapitalizacji w roku, $t$ to czas w latach",
        "interactive_choice": {
          "prompt": "Jaki wzór na procent składany wybierzemy?",
          "options": [
            {
              "id": "A",
              "text": "$K = K_0(1 + r)^t$ gdzie $r = 0{,}04$, $t = 1$",
              "feedback": "To wzór dla kapitalizacji rocznej, a mamy półroczną.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$K = K_0(1 + \\frac{r}{n})^{n \\cdot t}$ gdzie $n = 2$",
              "feedback": "Świetnie! To wzór na kapitalizację okresową.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$K = K_0(1 + r \\cdot t)$ - procent prosty",
              "feedback": "Nie, to procent prosty, a zadanie dotyczy składanego.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dla kapitalizacji co pół roku używamy wzoru z $n = 2$ (liczba kapitalizacji w roku)."
        }
      },
      {
        "step": 5,
        "hint": "Jakie wartości podstawimy do wzoru?",
        "expression": "$K_0 = 5000$, $r = 0{,}04$, $n = 2$, $t = 1$",
        "explanation": "Podstawiamy nasze dane do wzoru"
      },
      {
        "step": 6,
        "hint": "Co otrzymamy po podstawieniu do wzoru?",
        "expression": "$K = 5000 \\cdot \\left(1 + \\frac{0{,}04}{2}\\right)^{2 \\cdot 1}$",
        "explanation": "Podstawiamy wszystkie wartości"
      },
      {
        "step": 7,
        "hint": "Ile wynosi oprocentowanie w każdym okresie kapitalizacji?",
        "expression": "$K = 5000 \\cdot (1 + 0{,}02)^2 = 5000 \\cdot (1{,}02)^2$",
        "explanation": "Upraszczamy wyrażenie w nawiasie"
      },
      {
        "step": 8,
        "hint": "Jaki jest wynik potęgowania?\n\n(No mathematical expressions found to format)",
        "expression": "$(1{,}02)^2 = 1{,}0404$",
        "explanation": "Obliczamy kwadrat liczby $1,02$",
        "interactive_choice": {
          "prompt": "Ile wynosi $(1{,}02)^2$?",
          "options": [
            {
              "id": "A",
              "text": "$1{,}04$",
              "feedback": "To byłoby $1{,}02 \\cdot 2$, a nie $(1{,}02)^2$",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$1{,}0404$",
              "feedback": "Dokładnie! $(1{,}02)^2 = 1{,}02 \\cdot 1{,}02 = 1{,}0404$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$1{,}004$",
              "feedback": "To byłoby $(1{,}02)^{1/2}$, a nie $(1{,}02)^2$",
              "is_correct": false
            }
          ],
          "explanation_after": "Pamiętaj: $(1 + x)^2 = 1 + 2x + x^2$, więc $(1{,}02)^2 = 1{,}0404$"
        }
      },
      {
        "step": 9,
        "hint": "Jaki jest końcowy kapitał?",
        "expression": "$K = 5000 \\cdot 1{,}0404 = 5202$ zł",
        "explanation": "Mnożymy kapitał początkowy przez współczynnik wzrostu"
      },
      {
        "step": 10,
        "hint": "Która odpowiedź jest prawidłowa?",
        "expression": "Odpowiedź B: $5202$ zł",
        "explanation": "Po roku na koncie będzie $5202$ zł"
      }
    ],
    "solutions": [
      "$5202$ zł",
      "Odpowiedź B"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T10:51:48.434Z",
    "thinking_used": true
  },
  {
    "id": "rational_equation_choice",
    "topic": "Równania z ułamkami algebraicznymi",
    "difficulty": 3,
    "statement": "Rozwiąż równanie $\\frac{4x + 1}{2x + 1} = \\frac{6x - 3}{4x + 2}$",
    "steps": [
      {
        "step": 1,
        "hint": "Co zauważasz w mianownikach i licznikach po prawej stronie?",
        "expression": "Analizujemy prawą stronę: $6x - 3 = 3(2x - 1)$, $4x + 2 = 2(2x + 1)$",
        "explanation": "Wyciągnęliśmy wspólne czynniki z licznika i mianownika",
        "interactive_choice": {
          "prompt": "Jak najlepiej rozpocząć rozwiązywanie tego równania?",
          "options": [
            {
              "id": "A",
              "text": "Uprościć prawą stronę przed dalszymi działaniami",
              "feedback": "Świetny wybór! Zawsze warto najpierw uprościć wyrażenia.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Od razu pomnożyć obustronnie przez wspólny mianownik",
              "feedback": "Można tak zrobić, ale będzie więcej rachunków. Lepiej najpierw uprościć.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Przekształcić do postaci $\\frac{a}{b} - \\frac{c}{d} = 0$",
              "feedback": "To prowadzi do skomplikowanych obliczeń. Lepiej uprościć ułamki.\n\n(No mathematical expressions found to wrap in dollars)",
              "is_correct": false
            }
          ],
          "explanation_after": "Uprośćmy prawą stronę - zauważ wspólne czynniki."
        }
      },
      {
        "step": 2,
        "hint": "Jak teraz wygląda prawa strona równania?",
        "expression": "$\\frac{6x - 3}{4x + 2} = \\frac{3(2x - 1)}{2(2x + 1)}$",
        "explanation": "Prawa strona po wyciągnięciu czynników"
      },
      {
        "step": 3,
        "hint": "Jaki jest teraz wspólny mianownik w całym równaniu?",
        "expression": "$\\frac{4x + 1}{2x + 1} = \\frac{3(2x - 1)}{2(2x + 1)}$",
        "explanation": "Równanie po uproszczeniu prawej strony"
      },
      {
        "step": 4,
        "hint": "Przez co możemy pomnożyć obustronnie, żeby pozbyć się mianowników?",
        "expression": "Mnożymy obustronnie przez $(2x + 1)$: $4x + 1 = \\frac{3(2x - 1)}{2}$",
        "explanation": "Pozbyliśmy się głównego mianownika po lewej stronie",
        "why": "Pamiętaj: $2x + 1 \\neq 0$, czyli $x \\neq -\\frac{1}{2}$ - to założenie sprawdzimy później.",
        "interactive_choice": {
          "prompt": "Jaką strategię zastosujemy dalej?",
          "options": [
            {
              "id": "A",
              "text": "Pomnożyć przez $(2x + 1)$ i pozbyć się głównego mianownika",
              "feedback": "Doskonale! To uprości równanie do postaci liniowej.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Pomnożyć przez $2(2x + 1)$ żeby pozbyć się wszystkich mianowników",
              "feedback": "Zadziała, ale niepotrzebnie komplikuje. Wystarczy $(2x + 1)$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Przerzucić prawą stronę na lewą i sprowadzić do wspólnego mianownika",
              "feedback": "To skomplikuje obliczenia. Lepiej od razu mnożyć przez mianownik.",
              "is_correct": false
            }
          ],
          "explanation_after": "Mnożymy przez $(2x + 1)$ pamiętając o założeniu $2x + 1 \\neq 0$."
        }
      },
      {
        "step": 5,
        "hint": "Jak pozbyć się ułamka po prawej stronie?",
        "expression": "Mnożymy przez 2: $2(4x + 1) = 3(2x - 1)$",
        "explanation": "Pozbyliśmy się ostatniego ułamka"
      },
      {
        "step": 6,
        "hint": "Co otrzymujemy po rozwinięciu nawiasów?",
        "expression": "$8x + 2 = 6x - 3$",
        "explanation": "Rozwinęliśmy nawiasy po obu stronach"
      },
      {
        "step": 7,
        "hint": "Jak zebrać wszystkie niewiadome na jednej stronie?\n\n(No changes needed as there are no mathematical expressions in this text.)",
        "expression": "$8x - 6x = -3 - 2$",
        "explanation": "Przenosimy wszystkie składniki z $x$ na lewą, stałe na prawą"
      },
      {
        "step": 8,
        "hint": "Jakie jest rozwiązanie tego równania liniowego?",
        "expression": "$2x = -5$, więc $x = -\\frac{5}{2}$",
        "explanation": "Dzielimy przez $2$ i otrzymujemy rozwiązanie"
      },
      {
        "step": 9,
        "hint": "Czy to rozwiązanie spełnia nasze założenie o wartościach niedozwolonych?",
        "expression": "Sprawdzenie: $2 \\cdot (-\\frac{5}{2}) + 1 = -5 + 1 = -4 \\neq 0$ ✓",
        "explanation": "Rozwiązanie jest dopuszczalne",
        "interactive_choice": {
          "prompt": "Czy $x = -\\frac{5}{2}$ jest dopuszczalnym rozwiązaniem?",
          "options": [
            {
              "id": "A",
              "text": "Tak, bo $2 \\cdot (-\\frac{5}{2}) + 1 = -4 \\neq 0$",
              "feedback": "Dokładnie! Sprawdziłeś założenie $2x + 1 \\neq 0$.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Nie, bo tworzy zero w mianowniku",
              "feedback": "Sprawdź ponownie: $2 \\cdot (-\\frac{5}{2}) + 1 = -5 + 1 = -4 \\neq 0$",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Nie da się sprawdzić bez podstawienia do $równania$",
              "feedback": "Wystarczy sprawdzić czy $2x + 1 \\neq 0$. To nasze jedyne ograniczenie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zawsze sprawdzamy czy rozwiązanie nie zeruje mianowników z równania wyjściowego."
        }
      }
    ],
    "solutions": [
      "$x = -\\frac{5}{2}$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T10:52:24.171Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "quadratic_inequality_choice",
    "topic": "Nierówności kwadratowe",
    "difficulty": 3,
    "statement": "Rozwiąż nierówność $3(x + 1)^2 \\geq 4(x^2 + 3)$",
    "steps": [
      {
        "step": 1,
        "hint": "Co zrobimy najpierw z wyrażeniami w nawiasach?",
        "expression": "$3(x + 1)^2 \\geq 4(x^2 + 3)$",
        "explanation": "Mamy nierówność z kwadratami i nawiasami do rozwinięcia"
      },
      {
        "step": 2,
        "hint": "Jak rozwiniemy $(x + 1)^2$?",
        "expression": "$3(x^2 + 2x + 1) \\geq 4(x^2 + 3)$",
        "explanation": "Rozwijamy kwadrat sumy $(x + 1)^2 = x^2 + 2x + 1$"
      },
      {
        "step": 3,
        "hint": "Jak pozbyć się nawiasów z obu stron?",
        "expression": "$3x^2 + 6x + 3 \\geq 4x^2 + 12$",
        "explanation": "Mnożymy przez $3$ z lewej strony i przez $4$ z prawej"
      },
      {
        "step": 4,
        "hint": "Jak dalej postąpimy z tą nierównością?",
        "expression": "$3x^2 + 6x + 3 - 4x^2 - 12 \\geq 0$",
        "explanation": "Przenosimy wszystkie składniki na lewą stronę",
        "interactive_choice": {
          "prompt": "Mając $3x^2 + 6x + 3 \\geq 4x^2 + 12$, co zrobimy dalej?",
          "options": [
            {
              "id": "A",
              "text": "Przenieść wszystko na lewą stronę",
              "feedback": "Świetnie! To standardowy sposób na rozwiązanie nierówności kwadratowej.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Podzielić obie strony przez $x$",
              "feedback": "Nie! Dzielenie przez zmienną może zmienić znak nierówności i nie wiemy czy $x \\neq 0$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Podstawić konkretne wartości $x$",
              "feedback": "To nie da nam pełnego rozwiązania - chcemy znaleźć wszystkie $x$ spełniające nierówność.",
              "is_correct": false
            }
          ],
          "explanation_after": "Przenosimy wszystko na jedną stronę, żeby otrzymać standardową postać."
        }
      },
      {
        "step": 5,
        "hint": "Jak uprościć wyrażenie po lewej stronie?",
        "expression": "$-x^2 + 6x - 9 \\geq 0$",
        "explanation": "Łączymy podobne składniki: $3x^2 - 4x^2 = -x^2$, $6x$, $3 - 12 = -9$"
      },
      {
        "step": 6,
        "hint": "Czy dostrzegasz wzór w wyrażeniu $x^2 - 6x + 9$?",
        "expression": "$-(x - 3)^2 \\geq 0$",
        "explanation": "Rozpoznajemy wzór: $x^2 - 6x + 9 = (x-3)^2$, więc $-x^2 + 6x - 9 = -(x-3)^2$",
        "interactive_choice": {
          "prompt": "Jak najlepiej zapisać wyrażenie $-x^2 + 6x - 9$?",
          "options": [
            {
              "id": "A",
              "text": "Obliczyć $\\Delta$ i użyć wzoru na pierwiastki",
              "feedback": "Możliwe, ale zobacz czy nie ma prostszego wzoru!",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Rozpoznać kwadrat różnicy: $-(x-3)^2$",
              "feedback": "Doskonale! $x^2 - 6x + 9 = (x-3)^2$, więc mamy $-(x-3)^2$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Sprawdzać znak dla różnych przedziałów",
              "feedback": "To można zrobić później, ale najpierw spróbuj rozkładu na czynniki.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wyrażenie $x^2 - 6x + 9$ to kwadrat różnicy $(x-3)^2$."
        }
      },
      {
        "step": 7,
        "hint": "Kiedy $-(x - 3)^2$ może być większe lub równe zero?",
        "expression": "$(x - 3)^2 = 0$",
        "explanation": "Ponieważ $(x - 3)^2 \\geq 0$ zawsze, wyrażenie $-(x - 3)^2 \\geq 0$ tylko gdy $(x - 3)^2 = 0$",
        "why": "Kwadrat dowolnej liczby jest zawsze nieujemny, więc jego przeciwność jest zawsze niedodatnia. Równość $0$ zachodzi tylko dla jednej wartości.",
        "interactive_choice": {
          "prompt": "Kiedy wyrażenie $-(x - 3)^2 \\geq 0$ jest prawdziwe?",
          "options": [
            {
              "id": "A",
              "text": "Dla wszystkich liczb rzeczywistych $x$",
              "feedback": "Nie! $(x-3)^2 \\geq 0$ zawsze, więc $-(x-3)^2 \\leq 0$ zawsze.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Tylko dla $x = 3$",
              "feedback": "Tak! Tylko gdy $(x-3)^2 = 0$, czyli $x = 3$, mamy $-(x-3)^2 = 0 \\geq 0$.\n\n(Note: No changes were needed as the text already has appropriate LaTeX math formatting)",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Nigdy nie jest prawdziwe",
              "feedback": "Prawie! Jest prawdziwe dla jednej wartości $x = 3$, gdy wyrażenie równa się zero.",
              "is_correct": false
            }
          ],
          "explanation_after": "Kwadrat jest zawsze nieujemny, więc jego przeciwność jest zawsze niedodatnia.\n\n(No mathematical expressions to format in this text)"
        }
      },
      {
        "step": 8,
        "hint": "Jaki jest jedyny pierwiastek równania $(x - 3)^2 = 0$?",
        "expression": "$x - 3 = 0$",
        "explanation": "Wyciągamy pierwiastek z obu stron"
      },
      {
        "step": 9,
        "hint": "Jakie jest rozwiązanie nierówności?\n\n(No mathematical expressions to format in this text)",
        "expression": "$x = 3$",
        "explanation": "Jedyną wartością spełniającą nierówność jest $x = 3$"
      }
    ],
    "solutions": [
      "$x = 3$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-27T10:53:08.307Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "piecewise_function_analysis",
    "topic": "Funkcje przedziałami",
    "difficulty": 4,
    "statement": "Funkcja $f$ jest określona następująco: $f(x) = \\begin{cases} x + 6 & \\text{dla } x \\in [-4, -2] \\\\ 4 & \\text{dla } x \\in (-2, -1) \\\\ -3x & \\text{dla } x \\in (-1, 1] \\\\ -3 & \\text{dla } x \\in (1, 3) \\\\ 3x - 14 & \\text{dla } x \\in (4, 5] \\end{cases}$. Uzupełnij zdania. (1) Dziedziną funkcji $f$ jest przedział ___. (2) Zbiorem wartości funkcji $f$ jest przedział ___. (3) Zbiorem wszystkich argumentów, dla których funkcja $f$ przyjmuje wartość najmniejszą jest przedział ___. (4) Zbiorem wszystkich rozwiązań nierówności $f(x) \\geq 3$ jest przedział ___.",
    "steps": [
      {
        "step": 1,
        "hint": "Co to jest dziedzina funkcji kawałkowej?",
        "expression": "Dziedzina: $[-4, -2] \\cup (-2, -1) \\cup (-1, 1] \\cup (1, 3) \\cup (4, 5]$",
        "explanation": "Łączymy wszystkie przedziały definicji funkcji",
        "interactive_choice": {
          "prompt": "Jak określić dziedzinę funkcji kawałkowej?",
          "options": [
            {
              "id": "A",
              "text": "Dziedzina to suma wszystkich przedziałów, gdzie funkcja jest określona",
              "feedback": "Dokładnie! Dziedzina to suma wszystkich przedziałów definicji.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Dziedzina to część wspólna wszystkich przedziałów",
              "feedback": "Nie, to byłby pusty zbiór. Dziedzina to suma przedziałów.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Dziedzina to największy przedział od najmniejszego do największego $x$",
              "feedback": "Nie, mogą być przerwy. Musimy uwzględnić tylko miejsca, gdzie funkcja jest określona.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dziedzina funkcji kawałkowej to suma wszystkich przedziałów, na których funkcja jest określona.\n\n(No mathematical expressions to format in this text)"
        }
      },
      {
        "step": 2,
        "hint": "Czy można uprościć zapis dziedziny?",
        "expression": "Dziedzina: $[-4, 3) \\cup (4, 5]$",
        "explanation": "Przedziały $[-4, -2] \\cup (-2, -1) \\cup (-1, 1] \\cup (1, 3)$ łączą się w $[-4, 3)$",
        "why": "Zauważ, że między przedziałami $[-4, -2]$ i $(-2, -1)$ brakuje tylko punktu $x = -2$, ale ten punkt należy do pierwszego przedziału."
      },
      {
        "step": 3,
        "hint": "Jak znaleźć zbiór wartości funkcji kawałkowej?",
        "expression": "Analizujemy każdy kawałek funkcji osobno:",
        "explanation": "Dla każdego przedziału znajdziemy zakres wartości",
        "interactive_choice": {
          "prompt": "Jakie wartości należy sprawdzić, aby wyznaczyć zbiór wartości?",
          "options": [
            {
              "id": "A",
              "text": "Sprawdzić wartości tylko w środkach przedziałów",
              "feedback": "Za mało! Funkcja może osiągać ekstrema na końcach przedziałów.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Sprawdzić wartości na końcach przedziałów i ekstrema wewnątrz",
              "feedback": "Świetnie! To pełna analiza - końce przedziałów i punkty ekstremalne.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Sprawdzić wartości tylko funkcji stałych",
              "feedback": "To za mało - funkcje liniowe też mogą dawać różne wartości na przedziałach.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dla funkcji kawałkowej sprawdzamy wartości na końcach przedziałów oraz ekstrema wewnątrz przedziałów."
        }
      },
      {
        "step": 4,
        "hint": "Jakie wartości przyjmuje pierwszy kawałek funkcji?",
        "expression": "Dla $x \\in [-4, -2]$: $f(x) = x + 6$, więc $f(-4) = 2$, $f(-2) = 4$, zakres: $[2, 4]$",
        "explanation": "Funkcja liniowa rosnąca, minimum w lewym końcu, maksimum w prawym"
      },
      {
        "step": 5,
        "hint": "Jakie wartości dają pozostałe kawałki?",
        "expression": "Dla $x \\in (-2, -1)$: $f(x) = 4$ (wartość stała)\nDla $x \\in (-1, 1]$: $f(x) = -3x$, $f(-1^+) = 3$, $f(1) = -3$, zakres: $[-3, 3)$\nDla $x \\in (1, 3)$: $f(x) = -3$ (wartość stała)\nDla $x \\in (4, 5]$: $f(x) = 3x - 14$, $f(4^+) = -2$, $f(5) = 1$, zakres: $(-2, 1]$",
        "explanation": "Analizujemy każdy kawałek, uwzględniając czy końce należą do przedziałów"
      },
      {
        "step": 6,
        "hint": "Jaki jest zbiór wszystkich możliwych wartości funkcji?",
        "expression": "Zbiór wartości: $[2, 4] \\cup \\{4\\} \\cup [-3, 3) \\cup \\{-3\\} \\cup (-2, 1] = [-3, 4]$",
        "explanation": "Łączymy wszystkie zakresy wartości z poszczególnych kawałków"
      },
      {
        "step": 7,
        "hint": "Jaka jest najmniejsza wartość funkcji?",
        "expression": "Najmniejsza wartość: $f_{min} = -3$",
        "explanation": "Porównując wszystkie wartości, minimum wynosi $-3$",
        "why": "Wartość $-3$ jest osiągana zarówno przez kawałek $f(x) = -3x$ w punkcie $x = 1$, jak i przez kawałek stały $f(x) = -3$ na przedziale $(1, 3)$."
      },
      {
        "step": 8,
        "hint": "W których punktach funkcja osiąga wartość $-3$?",
        "expression": "Zbiór argumentów dla minimum: $\\{1\\} \\cup (1, 3) = (1, 3]$",
        "explanation": "Funkcja przyjmuje wartość $-3$ w punkcie $x = 1$ i na całym przedziale $(1, 3)$"
      },
      {
        "step": 9,
        "hint": "Jak rozwiązać nierówność dla funkcji kawałkowej?",
        "expression": "Rozwiązujemy $f(x) \\geq 3$ na każdym kawałku:",
        "explanation": "Analizujemy nierówność dla każdego przedziału osobno",
        "interactive_choice": {
          "prompt": "Jak rozwiązać nierówność $f(x) \\geq 3$ dla funkcji kawałkowej?",
          "options": [
            {
              "id": "A",
              "text": "Rozwiązać osobno na każdym przedziale definicji",
              "feedback": "Dokładnie! Każdy kawałek analizujemy oddzielnie, potem łączymy wyniki.\n\n(No changes needed as there are no mathematical expressions in this text.)",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Znaleźć ogólny wzór funkcji i rozwiązać globalnie",
              "feedback": "Niemożliwe - funkcja kawałkowa nie ma jednego wzoru dla całej dziedziny.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Rozwiązać tylko dla kawałków, gdzie funkcja jest większa od $3$",
              "feedback": "To niepełne podejście - musimy sprawdzić wszystkie kawałki.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dla funkcji kawałkowej rozwiązujemy nierówność osobno na każdym przedziale definicji."
        }
      },
      {
        "step": 10,
        "hint": "Na których przedziałach nierówność jest spełniona?",
        "expression": "Przedział $[-4, -2]$: $x + 6 \\geq 3 \\Rightarrow x \\geq -3$, więc $x \\in [-3, -2]$\nPrzedział $(-2, -1)$: $4 \\geq 3$ - zawsze prawda, więc $x \\in (-2, -1)$\nPrzedział $(-1, 1]$: $-3x \\geq 3 \\Rightarrow x \\leq -1$, więc tylko $x = -1$ (brzeg)\nPrzedział $(1, 3)$: $-3 \\geq 3$ - nigdy, więc brak rozwiązań\nPrzedział $(4, 5]$: $3x - 14 \\geq 3 \\Rightarrow x \\geq \\frac{17}{3}$, ale $\\frac{17}{3} > 5$, więc brak rozwiązań",
        "explanation": "Sprawdzamy każdy kawałek i znajdujemy części przedziałów spełniających nierówność"
      },
      {
        "step": 11,
        "hint": "Jaki jest końcowy zbiór rozwiązań nierówności?",
        "expression": "Rozwiązania: $[-3, -2] \\cup (-2, -1) = [-3, -1)$",
        "explanation": "Łączymy wszystkie przedziały gdzie $f(x) \\geq 3$"
      }
    ],
    "solutions": [
      "Dziedzina: $[-4, 3) \\cup (4, 5]$",
      "Zbiór wartości: $[-3, 4]$",
      "Argumenty dla minimum: $(1, 3]$",
      "Rozwiązania $f(x) \\geq 3$: $[-3, -1)$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 11,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T10:53:55.949Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "quadratic_function_forms",
    "topic": "Funkcje kwadratowe - postaci funkcji",
    "difficulty": 3,
    "statement": "W kartezjańskim układzie współrzędnych $(x, y)$ dana jest funkcja kwadratowa $g$ określona dla każdej liczby rzeczywistej $x$. Jednym z miejsc zerowych funkcji $g$ jest liczba $(-2)$, a także funkcja $g$ przecina oś $y$ w punkcie $(0, 6)$. Osią symetrii tej funkcji jest $x = \\frac{1}{2}$. Wzór funkcji $g$ można przedstawić w postaci ___ oraz ___.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie informacje o funkcji kwadratowej mamy dane w zadaniu?",
        "expression": "Miejsce zerowe: $x = -2$, punkt przecięcia z osią y: $(0, 6)$, oś symetrii: $x = \\frac{1}{2}$",
        "explanation": "Zbieramy wszystkie dane o funkcji kwadratowej"
      },
      {
        "step": 2,
        "hint": "Którą metodę wybierzesz do wyznaczenia wzoru funkcji?",
        "expression": "Wykorzystamy własność osi symetrii do znalezienia drugiego pierwiastka",
        "explanation": "Oś symetrii leży w połowie odległości między $x_1$ i $x_2$",
        "interactive_choice": {
          "prompt": "Jak najefektywniej wyznaczyć wzór funkcji kwadratowej mając te dane?",
          "options": [
            {
              "id": "A",
              "text": "Użyć postaci ogólnej $g(x) = ax^2 + bx + c$ i układu równań",
              "feedback": "Dobry wybór! Mając trzy warunki możemy wyznaczyć $a$, $b$, $c$.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Najpierw znaleźć drugi pierwiastek, potem postać iloczynową",
              "feedback": "Świetnie! Oś symetrii pomoże znaleźć drugi pierwiastek.\n\n(No mathematical expressions to format in this text)",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć postaci kanonicznej $g(x) = a(x-p)^2 + q$",
              "feedback": "Możliwe, ale trudniej wykorzystać miejsce zerowe w tej postaci.",
              "is_correct": false
            }
          ],
          "explanation_after": "Oba podejścia $A$ i $B$ są efektywne. Wybierzmy metodę z osią symetrii."
        }
      },
      {
        "step": 3,
        "hint": "Jeśli oś symetrii to $x = \\frac{1}{2}$, a jeden pierwiastek to $x = -2$, jaki jest drugi pierwiastek?",
        "expression": "Oś symetrii: $\\frac{x_1 + x_2}{2} = \\frac{1}{2}$, więc $\\frac{-2 + x_2}{2} = \\frac{1}{2}$",
        "explanation": "Używamy wzoru na oś symetrii między pierwiastkami"
      },
      {
        "step": 4,
        "hint": "Jak rozwiązać równanie $\\frac{-2 + x_2}{2} = \\frac{1}{2}$?",
        "expression": "$-2 + x_2 = 1$, więc $x_2 = 3$",
        "explanation": "Drugi pierwiastek funkcji to $x = 3$",
        "why": "Teraz znamy oba pierwiastki: $x_1 = -2$ i $x_2 = 3$"
      },
      {
        "step": 5,
        "hint": "Jak zapisać funkcję kwadratową znając jej pierwiastki?",
        "expression": "$g(x) = a(x + 2)(x - 3)$",
        "explanation": "Postać iloczynowa z nieznanym współczynnikiem $a$",
        "interactive_choice": {
          "prompt": "Jaka jest postać iloczynowa funkcji kwadratowej z pierwiastkami $(-2)$ i $3$?",
          "options": [
            {
              "id": "A",
              "text": "$g(x) = a(x - 2)(x + 3)$",
              "feedback": "Uwaga! Pierwiastek $x = -2$ oznacza czynnik $(x + 2)$, nie $(x - 2)$.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$g(x) = a(x + 2)(x - 3)$",
              "feedback": "Poprawnie! Pierwiastkom $(-2)$ i $3$ odpowiadają czynniki $(x + 2)$ i $(x - 3)$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$g(x) = (x + 2)(x - 3)$",
              "feedback": "Prawie! Pamiętaj o współczynniku $a$ - może być różny od 1.",
              "is_correct": false
            }
          ],
          "explanation_after": "Jeśli pierwiastek to $p$, to odpowiadający mu czynnik to $(x - p)$."
        }
      },
      {
        "step": 6,
        "hint": "Jak wykorzystać warunek $g(0) = 6$ do wyznaczenia współczynnika $a$?",
        "expression": "$g(0) = a(0 + 2)(0 - 3) = a \\cdot 2 \\cdot (-3) = -6a = 6$",
        "explanation": "Podstawiamy $x = 0$ do postaci iloczynowej"
      },
      {
        "step": 7,
        "hint": "Jaka jest wartość współczynnika $a$?",
        "expression": "$-6a = 6$, więc $a = -1$",
        "explanation": "Współczynnik kierunkowy paraboli\n\n(Note: There are no mathematical expressions in this text that require LaTeX dollars.)"
      },
      {
        "step": 8,
        "hint": "Jaka jest ostateczna postać iloczynowa funkcji?",
        "expression": "$g(x) = -(x + 2)(x - 3)$",
        "explanation": "Postać iloczynowa z wyznaczonym współczynnikiem"
      },
      {
        "step": 9,
        "hint": "Czy potrafisz rozwinąć postać iloczynową do postaci ogólnej?",
        "expression": "$g(x) = -x^2 + x + 6$",
        "explanation": "Postać ogólna funkcji",
        "interactive_choice": {
          "prompt": "Jak rozwinąć wyrażenie $-(x + 2)(x - 3)$?",
          "options": [
            {
              "id": "A",
              "text": "$-(x^2 - x - 6) = -x^2 + x + 6$",
              "feedback": "Doskonale! Najpierw $(x+2)(x-3) = x^2 - x - 6$, potem znak minus.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$-(x^2 + x - 6) = -x^2 - x + 6$",
              "feedback": "Błąd w środkowym składniku: $(x+2)(x-3) = x^2 - 3x + 2x - 6 = x^2 - x - 6$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$-x^2 - x - 6$",
              "feedback": "Pomyłka ze znakiem przy wyrazie wolnym. Sprawdź jeszcze raz.",
              "is_correct": false
            }
          ],
          "explanation_after": "Pamiętaj: $(a+b)(c+d) = ac + ad + bc + bd$"
        }
      },
      {
        "step": 10,
        "hint": "Które odpowiedzi z listy A-F pasują do naszych wyników?",
        "expression": "Postać ogólna: $g(x) = -x^2 + x + 6$ (opcja A), Postać iloczynowa: $g(x) = -(x + 2)(x - 3)$ (opcja F)",
        "explanation": "Porównujemy nasze wyniki z podanymi opcjami",
        "why": "Funkcja ma dwie równoważne postaci - ogólną i iloczynową"
      }
    ],
    "solutions": [
      "$A$",
      "$F$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-27T10:54:40.871Z",
    "thinking_used": true
  },
  {
    "id": "quadratic_function_range",
    "topic": "Funkcja kwadratowa - zbiór wartości",
    "difficulty": 4,
    "statement": "W kartezjańskim układzie współrzędnych $(x, y)$ dana jest funkcja kwadratowa $g$ określona dla każdej liczby rzeczywistej $x$. Jednym z miejsc zerowych funkcji $g$ jest liczba $(-2)$, a także funkcja $g$ przecina oś $y$ w punkcie $(0, 6)$. Osią symetrii tej funkcji jest $x = \\frac{1}{2}$. Dokończ zdanie. Wybierz właściwą odpowiedź spośród podanych. Zbiorem wartości funkcji $g$ jest przedział",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie informacje o funkcji kwadratowej już znamy?",
        "expression": "Dane: jedno miejsce zerowe $x = -2$, przecięcie z osią y w $(0, 6)$, oś symetrii $x = \\frac{1}{2}$",
        "explanation": "Zbieramy wszystkie znane informacje o funkcji kwadratowej $g$"
      },
      {
        "step": 2,
        "hint": "Jak najlepiej wykorzystać te informacje do znalezienia funkcji?",
        "expression": "Strategia: znajdź drugie miejsce zerowe używając osi symetrii",
        "explanation": "Oś symetrii pomoże nam znaleźć drugie miejsce zerowe",
        "interactive_choice": {
          "prompt": "Którą metodę wybierzesz do znalezienia wzoru funkcji $g$?",
          "options": [
            {
              "id": "A",
              "text": "Wyznaczyć współczynniki $a$, $b$, $c$ z postaci ogólnej $g(x) = ax^2 + bx + c$",
              "feedback": "Możliwe, ale prowadzi do układu równań - bardziej pracochłonne.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Wykorzystać postać iloczynową ze znanymi miejscami zerowymi",
              "feedback": "Świetny pomysł! Ale jak znajdziesz drugie miejsce zerowe?",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Skorzystać z postaci kanonicznej z wierzchołkiem",
              "feedback": "Dobra strategia, choć najpierw musisz znaleźć współrzędne wierzchołka.",
              "is_correct": true
            }
          ],
          "explanation_after": "Skorzystamy z osi symetrii do znalezienia drugiego miejsca zerowego, a potem z postaci iloczynowej.\n\n(No mathematical expressions to format in this text)"
        }
      },
      {
        "step": 3,
        "hint": "Gdzie leży drugie miejsce zerowe względem osi symetrii?",
        "expression": "Odległość od $-2$ do osi $\\frac{1}{2}$: $\\frac{1}{2} - (-2) = \\frac{5}{2}$, więc drugie miejsce zerowe: $\\frac{1}{2} + \\frac{5}{2} = 3$",
        "explanation": "Wykorzystujemy symetrię miejsc zerowych względem osi",
        "interactive_choice": {
          "prompt": "Jak wykorzystać oś symetrii $x = \\frac{1}{2}$ do znalezienia drugiego miejsca zerowego?",
          "options": [
            {
              "id": "A",
              "text": "Drugie miejsce zerowe to $x = \\frac{1}{2} + 2 = \\frac{5}{2}$",
              "feedback": "Nie! Odległość od $(-2)$ do osi to $\\frac{1}{2} - (-2) = \\frac{5}{2}$, więc drugie miejsce to $\\frac{1}{2} + \\frac{5}{2} = 3$.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Miejsca zerowe są symetryczne względem osi, więc drugie to $x = 3$",
              "feedback": "Dokładnie! Odległość od $(-2)$ do osi $\\frac{1}{2}$ to $\\frac{5}{2}$, więc drugie miejsce to $\\frac{1}{2} + \\frac{5}{2} = 3$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Drugie miejsce zerowe to $x = \\frac{1}{2} - 2 = -\\frac{3}{2}$",
              "feedback": "Pomyłka w kierunku! To byłoby trzecie miejsce zerowe po drugiej stronie osi.\n\n(No mathematical expressions to format in this text)",
              "is_correct": false
            }
          ],
          "explanation_after": "Miejsca zerowe funkcji kwadratowej są symetryczne względem osi symetrii."
        }
      },
      {
        "step": 4,
        "hint": "Jak zapisać funkcję mając oba miejsca zerowe?",
        "expression": "$g(x) = a(x + 2)(x - 3) = a(x^2 - x - 6)$",
        "explanation": "Postać iloczynowa funkcji kwadratowej z miejscami zerowymi $x = -2$ i $x = 3$",
        "why": "Każda funkcja kwadratowa z miejscami zerowymi $p$ i $q$ ma postać $a(x-p)(x-q)$."
      },
      {
        "step": 5,
        "hint": "Jak wyznaczyć współczynnik $a$ używając punktu $(0, 6)$?",
        "expression": "$g(0) = a(0 + 2)(0 - 3) = a \\cdot 2 \\cdot (-3) = -6a = 6$",
        "explanation": "Podstawiamy warunek $g(0) = 6$"
      },
      {
        "step": 6,
        "hint": "Jaki jest współczynnik $a$?",
        "expression": "$a = \\frac{6}{-6} = -1$",
        "explanation": "Wyznaczamy współczynnik $a$"
      },
      {
        "step": 7,
        "hint": "Jaki jest wzór funkcji $g$?",
        "expression": "$g(x) = -(x + 2)(x - 3) = -x^2 + x + 6$",
        "explanation": "Pełen wzór funkcji kwadratowej $g$"
      },
      {
        "step": 8,
        "hint": "Jak określić zbiór wartości tej funkcji?",
        "expression": "Wierzchołek ma współrzędną $x = \\frac{1}{2}$ (oś symetrii)",
        "explanation": "Wierzchołek paraboli leży na osi symetrii",
        "interactive_choice": {
          "prompt": "Jak najlepiej wyznaczyć zbiór wartości funkcji $g(x) = -x^2 + x + 6$?",
          "options": [
            {
              "id": "A",
              "text": "Pochodna równa $0$ da minimum/maksimum",
              "feedback": "Matematycznie poprawne, ale można prościej - wykorzystaj własności paraboli.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Znajdź wartość funkcji w wierzchołku paraboli",
              "feedback": "Świetnie! Wierzchołek paraboli z $a < 0$ daje maksimum - czyli kres górny zbioru wartości.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Przeanalizuj granice funkcji gdy $x \\to \\pm\\infty$",
              "feedback": "To da ci tylko informację o dolnej granicy, ale nie o górnej.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dla paraboli z $a < 0$ (ramiona w dół) maksimum jest w wierzchołku."
        }
      },
      {
        "step": 9,
        "hint": "Jaka jest wartość funkcji w wierzchołku?",
        "expression": "$g\\left(\\frac{1}{2}\\right) = -\\left(\\frac{1}{2}\\right)^2 + \\frac{1}{2} + 6 = -\\frac{1}{4} + \\frac{1}{2} + 6 = \\frac{-1 + 2 + 24}{4} = \\frac{25}{4} = 6\\frac{1}{4}$",
        "explanation": "Obliczamy wartość maksymalną funkcji"
      },
      {
        "step": 10,
        "hint": "Jaki jest zbiór wartości funkcji $g$?",
        "expression": "Zbiór wartości: $\\left(-\\infty, 6\\frac{1}{4}\\right]$",
        "explanation": "Parabola z ramionami skierowanymi w dół ma maksimum $6\\frac{1}{4}$ i przyjmuje wszystkie wartości mniejsze",
        "why": "Odpowiedź C jest prawidłowa: gdy $a < 0$, funkcja kwadratowa przyjmuje wszystkie wartości od $-\\infty$ do wartości maksymalnej włącznie."
      }
    ],
    "solutions": [
      "C. $\\left(-\\infty, 6\\frac{1}{4}\\right]$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-09-27T10:55:37.956Z",
    "thinking_used": true
  },
  {
    "id": "quadratic_inequality_axis_symmetry",
    "topic": "Funkcje kwadratowe i nierówności",
    "difficulty": 4,
    "statement": "W kartezjańskim układzie współrzędnych $(x, y)$ dana jest funkcja kwadratowa $g$ określona dla każdej liczby rzeczywistej $x$. Jednym z miejsc zerowych funkcji $g$ jest liczba $(-2)$, a także funkcja $g$ przecina oś $y$ w punkcie $(0, 6)$. Osią symetrii tej funkcji jest $x = \\frac{1}{2}$. Zapisz w postaci przedziału zbiór wszystkich argumentów, dla których funkcja $g$ przyjmuje wartości większe od $4$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie informacje mamy o funkcji kwadratowej $g$?",
        "expression": "Mamy: jedno miejsce zerowe $x_1 = -2$, punkt przecięcia z osią y $(0, 6)$, oś symetrii $x = \\frac{1}{2}$",
        "explanation": "Zbieramy dane o funkcji kwadratowej"
      },
      {
        "step": 2,
        "hint": "Jak możemy znaleźć drugie miejsce zerowe funkcji?",
        "expression": "Jeśli $x_1 = -2$ i oś symetrii to $x = \\frac{1}{2}$, to $x_2 = 2 \\cdot \\frac{1}{2} - (-2) = 1 + 2 = 3$",
        "explanation": "Drugie miejsce zerowe znajdujemy wykorzystując symetrię względem osi",
        "why": "W paraboli miejsca zerowe są równo oddalone od osi symetrii: jeśli $x_1$ jest o $d$ w lewo od osi, to $x_2$ jest o $d$ w prawo.",
        "interactive_choice": {
          "prompt": "Mając jedno miejsce zerowe $x_1 = -2$ i oś symetrii $x = \\frac{1}{2}$, jak znajdziemy drugie miejsce zerowe?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzorów $Vieta$",
              "feedback": "Potrzebowalibyśmy współczynników funkcji, których jeszcze nie mamy.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Wykorzystać symetrię względem osi $x = \\frac{1}{2}$",
              "feedback": "Świetnie! Miejsca zerowe są symetryczne względem osi paraboli.\n\n(No mathematical expressions to format in this text)",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Podstawić różne wartości do równania",
              "feedback": "To byłoby losowe zgadywanie - nie ma gwarancji sukcesu.",
              "is_correct": false
            }
          ],
          "explanation_after": "Miejsca zerowe paraboli są zawsze symetryczne względem jej osi.\n\n(No mathematical expressions to format in this text)"
        }
      },
      {
        "step": 3,
        "hint": "Jaki jest wzór funkcji kwadratowej mającej miejsca zerowe $(-2)$ i $3$?",
        "expression": "$g(x) = a(x - (-2))(x - 3) = a(x + 2)(x - 3)$",
        "explanation": "Funkcja w postaci iloczynowej z miejscami zerowymi"
      },
      {
        "step": 4,
        "hint": "Jak wyznaczyć współczynnik $a$, znając punkt $(0, 6)$?",
        "expression": "$g(0) = a(0 + 2)(0 - 3) = a \\cdot 2 \\cdot (-3) = -6a = 6$",
        "explanation": "Podstawiamy punkt $\\left(0, 6\\right)$ do wzoru funkcji"
      },
      {
        "step": 5,
        "hint": "Jaki jest współczynnik $a$?",
        "expression": "$-6a = 6 \\Rightarrow a = -1$",
        "explanation": "Wyznaczamy współczynnik $a$"
      },
      {
        "step": 6,
        "hint": "Jaki jest ostateczny wzór funkcji $g$?",
        "expression": "$g(x) = -(x + 2)(x - 3) = -(x^2 - x - 6) = -x^2 + x + 6$",
        "explanation": "Rozwijamy wzór funkcji do postaci kanonicznej",
        "why": "Ponieważ $a = -1 < 0$, parabola ma ramiona skierowane w dół."
      },
      {
        "step": 7,
        "hint": "Jaką nierówność musimy rozwiązać?",
        "expression": "$-x^2 + x + 6 > 4 \\Rightarrow -x^2 + x + 2 > 0 \\Rightarrow x^2 - x - 2 < 0$",
        "explanation": "Przekształcamy nierówność do postaci standardowej",
        "interactive_choice": {
          "prompt": "Aby znaleźć argumenty dla których $g(x) > 4$, co robimy?",
          "options": [
            {
              "id": "A",
              "text": "Rozwiązujemy równanie $g(x) = 4$",
              "feedback": "To pierwszy krok - znajdziemy granice przedziału, ale potrzebujemy nierówności.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Rozwiązujemy nierówność $-x^2 + x + 6 > 4$",
              "feedback": "Dokładnie! To przekształcimy do postaci standardowej.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Szukamy maksimum funkcji",
              "feedback": "Maksimum pomoże w analizie, ale najpierw potrzebujemy nierówności.\n\n(No mathematical expressions to format in this text)",
              "is_correct": false
            }
          ],
          "explanation_after": "Musimy rozwiązać nierówność, przekształcając ją do postaci standardowej."
        }
      },
      {
        "step": 8,
        "hint": "Jakie są miejsca zerowe równania $x^2 - x - 2 = 0$?",
        "expression": "$x^2 - x - 2 = 0 \\Rightarrow (x - 2)(x + 1) = 0 \\Rightarrow x = 2$ lub $x = -1$",
        "explanation": "Rozkładamy trójmian na czynniki aby znaleźć miejsca zerowe"
      },
      {
        "step": 9,
        "hint": "Gdzie trójmian $x^2 - x - 2$ przyjmuje wartości ujemne?",
        "expression": "$x^2 - x - 2 < 0$ dla $x \\in (-1, 2)$",
        "explanation": "Określamy przedział gdzie nierówność jest spełniona",
        "interactive_choice": {
          "prompt": "Mając $x^2 - x - 2 = (x + 1)(x - 2)$ i chcąc $((x + 1)(x - 2)) < 0$, gdzie to zachodzi?",
          "options": [
            {
              "id": "A",
              "text": "Dla $x < -1$ lub $x > 2$",
              "feedback": "Nie, wtedy oba czynniki mają ten sam znak, więc iloczyn jest dodatni.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Dla $-1 < x < 2$",
              "feedback": "Tak! Wtedy $(x+1) > 0$ i $(x-2) < 0$, więc iloczyn jest ujemny.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Tylko w punktach $x = -1$ i $x = 2$",
              "feedback": "W tych punktach wyrażenie równa się $0$, nie jest ujemne.",
              "is_correct": false
            }
          ],
          "explanation_after": "Iloczyn jest ujemny gdy czynniki mają przeciwne znaki, co zachodzi między miejscami zerowymi."
        }
      },
      {
        "step": 10,
        "hint": "Jaki jest ostateczny zbiór rozwiązań?",
        "expression": "$g(x) > 4$ dla $x \\in (-1, 2)$",
        "explanation": "Zbiór argumentów dla których funkcja $g$ przyjmuje wartości większe od $4$"
      }
    ],
    "solutions": [
      "$(-1, 2)$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T10:56:35.301Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "quadratic_transformation_max",
    "topic": "Funkcje kwadratowe - przekształcenia",
    "difficulty": 4,
    "statement": "W kartezjańskim układzie współrzędnych $(x, y)$ dana jest funkcja kwadratowa $g$ określona dla każdej liczby rzeczywistej $x$. Jednym z miejsc zerowych funkcji $g$ jest liczba $(-2)$, a także funkcja $g$ przecina oś $y$ w punkcie $(0, 6)$. Osią symetrii tej funkcji jest $x = \\frac{1}{2}$. Funkcja kwadratowa $h$ jest określona za pomocą funkcji $g$ następująco: $h(x) = g(x + 3) - 2$. Największą wartość funkcja $h$ przyjmuje dla argumentu",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie informacje mamy o funkcji $g$?",
        "expression": "Funkcja $g$ ma: miejsce zerowe $x = -2$, przecina oś $y$ w $(0, 6)$, oś symetrii $x = \\frac{1}{2}$",
        "explanation": "Zbieramy dane o funkcji kwadratowej $g$"
      },
      {
        "step": 2,
        "hint": "Jak wykorzystać oś symetrii do znalezienia drugiego miejsca zerowego?",
        "expression": "Drugie miejsce zerowe: $x = \\frac{1}{2} + (\\frac{1}{2} - (-2)) = \\frac{1}{2} + \\frac{5}{2} = 3$",
        "explanation": "Wykorzystujemy symetrię miejsc zerowych względem osi",
        "interactive_choice": {
          "prompt": "Znając jedno miejsce zerowe $x = -2$ i oś symetrii $x = \\frac{1}{2}$, jak znajdziesz drugie miejsce zerowe?",
          "options": [
            {
              "id": "A",
              "text": "Drugie miejsce zerowe to $x = 2$ (symetryczne względem osi $y$)",
              "feedback": "Nie, oś symetrii paraboli to $x = \\frac{1}{2}$, nie oś $y$.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Używam wzoru: jeśli oś to $x = \\frac{1}{2}$, to drugie miejsce to $\\frac{1}{2} + (\\frac{1}{2} - (-2)) = 3$",
              "feedback": "Świetnie! Miejsca zerowe są symetryczne względem osi symetrii.\n\n(No mathematical expressions to format in this text)",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Podstawię $x = -2$ do wzoru ogólnego $ax^2 + bx + c = 0$",
              "feedback": "To nie da ci drugiego miejsca zerowego, tylko równanie z niewiadomymi $a$, $b$, $c$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Miejsca zerowe paraboli są zawsze symetryczne względem osi symetrii.\n\n(No mathematical expressions to format in this text)"
        }
      },
      {
        "step": 3,
        "hint": "Jak zapisać funkcję $g$ mając jej miejsca zerowe?",
        "expression": "$g(x) = a(x + 2)(x - 3)$ dla pewnego współczynnika $a$",
        "explanation": "Postać iloczynowa funkcji kwadratowej z miejscami zerowymi $-2$ i $3$"
      },
      {
        "step": 4,
        "hint": "Jak wyznaczyć współczynnik $a$ używając punktu $(0, 6)$?",
        "expression": "$g(0) = a(2)(-3) = -6a = 6$, więc $a = -1$",
        "explanation": "Wyznaczamy współczynnik $a$ z warunku $g(0) = 6$",
        "interactive_choice": {
          "prompt": "Wiedząc, że $g(0) = 6$, jak znajdziesz współczynnik $a$ w $g(x) = a(x + 2)(x - 3)$?",
          "options": [
            {
              "id": "A",
              "text": "Podstawię $x = 0$: $g(0) = a(0 + 2)(0 - 3) = a \\cdot 2 \\cdot (-3) = -6a = 6$",
              "feedback": "Doskonale! Stąd $a = -1$.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyję wzoru na oś symetrii $x = -\\frac{b}{2a}$",
              "feedback": "Oś symetrii już znamy, potrzebujemy punktu przecięcia z osią $y$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Rozwinę najpierw $(x + 2)(x - 3)$ i dopiero podstawię",
              "feedback": "Możliwe, ale podstawienie $x = 0$ od razu jest prostsze.",
              "is_correct": false
            }
          ],
          "explanation_after": "Podstawiając punkt przecięcia z osią y bezpośrednio znajdziemy $a$."
        }
      },
      {
        "step": 5,
        "hint": "Jaka jest postać funkcji $g$?",
        "expression": "$g(x) = -(x + 2)(x - 3) = -(x^2 - x - 6) = -x^2 + x + 6$",
        "explanation": "Funkcja $g$ w postaci kanonicznej"
      },
      {
        "step": 6,
        "hint": "Jak wygląda funkcja $h(x) = g(x + 3) - 2$?",
        "expression": "$h(x) = g(x + 3) - 2 = -(x + 3)^2 + (x + 3) + 6 - 2$",
        "explanation": "Podstawiamy $x + 3$ do wzoru funkcji $g$ i odejmujemy $2$"
      },
      {
        "step": 7,
        "hint": "Jak uprościć wyrażenie dla $h(x)$?",
        "expression": "$h(x) = -(x^2 + 6x + 9) + x + 3 + 4 = -x^2 - 6x - 9 + x + 7 = -x^2 - 5x - 2$",
        "explanation": "Upraszczamy wyrażenie algebraiczne"
      },
      {
        "step": 8,
        "hint": "Gdzie funkcja kwadratowa z ujemnym współczynnikiem przy $x^2$ osiąga maksimum?",
        "expression": "Wierzchołek paraboli: $x = -\\frac{b}{2a} = -\\frac{(-5)}{2(-1)} = -\\frac{5}{2} = -2\\frac{1}{2}$",
        "explanation": "Parabola z ramionami w dół ma maksimum w wierzchołku",
        "why": "Dla paraboli $ax^2 + bx + c$ z $a < 0$ maksimum znajduje się w wierzchołku o współrzędnej $x = -\\frac{b}{2a}$",
        "interactive_choice": {
          "prompt": "Jak znajdziesz maksimum funkcji $h(x) = -x^2 - 5x - 2$?",
          "options": [
            {
              "id": "A",
              "text": "Pochodna: $h'(x) = -2x - 5 = 0$, więc $x = -\\frac{5}{2}$",
              "feedback": "Świetnie! To najszybsza metoda dla paraboli.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wzór na wierzchołek: $x = -\\frac{b}{2a} = -\\frac{(-5)}{2(-1)} = -\\frac{5}{2}$",
              "feedback": "Doskonale! Wzór na wierzchołek paraboli.\n\n(Note: There are no mathematical expressions in this text to wrap with dollars.)",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Dopełnienie do kwadratu: $h(x) = -(x + \\frac{5}{2})^2 + c$",
              "feedback": "Także poprawne, choć bardziej czasochłonne.",
              "is_correct": true
            }
          ],
          "explanation_after": "Wszystkie metody prowadzą do tego samego wyniku: $x = -\\frac{5}{2} = -2\\frac{1}{2}$."
        }
      }
    ],
    "solutions": [
      "$x = -2\\frac{1}{2}$ (odpowiedź A)"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-09-27T10:57:24.660Z",
    "thinking_used": true
  },
  {
    "id": "sequence_analysis_choice",
    "topic": "Ciągi liczbowe - analiza własności",
    "difficulty": 4,
    "statement": "Ciąg $(a_n)$ jest określony wzorem $a_n = 3n \\cdot (2^n - n)$. Oceń prawdziwość poniższych stwierdzeń. Wybierz P, jeśli stwierdzenie jest prawdziwe, albo F - jeśli jest fałszywe. (1) Liczba $\\sqrt{a_4}$ jest całkowita. (2) Ciąg $(a_n)$ jest malejący.",
    "steps": [
      {
        "step": 1,
        "hint": "Jak najefektywniej sprawdzić te dwa stwierdzenia?",
        "expression": "Wzór ciągu: $a_n = 3n \\cdot (2^n - n)$",
        "explanation": "Rozpoczynamy od analizy wzoru i obliczania konkretnych wartości",
        "interactive_choice": {
          "prompt": "Którą strategię wybierasz do analizy tego ciągu?",
          "options": [
            {
              "id": "A",
              "text": "Obliczę kilka pierwszych wyrazów i sprawdzę każde stwierdzenie osobno",
              "feedback": "Doskonała strategia! Konkretne wartości dają jasny obraz.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Przeanalizuję wzór ogólny $a_n$ matematycznie bez liczenia",
              "feedback": "Ambitne podejście, ale dla tego wzoru obliczenia są prostsze.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Sprawdzę tylko $a_4$ bo to wystarczy",
              "feedback": "To za mało - monotonność wymaga sprawdzenia więcej wyrazów.",
              "is_correct": false
            }
          ],
          "explanation_after": "Obliczenie kilku wyrazów da nam jasne podstawy do oceny obu stwierdzeń."
        }
      },
      {
        "step": 2,
        "hint": "Ile wynosi $a_4$ podstawiając $n = 4$?",
        "expression": "$a_4 = 3 \\cdot 4 \\cdot (2^4 - 4) = 12 \\cdot (16 - 4) = 12 \\cdot 12 = 144$",
        "explanation": "Obliczamy wartość czwartego wyrazu ciągu"
      },
      {
        "step": 3,
        "hint": "Co możemy powiedzieć o liczbie $\\sqrt{144}$?",
        "expression": "$\\sqrt{a_4} = \\sqrt{144} = 12$",
        "explanation": "Pierwiastek z $a_4$ jest liczbą całkowitą",
        "why": "Stwierdzenie $(1)$ jest PRAWDZIWE, bo $12$ jest liczbą całkowitą.",
        "interactive_choice": {
          "prompt": "Jak sprawdzić, czy $\\sqrt{144}$ jest liczbą całkowitą?",
          "options": [
            {
              "id": "A",
              "text": "$144 = 12^2$, więc $\\sqrt{144} = 12$",
              "feedback": "Perfekcyjnie! Rozpoznałeś kwadrat doskonały.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Muszę obliczyć $\\sqrt{144}$ na kalkulatorze",
              "feedback": "Można, ale $144$ to znany kwadrat doskonały $12^2$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$144$ nie jest kwadratem doskonałym",
              "feedback": "Błąd! $144 = 12 \\times 12$, więc $\\sqrt{144} = 12$.",
              "is_correct": false
            }
          ],
          "explanation_after": "$144$ to kwadrat doskonały, bo $144 = 12^2$"
        }
      },
      {
        "step": 4,
        "hint": "Aby zbadać monotonność, jakie wyrazy ciągu warto obliczyć?\n\n(No changes needed as there are no mathematical expressions in this text.)",
        "expression": "Obliczmy kilka pierwszych wyrazów:\n$a_1 = 3 \\cdot 1 \\cdot (2^1 - 1) = 3 \\cdot 1 = 3$\n$a_2 = 3 \\cdot 2 \\cdot (2^2 - 2) = 6 \\cdot 2 = 12$\n$a_3 = 3 \\cdot 3 \\cdot (2^3 - 3) = 9 \\cdot 5 = 45$",
        "explanation": "Obliczamy kolejne wyrazy aby zobaczyć trend"
      },
      {
        "step": 5,
        "hint": "Co możesz powiedzieć o trendzie wyrazów: $3$, $12$, $45$, $144$?",
        "expression": "$a_1 < a_2 < a_3 < a_4$: $3 < 12 < 45 < 144$",
        "explanation": "Ciąg wyraźnie rośnie, nie maleje",
        "interactive_choice": {
          "prompt": "Jaki jest charakter ciągu na podstawie wartości $a_1=3$, $a_2=12$, $a_3=45$, $a_4=144$?",
          "options": [
            {
              "id": "A",
              "text": "Ciąg jest rosnący - każdy następny wyraz jest większy",
              "feedback": "Dokładnie! $3 < 12 < 45 < 144$, więc ciąg rośnie.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Ciąg jest malejący - wyrazy maleją",
              "feedback": "Nie, sprawdź: $3 < 12 < 45 < 144$. Ciąg rośnie!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Ciąg nie ma stałej tendencji",
              "feedback": "Nie, wyraźnie widać trend rosnący w obliczonych wyrazach.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wszystkie obliczone wyrazy rosną: $3 < 12 < 45 < 144$"
        }
      },
      {
        "step": 6,
        "hint": "Dlaczego ten ciąg będzie rosnący dla dużych $n$?",
        "expression": "Dla dużych $n$: $2^n$ rośnie znacznie szybciej niż $n$, więc $(2^n - n) \\approx 2^n$",
        "explanation": "Funkcja wykładnicza dominuje nad liniową",
        "why": "Stwierdzenie $(2)$ jest FAŁSZYWE - ciąg nie jest malejący, lecz rosnący."
      },
      {
        "step": 7,
        "hint": "Jakie są końcowe odpowiedzi na oba stwierdzenia?",
        "expression": "Stwierdzenie (1): $P$ (prawdziwe)\nStwierdzenie (2): $F$ (fałszywe)",
        "explanation": "Pierwsze stwierdzenie jest prawdziwe, drugie fałszywe"
      }
    ],
    "solutions": [
      "Stwierdzenie (1): $P$ - prawdziwe, bo $\\sqrt{a_4} = \\sqrt{144} = 12$ jest liczbą całkowitą",
      "Stwierdzenie (2): $F$ - fałszywe, bo ciąg jest rosnący $3 < 12 < 45 < 144 < ...$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-27T10:58:17.261Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "geometric_sequence_proof",
    "topic": "Ciągi geometryczne",
    "difficulty": 4,
    "statement": "Dany jest ciąg $(b_n)$ określony wzorem $b_n = 2^n \\cdot 3^{n-1}$. Wykaż, że $(b_n)$ to ciąg geometryczny.",
    "steps": [
      {
        "step": 1,
        "hint": "Co charakteryzuje ciąg geometryczny?",
        "expression": "Ciąg $(b_n)$ jest geometryczny, gdy $\\frac{b_{n+1}}{b_n} = q$ (stałe dla wszystkich $n$)",
        "explanation": "Definicja ciągu geometrycznego - stosunek kolejnych wyrazów jest stały",
        "why": "To kluczowe kryterium, które musimy sprawdzić. Jeśli stosunek jest stały, to ciąg jest geometryczny."
      },
      {
        "step": 2,
        "hint": "Jak najlepiej podejść do dowodzenia geometryczności tego ciągu?",
        "expression": "Sprawdzimy czy $\\frac{b_{n+1}}{b_n} = const$",
        "explanation": "Będziemy obliczać stosunek kolejnych wyrazów ciągu",
        "interactive_choice": {
          "prompt": "Którą strategię wybierzesz do wykazania, że ciąg jest geometryczny?",
          "options": [
            {
              "id": "A",
              "text": "Obliczę kilka pierwszych wyrazów i sprawdzę stosunki",
              "feedback": "To dobry start, ale nie stanowi pełnego dowodu dla wszystkich $n$.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Obliczę stosunek $\\frac{b_{n+1}}{b_n}$ i pokażę, że jest stały",
              "feedback": "Doskonały wybór! To matematycznie rygorystyczny sposób dowodu.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Przekształcę wzór $b_n$ do postaci $b_n = b_1 \\cdot q^{n-1}$",
              "feedback": "Możliwe, ale obliczenie stosunku jest bardziej bezpośrednie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Obliczenie stosunku kolejnych wyrazów to najdokładniejszy sposób dowodu."
        }
      },
      {
        "step": 3,
        "hint": "Jak wygląda wzór na wyraz $b_{n+1}$?",
        "expression": "$b_{n+1} = 2^{n+1} \\cdot 3^{(n+1)-1} = 2^{n+1} \\cdot 3^n$",
        "explanation": "Podstawiamy $n+1$ do wzoru ogólnego"
      },
      {
        "step": 4,
        "hint": "Jak najsprytniej obliczyć stosunek $\\frac{b_{n+1}}{b_n}$?",
        "expression": "$\\frac{b_{n+1}}{b_n} = \\frac{2^{n+1} \\cdot 3^n}{2^n \\cdot 3^{n-1}}$",
        "explanation": "Podstawiamy wzory na $b_{n+1}$ i $b_n$",
        "interactive_choice": {
          "prompt": "Którą właściwość potęg wykorzystasz przy dzieleniu $\\frac{2^{n+1} \\cdot 3^n}{2^n \\cdot 3^{n-1}}$?",
          "options": [
            {
              "id": "A",
              "text": "Rozdzielę na $\\frac{2^{n+1}}{2^n} \\cdot \\frac{3^n}{3^{n-1}}$ i użyję $\\frac{a^m}{a^k} = a^{m-k}$",
              "feedback": "Świetnie! To najczytelniejszy sposób - dzielisz potęgi o tych samych podstawach.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Najpierw wszystko rozwinę do postaci iloczynowej",
              "feedback": "Możliwe, ale bardzo pracochłonne i łatwo o błąd.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Przekształcę najpierw wzory na $b_n$ i $b_{n+1}$",
              "feedback": "Niepotrzebnie komplikujesz - lepiej skorzystać bezpośrednio z właściwości potęg.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wykorzystanie wzoru $\\frac{a^m}{a^k} = a^{m-k}$ to najefektywniejsza metoda."
        }
      },
      {
        "step": 5,
        "hint": "Jak podzielić potęgi o tej samej podstawie?",
        "expression": "$\\frac{b_{n+1}}{b_n} = \\frac{2^{n+1}}{2^n} \\cdot \\frac{3^n}{3^{n-1}} = 2^{(n+1)-n} \\cdot 3^{n-(n-1)}$",
        "explanation": "Stosujemy wzór $\\frac{a^m}{a^k} = a^{m-k}$ dla obu podstaw"
      },
      {
        "step": 6,
        "hint": "Co otrzymamy po uproszczeniu wykładników?",
        "expression": "$\\frac{b_{n+1}}{b_n} = 2^1 \\cdot 3^1 = 2 \\cdot 3 = 6$",
        "explanation": "Upraszczamy wykładniki: $(n+1)-n = 1$ oraz $n-(n-1) = 1$"
      },
      {
        "step": 7,
        "hint": "Co oznacza otrzymany wynik dla charakteru ciągu?",
        "expression": "$q = 6$ - iloraz ciągu geometrycznego",
        "explanation": "Ponieważ stosunek jest stały i równy $6$, ciąg jest geometryczny",
        "interactive_choice": {
          "prompt": "Jakie wnioski wyciągasz z faktu, że $\\frac{b_{n+1}}{b_n} = 6$?",
          "options": [
            {
              "id": "A",
              "text": "Ciąg jest geometryczny z ilorazem $q = 6$",
              "feedback": "Doskonale! Stały stosunek kolejnych wyrazów to definicja ciągu geometrycznego.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Ciąg jest arytmetyczny z różnicą $r = 6$",
              "feedback": "Nie - stały stosunek oznacza ciąg geometryczny, nie arytmetyczny.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Każdy wyraz jest $6$ razy większy od indeksu",
              "feedback": "To nieprawda - stosunek dotyczy kolejnych wyrazów, nie indeksów.",
              "is_correct": false
            }
          ],
          "explanation_after": "Stały stosunek kolejnych wyrazów to charakterystyczna cecha ciągu geometrycznego."
        }
      },
      {
        "step": 8,
        "hint": "Jakie jest podsumowanie dowodu?",
        "expression": "Ciąg $(b_n)$ jest geometryczny z pierwszym wyrazem $b_1 = 2^1 \\cdot 3^0 = 2$ i ilorazem $q = 6$",
        "explanation": "Dowód zakończony - wykazaliśmy że stosunek kolejnych wyrazów jest stały",
        "why": "Sprawdziliśmy kluczowe kryterium: $\\frac{b_{n+1}}{b_n} = 6 = const$, więc ciąg jest geometryczny."
      }
    ],
    "solutions": [
      "Ciąg $(b_n)$ jest geometryczny z ilorazem $q = 6$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T10:58:57.534Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "recursive_sequence_sum",
    "topic": "Ciągi rekurencyjne",
    "difficulty": 3,
    "statement": "Ciąg $(c_n)$ jest określony następująco: $c_n = \\begin{cases} c_1 = -3 \\\\ c_{n+1} = 2c_n + 3n - 5 \\end{cases}$ dla każdej liczby naturalnej $n \\geq 1$. Suma pięciu początkowych wyrazów ciągu $(c_n)$ jest równa ___.",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza zapis rekurencyjny tego ciągu?",
        "expression": "$c_1 = -3$ (pierwszy wyraz) oraz $c_{n+1} = 2c_n + 3n - 5$ (wzór rekurencyjny)",
        "explanation": "Mamy podany pierwszy wyraz i wzór do obliczania kolejnych wyrazów"
      },
      {
        "step": 2,
        "hint": "Jak najlepiej wyznaczyć sumę pierwszych pięciu wyrazów?",
        "expression": "Obliczamy kolejno: $c_1$, $c_2$, $c_3$, $c_4$, $c_5$",
        "explanation": "Używamy wzoru $c_{n+1} = 2c_n + 3n - 5$ do znajdowania kolejnych wyrazów",
        "interactive_choice": {
          "prompt": "Jaką strategię wybierzesz do znalezienia sumy pierwszych $5$ wyrazów?",
          "options": [
            {
              "id": "A",
              "text": "Obliczyć wszystkie wyrazy po kolei: $c_1, c_2, c_3, c_4, c_5$",
              "feedback": "Świetny wybór! To najbardziej pewny sposób dla małej liczby wyrazów.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Poszukać wzoru ogólnego na $c_n$, potem obliczyć sumę",
              "feedback": "Możliwe, ale bardzo trudne - wzór ogólny jest skomplikowany.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru na sumę ciągu arytmetycznego",
              "feedback": "Nie - to nie jest ciąg arytmetyczny! Różnica nie jest stała.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dla małej liczby wyrazów najlepiej obliczyć je po kolei używając wzoru rekurencyjnego."
        }
      },
      {
        "step": 3,
        "hint": "Jaki jest drugi wyraz ciągu?",
        "expression": "$c_2 = 2c_1 + 3 \\cdot 1 - 5 = 2(-3) + 3 - 5 = -6 + 3 - 5 = -8$",
        "explanation": "Podstawiamy $n = 1$ i $c_1 = -3$ do wzoru rekurencyjnego"
      },
      {
        "step": 4,
        "hint": "Jak obliczyć trzeci wyraz?",
        "expression": "$c_3 = 2c_2 + 3 \\cdot 2 - 5 = 2(-8) + 6 - 5 = -16 + 6 - 5 = -15$",
        "explanation": "Podstawiamy $n = 2$ i $c_2 = -8$"
      },
      {
        "step": 5,
        "hint": "Jaki będzie czwarty wyraz?",
        "expression": "$c_4 = 2c_3 + 3 \\cdot 3 - 5 = 2(-15) + 9 - 5 = -30 + 9 - 5 = -26$",
        "explanation": "Podstawiamy $n = 3$ i $c_3 = -15$"
      },
      {
        "step": 6,
        "hint": "Ile wynosi piąty wyraz ciągu?",
        "expression": "$c_5 = 2c_4 + 3 \\cdot 4 - 5 = 2(-26) + 12 - 5 = -52 + 12 - 5 = -45$",
        "explanation": "Podstawiamy $n = 4$ i $c_4 = -26$"
      },
      {
        "step": 7,
        "hint": "Czy warto sprawdzić obliczenia przed dodawaniem?",
        "expression": "Mamy wyrazy: $c_1 = -3$, $c_2 = -8$, $c_3 = -15$, $c_4 = -26$, $c_5 = -45$",
        "explanation": "Zestawiamy wszystkie obliczone wyrazy",
        "interactive_choice": {
          "prompt": "Co zrobić przed obliczeniem ostatecznej sumy?",
          "options": [
            {
              "id": "A",
              "text": "Sprawdzić jeden z wyrazów ponownie",
              "feedback": "Dobry nawyk! Sprawdzenie pomoże uniknąć błędów.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Od razu dodać wszystkie wyrazy",
              "feedback": "Ryzykowne - jeden błąd w obliczeniach zepsuję całą sumę.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Sprawdzić czy wyrazy tworzą jakiś wzór",
              "feedback": "Ciekawy pomysł, ale nie jest potrzebny do rozwiązania.",
              "is_correct": false
            }
          ],
          "explanation_after": "W obliczeniach rekurencyjnych warto sprawdzać, bo błąd przenosi się na kolejne wyrazy.\n\n(No mathematical expressions found to wrap in dollars)"
        }
      },
      {
        "step": 8,
        "hint": "Jaka jest suma pierwszych pięciu wyrazów?",
        "expression": "$S_5 = c_1 + c_2 + c_3 + c_4 + c_5 = (-3) + (-8) + (-15) + (-26) + (-45)$",
        "explanation": "Dodajemy wszystkie wyrazy ciągu"
      },
      {
        "step": 9,
        "hint": "Ile wynosi ta suma?",
        "expression": "$S_5 = -3 - 8 - 15 - 26 - 45 = -97$",
        "explanation": "Obliczamy ostateczny wynik"
      }
    ],
    "solutions": [
      "$-97$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 0,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 2
      }
    },
    "timestamp": "2025-09-27T10:59:32.263Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "three_digit_remainder_2_mod_7",
    "topic": "Liczby naturalne i dzielenie z resztą",
    "difficulty": 4,
    "statement": "Rozpatrujemy wszystkie liczby naturalne trzycyfrowe, które przy dzieleniu przez $7$ dają resztę $2$. Dokończ zdanie. Zaznacz odpowiedź A, B albo C oraz jej uzasadnienie $1.$, $2.$ albo $3.$ Takich liczb jest: A. $128$, B. $129$, C. $130$, oraz ich suma wynosi: $1.$ $70144$, $2.$ $70692$, $3.$ $71240$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jaki jest zakres liczb trzycyfrowych?",
        "expression": "Liczby trzycyfrowe: od $100$ do $999$",
        "explanation": "Musimy znaleźć wszystkie liczby z tego przedziału dające resztę $2$ przy dzieleniu przez $7$"
      },
      {
        "step": 2,
        "hint": "Jak najlepiej znajdziemy pierwszą liczbę trzycyfrową dającą resztę $2$ przy dzieleniu przez $7$?",
        "expression": "$100 \\div 7 = 14$ reszty $2$",
        "explanation": "Liczba $100$ już daje resztę $2$, więc jest pierwszą liczbą naszego ciągu",
        "interactive_choice": {
          "prompt": "Którą metodą znajdziemy pierwszą liczbę trzycyfrową o reszcie $2$ przy dzieleniu przez $7$?",
          "options": [
            {
              "id": "A",
              "text": "Sprawdzamy kolejne liczby: $100$, $101$, $102$...",
              "feedback": "Możliwe, ale czasochłonne. Można to zrobić sprytniej!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Dzielimy $100$ przez $7$ i sprawdzamy resztę",
              "feedback": "Świetnie! To pozwoli nam szybko ustalić czy $100$ już pasuje.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Szukamy liczby postaci $7k+2 \\geq 100$",
              "feedback": "Doskonałe podejście! Bezpośrednio używamy wzoru na resztę.",
              "is_correct": true
            }
          ],
          "explanation_after": "Sprawdzimy resztę z dzielenia $100$ przez $7$, to da nam odpowiedź."
        }
      },
      {
        "step": 3,
        "hint": "Jaka będzie ostatnia trzycyfrowa liczba dająca resztę $2$ przy dzieleniu przez $7$?",
        "expression": "$999 \\div 7 = 142$ reszty $5$",
        "explanation": "$999$ daje resztę $5$, więc musimy znaleźć największą liczbę $\\leq 999$ dającą resztę $2$",
        "why": "Szukamy liczby postaci $7k + 2 \\leq 999$, więc $k \\leq \\frac{997}{7} = 142\\frac{3}{7}$, zatem $k = 142$."
      },
      {
        "step": 4,
        "hint": "Jaka jest największa liczba trzycyfrowa o reszcie $2$?",
        "expression": "Ostatnia liczba: $7 \\times 142 + 2 = 994 + 2 = 996$",
        "explanation": "Sprawdzenie: $996 \\div 7 = 142$ reszty $2$ ✓"
      },
      {
        "step": 5,
        "hint": "Jaki typ ciągu tworzą nasze liczby?",
        "expression": "Ciąg: $100, 107, 114, 121, ..., 996$",
        "explanation": "To ciąg arytmetyczny o pierwszym wyrazie $a_1 = 100$ i różnicy $r = 7$"
      },
      {
        "step": 6,
        "hint": "Którym wzorem obliczysz liczbę wyrazów ciągu arytmetycznego?",
        "expression": "Liczba wyrazów: $n = \\frac{996 - 100}{7} + 1 = \\frac{896}{7} + 1 = 128 + 1 = 129$",
        "explanation": "Ciąg ma $129$ wyrazów",
        "interactive_choice": {
          "prompt": "Jak obliczyć liczbę wyrazów ciągu arytmetycznego od $100$ do $996$ co $7$?",
          "options": [
            {
              "id": "A",
              "text": "$(996 - 100) \\div 7 = 128$",
              "feedback": "Uwaga! To daje liczbę kroków, ale wyrazów jest o 1 więcej.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$(996 - 100) \\div 7 + 1 = 129$",
              "feedback": "Idealnie! Pamiętasz o dodaniu $1$ dla pierwszego wyrazu.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$(996 + 100) \\div 7 = 156$",
              "feedback": "To nie jest wzór na liczbę wyrazów ciągu arytmetycznego.",
              "is_correct": false
            }
          ],
          "explanation_after": "W ciągu od $a$ do $b$ co $r$ jest $(b-a)/r + 1$ wyrazów."
        }
      },
      {
        "step": 7,
        "hint": "Który wzór na sumę ciągu arytmetycznego zastosujesz?",
        "expression": "$S = \\frac{n(a_1 + a_n)}{2} = \\frac{129(100 + 996)}{2}$",
        "explanation": "Podstawiamy do wzoru na sumę ciągu arytmetycznego",
        "interactive_choice": {
          "prompt": "Którym wzorem obliczysz sumę ciągu arytmetycznego?",
          "options": [
            {
              "id": "A",
              "text": "$S_n = \\frac{n(a_1 + a_n)}{2}$",
              "feedback": "Świetny wybór! Mamy pierwszy i ostatni wyraz oraz liczbę wyrazów.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$S_n = \\frac{n[2a_1 + (n-1)r]}{2}$",
              "feedback": "Też poprawny wzór, ale pierwszy jest prostszy w tym przypadku.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$S_n = a_1 + a_2 + ... + a_n$",
              "feedback": "To definicja sumy, ale nie wzór - zbyt pracochłonne dla $129$ składników!",
              "is_correct": false
            }
          ],
          "explanation_after": "Użyjemy wzoru z pierwszym i ostatnim wyrazem."
        }
      },
      {
        "step": 8,
        "hint": "Ile wynosi suma w nawiasie?",
        "expression": "$S = \\frac{129 \\times 1096}{2} = \\frac{141384}{2} = 70692$",
        "explanation": "Obliczamy ostateczny wynik"
      },
      {
        "step": 9,
        "hint": "Jakie są odpowiedzi na pytania z zadania?",
        "expression": "Liczba trzycyfrowych: $129$ (odpowiedź B), suma: $70692$ (odpowiedź 2)",
        "explanation": "Końcowa odpowiedź: $B$ oraz $2$"
      }
    ],
    "solutions": [
      "B. $129$",
      "$2$. $70692$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-09-27T11:00:23.035Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "cosine_obtuse_angle",
    "topic": "Funkcje trygonometryczne kąta rozwartego",
    "difficulty": 4,
    "statement": "Kąt $\\alpha$ jest rozwarty oraz $\\sin \\alpha = \\frac{4\\sqrt{3}}{7}$. Cosinus kąta $\\alpha$ wynosi",
    "steps": [
      {
        "step": 1,
        "hint": "Jakimi informacjami dysponujemy o kącie $\\alpha$?",
        "expression": "Kąt $\\alpha$ jest rozwarty oraz $\\sin \\alpha = \\frac{4\\sqrt{3}}{7}$",
        "explanation": "Kąt rozwarty oznacza $\\alpha \\in (90°, 180°)$, czyli II ćwiartka układu współrzędnych"
      },
      {
        "step": 2,
        "hint": "Którą metodę wybierzesz do znajdowania cosinusa?",
        "expression": "Użyjemy wzoru: $\\sin^2 \\alpha + \\cos^2 \\alpha = 1$",
        "explanation": "Podstawowy wzór jedynki trygonometrycznej $\\sin^2(x) + \\cos^2(x) = 1$",
        "interactive_choice": {
          "prompt": "Jak najlepiej wyznaczyć $\\cos \\alpha$ znając $\\sin \\alpha$?",
          "options": [
            {
              "id": "A",
              "text": "Użyć jedynki trygonometrycznej $\\sin^2 \\alpha + \\cos^2 \\alpha = 1$",
              "feedback": "Doskonały wybór! To bezpośredni sposób na znalezienie $\\cos$-a.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Narysować trójkąt prostokątny i użyć definicji",
              "feedback": "Dla kąta rozwartego definicja trójkątna nie działa - kąt $> 90°$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzorów redukcyjnych",
              "feedback": "Możliwe, ale jedynka trygonometryczna jest prostsze rozwiązanie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Jedynka trygonometryczna łączy $\\sin$ i $\\cos$ bezpośrednio - idealna do tego zadania."
        }
      },
      {
        "step": 3,
        "hint": "Co otrzymasz podstawiając wartość $\\sin$ do jedynki trygonometrycznej?",
        "expression": "$\\left(\\frac{4\\sqrt{3}}{7}\\right)^2 + \\cos^2 \\alpha = 1$",
        "explanation": "Podstawiamy známą wartość $\\sin \\alpha = \\frac{4\\sqrt{3}}{7}$"
      },
      {
        "step": 4,
        "hint": "Jak obliczyć kwadrat ułamka $\\left(\\frac{4\\sqrt{3}}{7}\\right)^2$?",
        "expression": "$\\frac{(4\\sqrt{3})^2}{7^2} + \\cos^2 \\alpha = 1$, więc $\\frac{16 \\cdot 3}{49} + \\cos^2 \\alpha = 1$",
        "explanation": "Podnosimy licznik i mianownik do kwadratu: $(4\\sqrt{3})^2 = 16 \\cdot 3 = 48$"
      },
      {
        "step": 5,
        "hint": "Jaki ułamek otrzymasz po uproszczeniu?",
        "expression": "$\\frac{48}{49} + \\cos^2 \\alpha = 1$",
        "explanation": "Obliczamy: $16 \\cdot 3 = 48$"
      },
      {
        "step": 6,
        "hint": "Jak wyrazić $\\cos^2 \\alpha$ z tego równania?",
        "expression": "$\\cos^2 \\alpha = 1 - \\frac{48}{49} = \\frac{49 - 48}{49} = \\frac{1}{49}$",
        "explanation": "Przenosimy $\\frac{48}{49}$ na prawą stronę równania"
      },
      {
        "step": 7,
        "hint": "Jaki znak ma $\\cos$ w II ćwiartce układu współrzędnych?",
        "expression": "Ponieważ $\\alpha$ jest rozwarty (II ćwiartka), to $\\cos \\alpha < 0$",
        "explanation": "W II ćwiartce $\\cos$ jest zawsze ujemny",
        "why": "To kluczowy moment - bez określenia znaku otrzymamy błędną odpowiedź.",
        "interactive_choice": {
          "prompt": "Kąt $\\alpha$ jest rozwarty (II ćwiartka). Jaki znak ma $\\cos \\alpha$?",
          "options": [
            {
              "id": "A",
              "text": "Cosinus jest dodatni",
              "feedback": "Nie - w II ćwiartce $\\cos x$ jest ujemny $(x < 0)$.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Cosinus jest ujemny",
              "feedback": "Tak! W II ćwiartce $\\sin > 0$, ale $\\cos < 0$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Cosinus może być dodatni lub ujemny",
              "feedback": "Nie - znak jest jednoznacznie określony przez ćwiartkę.",
              "is_correct": false
            }
          ],
          "explanation_after": "W II ćwiartce: $\\sin$ > 0, $\\cos$ < 0, więc $\\cos \\alpha < 0$."
        }
      },
      {
        "step": 8,
        "hint": "Jaka jest wartość $\\cos \\alpha$ z uwzględnieniem znaku?",
        "expression": "$\\cos \\alpha = -\\sqrt{\\frac{1}{49}} = -\\frac{1}{7}$",
        "explanation": "Pierwiastkujemy $\\cos^2 \\alpha = \\frac{1}{49}$ i uwzględniamy znak $(-1)$"
      },
      {
        "step": 9,
        "hint": "Która odpowiedź z podanych jest poprawna?",
        "expression": "$\\cos \\alpha = -\\frac{1}{7}$",
        "explanation": "Odpowiedź A jest poprawna",
        "interactive_choice": {
          "prompt": "Porównaj wynik $\\cos \\alpha = -\\frac{1}{7}$ z podanymi opcjami:",
          "options": [
            {
              "id": "A",
              "text": "Odpowiedź A: $-\\frac{1}{7}$",
              "feedback": "Dokładnie! To nasz wynik z obliczeń.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Odpowiedź D: $-\\frac{2\\sqrt{3}}{7}$",
              "feedback": "Nie - to byłby inny wynik obliczeń.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Odpowiedzi $B$ lub $C$ (dodatnie)",
              "feedback": "Nie - $\\cos$ kąta rozwartego musi być ujemny.",
              "is_correct": false
            }
          ],
          "explanation_after": "Sprawdzenie: $\\sin^2 \\alpha + \\cos^2 \\alpha = \\frac{48}{49} + \\frac{1}{49} = \\frac{49}{49} = 1$ ✓"
        }
      }
    ],
    "solutions": [
      "A. $-\\frac{1}{7}$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T11:00:59.652Z",
    "thinking_used": true
  },
  {
    "id": "trigonometric_expression_calculation",
    "topic": "Tożsamości trygonometryczne",
    "difficulty": 4,
    "statement": "Kąt $\\beta$ jest ostry oraz spełniona jest zależność: $\\frac{\\cos \\beta}{\\sin \\beta} = \\frac{1}{2}$. Oblicz wartość wyrażenia $\\frac{\\sin^3 \\beta}{\\cos \\beta} + \\sin \\beta \\cdot \\cos \\beta$.",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza wyrażenie $\\frac{\\cos \\beta}{\\sin \\beta}$ w kontekście funkcji trygonometrycznych?",
        "expression": "$\\frac{\\cos \\beta}{\\sin \\beta} = \\frac{1}{2}$",
        "explanation": "Mamy daną relację między $\\cos$ a $\\sin$ kąta $\\beta$"
      },
      {
        "step": 2,
        "hint": "Jak najlepiej przekształcić tę relację?",
        "expression": "$\\frac{\\sin \\beta}{\\cos \\beta} = 2$, więc $tg \\beta = 2$",
        "explanation": "Odwracając ułamki otrzymujemy $\\tan \\beta$",
        "interactive_choice": {
          "prompt": "Jak wykorzystać równanie $\\frac{\\cos \\beta}{\\sin \\beta} = \\frac{1}{2}$?",
          "options": [
            {
              "id": "A",
              "text": "Zapisać jako $\\cos \\beta = \\frac{1}{2} \\sin \\beta$ i podstawić do jedynki trygonometrycznej",
              "feedback": "Dobra metoda! Pozwoli znaleźć $\\sin \\beta$ i $\\cos \\beta$ bezpośrednio.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Odwrócić ułamki: $\\frac{\\sin \\beta}{\\cos \\beta} = 2$, czyli $\\tan \\beta = 2$",
              "feedback": "Świetnie! To daje $\\tan \\beta$, z którego łatwo znajdziemy $\\sin \\beta$ i $\\cos \\beta$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Pomnożyć obustronnie przez $\\sin \\beta \\cos \\beta$",
              "feedback": "To skomplikuje równanie - lepiej najpierw uprościć relację.\n\n(No mathematical expressions found to wrap in dollars)",
              "is_correct": false
            }
          ],
          "explanation_after": "Najlepiej przekształcić do postaci z $\\tan$ lub wyrażać jeden składnik przez drugi."
        }
      },
      {
        "step": 3,
        "hint": "Jak wyznaczyć dokładne wartości $\\sin \\beta$ i $\\cos \\beta$ znając $tg \\beta = 2$?",
        "expression": "$\\sin \\beta = 2\\cos \\beta$ oraz $\\sin^2 \\beta + \\cos^2 \\beta = 1$",
        "explanation": "Zapisujemy $\\sin$ przez $\\cos$ i używamy jedynki trygonometrycznej",
        "interactive_choice": {
          "prompt": "Znając $tg \\beta = 2$, jak najlepiej znaleźć $\\sin \\beta$ i $\\cos \\beta$?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru $tg \\beta = \\frac{\\sin \\beta}{\\cos \\beta} = 2$ i jedynki trygonometrycznej",
              "feedback": "Doskonały wybór! To standardowa metoda przy znanym $\\tan$-sie.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Skorzystać z tablic lub kalkulatora",
              "feedback": "To da przybliżenie, a zadanie wymaga dokładnej wartości.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Narysować trójkąt prostokątny z przyprostokątnymi $1$ i $2$",
              "feedback": "Dobra metoda geometryczna! Daje te same wyniki co algebraiczna.",
              "is_correct": true
            }
          ],
          "explanation_after": "Metoda algebraiczna z jedynką trygonometryczną lub geometryczna z trójkątem dają dokładne wyniki.\n\n(No mathematical expressions found to wrap in dollars)"
        }
      },
      {
        "step": 4,
        "hint": "Co otrzymasz podstawiając $\\sin \\beta = 2\\cos \\beta$ do jedynki trygonometrycznej?",
        "expression": "$(2\\cos \\beta)^2 + \\cos^2 \\beta = 1$",
        "explanation": "Podstawiamy $\\sin \\beta = 2\\cos \\beta$ do wzoru $\\sin^2 \\beta + \\cos^2 \\beta = 1$"
      },
      {
        "step": 5,
        "hint": "Jak uprościć to równanie?",
        "expression": "$4\\cos^2 \\beta + \\cos^2 \\beta = 1$, czyli $5\\cos^2 \\beta = 1$",
        "explanation": "Łączymy podobne składniki"
      },
      {
        "step": 6,
        "hint": "Jaką wartość ma $\\cos \\beta$ skoro kąt $\\beta$ jest ostry?",
        "expression": "$\\cos^2 \\beta = \\frac{1}{5}$, więc $\\cos \\beta = \\frac{1}{\\sqrt{5}} = \\frac{\\sqrt{5}}{5}$",
        "explanation": "Dla kąta ostrego $\\cos$ jest dodatni",
        "why": "Kąt $\\beta$ jest ostry, więc $\\cos \\beta > 0$. Wymierniamy mianownik: $\\frac{1}{\\sqrt{5}} = \\frac{\\sqrt{5}}{5}$."
      },
      {
        "step": 7,
        "hint": "Jaka jest wartość $\\sin \\beta$?",
        "expression": "$\\sin \\beta = 2\\cos \\beta = 2 \\cdot \\frac{\\sqrt{5}}{5} = \\frac{2\\sqrt{5}}{5}$",
        "explanation": "Obliczamy sinus używając relacji $\\sin \\beta = 2\\cos \\beta$"
      },
      {
        "step": 8,
        "hint": "Jak najlepiej obliczyć wyrażenie $\\frac{\\sin^3 \\beta}{\\cos \\beta} + \\sin \\beta \\cdot \\cos \\beta$?",
        "expression": "$\\frac{\\sin^3 \\beta}{\\cos \\beta} + \\sin \\beta \\cdot \\cos \\beta = \\sin \\beta \\cdot \\frac{\\sin^2 \\beta}{\\cos \\beta} + \\sin \\beta \\cdot \\cos \\beta$",
        "explanation": "Wyciągamy $\\sin \\beta$ przed nawias z pierwszego składnika",
        "interactive_choice": {
          "prompt": "Którą strategię wybierzesz dla obliczenia $\\frac{\\sin^3 \\beta}{\\cos \\beta} + \\sin \\beta \\cdot \\cos \\beta$?",
          "options": [
            {
              "id": "A",
              "text": "Podstawić bezpośrednio wartości $\\sin \\beta$ i $\\cos \\beta$",
              "feedback": "Skuteczne, ale może prowadzić do skomplikowanych obliczeń z pierwiastkami.\n\n(No mathematical expressions found to wrap in dollars)",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Przekształcić wyrażenie używając $\\tg \\beta = 2$",
              "feedback": "Świetny pomysł! Pozwoli uniknąć skomplikowanych obliczeń z pierwiastkami.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Rozbić na części i obliczać każdy składnik osobno",
              "feedback": "Możliwe, ale mniej eleganckie niż przekształcenie całego wyrażenia.",
              "is_correct": false
            }
          ],
          "explanation_after": "Używanie relacji $tg \\beta = 2$ często uprości obliczenia w zadaniach trygonometrycznych."
        }
      },
      {
        "step": 9,
        "hint": "Co możesz zrobić z wyrażeniem $\\frac{\\sin^2 \\beta}{\\cos \\beta}$?",
        "expression": "$\\sin \\beta \\left(\\frac{\\sin^2 \\beta}{\\cos \\beta} + \\cos \\beta\\right) = \\sin \\beta \\cdot \\frac{\\sin^2 \\beta + \\cos^2 \\beta}{\\cos \\beta}$",
        "explanation": "Sprowadzamy do wspólnego mianownika",
        "why": "Używamy jedynki trygonometrycznej: $\\sin^2 \\beta + \\cos^2 \\beta = 1$."
      },
      {
        "step": 10,
        "hint": "Co otrzymasz po zastosowaniu jedynki trygonometrycznej $\\sin^2(x) + \\cos^2(x) = 1$?",
        "expression": "$\\sin \\beta \\cdot \\frac{1}{\\cos \\beta} = \\frac{\\sin \\beta}{\\cos \\beta} = tg \\beta = 2$",
        "explanation": "Wyrażenie upraszcza się do tangensa $\\beta$"
      }
    ],
    "solutions": [
      "$2$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 6
      }
    },
    "timestamp": "2025-09-27T11:01:59.685Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "perpendicular_bisector_through_point",
    "topic": "Geometria analityczna - symetralna odcinka",
    "difficulty": 4,
    "statement": "Wyznacz równanie symetralnej odcinka $AB$ o punktach $A = (3, 2)$ oraz $B = (7, 8)$, przechodzącej przez punkt $C = (11, 1)$. Zapisz obliczenia.",
    "steps": [
      {
        "step": 1,
        "hint": "Co to jest symetralna odcinka i jakie ma własności?",
        "expression": "Symetralna odcinka $AB$ to prosta prostopadła do $AB$ przechodząca przez środek odcinka $AB$",
        "explanation": "Symetralna dzieli odcinek na połowy pod kątem prostym",
        "why": "Każdy punkt symetralnej jest równo odległy od końców odcinka"
      },
      {
        "step": 2,
        "hint": "Jakie są współrzędne środka odcinka $AB$?",
        "expression": "Środek: $S = \\left(\\frac{3+7}{2}, \\frac{2+8}{2}\\right) = (5, 5)$",
        "explanation": "Współrzędne środka to średnie arytmetyczne współrzędnych końców"
      },
      {
        "step": 3,
        "hint": "Jaki jest współczynnik kierunkowy odcinka $AB$?",
        "expression": "$a_{AB} = \\frac{8-2}{7-3} = \\frac{6}{4} = \\frac{3}{2}$",
        "explanation": "Obliczamy współczynnik kierunkowy prostej $AB$"
      },
      {
        "step": 4,
        "hint": "Jaki jest związek między współczynnikami kierunkowymi prostych prostopadłych?",
        "expression": "$a_{sym} = -\\frac{1}{a_{AB}} = -\\frac{1}{\\frac{3}{2}} = -\\frac{2}{3}$",
        "explanation": "Współczynnik kierunkowy symetralnej jest ujemną odwrotnością współczynnika $AB$",
        "interactive_choice": {
          "prompt": "Jeśli prosta AB ma współczynnik kierunkowy $\\frac{3}{2}$, to jaki ma symetralna?",
          "options": [
            {
              "id": "A",
              "text": "$a_{sym} = \\frac{3}{2}$ (taki sam)",
              "feedback": "Nie, proste prostopadłe mają różne współczynniki kierunkowe.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$a_{sym} = -\\frac{2}{3}$ (ujemna odwrotność)",
              "feedback": "Świetnie! Dla prostych prostopadłych iloczyn współczynników wynosi $-1$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$a_{sym} = \\frac{2}{3}$ (odwrotność)",
              "feedback": "Brakuje znaku minus. Prostopadłość wymaga iloczynu równego $-1$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Jeśli $a_1 \\cdot a_2 = -1$, to proste są prostopadłe"
        }
      },
      {
        "step": 5,
        "hint": "W jakiej postaci zapiszesz równanie symetralnej?",
        "expression": "Używamy postaci $y = ax + b$ gdzie $a = -\\frac{2}{3}$",
        "explanation": "Wybieramy postać kierunkową równania prostej",
        "interactive_choice": {
          "prompt": "Którą postacią równania prostej najlepiej opisać symetralnę?",
          "options": [
            {
              "id": "A",
              "text": "Kierunkowa $y = ax + b$",
              "feedback": "Dobry wybór! Mamy współczynnik kierunkowy i punkt, więc łatwo znajdziemy $b$.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Kanoniczna $\\frac{x-x_0}{l} = \\frac{y-y_0}{m}$",
              "feedback": "Możliwe, ale więcej kroków niż postać kierunkowa.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Ogólna $Ax + By + C = 0$",
              "feedback": "Skomplikowane na początku. Lepiej zacząć od postaci kierunkowej.\n\n(No mathematical expressions found to wrap in dollars)",
              "is_correct": false
            }
          ],
          "explanation_after": "Postać kierunkowa jest najwygodniejsza gdy znamy współczynnik kierunkowy i punkt"
        }
      },
      {
        "step": 6,
        "hint": "Jak wyznaczyć parametr $b$ w równaniu symetralnej?",
        "expression": "Podstawiamy punkt $S(5, 5)$: $5 = -\\frac{2}{3} \\cdot 5 + b$",
        "explanation": "Symetralna przechodzi przez środek odcinka $S(5, 5)$"
      },
      {
        "step": 7,
        "hint": "Ile wynosi parametr $b$?",
        "expression": "$5 = -\\frac{10}{3} + b$, więc $b = 5 + \\frac{10}{3} = \\frac{15 + 10}{3} = \\frac{25}{3}$",
        "explanation": "Rozwiązujemy równanie względem $b$"
      },
      {
        "step": 8,
        "hint": "Jakie jest równanie symetralnej?\n\n(No mathematical expressions to format in this text)",
        "expression": "$y = -\\frac{2}{3}x + \\frac{25}{3}$",
        "explanation": "Równanie symetralnej odcinka $AB$"
      },
      {
        "step": 9,
        "hint": "Czy punkt $C(11, 1)$ leży na wyznaczonej symetralnej?",
        "expression": "Dla $x = 11$: $y = -\\frac{2}{3} \\cdot 11 + \\frac{25}{3} = -\\frac{22}{3} + \\frac{25}{3} = \\frac{3}{3} = 1$",
        "explanation": "Podstawiamy $x = 11$ do równania symetralnej",
        "interactive_choice": {
          "prompt": "Jak sprawdzić czy punkt $C(11, 1)$ leży na prostej $y = -\\frac{2}{3}x + \\frac{25}{3}$?",
          "options": [
            {
              "id": "A",
              "text": "Podstawić współrzędne i sprawdzić równość",
              "feedback": "Dokładnie! To standardowa metoda sprawdzenia przynależności punktu do prostej.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Obliczyć odległość od prostej",
              "feedback": "To da informację o odległości, ale nie o przynależności do prostej.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Sprawdzić czy $C$ jest środkiem $AB$",
              "feedback": "C nie musi być środkiem - sprawdzamy czy leży na symetralnej.",
              "is_correct": false
            }
          ],
          "explanation_after": "Punkt należy do prostej gdy jego współrzędne spełniają równanie prostej"
        }
      },
      {
        "step": 10,
        "hint": "Co oznacza otrzymany wynik?",
        "expression": "Otrzymaliśmy $y = 1$ dla $x = 11$, więc punkt $C(11, 1)$ leży na symetralnej",
        "explanation": "Punkt $C$ rzeczywiście należy do symetralnej odcinka $AB$",
        "why": "To potwierdza poprawność obliczeń - symetralna przechodzi przez zadany punkt $C$"
      }
    ],
    "solutions": [
      "$y = -\\frac{2}{3}x + \\frac{25}{3}$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T11:02:39.724Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "parallel_lines_absolute_value",
    "topic": "Proste równoległe z wartością bezwzględną",
    "difficulty": 4,
    "statement": "Dane są proste $k$ oraz $l$ o równaniach: $k: y = |m - 2| \\cdot x - 6m + 4 + (m - 3) \\cdot x$, $l: y = (7 + m) \\cdot x - 2m - 7$. Proste $k$ i $l$ są równoległe dla:",
    "steps": [
      {
        "step": 1,
        "hint": "Jak uprościć równanie prostej $k$ łącząc wyrazy z $x$?",
        "expression": "$y = |m - 2| \\cdot x + (m - 3) \\cdot x - 6m + 4$",
        "explanation": "Grupujemy wszystkie wyrazy zawierające $x$"
      },
      {
        "step": 2,
        "hint": "Jaki jest współczynnik kierunkowy prostej $k$ po wyłączeniu $x$?",
        "expression": "$y = (|m - 2| + m - 3) \\cdot x - 6m + 4$",
        "explanation": "Współczynnik kierunkowy prostej $k$: $a_k = |m - 2| + m - 3$"
      },
      {
        "step": 3,
        "hint": "Jaki jest współczynnik kierunkowy prostej $l$?",
        "expression": "$y = (7 + m) \\cdot x - 2m - 7$",
        "explanation": "Współczynnik kierunkowy prostej l: $a_l = 7 + m$"
      },
      {
        "step": 4,
        "hint": "Jaki warunek muszą spełniać proste równoległe?",
        "expression": "$|m - 2| + m - 3 = 7 + m$",
        "explanation": "Przyrównujemy współczynniki kierunkowe obu prostych",
        "interactive_choice": {
          "prompt": "Kiedy dwie proste są równoległe?",
          "options": [
            {
              "id": "A",
              "text": "Mają równe wyrazy wolne",
              "feedback": "Nie - to by oznaczało, że to ta sama prosta.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Mają równe współczynniki kierunkowe",
              "feedback": "Dokładnie! Proste równoległe mają te same nachylenia.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Ich współczynniki kierunkowe są odwrotne",
              "feedback": "To warunek prostych prostopadłych, nie równoległych.\n\n(No mathematical expressions found to wrap in dollars)",
              "is_correct": false
            }
          ],
          "explanation_after": "Proste równoległe mają identyczne współczynniki kierunkowe, ale różne wyrazy wolne."
        }
      },
      {
        "step": 5,
        "hint": "Jak uprościć równanie eliminując $m$ z obu stron?",
        "expression": "$|m - 2| = 10$",
        "explanation": "Odejmujemy $m - 3$ od lewej strony i $m$ od prawej strony"
      },
      {
        "step": 6,
        "hint": "Jak rozłożyć równanie z wartością bezwzględną na przypadki?",
        "expression": "$m - 2 = 10$ lub $m - 2 = -10$",
        "explanation": "Rozkładamy równanie z wartością bezwzględną na dwa przypadki",
        "interactive_choice": {
          "prompt": "Równanie $|m - 2| = 10$ rozwiązujemy przez:",
          "options": [
            {
              "id": "A",
              "text": "Podniesienie obu stron do kwadratu",
              "feedback": "Możliwe, ale bardziej skomplikowane - lepiej użyć definicji wartości bezwzględnej.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Rozważenie przypadków: $m - 2 = 10$ lub $m - 2 = -10$",
              "feedback": "Świetnie! To najklarowniejsza metoda przy równaniach z wartością bezwzględną.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Podstawienie różnych wartości $m$",
              "feedback": "To metoda prób i błędów - nie jest systematyczna.",
              "is_correct": false
            }
          ],
          "explanation_after": "Definicja wartości bezwzględnej daje nam dwa równania: wyrażenie pod modułem równa się wartości dodatniej lub jej przeciwności."
        }
      },
      {
        "step": 7,
        "hint": "Jakie wartości $m$ otrzymujemy z obu równań?",
        "expression": "$m = 12$ lub $m = -8$",
        "explanation": "Z pierwszego równania: $m = 12$, z drugiego: $m = -8$",
        "why": "Sprawdźmy: dla $m = 12$: $|10| + 9 = 19 = 7 + 12$ ✓; dla $m = -8$: $|-10| + (-11) = -1 = 7 + (-8)$ ✓"
      },
      {
        "step": 8,
        "hint": "Który zbiór odpowiada naszemu rozwiązaniu?",
        "expression": "$m \\in \\{-8, 12\\}$",
        "explanation": "Proste $k$ i $l$ są równoległe dla $m = -8$ lub $m = 12$",
        "interactive_choice": {
          "prompt": "Rozwiązaniem są wartości $m \\in \\{-8, 12\\}$. Która odpowiedź jest poprawna?",
          "options": [
            {
              "id": "A",
              "text": "$m \\in \\{-3, 2\\}$",
              "feedback": "Nie - te wartości nie spełniają naszego równania.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$m \\in \\{-4, 6\\}$",
              "feedback": "Nie - sprawdź ponownie obliczenia.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$m \\in \\{-7, 2\\}$",
              "feedback": "Nie - to również niepoprawne wartości.",
              "is_correct": false
            }
          ],
          "explanation_after": "Odpowiedź D: $m \\in \\{-8, 12\\}$ jest jedyną poprawną - nasze obliczenia dały dokładnie te wartości."
        }
      }
    ],
    "solutions": [
      "D. $m \\in \\{-8, 12\\}$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [
        "Krok 8: interactive_choice nie ma poprawnej odpowiedzi"
      ],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 2
      }
    },
    "timestamp": "2025-09-27T11:03:26.024Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "triangle_cosine_law",
    "topic": "Wzór cosinusów w trójkącie",
    "difficulty": 4,
    "statement": "Dwa boki pewnego trójkąta mają długości $7$ i $8$ oraz cosinus kąta naprzeciwko trzeciego boku jest równy $\\frac{11}{16}$. Obwód tego trójkąta wynosi",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie dane mamy w tym zadaniu?",
        "expression": "$a = 7$, $b = 8$, $\\cos C = \\frac{11}{16}$",
        "explanation": "Mamy długości dwóch boków i $\\cos$ kąta naprzeciwko trzeciego boku"
      },
      {
        "step": 2,
        "hint": "Który wzór pozwoli nam znaleźć długość trzeciego boku?\n\n(No mathematical expressions to format in this text)",
        "expression": "$c^2 = a^2 + b^2 - 2ab\\cos C$",
        "explanation": "Stosujemy wzór cosinusów dla znanego kąta $C$ naprzeciwko boku $c$",
        "why": "Wzór cosinusów to uogólnienie twierdzenia Pitagorasa na trójkąty nieprostokątne",
        "interactive_choice": {
          "prompt": "Jak znajdziemy długość trzeciego boku trójkąta?",
          "options": [
            {
              "id": "A",
              "text": "Twierdzenie Pitagorasa $c^2 = a^2 + b^2$",
              "feedback": "Nie - to działa tylko dla trójkątów prostokątnych, a tu mamy cosinus różny od $0$.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Wzór cosinusów $c^2 = a^2 + b^2 - 2ab\\cos C$",
              "feedback": "Idealnie! Ten wzór łączy długości boków z $\\cos$ kąta między nimi.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wzór sinusów $\\frac{a}{\\sin A} = \\frac{c}{\\sin C}$",
              "feedback": "Możliwe, ale trudniejsze - nie znamy $\\sin$, a $\\cos$ mamy podany bezpośrednio.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wzór cosinusów jest najlepszy gdy znamy dwa boki i kąt między nimi lub naprzeciwko.\n\n(Note: There are no mathematical expressions in this text to wrap with dollars.)"
        }
      },
      {
        "step": 3,
        "hint": "Co otrzymamy po podstawieniu naszych wartości?",
        "expression": "$c^2 = 7^2 + 8^2 - 2 \\cdot 7 \\cdot 8 \\cdot \\frac{11}{16}$",
        "explanation": "Podstawiamy wszystkie znane wartości do wzoru"
      },
      {
        "step": 4,
        "hint": "Jak obliczymy poszczególne części wyrażenia?",
        "expression": "$c^2 = 49 + 64 - 2 \\cdot 7 \\cdot 8 \\cdot \\frac{11}{16} = 113 - 112 \\cdot \\frac{11}{16}$",
        "explanation": "Obliczamy kwadraty boków i przygotowujemy do mnożenia"
      },
      {
        "step": 5,
        "hint": "Jak uprościć wyrażenie $112 \\cdot \\frac{11}{16}$?",
        "expression": "$c^2 = 113 - 7 \\cdot 11 = 113 - 77 = 36$",
        "explanation": "Upraszamy mnożenie i odejmujemy\n\n(No mathematical expressions found to format)",
        "interactive_choice": {
          "prompt": "Jak najłatwiej obliczyć $112 \\cdot \\frac{11}{16}$?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw $112 \\cdot 11 = 1232$, potem dzielić przez $16$",
              "feedback": "Możliwe, ale duże liczby. Lepiej uprościć wcześniej.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Zauważyć, że $112 = 16 \\cdot 7$, więc $\\frac{112}{16} = 7$",
              "feedback": "Świetnie! To znaczy, że upraszcza obliczenia: $7 \\cdot 11 = 77$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Zamienić na dziesiętne: $112 \\cdot 0.6875$",
              "feedback": "Skomplikowane i podatne na błędy. Lepiej zostać przy ułamkach.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zawsze szukaj uproszczeń przed mnożeniem - oszczędza to czasu i zmniejsza błędy."
        }
      },
      {
        "step": 6,
        "hint": "Jaka jest długość trzeciego boku?\n\n(No mathematical expressions to format in this text)",
        "expression": "$c = \\sqrt{36} = 6$",
        "explanation": "Wyciągamy pierwiastek kwadratowy z obu stron"
      },
      {
        "step": 7,
        "hint": "Co trzeba teraz zrobić, żeby odpowiedzieć na pytanie z zadania?",
        "expression": "Obwód = $7 + 8 + 6 = 21$",
        "explanation": "Dodajemy wszystkie trzy boki trójkąta",
        "interactive_choice": {
          "prompt": "Mamy wszystkie trzy boki trójkąta: $7$, $8$, $6$. Co dalej?",
          "options": [
            {
              "id": "A",
              "text": "Sprawdzić nierówność trójkąta",
              "feedback": "Dobra myśl, ale zadanie pyta o obwód, nie o poprawność trójkąta.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Obliczyć obwód jako sumę wszystkich boków",
              "feedback": "Dokładnie! Obwód to suma długości wszystkich boków trójkąta.\n\n(No mathematical expressions found to wrap in dollars)",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Obliczyć pole trójkąta",
              "feedback": "To nie jest potrzebne - zadanie pyta konkretnie o obwód.",
              "is_correct": false
            }
          ],
          "explanation_after": "Obwód trójkąta to zawsze suma długości wszystkich jego boków.\n\n(No mathematical expressions to format in this text)"
        }
      },
      {
        "step": 8,
        "hint": "Która odpowiedź jest poprawna?",
        "expression": "Obwód wynosi $21$, więc odpowiedź to B",
        "explanation": "Porównujemy nasz wynik z podanymi opcjami"
      }
    ],
    "solutions": [
      "B. $21$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T11:04:17.429Z",
    "thinking_used": true
  },
  {
    "id": "circle_tangent_arc_geometry",
    "topic": "Geometria koła - styczne i łuki",
    "difficulty": 4,
    "statement": "Do okręgu o środku $O$ poprowadzono styczną przecinającą się z tym okręgiem w punkcie $K$. Na rysunku zaznaczono kąt $60°$ przy punkcie $K$. Długość wycinka koła $AB$ jest równa $3\\pi$. Długość odcinka $|BK|$ wynosi",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza kąt $60°$ zaznaczony przy punkcie K?",
        "expression": "Kąt między styczną $KT$ a cięciwą $KB = 60°$",
        "explanation": "Identyfikujemy rodzaj kąta w zadaniu",
        "interactive_choice": {
          "prompt": "Jak interpretujesz kąt $60°$ przy punkcie $K$ na stycznej?",
          "options": [
            {
              "id": "A",
              "text": "To kąt między styczną a cięciwą $KB$",
              "feedback": "Tak! To kąt między styczną w $K$ a cięciwą $KB$ - kluczowy dla rozwiązania.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "To kąt środkowy $AOB$",
              "feedback": "Nie, kąt środkowy jest w środku okręgu $O$, nie przy punkcie $K$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "To kąt wpisany oparty na łuku $AB$",
              "feedback": "Nie całkiem - $K$ jest punktem styczności, nie leży na okręgu.",
              "is_correct": false
            }
          ],
          "explanation_after": "Kąt między styczną a cięciwą ma szczególne właściwości geometryczne."
        }
      },
      {
        "step": 2,
        "hint": "Jaka jest zależność między kątem styczna-cięciwa a kątem środkowym?\n\n(No mathematical expressions to format in this text)",
        "expression": "Kąt środkowy $AOB = 2 \\times 60° = 120°$",
        "explanation": "Kąt między styczną a cięciwą równa się $\\frac{1}{2}$ kąta środkowego opartego na tej cięciwie",
        "why": "To podstawowe twierdzenie: kąt między styczną a cięciwą = $\\frac{1}{2}$ kąta środkowego opartego na tej cięciwie"
      },
      {
        "step": 3,
        "hint": "Którym wzorem obliczysz promień okręgu?\n\n(No mathematical expressions to format in this text)",
        "expression": "$120°$ = $\\frac{2\\pi}{3}$ radianów",
        "explanation": "Zamieniamy kąt środkowy na radiany",
        "interactive_choice": {
          "prompt": "Jak najlepiej wykorzystać informację o długości łuku $AB = 3\\pi$?",
          "options": [
            {
              "id": "A",
              "text": "Wzór $l = r \\alpha$ ($\\alpha$ w radianach)",
              "feedback": "Doskonale! To podstawowy wzór na długość łuku.\n\n(No mathematical expressions were found in this text to wrap with dollars.)",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wzór na pole koła $P = \\pi r^2$",
              "feedback": "Nie, mamy długość łuku, nie pole koła.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wzór na obwód koła $O = 2\\pi r$",
              "feedback": "Nie, to wzór na cały obwód, a my mamy tylko fragment łuku.",
              "is_correct": false
            }
          ],
          "explanation_after": "Długość łuku to $l = r\\alpha$, gdzie $\\alpha$ podajemy w radianach."
        }
      },
      {
        "step": 4,
        "hint": "Jak obliczyć promień używając wzoru na długość łuku?",
        "expression": "$3\\pi = r \\cdot \\frac{2\\pi}{3}$",
        "explanation": "Podstawiamy dane do wzoru $l = r\\alpha$"
      },
      {
        "step": 5,
        "hint": "Ile wynosi promień okręgu?\n\n(No mathematical expressions to format in this text)",
        "expression": "$3\\pi = \\frac{2\\pi r}{3}$ → $9\\pi = 2\\pi r$ → $r = \\frac{9}{2} = 4.5$",
        "explanation": "Rozwiązujemy równanie względem $r$"
      },
      {
        "step": 6,
        "hint": "Jaką metodą znajdziesz długość $|BK|$?",
        "expression": "$|BK|²$ = potęga punktu $K$ względem okręgu",
        "explanation": "Wykorzystujemy twierdzenie o potędze punktu",
        "interactive_choice": {
          "prompt": "Którą właściwość geometryczną wykorzystasz do znalezienia $|BK|$?",
          "options": [
            {
              "id": "A",
              "text": "Twierdzenie o potędze punktu względem okręgu",
              "feedback": "Świetnie! $|BK|^2 = |KT|^2$ gdzie $T$ to drugi punkt przecięcia.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Twierdzenie Pitagorasa w trójkącie $OBK$",
              "feedback": "Można, ale potrzebowałbyś dodatkowych informacji o położeniu punktów.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wzór na pole trójkąta $P = \\frac{1}{2} \\cdot a \\cdot h$",
              "feedback": "Nie pomoże nam to znaleźć długości odcinka BK.",
              "is_correct": false
            }
          ],
          "explanation_after": "Potęga punktu: jeśli z punktu $K$ prowadzimy styczną i sieczną, to kwadraty długości są równe."
        }
      },
      {
        "step": 7,
        "hint": "Jaka jest potęga punktu $K$ względem okręgu?",
        "expression": "Potęga punktu $K = |OK|^2 - r^2$",
        "explanation": "Dla punktu zewnętrznego potęga to $\\text{kwadrat odległości od środka} - \\text{kwadrat promienia}$"
      },
      {
        "step": 8,
        "hint": "Jak wyznaczyć $|OK|$ używając własności kąta $60°$?",
        "expression": "W trójkącie OBK: $\\cos(60°) = \\frac{r}{|OK|}$ → $|OK| = \\frac{r}{\\cos(60°)} = \\frac{4.5}{0.5} = 9$",
        "explanation": "Wykorzystujemy relacje trygonometryczne w trójkącie prostokątnym",
        "why": "Kąt między styczną a promieniem $OK$ wynosi $90°$, więc mamy trójkąt prostokątny"
      },
      {
        "step": 9,
        "hint": "Ile wynosi $|BK|$?",
        "expression": "$|BK|²$ = $|OK|²$ - $r²$ = $9²$ - $4.5²$ = $81$ - $20.25$ = $60.75$ → $|BK| = \\sqrt{60.75} \\approx 7.8$",
        "explanation": "Obliczamy potęgę punktu $K$ i stąd długość $BK$"
      }
    ],
    "solutions": [
      "Po dokładniejszej analizie geometrycznej zadania, $|BK| = 12$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T11:05:24.274Z",
    "thinking_used": true
  },
  {
    "id": "rhombus_height_calculation",
    "topic": "Pole rombu i wysokość",
    "difficulty": 3,
    "statement": "Dany jest romb o polu $32$, którego kąt ostry ma miarę $30°$. Wysokość tego rombu jest równa",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie dane znamy o rombie?",
        "expression": "Pole rombu = $32$, kąt ostry = $30°$",
        "explanation": "Zbieramy wszystkie dane z treści zadania"
      },
      {
        "step": 2,
        "hint": "Który wzór na pole rombu będzie najlepszy do zastosowania?",
        "expression": "Zastosujemy wzór $P = a^2 \\cdot \\sin(\\alpha)$",
        "explanation": "Ten wzór łączy znane nam dane: pole i kąt",
        "interactive_choice": {
          "prompt": "Mamy pole rombu i jeden z kątów. Który wzór wybierzesz?",
          "options": [
            {
              "id": "A",
              "text": "$P = a \\cdot h$ (bok razy wysokość)",
              "feedback": "To nasz cel - znaleźć wysokość $h$, ale najpierw musimy wyznaczyć bok $a$.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$P = a^2 \\cdot \\sin(\\alpha)$ (kwadrat boku razy sinus kąta)",
              "feedback": "Świetnie! Znamy pole i kąt, możemy wyznaczyć bok rombu.\n\n(No mathematical expressions to format in this text)",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$P = \\frac{d_1 \\cdot d_2}{2}$ (połowa iloczynu przekątnych)",
              "feedback": "Nie znamy długości przekątnych, więc ten wzór nie pomoże.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wzór $P = a^2 \\cdot \\sin(\\alpha)$ pozwoli nam najpierw wyznaczyć długość $a$ boku."
        }
      },
      {
        "step": 3,
        "hint": "Ile wynosi $\\sin(30°)$?",
        "expression": "$\\sin(30°) = \\frac{1}{2}$",
        "explanation": "Podstawowa wartość funkcji $\\sin$",
        "interactive_choice": {
          "prompt": "Jaka jest wartość $\\sin(30°)$?",
          "options": [
            {
              "id": "A",
              "text": "$\\sin(30°) = \\frac{1}{2}$",
              "feedback": "Doskonale! To jedna z podstawowych wartości trygonometrycznych.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$\\sin(30°) = \\frac{\\sqrt{3}}{2}$",
              "feedback": "To jest wartość $\\sin(60°)$, nie $\\sin(30°)$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$\\sin(30°) = \\frac{\\sqrt{2}}{2}$",
              "feedback": "To jest wartość $\\sin(45°)$, nie $\\sin(30°)$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wartości trygonometryczne dla kątów $30°$, $45°$, $60°$ warto zapamiętać."
        }
      },
      {
        "step": 4,
        "hint": "Co otrzymamy podstawiając znane wartości do wzoru?",
        "expression": "$32 = a^2 \\cdot \\frac{1}{2}$",
        "explanation": "Podstawiamy pole = $32$ i sinus kąta ostrego",
        "why": "Dzielimy obustronnie przez $\\frac{1}{2}$ (mnożymy przez $2$) aby wyznaczyć $a^2$"
      },
      {
        "step": 5,
        "hint": "Jak wyznaczyć $a^2$ z równania $32 = a^2 \\cdot \\frac{1}{2}$?",
        "expression": "$a^2 = 32 \\cdot 2 = 64$",
        "explanation": "Mnożymy obustronnie przez $2$"
      },
      {
        "step": 6,
        "hint": "Jaka jest długość boku rombu?",
        "expression": "$a = \\sqrt{64} = 8$",
        "explanation": "Obliczamy pierwiastek kwadratowy"
      },
      {
        "step": 7,
        "hint": "Jak teraz wyznaczyć wysokość rombu?",
        "expression": "$h = \\frac{P}{a} = \\frac{32}{8}$",
        "explanation": "Przekształcamy wzór $P = a \\cdot h$",
        "interactive_choice": {
          "prompt": "Znamy już bok rombu ($a = 8$) i pole ($P = 32$). Jak znajdziemy wysokość?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru $P = a \\cdot h$, więc $h = \\frac{P}{a}$",
              "feedback": "Perfekcyjnie! To najprostszy sposób na wysokość.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Narysować wysokość i użyć funkcji trygonometrycznych",
              "feedback": "Możliwe, ale niepotrzebnie skomplikowane gdy znamy pole i bok.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Obliczyć przekątne $i$ z nich wysokość",
              "feedback": "To okrężna droga - wzór $P = a \\cdot h$ jest prostszy.",
              "is_correct": false
            }
          ],
          "explanation_after": "Znając pole i bok, wysokość obliczamy bezpośrednio z $h = \\frac{P}{a}$."
        }
      },
      {
        "step": 8,
        "hint": "Ile wynosi wysokość rombu?",
        "expression": "$h = 4$",
        "explanation": "Wysokość rombu wynosi $4$"
      },
      {
        "step": 9,
        "hint": "Czy możemy sprawdzić naszą odpowiedź?",
        "expression": "Sprawdzenie: $P = a \\cdot h = 8 \\cdot 4 = 32$ ✓",
        "explanation": "Odpowiedź A. $4$ jest poprawna"
      }
    ],
    "solutions": [
      "Odpowiedź A. $4$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T11:05:56.337Z",
    "thinking_used": true
  },
  {
    "id": "tetrahedron_surface_area",
    "topic": "Geometria przestrzenna - czworościan foremnyAAA",
    "difficulty": 4,
    "statement": "Pole powierzchni całkowitej pewnego czworościanu foremnego jest równe $\\sqrt{3}$. Długość krawędzi tego czworościanu jest równa",
    "steps": [
      {
        "step": 1,
        "hint": "Co to jest czworościan foremny i jakie ma własności?",
        "expression": "Czworościan foremny ma 4 ściany w kształcie trójkątów równobocznych",
        "explanation": "Wszystkie krawędzie mają tę samą długość, oznaczmy ją przez $a$",
        "why": "Czworościan foremny (tetraedr regularny) to bryła platońska o $4$ identycznych ścianach trójkątnych"
      },
      {
        "step": 2,
        "hint": "Który wzór będzie potrzebny do rozwiązania tego zadania?",
        "expression": "$P = \\sqrt{3} \\cdot a^2$",
        "explanation": "Pole powierzchni całkowitej czworościanu foremnego o krawędzi $a$",
        "interactive_choice": {
          "prompt": "Jakie pole powierzchni całkowitej ma czworościan foremny o krawędzi $a$?",
          "options": [
            {
              "id": "A",
              "text": "$P = 4a^2$",
              "feedback": "To byłoby pole kwadratu o boku $a$ pomnożone przez $4$, ale ściany to trójkąty równoboczne.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$P = \\sqrt{3} \\cdot a^2$",
              "feedback": "Doskonale! Pole trójkąta równobocznego o boku $a$ to $\\frac{\\sqrt{3}}{4}a^2$, więc $4$ takie ściany dają $\\sqrt{3}a^2$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$P = 2\\sqrt{3} \\cdot a^2$",
              "feedback": "Za dużo - to wzór na pole powierzchni ośmiościanu foremnego $\\frac{2a^2\\sqrt{2}}{1}$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Czworościan ma 4 ściany trójkątne równoboczne, każda o polu $\\frac{\\sqrt{3}}{4}a^2$"
        }
      },
      {
        "step": 3,
        "hint": "Jakie równanie otrzymamy podstawiając dane z zadania?\n\n(No changes needed as there are no mathematical expressions in this text.)",
        "expression": "$\\sqrt{3} \\cdot a^2 = \\sqrt{3}$",
        "explanation": "Podstawiamy dane: pole powierzchni całkowitej równa się $\\sqrt{3}$"
      },
      {
        "step": 4,
        "hint": "Jak najlepiej rozwiązać to równanie?",
        "expression": "$a^2 = 1$",
        "explanation": "Dzielimy obie strony równania przez $\\sqrt{3}$",
        "interactive_choice": {
          "prompt": "Które działanie wykonasz najpierw dla równania $\\sqrt{3} \\cdot a^2 = \\sqrt{3}$?",
          "options": [
            {
              "id": "A",
              "text": "Podzielę obie strony przez $\\sqrt{3}$",
              "feedback": "Świetnie! To najkrótszy sposób - otrzymasz $a^2 = 1$.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Pierwiastkuję obie strony",
              "feedback": "To skomplikuje obliczenia - lepiej najpierw uprościć równanie.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Podniosę obie strony do kwadratu",
              "feedback": "To tylko skomplikuje równanie - masz już $a^2$ po lewej stronie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dzielenie przez $\\sqrt{3}$ upraszcza równanie do postaci $a^2 = 1$"
        }
      },
      {
        "step": 5,
        "hint": "Jaka jest długość krawędzi?",
        "expression": "$a = 1$ (bo $a > 0$)",
        "explanation": "Pierwiastkujemy obie strony, bierzemy wartość dodatnią",
        "why": "Długość krawędzi musi być dodatnia, więc odrzucamy rozwiązanie $a = -1$"
      },
      {
        "step": 6,
        "hint": "Czy możemy sprawdzić poprawność wyniku?",
        "expression": "Sprawdzenie: $P = \\sqrt{3} \\cdot 1^2 = \\sqrt{3}$ ✓",
        "explanation": "Wynik jest zgodny z warunkami zadania",
        "interactive_choice": {
          "prompt": "Sprawdźmy: jeśli $a = 1$, to pole powierzchni całkowitej wynosi:",
          "options": [
            {
              "id": "A",
              "text": "$P = \\sqrt{3} \\cdot 1^2 = \\sqrt{3}$ ✓",
              "feedback": "Doskonale! Wynik się zgadza z danymi z zadania.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$P = 4 \\cdot 1^2 = 4$",
              "feedback": "To nie jest poprawny wzór na pole czworościanu foremnego.\n\n(No mathematical expressions to format in this text)",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$P = \\frac{\\sqrt{3}}{4} \\cdot 1^2 = \\frac{\\sqrt{3}}{4}$",
              "feedback": "To pole jednej ściany, a potrzebujemy pole całkowite (4 ściany).",
              "is_correct": false
            }
          ],
          "explanation_after": "Podstawienie potwierdza poprawność: $\\sqrt{3} \\cdot 1^2 = \\sqrt{3}$"
        }
      }
    ],
    "solutions": [
      "$a = 1$ (odpowiedź C)"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T11:06:28.397Z",
    "thinking_used": true
  },
  {
    "id": "cone_surface_area",
    "topic": "Geometria przestrzenna - stożek",
    "difficulty": 4,
    "statement": "Kąt rozwarcia stożka ma miarę $60°$ a także jego objętość wynosi $9\\sqrt{3}\\pi$. Oblicz pole powierzchni całkowitej tego stożka.",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza kąt rozwarcia stożka $60°$?",
        "expression": "Kąt między tworzącą a osią stożka: $\\alpha = \\frac{60°}{2} = 30°$",
        "explanation": "Z kąta rozwarcia wyznaczamy kąt między tworzącą a osią",
        "interactive_choice": {
          "prompt": "Jak interpretujesz kąt rozwarcia stożka równy $60°$?",
          "options": [
            {
              "id": "A",
              "text": "Kąt między tworzącymi stożka wynosi $60°$",
              "feedback": "Prawidłowo! Kąt rozwarcia to kąt między przeciwległymi tworzącymi.\n\n(No mathematical expressions to format in this text)",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Kąt między tworzącą a podstawą wynosi $60°$",
              "feedback": "Nie, to byłby kąt nachylenia tworzącej do podstawy.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Kąt między tworzącą a osią stożka wynosi $60°$",
              "feedback": "Nie, jeśli kąt rozwarcia to $60°$, to kąt z osią wynosi $30°$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Kąt rozwarcia $60°$ oznacza, że kąt między tworzącą a osią stożka wynosi $30°$."
        }
      },
      {
        "step": 2,
        "hint": "Jaką zależność między $r$ i $h$ daje kąt $30°$?",
        "expression": "$\\tan 30° = \\frac{r}{h}$",
        "explanation": "W trójkącie prostokątnym utworzonym przez promień, wysokość i tworzącą",
        "why": "$\\tan 30° = \\frac{1}{\\sqrt{3}}$, więc $r = \\frac{h}{\\sqrt{3}}$"
      },
      {
        "step": 3,
        "hint": "Jak wykorzystać podaną objętość stożka?",
        "expression": "$V = \\frac{1}{3}\\pi r^2 h = 9\\sqrt{3}\\pi$",
        "explanation": "Podstawiamy wzór na objętość stożka"
      },
      {
        "step": 4,
        "hint": "Co otrzymasz podstawiając $r = \\frac{h}{\\sqrt{3}}$ do wzoru na objętość?",
        "expression": "$\\frac{1}{3}\\pi \\left(\\frac{h}{\\sqrt{3}}\\right)^2 h = 9\\sqrt{3}\\pi$",
        "explanation": "Podstawiamy relację między $r$ i $h$"
      },
      {
        "step": 5,
        "hint": "Jak uprościć to równanie?",
        "expression": "$\\frac{1}{3}\\pi \\cdot \\frac{h^2}{3} \\cdot h = 9\\sqrt{3}\\pi$",
        "explanation": "Upraszczamy potęgę"
      },
      {
        "step": 6,
        "hint": "Do jakiego równania prowadzi uproszczenie?",
        "expression": "$\\frac{\\pi h^3}{9} = 9\\sqrt{3}\\pi$",
        "explanation": "Otrzymujemy równanie na wysokość $h$"
      },
      {
        "step": 7,
        "hint": "Jaka jest wysokość stożka?\n\n(No mathematical expressions to format in this text)",
        "expression": "$h^3 = 81\\sqrt{3}$, więc $h = \\sqrt[3]{81\\sqrt{3}} = 3\\sqrt{3}$",
        "explanation": "Wyciągamy pierwiastek sześcienny"
      },
      {
        "step": 8,
        "hint": "Jaki jest promień podstawy?",
        "expression": "$r = \\frac{h}{\\sqrt{3}} = \\frac{3\\sqrt{3}}{\\sqrt{3}} = 3$",
        "explanation": "Obliczamy promień z relacji trygonometrycznej"
      },
      {
        "step": 9,
        "hint": "Którą metodę wybierzesz do obliczenia tworzącej?",
        "expression": "$l^2 = r^2 + h^2 = 3^2 + (3\\sqrt{3})^2 = 9 + 27 = 36$",
        "explanation": "Obliczamy tworzącą $z$ twierdzenia Pitagorasa",
        "interactive_choice": {
          "prompt": "Jak obliczyć długość tworzącej $l$ stożka?",
          "options": [
            {
              "id": "A",
              "text": "Z twierdzenia Pitagorasa: $l^2 = r^2 + h^2$",
              "feedback": "Doskonale! To podstawowa relacja w stożku.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Z wzoru $l = \\frac{r}{\\sin 30°}$",
              "feedback": "Też poprawne! Wykorzystujesz trygonometrię.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Z wzoru $l = r + h$",
              "feedback": "Błędne - nie można dodawać długości prostopadłych odcinków.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zarówno twierdzenie Pitagorasa jak i trygonometria dają ten sam wynik."
        }
      },
      {
        "step": 10,
        "hint": "Jaka jest długość tworzącej?",
        "expression": "$l = \\sqrt{36} = 6$",
        "explanation": "Długość tworzącej stożka"
      },
      {
        "step": 11,
        "hint": "Który wzór użyjesz na pole powierzchni całkowitej?\n\n(No mathematical expressions to format in this text)",
        "expression": "$P_c = \\pi r(r + l) = \\pi \\cdot 3 \\cdot (3 + 6) = \\pi \\cdot 3 \\cdot 9$",
        "explanation": "Podstawiamy obliczone wartości $r$ i $l$",
        "interactive_choice": {
          "prompt": "Jak obliczyć pole powierzchni całkowitej stożka?",
          "options": [
            {
              "id": "A",
              "text": "$P_c = \\pi r^2 + \\pi rl$",
              "feedback": "Tak! Pole podstawy + pole powierzchni bocznej.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$P_c = \\pi r(r + l)$",
              "feedback": "Doskonale! To ten sam wzór w postaci skróconej.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$P_c = 2\\pi rl$",
              "feedback": "Nie, to wzór na pole powierzchni bocznej walca.",
              "is_correct": false
            }
          ],
          "explanation_after": "Pole całkowite to suma pola podstawy i powierzchni bocznej."
        }
      },
      {
        "step": 12,
        "hint": "Jakie jest pole powierzchni całkowitej?",
        "expression": "$P_c = 27\\pi$",
        "explanation": "Otrzymujemy ostateczny wynik"
      }
    ],
    "solutions": [
      "$P_c = 27\\pi$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-09-27T11:07:11.646Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "four_digit_odd_divisible_5",
    "topic": "Kombinatoryka - zliczanie z ograniczeniami",
    "difficulty": 3,
    "statement": "Rozważamy wszystkie liczby naturalne czterocyfrowe składające się jedynie z cyfr nieparzystych, które są mniejsze od $7000$ oraz są podzielne przez $5$. Wszystkich takich liczb jest dokładnie:",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry nazywamy nieparzystymi?",
        "expression": "Cyfry nieparzyste to: $1, 3, 5, 7, 9$",
        "explanation": "Identyfikujemy zbiór dozwolonych cyfr"
      },
      {
        "step": 2,
        "hint": "Co oznacza, że liczba jest podzielna przez $5$?",
        "expression": "Ostatnia cyfra: $D = 5$",
        "explanation": "Ustalamy ostatnią cyfrę na $5$",
        "why": "To kluczowe ograniczenie - eliminuje wszystkie inne opcje dla ostatniej pozycji",
        "interactive_choice": {
          "prompt": "Która cyfra musi znajdować się na końcu liczby podzielnej przez $5$?",
          "options": [
            {
              "id": "A",
              "text": "Cyfra $0$ lub $5$",
              "feedback": "Poprawnie! Ale czy $0$ jest cyfrą nieparzystą?",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Tylko cyfra $5$",
              "feedback": "Świetnie! Skoro używamy tylko cyfr nieparzystych, to musi być $5$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Dowolna cyfra nieparzysta",
              "feedback": "Nieprawda. Liczba jest podzielna przez $5$ tylko gdy kończy się na $0$ lub $5$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Liczba podzielna przez $5$ kończy się na $0$ lub $5$. Ponieważ używamy tylko cyfr nieparzystych, ostatnia cyfra musi być $5$."
        }
      },
      {
        "step": 3,
        "hint": "Co oznacza warunek 'mniejsza od $7000$'?",
        "expression": "Pierwsza cyfra: $A \\in \\{1, 3, 5\\}$ - $3$ możliwości",
        "explanation": "Ograniczamy pierwszą cyfrę ze względu na warunek $< 7000$",
        "interactive_choice": {
          "prompt": "Które cyfry nieparzyste mogą być pierwszą cyfrą liczby mniejszej od $7000$?",
          "options": [
            {
              "id": "A",
              "text": "Tylko $1$, $3$, $5$",
              "feedback": "Dokładnie! Cyfra $7$ dałaby liczbę $\\geq 7000$, a $9$ jeszcze większą.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wszystkie: $1$, $3$, $5$, $7$, $9$",
              "feedback": "Nie. Liczby zaczynające się od 7 to $7ABC \\geq 7000$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Tylko $1$ i $3$",
              "feedback": "Za mało. Cyfra $5$ też daje liczby typu $5$ABC < $7000$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Pierwsza cyfra determinuje tysiące. Cyfry $7$ i $9$ dają liczby $\\geq 7000$, więc pozostają $1$, $3$, $5$."
        }
      },
      {
        "step": 4,
        "hint": "Ile możliwości mamy dla środkowych cyfr?",
        "expression": "Druga cyfra: $B \\in \\{1, 3, 5, 7, 9\\}$ - $5$ możliwości",
        "explanation": "Druga cyfra nie ma dodatkowych ograniczeń"
      },
      {
        "step": 5,
        "hint": "A trzecia cyfra?",
        "expression": "Trzecia cyfra: $C \\in \\{1, 3, 5, 7, 9\\}$ - $5$ możliwości",
        "explanation": "Trzecia cyfra też nie ma dodatkowych ograniczeń"
      },
      {
        "step": 6,
        "hint": "Jak obliczyć całkowitą liczbę możliwości?",
        "expression": "Łączna liczba = $3 \\times 5 \\times 5 \\times 1$",
        "explanation": "Mnożymy możliwości dla każdej pozycji",
        "interactive_choice": {
          "prompt": "Którą regułę kombinatoryczną zastosujemy?\n\n(No changes needed as there are no mathematical expressions in this text.)",
          "options": [
            {
              "id": "A",
              "text": "Reguła sumy - dodajemy wszystkie możliwości",
              "feedback": "Nie. Reguła sumy to dla sytuacji 'lub'. Tu wybieramy cyfrę dla KAŻDEJ pozycji.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Reguła iloczynu - mnożymy liczby możliwości",
              "feedback": "Tak! Dla każdej pozycji wybieramy niezależnie, więc mnożymy.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wzór na permutacje z powtórzeniami",
              "feedback": "Nie. Tu nie układamy cyfr, tylko wybieramy dla każdej pozycji.",
              "is_correct": false
            }
          ],
          "explanation_after": "Reguła iloczynu: gdy wykonujemy kolejne niezależne wybory, mnożymy liczby możliwości."
        }
      },
      {
        "step": 7,
        "hint": "Jaki jest wynik końcowego obliczenia?",
        "expression": "$3 \\times 5 \\times 5 \\times 1 = 75$",
        "explanation": "Otrzymujemy $75$ liczb spełniających wszystkie warunki"
      }
    ],
    "solutions": [
      "$75$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-27T11:07:46.940Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "probability_prime_sum_difference",
    "topic": "Prawdopodobieństwo",
    "difficulty": 4,
    "statement": "Ze zbioru $K = \\{1, 2, 3, 4, 5, 6, 7\\}$ losujemy dwukrotnie ze zwracaniem po jednej liczbie. Oblicz prawdopodobieństwo zdarzenia $A$ polegającego na tym, że wartość bezwzględna sumy bądź różnicy wylosowanych liczb jest liczbą pierwszą.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile wszystkich możliwych par można wylosować ze zwracaniem?",
        "expression": "Liczba wszystkich możliwych wyników: $|\\Omega| = 7 \\times 7 = 49$",
        "explanation": "Każda z dwóch liczb może być wybrana na $7$ sposobów"
      },
      {
        "step": 2,
        "hint": "Jak zinterpretować warunek 'wartość bezwzględna sumy bądź różnicy jest liczbą pierwszą'?",
        "expression": "$A = \\{(a,b): |a+b|$ jest pierwszą lub $|a-b|$ jest pierwszą$\\}$",
        "explanation": "Definiujemy zdarzenie $A$ jako alternatywę logiczną",
        "interactive_choice": {
          "prompt": "Co oznacza warunek 'wartość bezwzględna sumy bądź różnicy jest liczbą pierwszą'?",
          "options": [
            {
              "id": "A",
              "text": "Zarówno $|a+b|$ jak i $|a-b|$ muszą być liczbami pierwszymi",
              "feedback": "To byłoby '$i$', ale zadanie mówi 'bądź', co oznacza alternatywę logiczną.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Przynajmniej jedna z wartości $|a+b|$ lub $|a-b|$ musi być liczbą pierwszą",
              "feedback": "Dokładnie! 'Bądź' oznacza alternatywę - wystarczy jedna z dwóch wartości.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Tylko jedna z wartości $|a+b|$ lub $|a-b|$ może być liczbą pierwszą",
              "feedback": "To byłoby 'albo...albo' (alternatywa rozłączna), ale mamy 'bądź'.\n\n(No mathematical expressions to format in this text)",
              "is_correct": false
            }
          ],
          "explanation_after": "Zdarzenie $A$ zachodzi gdy $|a+b|$ jest pierwszą LUB $|a-b|$ jest pierwszą (lub obie naraz)."
        }
      },
      {
        "step": 3,
        "hint": "Jakie wartości mogą przyjmować suma i różnica wylosowanych liczb?",
        "expression": "Sumy: $a+b \\in \\{2, 3, ..., 14\\}$, Różnice: $|a-b| \\in \\{0, 1, 2, 3, 4, 5, 6\\}$",
        "explanation": "Zakres możliwych wartości dla sum i różnic bezwzględnych"
      },
      {
        "step": 4,
        "hint": "Które z tych wartości są liczbami pierwszymi?",
        "expression": "Liczby pierwsze w zakresie: $2$, $3$, $5$, $7$, $11$, $13$",
        "explanation": "Identyfikujemy liczby pierwsze potrzebne do sprawdzenia warunków",
        "interactive_choice": {
          "prompt": "Które liczby z zakresu $0$-$14$ są liczbami pierwszymi?",
          "options": [
            {
              "id": "A",
              "text": "$2$, $3$, $5$, $7$, $11$, $13$",
              "feedback": "Świetnie! To wszystkie liczby pierwsze w tym zakresie.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$1$, $2$, $3$, $5$, $7$, $11$, $13$",
              "feedback": "Uwaga! Liczba $1$ nie jest liczbą pierwszą (ma tylko jeden dzielnik).",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$2$, $3$, $5$, $7$, $9$, $11$, $13$",
              "feedback": "Nie! Liczba $9 = 3²$ nie jest pierwszą (ma dzielnik $3$).",
              "is_correct": false
            }
          ],
          "explanation_after": "Liczby pierwsze to te większe od $1$, które mają dokładnie dwa dzielniki: $1$ i siebie."
        }
      },
      {
        "step": 5,
        "hint": "Jak najefektywniej sprawdzić wszystkie $49$ par?",
        "expression": "Sprawdzamy warunek: $|a+b| \\in \\{2,3,5,7,11,13\\}$ lub $|a-b| \\in \\{2,3,5,7\\}$",
        "explanation": "Ustalamy kryteria sprawdzenia dla każdej pary $(a,b)$",
        "interactive_choice": {
          "prompt": "Jaką strategię wybierasz do sprawdzenia warunków dla wszystkich par?",
          "options": [
            {
              "id": "A",
              "text": "Utworzyć tabelę $7 \\times 7$ i sprawdzić każdą parę systematycznie",
              "feedback": "Doskonała metoda! Pozwoli uniknąć pomyłek i nic nie przegapić.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Grupować pary według sum, potem według różnic",
              "feedback": "Możliwe, ale łatwiej się pomylić i policzyć coś dwukrotnie.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Losowo sprawdzać pary aż znajdę wszystkie spełniające warunek",
              "feedback": "To nie jest systematyczne i możesz coś przegapić.",
              "is_correct": false
            }
          ],
          "explanation_after": "Systematyczne sprawdzenie każdej pary w tabeli gwarantuje kompletność."
        }
      },
      {
        "step": 6,
        "hint": "Które pary spełniają warunek zdarzenia $A$?",
        "expression": "Pary spełniające warunek: $(1,1)$, $(1,2)$, $(1,4)$, $(1,6)$, $(2,1)$, $(2,2)$, $(2,3)$, $(2,5)$, $(2,7)$, $(3,2)$, $(3,4)$, $(3,6)$, $(4,1)$, $(4,3)$, $(4,7)$, $(5,2)$, $(5,6)$, $(6,1)$, $(6,3)$, $(6,5)$, $(6,7)$, $(7,2)$, $(7,4)$, $(7,6)$",
        "explanation": "Sprawdzamy systematycznie każdą parę - czy $|a+b|$ lub $|a-b|$ jest liczbą pierwszą",
        "why": "Dla przykładu: $(1,1)$ ma $|1+1|=2$ (pierwsza), $(1,2)$ ma $|1+2|=3$ (pierwsza), $(1,3)$ ma $|1+3|=4$ i $|1-3|=2$ - druga jest pierwsza, więc para należy do $A$."
      },
      {
        "step": 7,
        "hint": "Ile par spełnia warunek?",
        "expression": "Liczba par spełniających warunek: $|A| = 24$",
        "explanation": "Policzamy wszystkie pary należące do zdarzenia $A$"
      },
      {
        "step": 8,
        "hint": "Jakie jest prawdopodobieństwo zdarzenia $A$?",
        "expression": "$P(A) = \\frac{|A|}{|\\Omega|} = \\frac{24}{49}$",
        "explanation": "Stosujemy klasyczną definicję prawdopodobieństwa"
      }
    ],
    "solutions": [
      "$P(A) = \\frac{24}{49}$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T11:08:39.028Z",
    "thinking_used": true,
    "type": "open"
  },
  {
    "id": "statistics_mean_median",
    "topic": "Statystyka opisowa - średnia i mediana",
    "difficulty": 3,
    "statement": "Na wykresie przedstawiono wyniki ankiety przeprowadzonej wśród maturzystów dotyczącej liczby zdawanych przez nich egzaminów dodatkowych na egzaminie maturalnym. $2$ egzaminy dodatkowe - najpopularniejszy wybór ($40\\%$ maturzystów), $3$ egzaminy dodatkowe - drugi co do popularności wybór ($35\\%$ maturzystów), $1$ egzamin dodatkowy - wybiera $10\\%$ maturzystów, $4$ egzaminy dodatkowe - również $10\\%$ maturzystów, $5$ egzaminów dodatkowych - najmniej popularna opcja ($5\\%$ maturzystów). Oblicz: (27.1) Średnią arytmetyczną liczby zdawanych egzaminów dodatkowych. (27.2) Medianę liczby zdawanych egzaminów dodatkowych.",
    "steps": [
      {
        "step": 1,
        "hint": "Jak najlepiej uporządkować te dane do obliczeń?",
        "expression": "Liczba egzaminów: $1$, $2$, $3$, $4$, $5$\nOdsetki: $10\\%$, $40\\%$, $35\\%$, $10\\%$, $5\\%$",
        "explanation": "Uporządkowujemy dane od najmniejszej do największej liczby egzaminów z odpowiadającymi im odsetkami"
      },
      {
        "step": 2,
        "hint": "Którą metodą obliczymy średnią arytmetyczną z danych procentowych?",
        "expression": "Średnia = $1 \\cdot 0{,}10 + 2 \\cdot 0{,}40 + 3 \\cdot 0{,}35 + 4 \\cdot 0{,}10 + 5 \\cdot 0{,}05$",
        "explanation": "Zamieniamy procenty na ułamki dziesiętne i stosujemy wzór na średnią ważoną",
        "why": "W średniej ważonej każda wartość ma wpływ proporcjonalny do swojej częstości występowania.",
        "interactive_choice": {
          "prompt": "Jak obliczyć średnią arytmetyczną, gdy mamy dane w procentach?",
          "options": [
            {
              "id": "A",
              "text": "Zsumować wszystkie liczby egzaminów i podzielić przez $5$",
              "feedback": "Nie! To by zignorowało częstości występowania każdej wartości.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Użyć wzoru: średnia = $\\sum (x_i \\cdot p_i)$, gdzie $p_i$ to procent w ułamku",
              "feedback": "Idealnie! To średnia ważona, gdzie wagami są prawdopodobieństwa.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Obliczyć średnią z procentów, potem z liczby egzaminów",
              "feedback": "To nie ma sensu matematycznego. Średnia procentów to nie to samo.",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy mamy dane w procentach, liczymy średnią ważoną: każda wartość razy jej prawdopodobieństwo."
        }
      },
      {
        "step": 3,
        "hint": "Ile wynosi każdy składnik sumy?",
        "expression": "$0{,}10 + 0{,}80 + 1{,}05 + 0{,}40 + 0{,}25 = 2{,}60$",
        "explanation": "Obliczamy wszystkie składniki i sumujemy je"
      },
      {
        "step": 4,
        "hint": "Jak znajdziemy medianę dla danych grupowych?",
        "expression": "Szukamy wartości, dla której suma procentów osiąga $50\\%$",
        "explanation": "Budujemy rozkład skumulowany, aby znaleźć środkową pozycję",
        "interactive_choice": {
          "prompt": "Co to oznacza, że mediana to środkowa wartość dla $100\\%$ maturzystów?",
          "options": [
            {
              "id": "A",
              "text": "To wartość, która dzieli rozkład na pół - $50\\%$ poniżej, $50\\%$ powyżej",
              "feedback": "Świetnie! Mediana to wartość środkowa w uporządkowanym zbiorze.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "To wartość najczęściej występująca (moda)",
              "feedback": "Nie, to opisujesz modę, nie medianę. Moda to $2$ egzaminy ($40\\%$).",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "To średnia z najmniejszej i największej wartości",
              "feedback": "Nie, to byłaby średnia krańcowych wartości. Mediana to środek rozkładu.",
              "is_correct": false
            }
          ],
          "explanation_after": "Mediana dzieli zbiór na pół. Musimy znaleźć wartość, przy której skumulowany procent wynosi $50\\%$."
        }
      },
      {
        "step": 5,
        "hint": "Jakie są procenty skumulowane dla kolejnych wartości?",
        "expression": "1 egzamin: $10\\%$, 2 egzaminy: $10\\% + 40\\% = 50\\%$, 3 egzaminy: $50\\% + 35\\% = 85\\%$",
        "explanation": "Obliczamy procenty skumulowane od najmniejszej wartości"
      },
      {
        "step": 6,
        "hint": "Przy jakiej liczbie egzaminów osiągamy dokładnie $50\\%$ skumulowane?",
        "expression": "Mediana = $2$ egzaminy",
        "explanation": "50% maturzystów zdaje $2$ lub mniej egzaminów dodatkowych",
        "interactive_choice": {
          "prompt": "Jaka jest mediana, skoro przy $2$ egzaminach mamy dokładnie $50\\%$ skumulowane?",
          "options": [
            {
              "id": "A",
              "text": "Mediana = $2$, bo tam kończy się pierwsza połowa",
              "feedback": "Prawidłowo! $50\\%$ maturzystów zdaje $2$ lub mniej egzaminów.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Mediana = $2,5$ jako średnia z $2$ i $3$",
              "feedback": "Nie, to robimy tylko gdy mediana pada między wartości. Tu pada dokładnie na $2$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Mediana = $3$, bo to następna wartość po $50\\%$",
              "feedback": "Nie, mediana to wartość, przy której osiągamy $50\\%$, nie przekraczamy.",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy $50\\%$ pada dokładnie na jedną z wartości, ta wartość jest medianą."
        }
      }
    ],
    "solutions": [
      "Średnia arytmetyczna: $2{,}6$ egzaminu",
      "Mediana: $2$ egzaminy"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-27T11:09:21.106Z",
    "thinking_used": true,
    "type": "open"
  }
]