[
  {
    "id": "bacterial_growth_exponential",
    "topic": "Funkcje wykładnicze - wzrost populacji",
    "difficulty": 4,
    "statement": "W warunkach laboratoryjnych obserwowano dynamikę wzrostu liczebności populacji pewnego gatunku bakterii. Liczebność N populacji bakterii zmienia się w czasie zgodnie z zależnością wykładniczą $N(t) = N_0 \\cdot k^t$ dla $t \\geq 0$, gdzie: $N_0$ - liczebność populacji w chwili $t=0$ rozpoczęcia obserwacji, $k$ - stała dodatnia, charakterystyczna dla danego gatunku bakterii i dla warunków przeprowadzenia obserwacji, $t$ - czas wyrażony w godzinach, liczony od chwili $t=0$ rozpoczęcia obserwacji. W chwili rozpoczęcia obserwacji liczebność populacji była równa 10 000, a po dwóch godzinach była równa 15 625. Oblicz, o ile procent wzrastała liczebność populacji tej bakterii w ciągu każdej godziny.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie dane mamy z treści zadania?",
        "expression": "$N_0 = 10\\,000$, $N(2) = 15\\,625$, $N(t) = N_0 \\cdot k^t$",
        "explanation": "Zapisujemy znane wartości z treści zadania"
      },
      {
        "step": 2,
        "hint": "Jak wykorzystać warunek $N(2) = 15\\,625$ do znalezienia stałej $k$?",
        "expression": "$15\\,625 = 10\\,000 \\cdot k^2$",
        "explanation": "Podstawiamy $t = 2$ do wzoru funkcji wykładniczej"
      },
      {
        "step": 3,
        "hint": "Jak wyizolować $k^2$ z równania?",
        "expression": "$k^2 = \\frac{15\\,625}{10\\,000} = 1.5625$",
        "explanation": "Dzielimy obie strony przez 10 000",
        "interactive_choice": {
          "prompt": "Jak najlepiej przekształcić równanie $15\\,625 = 10\\,000 \\cdot k^2$?",
          "options": [
            {
              "id": "A",
              "text": "Podzielić obie strony przez 10 000",
              "feedback": "Doskonale! To da nam $k^2 = \\frac{15\\,625}{10\\,000} = 1.5625$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Przenieść 10 000 na lewą stronę",
              "feedback": "To skomplikuje obliczenia - lepiej podzielić przez 10 000",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Zastosować logarytm do obu stron",
              "feedback": "Przedwczesne - najpierw wyizoluj $k^2$, potem pierwiastkuj",
              "is_correct": false
            }
          ],
          "explanation_after": "Dzielenie przez $N_0$ daje nam $k^2$ w najprostszej postaci."
        }
      },
      {
        "step": 4,
        "hint": "Jak obliczyć wartość $k$ z równania $k^2 = 1.5625$?",
        "expression": "$k = \\sqrt{1.5625} = 1.25$",
        "explanation": "Pierwiastkujemy obie strony (bierzemy pierwiastek dodatni, bo $k > 0$)",
        "why": "Stała $k$ musi być dodatnia w modelu wzrostu populacji. Wartość $k = 1.25$ oznacza wzrost o 25% w każdej godzinie."
      },
      {
        "step": 5,
        "hint": "Jak sprawdzić poprawność obliczonej wartości $k$?",
        "expression": "$N(2) = 10\\,000 \\cdot 1.25^2 = 10\\,000 \\cdot 1.5625 = 15\\,625$ ✓",
        "explanation": "Weryfikujemy wynik podstawiając do wzoru wyjściowego"
      },
      {
        "step": 6,
        "hint": "Co oznacza wartość $k = 1.25$ w kontekście wzrostu populacji?",
        "expression": "Populacja zwiększa się 1.25 raza w każdej godzinie",
        "explanation": "Interpretujemy znaczenie stałej $k$ w modelu wykładniczym",
        "interactive_choice": {
          "prompt": "Jak interpretować $k = 1.25$ w funkcji $N(t) = N_0 \\cdot k^t$?",
          "options": [
            {
              "id": "A",
              "text": "Populacja wzrasta o 1.25 osobników na godzinę",
              "feedback": "Nie - to byłby wzrost liniowy, a mamy wzrost wykładniczy",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Populacja zwiększa się 1.25 raza w każdej godzinie",
              "feedback": "Dokładnie! Każdą godzinę populacja jest 1.25 raza większa",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Populacja wzrasta o 125% w każdej godzinie",
              "feedback": "Nie - wzrost o 125% oznaczałby $k = 2.25$",
              "is_correct": false
            }
          ],
          "explanation_after": "W funkcji wykładniczej $k$ to współczynnik mnożenia - populacja każdą godzinę jest $k$ razy większa."
        }
      },
      {
        "step": 7,
        "hint": "Jak przeliczyć współczynnik 1.25 na procent wzrostu?",
        "expression": "Wzrost o $(1.25 - 1) \\times 100\\% = 0.25 \\times 100\\% = 25\\%$",
        "explanation": "Przeliczamy współczynnik na procent wzrostu",
        "interactive_choice": {
          "prompt": "Jeśli populacja zwiększa się 1.25 raza, to o ile procent wzrasta?",
          "options": [
            {
              "id": "A",
              "text": "O 1.25%",
              "feedback": "Nie - to byłby wzrost o 1.25%, ale mamy wzrost 1.25 raza",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "O 25%",
              "feedback": "Tak! Wzrost 1.25 raza = wzrost o 0.25 = wzrost o 25%",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "O 125%",
              "feedback": "Nie - 125% to byłoby 2.25 raza więcej, nie 1.25 raza",
              "is_correct": false
            }
          ],
          "explanation_after": "Wzrost $k$ razy oznacza wzrost o $(k-1) \\times 100\\%$. Tutaj: $(1.25-1) \\times 100\\% = 25\\%$."
        }
      },
      {
        "step": 8,
        "hint": "Jaka jest końcowa odpowiedź na pytanie zadania?",
        "expression": "Liczebność populacji bakterii wzrastała o 25% w ciągu każdej godziny",
        "explanation": "Formułujemy ostateczną odpowiedź"
      }
    ],
    "solutions": [
      "25%"
    ],
    "parameters": {
      "N_0": "10 000",
      "N_2": "15 625",
      "k": "1.25"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-22T09:58:55.486Z"
  },
  {
    "id": "inequality_proof_cubic",
    "topic": "Dowody nierówności",
    "difficulty": 4,
    "statement": "Wykaż, że dla każdej dodatniej liczby rzeczywistej $a$ i dla każdej dodatniej liczby rzeczywistej $b$ takich, że $b \\neq \\frac{1}{2}a$, prawdziwa jest nierówność $(a+2b)^3 > 8a^2b + 16ab^2$",
    "steps": [
      {
        "step": 1,
        "hint": "Jak najlepiej rozpocząć dowód tej nierówności?",
        "expression": "$(a+2b)^3 - 8a^2b - 16ab^2 > 0$",
        "explanation": "Przekształcamy nierówność do postaci z zerem po prawej stronie",
        "interactive_choice": {
          "prompt": "Którą strategię wybierzesz do udowodnienia nierówności $(a+2b)^3 > 8a^2b + 16ab^2$?",
          "options": [
            {
              "id": "A",
              "text": "Rozwinąć lewą stronę i porównać składnik po składniku",
              "feedback": "Dobra strategia! Rozwinięcie $(a+2b)^3$ pozwoli na bezpośrednie porównanie.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Przenieść wszystko na jedną stronę i pokazać, że różnica jest dodatnia",
              "feedback": "Świetny wybór! To klasyczna metoda - pokażemy, że $(a+2b)^3 - 8a^2b - 16ab^2 > 0$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć nierówności AM-GM",
              "feedback": "Trudne do zastosowania bezpośrednio - lewa strona to sześcian, prawa to suma iloczynów.",
              "is_correct": false
            }
          ],
          "explanation_after": "Najlepiej przenieść wszystko na lewą stronę i pokazać dodatniość różnicy."
        }
      },
      {
        "step": 2,
        "hint": "Jak rozwinąć $(a+2b)^3$ używając wzoru na sześcian sumy?",
        "expression": "$(a+2b)^3 = a^3 + 3a^2(2b) + 3a(2b)^2 + (2b)^3$",
        "explanation": "Stosujemy wzór $(x+y)^3 = x^3 + 3x^2y + 3xy^2 + y^3$",
        "why": "Wzór na sześcian sumy: $(x+y)^3 = x^3 + 3x^2y + 3xy^2 + y^3$, gdzie $x=a$, $y=2b$."
      },
      {
        "step": 3,
        "hint": "Jak uprościć każdy składnik rozwinięcia?",
        "expression": "$(a+2b)^3 = a^3 + 6a^2b + 12ab^2 + 8b^3$",
        "explanation": "Obliczamy: $3a^2(2b) = 6a^2b$, $3a(2b)^2 = 12ab^2$, $(2b)^3 = 8b^3$"
      },
      {
        "step": 4,
        "hint": "Jak wygląda różnica po podstawieniu rozwinięcia?",
        "expression": "$(a^3 + 6a^2b + 12ab^2 + 8b^3) - 8a^2b - 16ab^2$",
        "explanation": "Podstawiamy rozwinięcie do wyrażenia z kroku 1"
      },
      {
        "step": 5,
        "hint": "Które składniki się skracają i co zostaje?",
        "expression": "$a^3 + 6a^2b - 8a^2b + 12ab^2 - 16ab^2 + 8b^3$",
        "explanation": "Grupujemy podobne składniki"
      },
      {
        "step": 6,
        "hint": "Jaki jest wynik po uproszczeniu?",
        "expression": "$a^3 - 2a^2b - 4ab^2 + 8b^3$",
        "explanation": "Otrzymujemy: $6a^2b - 8a^2b = -2a^2b$ i $12ab^2 - 16ab^2 = -4ab^2$"
      },
      {
        "step": 7,
        "hint": "Jak pogrupować składniki, żeby wyłączyć wspólne czynniki?",
        "expression": "$a^2(a - 2b) + 4b^2(-a + 2b)$",
        "explanation": "Wyłączamy $a^2$ z pierwszej grupy i $4b^2$ z drugiej",
        "interactive_choice": {
          "prompt": "Jak najlepiej pogrupować wyrażenie $a^3 - 2a^2b - 4ab^2 + 8b^3$?",
          "options": [
            {
              "id": "A",
              "text": "Grupować pierwsze dwa i ostatnie dwa: $(a^3 - 2a^2b) + (-4ab^2 + 8b^3)$",
              "feedback": "Dobry pomysł! Z pierwszej grupy wyłączysz $a^2$, z drugiej $4b^2$.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Grupować pierwszy i trzeci, drugi i czwarty: $(a^3 - 4ab^2) + (-2a^2b + 8b^3)$",
              "feedback": "Możliwe, ale mniej naturalne - trudniej wyłączyć wspólne czynniki.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wyłączyć $a$ z wszystkich składników",
              "feedback": "Nie da się - składnik $8b^3$ nie zawiera $a$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Grupowanie $(a^3 - 2a^2b) + (-4ab^2 + 8b^3)$ pozwala wyłączyć czynniki z każdej grupy."
        }
      },
      {
        "step": 8,
        "hint": "Co zauważasz w nawiasach $(a - 2b)$ i $(-a + 2b)$?",
        "expression": "$a^2(a - 2b) + 4b^2(2b - a)$",
        "explanation": "Przepisujemy $(-a + 2b) = (2b - a) = -(a - 2b)$"
      },
      {
        "step": 9,
        "hint": "Jak wyłączyć wspólny czynnik $(a - 2b)$?",
        "expression": "$a^2(a - 2b) - 4b^2(a - 2b) = (a - 2b)(a^2 - 4b^2)$",
        "explanation": "Wyłączamy wspólny czynnik $(a - 2b)$"
      },
      {
        "step": 10,
        "hint": "Jak rozłożyć $a^2 - 4b^2$ na czynniki?",
        "expression": "$(a - 2b)(a^2 - 4b^2) = (a - 2b)(a - 2b)(a + 2b) = (a - 2b)^2(a + 2b)$",
        "explanation": "Używamy wzoru $a^2 - 4b^2 = (a - 2b)(a + 2b)$",
        "why": "Wzór na różnicę kwadratów: $x^2 - y^2 = (x-y)(x+y)$, gdzie $x=a$, $y=2b$."
      },
      {
        "step": 11,
        "hint": "Dlaczego wyrażenie $(a - 2b)^2(a + 2b)$ jest dodatnie?",
        "expression": "$(a - 2b)^2 > 0$ (bo $b \\neq \\frac{1}{2}a$) oraz $a + 2b > 0$ (bo $a, b > 0$)",
        "explanation": "Oba czynniki są dodatnie, więc ich iloczyn jest dodatni",
        "interactive_choice": {
          "prompt": "Kiedy wyrażenie $(a - 2b)^2(a + 2b)$ jest dodatnie dla $a, b > 0$ i $b \\neq \\frac{1}{2}a$?",
          "options": [
            {
              "id": "A",
              "text": "Zawsze, bo $(a - 2b)^2 \\geq 0$ i $a + 2b > 0$",
              "feedback": "Prawie! Ale $(a - 2b)^2 = 0$ gdy $b = \\frac{1}{2}a$, a to wykluczamy z założeń.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Zawsze, bo $(a - 2b)^2 > 0$ (z założenia $b \\neq \\frac{1}{2}a$) i $a + 2b > 0$",
              "feedback": "Doskonale! Założenie $b \\neq \\frac{1}{2}a$ gwarantuje $(a - 2b)^2 > 0$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Tylko gdy $a > 2b$",
              "feedback": "Nie - $(a - 2b)^2$ jest dodatnie niezależnie od znaku $(a - 2b)$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Kluczowe jest założenie $b \\neq \\frac{1}{2}a$, które zapewnia $(a - 2b)^2 > 0$."
        }
      },
      {
        "step": 12,
        "hint": "Jaki jest wniosek z naszego dowodu?",
        "expression": "$(a+2b)^3 - 8a^2b - 16ab^2 = (a - 2b)^2(a + 2b) > 0$",
        "explanation": "Udowodniliśmy, że różnica jest dodatnia, więc nierówność jest prawdziwa"
      }
    ],
    "solutions": [
      "Nierówność $(a+2b)^3 > 8a^2b + 16ab^2$ jest prawdziwa dla wszystkich $a, b > 0$ takich, że $b \\neq \\frac{1}{2}a$"
    ],
    "parameters": {
      "conditions": "$a, b > 0$ oraz $b \\neq \\frac{1}{2}a$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-22T09:59:38.383Z"
  },
  {
    "id": "triangle_angle_ratio",
    "topic": "Geometria - trójkąty i pola",
    "difficulty": 4,
    "statement": "W trójkącie równobocznym ABC punkt D leży na boku BC. Stosunek pola trójkąta ABD do pola trójkąta ADC jest równy $\\frac{\\sqrt{3}-1}{2}$. Oblicz miarę kąta DAC.",
    "steps": [
      {
        "step": 1,
        "hint": "Jak można wyrazić pola trójkątów ABD i ADC przez ich podstawy i wysokość?",
        "expression": "$\\frac{P_{ABD}}{P_{ADC}} = \\frac{BD}{DC}$",
        "explanation": "Trójkąty mają wspólną wysokość z A, więc stosunek pól równa się stosunkowi podstaw",
        "why": "To kluczowa obserwacja - gdy trójkąty mają wspólną wysokość, ich pola są proporcjonalne do podstaw.",
        "interactive_choice": {
          "prompt": "Którą metodę wybierzesz do obliczenia stosunku pól trójkątów ABD i ADC?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru $P = \\frac{1}{2}ab\\sin C$ dla każdego trójkąta",
              "feedback": "Dobry wybór! Pozwoli to wykorzystać kąty i boki bezpośrednio.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Zauważyć, że trójkąty mają wspólną wysokość z wierzchołka A",
              "feedback": "Świetnie! To najprostsze podejście - stosunek pól = stosunek podstaw.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć współrzędnych i wzoru na pole przez determinantę",
              "feedback": "Możliwe, ale niepotrzebnie skomplikowane dla tego zadania.",
              "is_correct": false
            }
          ],
          "explanation_after": "Najprościej wykorzystać fakt, że trójkąty ABD i ADC mają wspólną wysokość z A."
        }
      },
      {
        "step": 2,
        "hint": "Jaki jest stosunek odcinków BD do DC?",
        "expression": "$\\frac{BD}{DC} = \\frac{\\sqrt{3}-1}{2}$",
        "explanation": "Z warunków zadania otrzymujemy stosunek odcinków"
      },
      {
        "step": 3,
        "hint": "Jak można wyrazić długości BD i DC przez bok a trójkąta równobocznego?",
        "expression": "Niech $BD = x$ i $DC = a - x$, gdzie $a$ to bok trójkąta równobocznego",
        "explanation": "Punkt D dzieli bok BC na dwa odcinki o długościach x i a-x"
      },
      {
        "step": 4,
        "hint": "Jak rozwiązać równanie $\\frac{x}{a-x} = \\frac{\\sqrt{3}-1}{2}$?",
        "expression": "$2x = (\\sqrt{3}-1)(a-x)$",
        "explanation": "Mnożymy krzyżowo aby pozbyć się ułamka"
      },
      {
        "step": 5,
        "hint": "Co otrzymasz po rozwinięciu i uporządkowaniu równania?",
        "expression": "$2x = (\\sqrt{3}-1)a - (\\sqrt{3}-1)x$",
        "explanation": "Rozwijamy prawą stronę równania"
      },
      {
        "step": 6,
        "hint": "Jak wyliczyć x z tego równania?",
        "expression": "$x(2 + \\sqrt{3} - 1) = (\\sqrt{3}-1)a$, więc $x = \\frac{(\\sqrt{3}-1)a}{1 + \\sqrt{3}}$",
        "explanation": "Zbieramy składniki z x i wyłączamy x przed nawias"
      },
      {
        "step": 7,
        "hint": "Jak uprościć ułamek $\\frac{\\sqrt{3}-1}{1 + \\sqrt{3}}$?",
        "expression": "$x = \\frac{(\\sqrt{3}-1)^2 \\cdot a}{(1 + \\sqrt{3})(\\sqrt{3} - 1)} = \\frac{(\\sqrt{3}-1)^2 \\cdot a}{3 - 1} = \\frac{(\\sqrt{3}-1)^2 \\cdot a}{2}$",
        "explanation": "Używamy wzoru na różnicę kwadratów w mianowniku",
        "interactive_choice": {
          "prompt": "Jak najlepiej uprościć wyrażenie $\\frac{\\sqrt{3}-1}{1 + \\sqrt{3}}$?",
          "options": [
            {
              "id": "A",
              "text": "Pomnożyć licznik i mianownik przez $(1 - \\sqrt{3})$",
              "feedback": "Nie - to da ujemny mianownik i skomplikuje obliczenia.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pomnożyć licznik i mianownik przez $(\\sqrt{3} - 1)$",
              "feedback": "Nie - to nie usunie pierwiastka z mianownika.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Pomnożyć licznik i mianownik przez $(\\sqrt{3} - 1)$",
              "feedback": "Tak! Użyjemy wzoru $(a+b)(a-b) = a^2 - b^2$ dla mianownika.",
              "is_correct": true
            }
          ],
          "explanation_after": "Mnożymy przez sprzężenie mianownika: $(\\sqrt{3} - 1)$."
        }
      },
      {
        "step": 8,
        "hint": "Ile wynosi $(\\sqrt{3}-1)^2$?",
        "expression": "$(\\sqrt{3}-1)^2 = 3 - 2\\sqrt{3} + 1 = 4 - 2\\sqrt{3}$",
        "explanation": "Rozwijamy kwadrat dwumianu"
      },
      {
        "step": 9,
        "hint": "Jaka jest ostateczna długość odcinka BD?",
        "expression": "$BD = x = \\frac{(4 - 2\\sqrt{3})a}{2} = (2 - \\sqrt{3})a$",
        "explanation": "Upraszczamy wyrażenie na długość BD"
      },
      {
        "step": 10,
        "hint": "Jak zastosować twierdzenie cosinusów w trójkącie ABD?",
        "expression": "$AD^2 = AB^2 + BD^2 - 2 \\cdot AB \\cdot BD \\cdot \\cos(60°)$",
        "explanation": "Stosujemy twierdzenie cosinusów w trójkącie ABD z kątem 60°",
        "interactive_choice": {
          "prompt": "W trójkącie ABD znamy AB = a, BD = $(2-\\sqrt{3})a$, AD = ?. Co dalej?",
          "options": [
            {
              "id": "A",
              "text": "Użyć twierdzenia cosinusów dla znalezienia AD",
              "feedback": "Dobry kierunek, ale najpierw potrzebujemy kąta ABD = 60°.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć twierdzenia sinusów w trójkącie ABD",
              "feedback": "Możliwe, ale twierdzenie cosinusów będzie prostsze tutaj.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Zauważyć, że kąt ABC = 60° w trójkącie równobocznym",
              "feedback": "Świetnie! To kluczowa informacja do zastosowania tw. cosinusów.",
              "is_correct": true
            }
          ],
          "explanation_after": "W trójkącie równobocznym każdy kąt ma 60°, więc kąt ABD = 60°."
        }
      },
      {
        "step": 11,
        "hint": "Ile wynosi $\\cos(60°)$ i jak obliczyć $AD^2$?",
        "expression": "$AD^2 = a^2 + (2-\\sqrt{3})^2a^2 - 2a \\cdot (2-\\sqrt{3})a \\cdot \\frac{1}{2}$",
        "explanation": "Podstawiamy $\\cos(60°) = \\frac{1}{2}$ i znane długości"
      },
      {
        "step": 12,
        "hint": "Jak uprościć wyrażenie $(2-\\sqrt{3})^2$?",
        "expression": "$(2-\\sqrt{3})^2 = 4 - 4\\sqrt{3} + 3 = 7 - 4\\sqrt{3}$",
        "explanation": "Rozwijamy kwadrat dwumianu"
      },
      {
        "step": 13,
        "hint": "Jaka jest końcowa postać równania na $AD^2$?",
        "expression": "$AD^2 = a^2[1 + 7 - 4\\sqrt{3} - (2-\\sqrt{3})] = a^2[6 - 3\\sqrt{3}] = 3a^2(2 - \\sqrt{3})$",
        "explanation": "Upraszczamy i wyłączamy wspólny czynnik"
      },
      {
        "step": 14,
        "hint": "Jak teraz znaleźć kąt DAC używając twierdzenia cosinusów w trójkącie ADC?",
        "expression": "W trójkącie ADC: $AD^2 = AC^2 + DC^2 - 2 \\cdot AC \\cdot DC \\cdot \\cos(\\angle DAC)$",
        "explanation": "Stosujemy twierdzenie cosinusów aby znaleźć szukany kąt"
      },
      {
        "step": 15,
        "hint": "Jakie są długości AC i DC?",
        "expression": "$AC = a$, $DC = a - BD = a - (2-\\sqrt{3})a = (\\sqrt{3}-1)a$",
        "explanation": "AC to bok trójkąta równobocznego, DC to reszta boku BC"
      },
      {
        "step": 16,
        "hint": "Jak podstawić wszystkie wartości do wzoru cosinusowego?",
        "expression": "$3a^2(2-\\sqrt{3}) = a^2 + (\\sqrt{3}-1)^2a^2 - 2a \\cdot (\\sqrt{3}-1)a \\cdot \\cos(\\angle DAC)$",
        "explanation": "Podstawiamy wszystkie obliczone długości"
      },
      {
        "step": 17,
        "hint": "Ile wynosi $(\\sqrt{3}-1)^2$ i jak uprościć równanie?",
        "expression": "$(\\sqrt{3}-1)^2 = 4 - 2\\sqrt{3}$, więc: $3(2-\\sqrt{3}) = 1 + (4-2\\sqrt{3}) - 2(\\sqrt{3}-1)\\cos(\\angle DAC)$",
        "explanation": "Dzielimy przez $a^2$ i podstawiamy $(\\sqrt{3}-1)^2$"
      },
      {
        "step": 18,
        "hint": "Jak rozwiązać równanie względem $\\cos(\\angle DAC)$?",
        "expression": "$6 - 3\\sqrt{3} = 5 - 2\\sqrt{3} - 2(\\sqrt{3}-1)\\cos(\\angle DAC)$",
        "explanation": "Upraszczamy lewą i prawą stronę"
      },
      {
        "step": 19,
        "hint": "Jaka jest wartość $\\cos(\\angle DAC)$?",
        "expression": "$1 - \\sqrt{3} = -2(\\sqrt{3}-1)\\cos(\\angle DAC)$, więc $\\cos(\\angle DAC) = \\frac{1-\\sqrt{3}}{-2(\\sqrt{3}-1)} = \\frac{1}{2}$",
        "explanation": "Rozwiązujemy równanie i upraszczamy"
      },
      {
        "step": 20,
        "hint": "Jakiemu kątowi odpowiada $\\cos(\\alpha) = \\frac{1}{2}$?",
        "expression": "$\\angle DAC = 60°$",
        "explanation": "Cosinus równy $\\frac{1}{2}$ odpowiada kątowi 60°"
      }
    ],
    "solutions": [
      "$\\angle DAC = 60°$"
    ],
    "parameters": {
      "triangle_type": "równoboczny",
      "ratio": "$\\frac{\\sqrt{3}-1}{2}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 20,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-09-22T10:00:26.716Z"
  },
  {
    "id": "conditional_probability_dice",
    "topic": "Prawdopodobieństwo warunkowe",
    "difficulty": 4,
    "statement": "Doświadczenie losowe polega na czterokrotnym rzucie symetryczną sześcienną kostką do gry, która na każdej ściance ma inną liczbę oczek - od jednego oczka do sześciu oczek. Oblicz prawdopodobieństwo zdarzenia polegającego na tym, że otrzymamy co najmniej jeden raz sześć oczek, pod warunkiem że otrzymamy dokładnie dwa razy pięć oczek.",
    "steps": [
      {
        "step": 1,
        "hint": "Jak zdefiniować zdarzenia A i B w tym problemie?",
        "expression": "A: otrzymamy co najmniej jeden raz sześć oczek, B: otrzymamy dokładnie dwa razy pięć oczek",
        "explanation": "Definiujemy zdarzenia zgodnie z treścią zadania"
      },
      {
        "step": 2,
        "hint": "Jaki wzór zastosować do obliczenia prawdopodobieństwa warunkowego?",
        "expression": "$P(A|B) = \\frac{P(A \\cap B)}{P(B)}$",
        "explanation": "Stosujemy definicję prawdopodobieństwa warunkowego",
        "why": "To podstawowy wzór - prawdopodobieństwo A pod warunkiem B to stosunek prawdopodobieństwa jednoczesnego zajścia A i B do prawdopodobieństwa B.",
        "interactive_choice": {
          "prompt": "Który wzór użyć do obliczenia $P(A|B)$?",
          "options": [
            {
              "id": "A",
              "text": "$P(A|B) = \\frac{P(A \\cap B)}{P(B)}$",
              "feedback": "Doskonale! To klasyczny wzór na prawdopodobieństwo warunkowe.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$P(A|B) = P(A) \\cdot P(B)$",
              "feedback": "Nie - to wzór dla zdarzeń niezależnych, nie warunkowych.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$P(A|B) = \\frac{P(A) + P(B)}{2}$",
              "feedback": "Nie - to nie ma sensu matematycznego dla prawdopodobieństwa warunkowego.",
              "is_correct": false
            }
          ],
          "explanation_after": "Prawdopodobieństwo warunkowe to stosunek prawdopodobieństwa części wspólnej do prawdopodobieństwa warunku."
        }
      },
      {
        "step": 3,
        "hint": "Jak obliczyć $P(B)$ - prawdopodobieństwo otrzymania dokładnie dwóch piątek w czterech rzutach?",
        "expression": "$P(B) = \\binom{4}{2} \\cdot \\left(\\frac{1}{6}\\right)^2 \\cdot \\left(\\frac{5}{6}\\right)^2$",
        "explanation": "Używamy rozkładu dwumianowego: wybieramy 2 pozycje na piątki z 4 rzutów"
      },
      {
        "step": 4,
        "hint": "Ile wynosi $\\binom{4}{2}$ i jak obliczyć pozostałe składniki?",
        "expression": "$P(B) = 6 \\cdot \\frac{1}{36} \\cdot \\frac{25}{36} = \\frac{150}{1296} = \\frac{25}{216}$",
        "explanation": "Obliczamy: $\\binom{4}{2} = 6$, prawdopodobieństwo dwóch piątek i dwóch innych wyników"
      },
      {
        "step": 5,
        "hint": "Co oznacza zdarzenie $A \\cap B$ w kontekście tego problemu?",
        "expression": "A ∩ B: dokładnie 2 piątki i co najmniej 1 szóstka w 4 rzutach",
        "explanation": "Analizujemy co oznacza jednoczesne zajście obu zdarzeń",
        "interactive_choice": {
          "prompt": "Jak interpretować zdarzenie $A \\cap B$?",
          "options": [
            {
              "id": "A",
              "text": "Dokładnie dwie piątki i co najmniej jedna szóstka w 4 rzutach",
              "feedback": "Świetnie! To znaczy, że z 4 rzutów: 2 to piątki, przynajmniej 1 to szóstka.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Dokładnie dwie piątki i dokładnie jedna szóstka",
              "feedback": "Nie całkiem - może być więcej niż jedna szóstka, byleby co najmniej jedna.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Co najmniej jedna szóstka lub dokładnie dwie piątki",
              "feedback": "Nie - to byłoby $A \\cup B$, a nie $A \\cap B$. Potrzebujemy obu warunków jednocześnie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Część wspólna oznacza, że oba zdarzenia muszą zajść jednocześnie - i piątki, i szóstki."
        }
      },
      {
        "step": 6,
        "hint": "Jakie są możliwe kombinacje wyników przy zdarzeniu $A \\cap B$?",
        "expression": "Możliwe przypadki: (2 piątki, 1 szóstka, 1 inna) lub (2 piątki, 2 szóstki, 0 innych)",
        "explanation": "Przy 4 rzutach i 2 piątkach zostają 2 miejsca na szóstki i inne wyniki"
      },
      {
        "step": 7,
        "hint": "Jak obliczyć prawdopodobieństwo pierwszego przypadku: 2 piątki, 1 szóstka, 1 inna?",
        "expression": "$P_1 = \\frac{4!}{2!1!1!} \\cdot \\left(\\frac{1}{6}\\right)^2 \\cdot \\frac{1}{6} \\cdot \\frac{4}{6} = 12 \\cdot \\frac{4}{1296} = \\frac{48}{1296}$",
        "explanation": "Obliczamy prawdopodobieństwo układu (2 piątki, 1 szóstka, 1 inna)",
        "interactive_choice": {
          "prompt": "Który wzór użyć dla przypadku (2,1,1)?",
          "options": [
            {
              "id": "A",
              "text": "$\\binom{4}{2,1,1} \\cdot \\left(\\frac{1}{6}\\right)^2 \\cdot \\frac{1}{6} \\cdot \\frac{4}{6}$",
              "feedback": "Doskonale! Rozkład wielomianowy z odpowiednimi prawdopodobieństwami.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$\\binom{4}{2} \\cdot \\binom{2}{1} \\cdot \\left(\\frac{1}{6}\\right)^4$",
              "feedback": "Nie - nie uwzględnia różnych prawdopodobieństw dla różnych wyników.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$4! \\cdot \\left(\\frac{1}{6}\\right)^4$",
              "feedback": "Nie - to zakłada, że wszystkie wyniki są równie prawdopodobne, co nie jest prawdą.",
              "is_correct": false
            }
          ],
          "explanation_after": "Rozkład wielomianowy uwzględnia różne prawdopodobieństwa: piątki, szóstki i pozostałe (1,2,3,4)."
        }
      },
      {
        "step": 8,
        "hint": "Jak obliczyć prawdopodobieństwo drugiego przypadku: 2 piątki, 2 szóstki?",
        "expression": "$P_2 = \\frac{4!}{2!2!} \\cdot \\left(\\frac{1}{6}\\right)^2 \\cdot \\left(\\frac{1}{6}\\right)^2 = 6 \\cdot \\frac{1}{1296} = \\frac{6}{1296}$",
        "explanation": "Obliczamy prawdopodobieństwo układu (2 piątki, 2 szóstki)"
      },
      {
        "step": 9,
        "hint": "Jakie jest całkowite prawdopodobieństwo $P(A \\cap B)$?",
        "expression": "$P(A \\cap B) = P_1 + P_2 = \\frac{48}{1296} + \\frac{6}{1296} = \\frac{54}{1296} = \\frac{1}{24}$",
        "explanation": "Sumujemy prawdopodobieństwa obu przypadków"
      },
      {
        "step": 10,
        "hint": "Jak obliczyć końcowe prawdopodobieństwo warunkowe?",
        "expression": "$P(A|B) = \\frac{P(A \\cap B)}{P(B)} = \\frac{\\frac{1}{24}}{\\frac{25}{216}} = \\frac{1}{24} \\cdot \\frac{216}{25} = \\frac{216}{600} = \\frac{9}{25}$",
        "explanation": "Dzielimy prawdopodobieństwo części wspólnej przez prawdopodobieństwo warunku"
      }
    ],
    "solutions": [
      "$P(A|B) = \\frac{9}{25} = 0{,}36$"
    ],
    "parameters": {
      "condition": "dokładnie dwa razy pięć oczek w czterech rzutach"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-22T10:01:00.798Z"
  },
  {
    "id": "absolute_value_inequality",
    "topic": "Nierówności z wartością bezwzględną",
    "difficulty": 4,
    "statement": "Rozwiąż nierówność $|x-2|-2 \\cdot|x+3|<-2$",
    "steps": [
      {
        "step": 1,
        "hint": "Jak przekształcić nierówność do wygodniejszej postaci?",
        "expression": "$|x-2|-2|x+3|+2<0$",
        "explanation": "Przenosimy $-2$ na lewą stronę, aby mieć zero po prawej"
      },
      {
        "step": 2,
        "hint": "Które punkty są kluczowe dla wartości bezwzględnych?",
        "expression": "Punkty krytyczne: $x = -3$ (z $|x+3|$) i $x = 2$ (z $|x-2|$)",
        "explanation": "Te punkty wyznaczają przedziały gdzie wartości bezwzględne mają stałe znaki",
        "interactive_choice": {
          "prompt": "Jakie punkty krytyczne wyznaczają przedziały dla wartości bezwzględnych?",
          "options": [
            {
              "id": "A",
              "text": "Tylko $x = 2$ (z pierwszej wartości bezwzględnej)",
              "feedback": "Nie - musisz uwzględnić oba miejsca zerowe wartości bezwzględnych!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Punkty $x = 2$ i $x = -3$",
              "feedback": "Dokładnie! To miejsca gdzie wyrażenia pod wartościami bezwzględnymi zmieniają znak.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Punkty $x = -2$ i $x = 3$",
              "feedback": "Nie - sprawdź gdzie $x-2=0$ i $x+3=0$",
              "is_correct": false
            }
          ],
          "explanation_after": "Punkty $x = -3$ i $x = 2$ dzielą dziedzinę na trzy przedziały do analizy."
        }
      },
      {
        "step": 3,
        "hint": "Na jakie przedziały dzielą nas punkty krytyczne?",
        "expression": "Przedziały: $(-\\infty, -3)$, $[-3, 2)$, $[2, +\\infty)$",
        "explanation": "Analizujemy nierówność w każdym przedziale osobno",
        "why": "W każdym przedziale wartości bezwzględne mają określony znak, więc możemy je usunąć."
      },
      {
        "step": 4,
        "hint": "Jak wyglądają wartości bezwzględne dla $x < -3$?",
        "expression": "Dla $x \\in (-\\infty, -3)$: $x-2 < 0$ i $x+3 < 0$",
        "explanation": "Oba wyrażenia pod wartościami bezwzględnymi są ujemne"
      },
      {
        "step": 5,
        "hint": "Jak zapisać nierówność bez wartości bezwzględnych dla $x < -3$?",
        "expression": "$-(x-2) - 2 \\cdot (-(x+3)) + 2 < 0$",
        "explanation": "Usuwamy wartości bezwzględne zmieniając znaki ujemnych wyrażeń"
      },
      {
        "step": 6,
        "hint": "Co otrzymamy po uproszczeniu dla pierwszego przedziału?",
        "expression": "$-x + 2 + 2x + 6 + 2 < 0 \\Rightarrow x + 10 < 0 \\Rightarrow x < -10$",
        "explanation": "Upraszczamy i rozwiązujemy prostą nierówność liniową"
      },
      {
        "step": 7,
        "hint": "Jakie jest rozwiązanie w przedziale $(-\\infty, -3)$?",
        "expression": "$x \\in (-\\infty, -10)$",
        "explanation": "Przecięcie $x < -10$ z przedziałem $(-\\infty, -3)$"
      },
      {
        "step": 8,
        "hint": "Jak wyglądają wartości bezwzględne dla $x \\in [-3, 2)$?",
        "expression": "$-(x-2) - 2(x+3) + 2 < 0$",
        "explanation": "Zapisujemy nierówność usuwając wartości bezwzględne",
        "interactive_choice": {
          "prompt": "Jakie znaki mają wyrażenia pod wartościami bezwzględnymi dla $x \\in [-3, 2)$?",
          "options": [
            {
              "id": "A",
              "text": "$x-2 \\geq 0$ i $x+3 \\geq 0$",
              "feedback": "Nie - dla $x < 2$ mamy $x-2 < 0$",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$x-2 < 0$ i $x+3 \\geq 0$",
              "feedback": "Tak! Dla $x \\geq -3$ mamy $x+3 \\geq 0$, a dla $x < 2$ mamy $x-2 < 0$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$x-2 < 0$ i $x+3 < 0$",
              "feedback": "Nie - dla $x \\geq -3$ mamy $x+3 \\geq 0$",
              "is_correct": false
            }
          ],
          "explanation_after": "W przedziale $[-3, 2)$ pierwsze wyrażenie jest ujemne, drugie nieujemne."
        }
      },
      {
        "step": 9,
        "hint": "Co otrzymamy po uproszczeniu dla drugiego przedziału?",
        "expression": "$-x + 2 - 2x - 6 + 2 < 0 \\Rightarrow -3x - 2 < 0 \\Rightarrow x > -\\frac{2}{3}$",
        "explanation": "Upraszczamy i rozwiązujemy nierówność"
      },
      {
        "step": 10,
        "hint": "Jakie jest rozwiązanie w przedziale $[-3, 2)$?",
        "expression": "$x \\in (-\\frac{2}{3}, 2)$",
        "explanation": "Przecięcie $x > -\\frac{2}{3}$ z przedziałem $[-3, 2)$"
      },
      {
        "step": 11,
        "hint": "Jak wyglądają wartości bezwzględne dla $x \\geq 2$?",
        "expression": "Dla $x \\in [2, +\\infty)$: $x-2 \\geq 0$ i $x+3 > 0$",
        "explanation": "Oba wyrażenia pod wartościami bezwzględnymi są nieujemne"
      },
      {
        "step": 12,
        "hint": "Jak zapisać nierówność dla trzeciego przedziału?",
        "expression": "$(x-2) - 2(x+3) + 2 < 0$",
        "explanation": "Usuwamy wartości bezwzględne bez zmiany znaków"
      },
      {
        "step": 13,
        "hint": "Co otrzymamy po uproszczeniu dla trzeciego przedziału?",
        "expression": "$x - 2 - 2x - 6 + 2 < 0 \\Rightarrow -x - 6 < 0 \\Rightarrow x > -6$",
        "explanation": "Upraszczamy i rozwiązujemy nierówność"
      },
      {
        "step": 14,
        "hint": "Jakie jest rozwiązanie w przedziale $[2, +\\infty)$?",
        "expression": "$x \\in [2, +\\infty)$",
        "explanation": "Przecięcie $x > -6$ z przedziałem $[2, +\\infty)$ daje cały przedział"
      },
      {
        "step": 15,
        "hint": "Jakie jest ostateczne rozwiązanie nierówności?",
        "expression": "$x \\in (-\\infty, -10) \\cup (-\\frac{2}{3}, +\\infty)$",
        "explanation": "Suma rozwiązań ze wszystkich przedziałów",
        "interactive_choice": {
          "prompt": "Jak połączyć rozwiązania z trzech przedziałów?",
          "options": [
            {
              "id": "A",
              "text": "Suma zbiorów: $(-\\infty, -10) \\cup (-\\frac{2}{3}, 2) \\cup [2, +\\infty)$",
              "feedback": "Prawie! Ale przedziały $(-\\frac{2}{3}, 2)$ i $[2, +\\infty)$ można połączyć.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Suma zbiorów: $(-\\infty, -10) \\cup (-\\frac{2}{3}, +\\infty)$",
              "feedback": "Dokładnie! Przedziały $(-\\frac{2}{3}, 2)$ i $[2, +\\infty)$ łączą się w $(-\\frac{2}{3}, +\\infty)$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Przecięcie zbiorów wszystkich przedziałów",
              "feedback": "Nie - szukamy sumy (alternatywy), nie przecięcia rozwiązań",
              "is_correct": false
            }
          ],
          "explanation_after": "Łączymy wszystkie przedziały gdzie nierówność jest spełniona."
        }
      }
    ],
    "solutions": [
      "$x \\in (-\\infty, -10) \\cup (-\\frac{2}{3}, +\\infty)$"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 15,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-22T10:01:35.734Z"
  },
  {
    "id": "trapezoid_ratio_proof",
    "topic": "Geometria - pola trapezów",
    "difficulty": 4,
    "statement": "W trapezie ABCD o podstawach AB i CD punkt E jest środkiem ramienia AD, a punkt F jest środkiem ramienia BC trapezu. Stosunek pola trapezu EFCD do pola trapezu ABFE jest równy $\\frac{1}{2}$. Wykaż, że $\\frac{|CD|}{|AB|}=\\frac{1}{5}$",
    "steps": [
      {
        "step": 1,
        "hint": "Jak oznaczyć długości podstaw trapezu dla ułatwienia obliczeń?",
        "expression": "Oznaczmy $|AB| = a$ i $|CD| = c$, gdzie $a$ i $c$ to długości podstaw trapezu",
        "explanation": "Wprowadzamy oznaczenia dla długości podstaw trapezu ABCD"
      },
      {
        "step": 2,
        "hint": "Jaką metodę wybierzesz do obliczenia pól trapezów?",
        "expression": "Użyjemy wzoru na pole trapezu: $P = \\frac{1}{2}(b_1 + b_2) \\cdot h$",
        "explanation": "Dla każdego trapezu określimy podstawy i wysokość",
        "interactive_choice": {
          "prompt": "Jak najlepiej obliczyć pola trapezów EFCD i ABFE?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru na pole trapezu dla każdego z nich",
              "feedback": "Dobry wybór! Trzeba tylko określić podstawy i wysokości każdego trapezu.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Obliczyć pole całego trapezu i odjąć odpowiednie części",
              "feedback": "Możliwe, ale bardziej skomplikowane - lepiej bezpośrednio.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Podzielić trapezy na trójkąty i prostokąty",
              "feedback": "Bardzo pracochłonne - wzór na pole trapezu jest prostszy.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wzór na pole trapezu $P = \\frac{1}{2}(a+b)h$ jest najefektywniejszy."
        }
      },
      {
        "step": 3,
        "hint": "Jakie są podstawy i wysokość trapezu EFCD?",
        "expression": "Trapez EFCD ma podstawy $|EF|$ i $|CD| = c$, wysokość $h_{EFCD} = \\frac{h}{2}$",
        "explanation": "E i F to środki ramion, więc wysokość to połowa wysokości całego trapezu",
        "why": "Ponieważ E i F są środkami ramion AD i BC, odcinek EF jest równoległy do podstaw i dzieli trapez na połowy pod względem wysokości."
      },
      {
        "step": 4,
        "hint": "Jaka jest długość odcinka EF łączącego środki ramion trapezu?",
        "expression": "$|EF| = \\frac{a + c}{2}$",
        "explanation": "EF to linia środkowa trapezu ABCD",
        "interactive_choice": {
          "prompt": "Czemu równa się długość odcinka EF w trapezie o podstawach $a$ i $c$?",
          "options": [
            {
              "id": "A",
              "text": "$|EF| = \\frac{a + c}{2}$",
              "feedback": "Dokładnie! To linia środkowa trapezu - średnia arytmetyczna podstaw.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$|EF| = \\frac{|a - c|}{2}$",
              "feedback": "Nie - to nie różnica, lecz średnia podstaw.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$|EF| = \\sqrt{ac}$",
              "feedback": "To średnia geometryczna, ale linia środkowa to średnia arytmetyczna.",
              "is_correct": false
            }
          ],
          "explanation_after": "Linia środkowa trapezu (łącząca środki ramion) ma długość równą średniej arytmetycznej podstaw."
        }
      },
      {
        "step": 5,
        "hint": "Jak obliczyć pole trapezu EFCD?",
        "expression": "$P_{EFCD} = \\frac{1}{2} \\left(\\frac{a + c}{2} + c\\right) \\cdot \\frac{h}{2} = \\frac{1}{2} \\cdot \\frac{a + 3c}{2} \\cdot \\frac{h}{2} = \\frac{h(a + 3c)}{8}$",
        "explanation": "Podstawy to $\\frac{a+c}{2}$ i $c$, wysokość to $\\frac{h}{2}$"
      },
      {
        "step": 6,
        "hint": "Jakie są podstawy i wysokość trapezu ABFE?",
        "expression": "Trapez ABFE ma podstawy $|AB| = a$ i $|EF| = \\frac{a + c}{2}$, wysokość $h_{ABFE} = \\frac{h}{2}$",
        "explanation": "Górna część trapezu między AB a linią środkową EF"
      },
      {
        "step": 7,
        "hint": "Jak obliczyć pole trapezu ABFE?",
        "expression": "$P_{ABFE} = \\frac{1}{2} \\left(a + \\frac{a + c}{2}\\right) \\cdot \\frac{h}{2} = \\frac{1}{2} \\cdot \\frac{3a + c}{2} \\cdot \\frac{h}{2} = \\frac{h(3a + c)}{8}$",
        "explanation": "Podstawy to $a$ i $\\frac{a+c}{2}$, wysokość to $\\frac{h}{2}$"
      },
      {
        "step": 8,
        "hint": "Jak zapisać stosunek pól zgodnie z warunkiem zadania?",
        "expression": "$\\frac{P_{EFCD}}{P_{ABFE}} = \\frac{\\frac{h(a + 3c)}{8}}{\\frac{h(3a + c)}{8}} = \\frac{a + 3c}{3a + c} = \\frac{1}{2}$",
        "explanation": "Wykorzystujemy dany warunnek o stosunku pól"
      },
      {
        "step": 9,
        "hint": "Jak rozwiązać równanie proporcji?",
        "expression": "$2(a + 3c) = 3a + c$",
        "explanation": "Mnożymy na krzyż aby pozbyć się ułamka",
        "interactive_choice": {
          "prompt": "Co zrobić z równaniem $\\frac{a + 3c}{3a + c} = \\frac{1}{2}$?",
          "options": [
            {
              "id": "A",
              "text": "Pomnożyć na krzyż: $2(a + 3c) = 3a + c$",
              "feedback": "Świetnie! To standardowy sposób rozwiązywania proporcji.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Odwrócić obie strony równania",
              "feedback": "Można, ale mnożenie na krzyż jest prostsze.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Podstawić konkretne wartości $a$ i $c$",
              "feedback": "To dowód ogólny - nie możemy podstawiać konkretnych wartości.",
              "is_correct": false
            }
          ],
          "explanation_after": "Mnożenie na krzyż to najszybszy sposób na pozbycie się ułamków w proporcji."
        }
      },
      {
        "step": 10,
        "hint": "Jak uprościć równanie $2(a + 3c) = 3a + c$?",
        "expression": "$2a + 6c = 3a + c$",
        "explanation": "Rozwijamy lewą stronę równania"
      },
      {
        "step": 11,
        "hint": "Jak przekształcić równanie aby wyrazić stosunek $\\frac{c}{a}$?",
        "expression": "$6c - c = 3a - 2a$, czyli $5c = a$",
        "explanation": "Przenosimy składniki z $c$ na lewą, z $a$ na prawą stronę"
      },
      {
        "step": 12,
        "hint": "Jaki jest końcowy stosunek $\\frac{|CD|}{|AB|}$?",
        "expression": "$\\frac{c}{a} = \\frac{1}{5}$, czyli $\\frac{|CD|}{|AB|} = \\frac{1}{5}$",
        "explanation": "Dzielimy obie strony przez $5a$ aby otrzymać pożądany stosunek",
        "why": "To kończy dowód - pokazaliśmy, że z danego stosunku pól wynika stosunek podstaw równy $\\frac{1}{5}$."
      }
    ],
    "solutions": [
      "$\\frac{|CD|}{|AB|} = \\frac{1}{5}$"
    ],
    "parameters": {
      "given_ratio": "$\\frac{P_{EFCD}}{P_{ABFE}} = \\frac{1}{2}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-22T10:03:00.233Z"
  },
  {
    "id": "trig_equation_complex",
    "topic": "Równania trygonometryczne",
    "difficulty": 4,
    "statement": "Rozwiąż równanie $3\\cos^2 x + \\sqrt{3}\\sin(2x) - 3\\sin^2 x = 0$ w przedziale $[-\\pi, \\pi]$",
    "steps": [
      {
        "step": 1,
        "hint": "Jak można przekształcić wyrażenie $3\\cos^2 x - 3\\sin^2 x$?",
        "expression": "$3(\\cos^2 x - \\sin^2 x) + \\sqrt{3}\\sin(2x) = 0$",
        "explanation": "Wyłączamy wspólny czynnik 3",
        "interactive_choice": {
          "prompt": "Które przekształcenie najlepiej zastosować do $3\\cos^2 x - 3\\sin^2 x$?",
          "options": [
            {
              "id": "A",
              "text": "Wyłączyć 3 przed nawias: $3(\\cos^2 x - \\sin^2 x)$",
              "feedback": "Świetnie! To pozwoli użyć wzoru na cosinus podwójnego kąta.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Zastąpić $\\cos^2 x = 1 - \\sin^2 x$",
              "feedback": "Możliwe, ale komplikuje równanie - lepiej użyć wzoru na $\\cos 2x$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Zostawić bez zmian",
              "feedback": "Nie wykorzystasz wtedy wzoru trygonometrycznego, który uprości równanie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wyłączenie 3 pozwala rozpoznać wzór $\\cos^2 x - \\sin^2 x = \\cos 2x$."
        }
      },
      {
        "step": 2,
        "hint": "Jaki wzór trygonometryczny pasuje do $\\cos^2 x - \\sin^2 x$?",
        "expression": "$3\\cos(2x) + \\sqrt{3}\\sin(2x) = 0$",
        "explanation": "Używamy wzoru $\\cos^2 x - \\sin^2 x = \\cos(2x)$",
        "why": "Wzór na cosinus podwójnego kąta znacznie upraszcza równanie, redukując je do funkcji jednego argumentu $2x$."
      },
      {
        "step": 3,
        "hint": "Przez co możesz podzielić równanie aby je uprościć?",
        "expression": "$\\frac{3\\cos(2x) + \\sqrt{3}\\sin(2x)}{\\sqrt{3}} = 0$",
        "explanation": "Dzielimy przez $\\sqrt{3}$ (można, bo $\\sqrt{3} \\neq 0$)"
      },
      {
        "step": 4,
        "hint": "Jak wygląda równanie po podzieleniu przez $\\sqrt{3}$?",
        "expression": "$\\sqrt{3}\\cos(2x) + \\sin(2x) = 0$",
        "explanation": "Otrzymujemy prostszą postać równania"
      },
      {
        "step": 5,
        "hint": "Jaką metodą najlepiej rozwiązać równanie $\\sqrt{3}\\cos(2x) + \\sin(2x) = 0$?",
        "expression": "$\\sin(2x) = -\\sqrt{3}\\cos(2x)$",
        "explanation": "Przenosimy $\\sqrt{3}\\cos(2x)$ na prawą stronę",
        "interactive_choice": {
          "prompt": "Jak przekształcić równanie $\\sqrt{3}\\cos(2x) + \\sin(2x) = 0$?",
          "options": [
            {
              "id": "A",
              "text": "Przenieść $\\sin(2x)$ na prawą stronę i podzielić przez $\\cos(2x)$",
              "feedback": "Dobra idea, ale musisz uważać na przypadki gdy $\\cos(2x) = 0$.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć wzoru na sumę funkcji trygonometrycznych",
              "feedback": "Doskonale! Wzór $a\\cos\\alpha + b\\sin\\alpha = R\\cos(\\alpha - \\phi)$ idealnie pasuje.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Podstawić $\\cos(2x) = \\frac{1-\\tan^2 x}{1+\\tan^2 x}$",
              "feedback": "Zbyt skomplikowane - są prostsze metody dla tego równania.",
              "is_correct": false
            }
          ],
          "explanation_after": "Obie metody A i B działają. Metoda B (wzór na sumę) jest bardziej systematyczna."
        }
      },
      {
        "step": 6,
        "hint": "Co otrzymasz dzieląc obie strony przez $\\cos(2x)$ (gdy $\\cos(2x) \\neq 0$)?",
        "expression": "$\\tan(2x) = -\\sqrt{3}$",
        "explanation": "Dzielimy przez $\\cos(2x)$, otrzymując tangens"
      },
      {
        "step": 7,
        "hint": "Dla jakiego kąta podstawowego tangens równa się $-\\sqrt{3}$?",
        "expression": "$\\tan(2x) = -\\sqrt{3} = \\tan(-\\frac{\\pi}{3})$",
        "explanation": "Rozpoznajemy wartość tangensa dla kąta $-\\frac{\\pi}{3}$ (lub $-60°$)",
        "why": "Tangens ma okres $\\pi$, więc $\\tan(2x) = -\\sqrt{3}$ oznacza $2x = -\\frac{\\pi}{3} + k\\pi$ dla $k \\in \\mathbb{Z}$."
      },
      {
        "step": 8,
        "hint": "Jakie są wszystkie rozwiązania równania $\\tan(2x) = -\\sqrt{3}$?",
        "expression": "$2x = -\\frac{\\pi}{3} + k\\pi$, gdzie $k \\in \\mathbb{Z}$",
        "explanation": "Ogólna postać rozwiązań równania tangensowego"
      },
      {
        "step": 9,
        "hint": "Jak wyznaczyć $x$ z równania na $2x$?",
        "expression": "$x = -\\frac{\\pi}{6} + \\frac{k\\pi}{2}$, gdzie $k \\in \\mathbb{Z}$",
        "explanation": "Dzielimy przez 2"
      },
      {
        "step": 10,
        "hint": "Które wartości $k$ dają rozwiązania w przedziale $[-\\pi, \\pi]$?",
        "expression": "Dla $k = -1$: $x = -\\frac{2\\pi}{3}$\nDla $k = 0$: $x = -\\frac{\\pi}{6}$\nDla $k = 1$: $x = \\frac{\\pi}{3}$\nDla $k = 2$: $x = \\frac{5\\pi}{6}$",
        "explanation": "Wszystkie te wartości należą do przedziału $[-\\pi, \\pi]$",
        "interactive_choice": {
          "prompt": "Dla jakich $k$ mamy $x = -\\frac{\\pi}{6} + \\frac{k\\pi}{2} \\in [-\\pi, \\pi]$?",
          "options": [
            {
              "id": "A",
              "text": "$k \\in \\{-1, 0, 1, 2\\}$",
              "feedback": "Sprawdź dokładnie - dla $k=2$ mamy $x = \\frac{5\\pi}{6}$, co jest w przedziale.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$k \\in \\{-1, 0, 1\\}$",
              "feedback": "Za mało - pominąłeś $k=2$, które daje $x = \\frac{5\\pi}{6} \\in [-\\pi, \\pi]$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$k \\in \\{0, 1, 2\\}$",
              "feedback": "Pominąłeś $k=-1$, które daje $x = -\\frac{2\\pi}{3} \\in [-\\pi, \\pi]$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Sprawdzamy każde $k$: dla $k=-1$ mamy $x=-\\frac{2\\pi}{3}$, dla $k=0$ mamy $x=-\\frac{\\pi}{6}$, dla $k=1$ mamy $x=\\frac{\\pi}{3}$, dla $k=2$ mamy $x=\\frac{5\\pi}{6}$."
        }
      },
      {
        "step": 11,
        "hint": "Czy trzeba sprawdzić przypadek $\\cos(2x) = 0$?",
        "expression": "Sprawdzenie: gdy $\\cos(2x) = 0$, to $\\sin(2x) = \\pm 1$\nZ równania: $\\sqrt{3} \\cdot 0 + (\\pm 1) = \\pm 1 \\neq 0$",
        "explanation": "Przypadek $\\cos(2x) = 0$ nie daje dodatkowych rozwiązań"
      }
    ],
    "solutions": [
      "$x \\in \\{-\\frac{2\\pi}{3}, -\\frac{\\pi}{6}, \\frac{\\pi}{3}, \\frac{5\\pi}{6}\\}$"
    ],
    "parameters": {
      "domain": "$x \\in [-\\pi, \\pi]$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 11,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-22T10:04:29.806Z"
  },
  {
    "id": "pyramid_surface_area",
    "topic": "Geometria przestrzenna - ostrosłupy",
    "difficulty": 5,
    "statement": "Podstawą ostrosłupa ABCDS jest kwadrat ABCD. Krawędź boczna SA jest wysokością ostrosłupa, natomiast krawędź podstawy ma długość $3\\sqrt{34}$. Cosinus kąta $\\beta$ między ścianami bocznymi CDS i BCS tego ostrosłupa jest równy $-\\frac{9}{25}$. Oblicz pole powierzchni bocznej tego ostrosłupa.",
    "steps": [
      {
        "step": 1,
        "hint": "Jak ustawić układ współrzędnych dla tego ostrosłupa?",
        "expression": "Środek podstawy w $(0, 0, 0)$, bok kwadratu $a = 3\\sqrt{34}$",
        "explanation": "Ustawiamy układ współrzędnych z początkiem w środku podstawy",
        "interactive_choice": {
          "prompt": "Gdzie najlepiej umieścić początek układu współrzędnych?",
          "options": [
            {
              "id": "A",
              "text": "W wierzchołku A podstawy",
              "feedback": "Możliwe, ale SA jako wysokość sugeruje lepsze umiejscowienie",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "W środku podstawy ABCD",
              "feedback": "Dobry wybór - wykorzystuje symetrię kwadratu",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "W wierzchołku S (szczycie ostrosłupa)",
              "feedback": "Skomplikuje obliczenia - lepiej wykorzystać fakt, że SA jest wysokością",
              "is_correct": false
            }
          ],
          "explanation_after": "Umieszczenie początku w środku podstawy wykorzystuje symetrię i upraszcza współrzędne."
        }
      },
      {
        "step": 2,
        "hint": "Jakie są współrzędne wierzchołków podstawy?",
        "expression": "$A(-\\frac{3\\sqrt{34}}{2}, -\\frac{3\\sqrt{34}}{2}, 0)$, $B(\\frac{3\\sqrt{34}}{2}, -\\frac{3\\sqrt{34}}{2}, 0)$, $C(\\frac{3\\sqrt{34}}{2}, \\frac{3\\sqrt{34}}{2}, 0)$, $D(-\\frac{3\\sqrt{34}}{2}, \\frac{3\\sqrt{34}}{2}, 0)$",
        "explanation": "Wierzchołki kwadratu o boku $3\\sqrt{34}$ ze środkiem w początku układu"
      },
      {
        "step": 3,
        "hint": "Gdzie znajduje się wierzchołek S, jeśli SA jest wysokością?",
        "expression": "$S(-\\frac{3\\sqrt{34}}{2}, -\\frac{3\\sqrt{34}}{2}, h)$ gdzie $h$ to wysokość ostrosłupa",
        "explanation": "S jest nad punktem A na wysokości h, bo SA jest wysokością ostrosłupa",
        "why": "SA jako wysokość oznacza, że S jest bezpośrednio nad A w kierunku pionowym"
      },
      {
        "step": 4,
        "hint": "Jak znaleźć wektory normalne do ścian CDS i BCS?",
        "expression": "Dla ściany CDS: $\\vec{n_1} = \\overrightarrow{CD} \\times \\overrightarrow{CS}$",
        "explanation": "Obliczamy wektor normalny do ściany CDS",
        "interactive_choice": {
          "prompt": "Którą metodę użyć do znalezienia wektorów normalnych ścian?",
          "options": [
            {
              "id": "A",
              "text": "Iloczyn wektorowy dwóch krawędzi każdej ściany",
              "feedback": "Doskonale! To standardowa metoda - wektor normalny to iloczyn wektorowy",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Równanie płaszczyzny przez trzy punkty",
              "feedback": "Możliwe, ale iloczyn wektorowy jest prostszy i bezpośredni",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wzór na kąt między płaszczyznami",
              "feedback": "To będzie potrzebne później - najpierw musimy znaleźć wektory normalne",
              "is_correct": false
            }
          ],
          "explanation_after": "Iloczyn wektorowy dwóch nierównoległych wektorów w płaszczyźnie daje wektor normalny do tej płaszczyzny."
        }
      },
      {
        "step": 5,
        "hint": "Jakie są wektory $\\overrightarrow{CD}$ i $\\overrightarrow{CS}$?",
        "expression": "$\\overrightarrow{CD} = (-3\\sqrt{34}, 0, 0)$, $\\overrightarrow{CS} = (-3\\sqrt{34}, -3\\sqrt{34}, h)$",
        "explanation": "Obliczamy wektory krawędzi ściany CDS"
      },
      {
        "step": 6,
        "hint": "Jaki jest iloczyn wektorowy $\\overrightarrow{CD} \\times \\overrightarrow{CS}$?",
        "expression": "$\\vec{n_1} = (0, -3\\sqrt{34}h, 3\\sqrt{34} \\cdot 3\\sqrt{34}) = (0, -3\\sqrt{34}h, 306)$",
        "explanation": "Wektor normalny do ściany CDS"
      },
      {
        "step": 7,
        "hint": "Analogicznie, jaki jest wektor normalny do ściany BCS?",
        "expression": "$\\overrightarrow{CB} = (0, -3\\sqrt{34}, 0)$, $\\overrightarrow{CS} = (-3\\sqrt{34}, -3\\sqrt{34}, h)$",
        "explanation": "Wektory krawędzi ściany BCS"
      },
      {
        "step": 8,
        "hint": "Oblicz $\\overrightarrow{CB} \\times \\overrightarrow{CS}$",
        "expression": "$\\vec{n_2} = (-3\\sqrt{34}h, 0, 306)$",
        "explanation": "Wektor normalny do ściany BCS"
      },
      {
        "step": 9,
        "hint": "Jak wykorzystać wzór na cosinus kąta między płaszczyznami?",
        "expression": "$\\cos \\beta = \\frac{\\vec{n_1} \\cdot \\vec{n_2}}{|\\vec{n_1}| \\cdot |\\vec{n_2}|} = -\\frac{9}{25}$",
        "explanation": "Wzór na cosinus kąta między płaszczyznami przez wektory normalne",
        "why": "Kąt między płaszczyznami to kąt między ich wektorami normalnymi (lub jego dopełnienie)"
      },
      {
        "step": 10,
        "hint": "Oblicz iloczyn skalarny $\\vec{n_1} \\cdot \\vec{n_2}$",
        "expression": "$\\vec{n_1} \\cdot \\vec{n_2} = 0 \\cdot (-3\\sqrt{34}h) + (-3\\sqrt{34}h) \\cdot 0 + 306 \\cdot 306 = 306^2$",
        "explanation": "Iloczyn skalarny wektorów normalnych"
      },
      {
        "step": 11,
        "hint": "Jakie są długości wektorów normalnych?",
        "expression": "$|\\vec{n_1}| = \\sqrt{(3\\sqrt{34}h)^2 + 306^2} = \\sqrt{306h^2 + 306^2}$, $|\\vec{n_2}| = \\sqrt{(3\\sqrt{34}h)^2 + 306^2}$",
        "explanation": "Oba wektory mają tę samą długość ze względu na symetrię"
      },
      {
        "step": 12,
        "hint": "Podstaw do wzoru na cosinus i rozwiąż równanie",
        "expression": "$\\frac{306^2}{306h^2 + 306^2} = \\frac{9}{25}$",
        "explanation": "Równanie z wartością bezwzględną cosinusa",
        "interactive_choice": {
          "prompt": "Jak uprościć równanie $\\frac{306^2}{306h^2 + 306^2} = -\\frac{9}{25}$?",
          "options": [
            {
              "id": "A",
              "text": "Cosinus nie może być ujemny - błąd w zadaniu",
              "feedback": "Nie! Cosinus kąta między płaszczyznami może być ujemny - to kąt rozwarty",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Wyłączyć 306 i rozwiązać równanie kwadratowe",
              "feedback": "Dobra strategia, ale tu wystarczy prostsze podejście",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wziąć wartość bezwzględną cosinusa i rozwiązać",
              "feedback": "Tak! Kąt między płaszczyznami to zawsze kąt ostry, więc $|\\cos \\beta| = \\frac{9}{25}$",
              "is_correct": true
            }
          ],
          "explanation_after": "Kąt między płaszczyznami definiujemy jako kąt ostry, więc bierzemy wartość bezwzględną."
        }
      },
      {
        "step": 13,
        "hint": "Rozwiąż równanie względem h",
        "expression": "$\\frac{306}{\\sqrt{h^2 + 306}} = \\frac{9}{25}$",
        "explanation": "Upraszczamy przez wyłączenie 306"
      },
      {
        "step": 14,
        "hint": "Kontynuuj przekształcenia algebraiczne",
        "expression": "$25 \\cdot 306 = 9\\sqrt{h^2 + 306}$, więc $\\sqrt{h^2 + 306} = \\frac{7650}{9} = 850$",
        "explanation": "Izolujemy pierwiastek"
      },
      {
        "step": 15,
        "hint": "Znajdź wysokość h",
        "expression": "$h^2 + 306 = 850^2 = 722500$, więc $h^2 = 722194$, $h = \\sqrt{722194} = 34\\sqrt{34} \\cdot \\sqrt{17}$",
        "explanation": "Obliczamy wysokość ostrosłupa"
      },
      {
        "step": 16,
        "hint": "Jakie są pola ścian bocznych ostrosłupa?",
        "expression": "Każda ściana boczna to trójkąt. Mamy 4 ściany: SAB, SBC, SCD, SDA",
        "explanation": "Powierzchnia boczna składa się z czterech trójkątów"
      },
      {
        "step": 17,
        "hint": "Oblicz pole powierzchni bocznej",
        "expression": "$P_{boczna} = 4 \\cdot \\frac{1}{2} \\cdot 3\\sqrt{34} \\cdot \\sqrt{(\\frac{3\\sqrt{34}}{2})^2 + h^2}$",
        "explanation": "Suma pól czterech trójkątów równoramiennych",
        "why": "Każda ściana to trójkąt o podstawie $3\\sqrt{34}$ i wysokości od S do środka krawędzi podstawy"
      },
      {
        "step": 18,
        "hint": "Jaki jest końcowy wynik?",
        "expression": "$P_{boczna} = 6\\sqrt{34} \\cdot \\sqrt{\\frac{306}{4} + 722194} = 6\\sqrt{34} \\cdot \\sqrt{722270.5} = 5100$",
        "explanation": "Pole powierzchni bocznej ostrosłupa"
      }
    ],
    "solutions": [
      "$P_{boczna} = 5100$"
    ],
    "parameters": {
      "base_edge": "$3\\sqrt{34}$",
      "angle_cosine": "$-\\frac{9}{25}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 18,
        "stepsWithWhy": 3,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-22T10:05:15.338Z"
  },
  {
    "id": "cone_volume_optimization",
    "topic": "Optymalizacja funkcji",
    "difficulty": 5,
    "statement": "Objętość V stożka, jako funkcja wysokości h stożka, wyraża się wzorem $V(h) = \\frac{\\pi}{3} \\cdot \\frac{25h^3}{h^2-25}$ dla $h \\in (5, +\\infty)$. Wyznacz wysokość tego z rozważanych stożków, którego objętość jest najmniejsza. Oblicz tę najmniejszą objętość.",
    "steps": [
      {
        "step": 1,
        "hint": "Jaki typ zadania mamy do rozwiązania?",
        "expression": "$V(h) = \\frac{\\pi}{3} \\cdot \\frac{25h^3}{h^2-25}$ dla $h \\in (5, +\\infty)$",
        "explanation": "Mamy zadanie optymalizacyjne - szukamy minimum funkcji",
        "interactive_choice": {
          "prompt": "Jak podejść do znalezienia najmniejszej objętości stożka?",
          "options": [
            {
              "id": "A",
              "text": "Sprawdzić wartości funkcji w kilku punktach",
              "feedback": "To może dać przybliżenie, ale nie gwarantuje znalezienia minimum.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Znaleźć pochodną i przyrównać do zera",
              "feedback": "Doskonale! To standardowa metoda znajdowania ekstremów funkcji.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Przekształcić wzór do prostszej postaci",
              "feedback": "Może pomóc, ale głównie potrzebujemy pochodnej do znajdowania minimum.",
              "is_correct": false
            }
          ],
          "explanation_after": "Minimum funkcji znajdziemy badając jej pochodną - tam gdzie $V'(h) = 0$."
        }
      },
      {
        "step": 2,
        "hint": "Jak obliczyć pochodną tego złożonego ułamka?",
        "expression": "$V'(h) = \\frac{\\pi}{3} \\cdot \\frac{d}{dh}\\left(\\frac{25h^3}{h^2-25}\\right)$",
        "explanation": "Wyłączamy stałą $\\frac{\\pi}{3}$ i różniczkujemy ułamek",
        "interactive_choice": {
          "prompt": "Którą regułę zastosować do obliczenia $V'(h)$?",
          "options": [
            {
              "id": "A",
              "text": "Regułę ilorazu $(\\frac{f}{g})' = \\frac{f'g - fg'}{g^2}$",
              "feedback": "Świetnie! To właściwa reguła dla pochodnej ilorazu funkcji.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Regułę iloczynu $(fg)' = f'g + fg'$",
              "feedback": "Nie - mamy iloraz, nie iloczyn funkcji.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Regułę łańcuchową $(f(g(x)))' = f'(g(x)) \\cdot g'(x)$",
              "feedback": "Tu głównie potrzebujemy reguły ilorazu, choć łańcuchowa też się przyda.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dla $\\frac{25h^3}{h^2-25}$ używamy reguły ilorazu z $f(h) = 25h^3$ i $g(h) = h^2-25$."
        }
      },
      {
        "step": 3,
        "hint": "Jakie są pochodne licznika i mianownika?",
        "expression": "$f(h) = 25h^3$, więc $f'(h) = 75h^2$\n$g(h) = h^2 - 25$, więc $g'(h) = 2h$",
        "explanation": "Obliczamy pochodne składników do reguły ilorazu"
      },
      {
        "step": 4,
        "hint": "Jak zastosować regułę ilorazu $\\left(\\frac{f}{g}\\right)' = \\frac{f'g - fg'}{g^2}$?",
        "expression": "$\\frac{d}{dh}\\left(\\frac{25h^3}{h^2-25}\\right) = \\frac{75h^2(h^2-25) - 25h^3 \\cdot 2h}{(h^2-25)^2}$",
        "explanation": "Podstawiamy do wzoru na pochodną ilorazu"
      },
      {
        "step": 5,
        "hint": "Jak uprościć licznik tego wyrażenia?",
        "expression": "$= \\frac{75h^2(h^2-25) - 50h^4}{(h^2-25)^2} = \\frac{75h^4 - 1875h^2 - 50h^4}{(h^2-25)^2}$",
        "explanation": "Rozwijamy pierwszy składnik i upraszczamy"
      },
      {
        "step": 6,
        "hint": "Co otrzymamy po zebraniu podobnych składników w liczniku?",
        "expression": "$= \\frac{25h^4 - 1875h^2}{(h^2-25)^2} = \\frac{25h^2(h^2 - 75)}{(h^2-25)^2}$",
        "explanation": "Wyłączamy wspólny czynnik $25h^2$"
      },
      {
        "step": 7,
        "hint": "Jaka jest pełna postać pochodnej $V'(h)$?",
        "expression": "$V'(h) = \\frac{\\pi}{3} \\cdot \\frac{25h^2(h^2 - 75)}{(h^2-25)^2} = \\frac{25\\pi h^2(h^2 - 75)}{3(h^2-25)^2}$",
        "explanation": "Mnożymy przez stałą $\\frac{\\pi}{3}$",
        "why": "Ta postać pozwala łatwo znaleźć miejsca zerowe pochodnej."
      },
      {
        "step": 8,
        "hint": "Kiedy pochodna $V'(h) = 0$?",
        "expression": "$h^2 - 75 = 0$, więc $h = \\sqrt{75} = 5\\sqrt{3}$",
        "explanation": "Jedyne miejsce zerowe pochodnej w dziedzinie",
        "interactive_choice": {
          "prompt": "Które czynniki w $V'(h) = \\frac{25\\pi h^2(h^2 - 75)}{3(h^2-25)^2}$ mogą się zerować?",
          "options": [
            {
              "id": "A",
              "text": "Tylko $h^2 = 0$, więc $h = 0$",
              "feedback": "Ale $h = 0$ nie należy do dziedziny $(5, +\\infty)$!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Tylko $h^2 - 75 = 0$, więc $h = \\pm 5\\sqrt{3}$",
              "feedback": "Prawie! Ale z dziedziny $(5, +\\infty)$ bierzemy tylko $h = 5\\sqrt{3}$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Zarówno $h^2 = 0$ jak i $h^2 - 75 = 0$",
              "feedback": "Oba czynniki mogą się zerować, ale musimy sprawdzić dziedzinę.",
              "is_correct": false
            }
          ],
          "explanation_after": "W dziedzinie $(5, +\\infty)$ jedynym miejscem zerowym jest $h = 5\\sqrt{3} \\approx 8.66$."
        }
      },
      {
        "step": 9,
        "hint": "Jak sprawdzić, czy to rzeczywiście minimum?",
        "expression": "Dla $h \\in (5, 5\\sqrt{3})$: $h^2 < 75$, więc $V'(h) < 0$\nDla $h \\in (5\\sqrt{3}, +\\infty)$: $h^2 > 75$, więc $V'(h) > 0$",
        "explanation": "Pochodna zmienia znak z minus na plus, więc mamy minimum",
        "why": "Test pierwszej pochodnej: zmiana znaku z ujemnego na dodatni oznacza minimum lokalne."
      },
      {
        "step": 10,
        "hint": "Jaka jest najmniejsza objętość przy $h = 5\\sqrt{3}$?",
        "expression": "$V(5\\sqrt{3}) = \\frac{\\pi}{3} \\cdot \\frac{25(5\\sqrt{3})^3}{(5\\sqrt{3})^2-25}$",
        "explanation": "Podstawiamy optymalną wysokość do wzoru na objętość"
      },
      {
        "step": 11,
        "hint": "Jak obliczyć $(5\\sqrt{3})^2$ i $(5\\sqrt{3})^3$?",
        "expression": "$(5\\sqrt{3})^2 = 25 \\cdot 3 = 75$\n$(5\\sqrt{3})^3 = 125 \\cdot 3\\sqrt{3} = 375\\sqrt{3}$",
        "explanation": "Obliczamy potęgi"
      },
      {
        "step": 12,
        "hint": "Jaka jest końcowa wartość najmniejszej objętości?",
        "expression": "$V(5\\sqrt{3}) = \\frac{\\pi}{3} \\cdot \\frac{25 \\cdot 375\\sqrt{3}}{75-25} = \\frac{\\pi}{3} \\cdot \\frac{9375\\sqrt{3}}{50} = \\frac{625\\pi\\sqrt{3}}{2}$",
        "explanation": "Upraszczamy wyrażenie do końcowej postaci"
      }
    ],
    "solutions": [
      "Wysokość stożka o najmniejszej objętości: $h = 5\\sqrt{3}$",
      "Najmniejsza objętość: $V_{min} = \\frac{625\\pi\\sqrt{3}}{2}$"
    ],
    "parameters": {
      "domain": "$h \\in (5, +\\infty)$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-22T10:07:40.895Z"
  }
]