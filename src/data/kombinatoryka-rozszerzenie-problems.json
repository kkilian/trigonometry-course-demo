[
  {
    "id": "three_digit_even_numbers",
    "topic": "Reguła iloczynu w kombinatoryce",
    "difficulty": 3,
    "statement": "Tworzymy liczbę trzycyfrową, której cyfra setek należy do zbioru $A={8,9}$, cyfra dziesiątek do zbioru $B={0,1,2}$, a cyfra jedności do zbioru $C={3,4,5,6,7}$. Oblicz, na ile sposobów możemy utworzyć liczbę parzystą.",
    "steps": [
      {
        "step": 1,
        "hint": "Które cyfry ze zbioru C sprawią, że liczba będzie parzysta?",
        "expression": "Ze zbioru $C = {3,4,5,6,7}$ cyfry parzyste to: ${4,6}$",
        "explanation": "Liczba jest parzysta, gdy jej cyfra jedności jest parzysta",
        "why": "Parzystość liczby zależy wyłącznie od cyfry jedności. Cyfry $3, 5, 7$ są nieparzyste, więc ich nie uwzględniamy."
      },
      {
        "step": 2,
        "hint": "Ile mamy możliwości wyboru dla każdej pozycji w liczbie parzystej?",
        "expression": "Cyfra setek: $2$ możliwości (8 lub 9)\nCyfra dziesiątek: 3 możliwości (0, 1 lub 2)\nCyfra jedności: 2 możliwości (4 lub 6)",
        "explanation": "Liczymy liczbę elementów w każdym zbiorze dla naszego przypadku"
      },
      {
        "step": 3,
        "hint": "Czy wybory cyfr na różnych pozycjach wpływają na siebie?",
        "expression": "Wybory są niezależne - każda cyfra może być wybrana niezależnie od pozostałych",
        "explanation": "Możemy dowolnie kombinować cyfry z różnych pozycji"
      },
      {
        "step": 4,
        "hint": "Jaką regułę zastosujemy do policzenia wszystkich możliwości?",
        "expression": "Liczba sposobów = 2 × 3 × 2 = 12",
        "explanation": "Stosujemy regułę iloczynu: mnożymy liczbę możliwości na każdej pozycji",
        "why": "Reguła iloczynu: jeśli mamy k niezależnych wyborów z odpowiednio n₁, n₂, ..., nₖ możliwości, to łączna liczba sposobów wynosi n₁ × n₂ × ... × nₖ."
      }
    ],
    "solutions": [
      "12"
    ],
    "parameters": {
      "sets": "A = {8,9}, B = {0,1,2}, C = {3,4,5,6,7}",
      "condition": "liczba parzysta"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:24:30.281Z"
  },
  {
    "id": "three_digit_counting",
    "topic": "Kombinatoryka - zliczanie z warunkami",
    "difficulty": 4,
    "statement": "Tworzymy liczbę trzycyfrową, której cyfra setek należy do zbioru $A=\\{8,9\\}$, cyfra dziesiątek do zbioru $B=\\{0,1,2\\}$, a cyfra jedności do zbioru $C=\\{3,4,5,6,7\\}$. Oblicz, na ile sposobów możemy utworzyć liczbę większą od 903.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile w ogóle można utworzyć liczb trzycyfrowych z tych zbiorów?",
        "expression": "Liczba wszystkich możliwości: $|A| \\cdot |B| \\cdot |C| = 2 \\cdot 3 \\cdot 5 = 30$",
        "explanation": "Każda pozycja wybierana niezależnie - reguła iloczynu"
      },
      {
        "step": 2,
        "hint": "Które liczby będą mniejsze lub równe 903?",
        "expression": "Liczby postaci $8bc$ gdzie $b \\in B$, $c \\in C$",
        "explanation": "Wszystkie liczby zaczynające się od 8 są mniejsze od 903",
        "why": "Cyfra setek 8 < 9, więc niezależnie od pozostałych cyfr liczba będzie mniejsza od 903. To kluczowe spostrzeżenie!"
      },
      {
        "step": 3,
        "hint": "Ile jest liczb zaczynających się od 8?",
        "expression": "Liczby $8bc$: $1 \\cdot 3 \\cdot 5 = 15$ możliwości",
        "explanation": "Cyfra setek ustalona na 8, pozostałe wybieramy dowolnie"
      },
      {
        "step": 4,
        "hint": "Które liczby zaczynające się od 9 są za małe?",
        "expression": "Liczby $90c$ gdzie $c \\in C$: $900 + c$",
        "explanation": "Sprawdzamy liczby postaci 90c",
        "why": "Gdy cyfra setek to 9, a dziesiątek 0, musimy sprawdzić czy 900+c > 903, czyli czy c > 3."
      },
      {
        "step": 5,
        "hint": "Które cyfry z C dają liczbę 90c ≤ 903?",
        "expression": "Tylko $c = 3$ daje $903$, więc liczba $903 \\not> 903$",
        "explanation": "Z cyfr {3,4,5,6,7} tylko cyfra 3 daje liczbę nieprzekraczającą 903"
      },
      {
        "step": 6,
        "hint": "Ile liczb trzeba odjąć od wszystkich możliwości?",
        "expression": "Liczby $\\leq 903$: wszystkie $8bc$ plus $903$ = $15 + 1 = 16$",
        "explanation": "Sumujemy liczby za małe: 15 z cyfrą setek 8 i jedną liczbę 903"
      },
      {
        "step": 7,
        "hint": "Jaki jest ostateczny wynik?",
        "expression": "Liczby $> 903$: $30 - 16 = 14$",
        "explanation": "Od wszystkich możliwości odejmujemy te, które nie spełniają warunku"
      }
    ],
    "solutions": [
      "14"
    ],
    "parameters": {
      "sets": "$A=\\{8,9\\}$, $B=\\{0,1,2\\}$, $C=\\{3,4,5,6,7\\}$",
      "condition": "liczba > 903"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:24:48.434Z"
  },
  {
    "id": "three_digit_divisibility",
    "topic": "Kombinatoryka z warunkami podzielności",
    "difficulty": 4,
    "statement": "Tworzymy liczbę trzycyfrową, której cyfra setek należy do zbioru $A=\\{8,9\\}$, cyfra dziesiątek do zbioru $B=\\{0,1,2\\}$, a cyfra jedności do zbioru $C=\\{3,4,5,6,7\\}$. Oblicz, na ile sposobów możemy utworzyć liczbę, której iloczyn cyfr jest liczbą podzielną przez 8.",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy iloczyn cyfr będzie podzielny przez 8?",
        "expression": "Iloczyn cyfr musi być podzielny przez $8 = 2^3$",
        "explanation": "Potrzebujemy co najmniej trzech czynników 2 w rozkładzie iloczynu na czynniki pierwsze",
        "why": "Liczba jest podzielna przez 8, gdy zawiera czynnik $2^3$. Musimy przeanalizować, które cyfry wnoszą czynniki 2."
      },
      {
        "step": 2,
        "hint": "Czy cyfra 0 wpływa na iloczyn cyfr?",
        "expression": "Jeśli cyfra dziesiątek = 0, to iloczyn cyfr = 0, który jest podzielny przez 8",
        "explanation": "Zero w iloczynie zawsze daje zero, które jest podzielne przez każdą liczbę",
        "why": "0 jest podzielne przez 8, bo $0 = 8 \\cdot 0$"
      },
      {
        "step": 3,
        "hint": "Ile sposobów daje cyfra dziesiątek równa 0?",
        "expression": "Cyfra dziesiątek = 0: cyfra setek może być 8 lub 9, cyfra jedności dowolna z C\nLiczba sposobów: $2 \\times 1 \\times 5 = 10$",
        "explanation": "Gdy cyfra dziesiątek to 0, iloczyn jest zawsze podzielny przez 8"
      },
      {
        "step": 4,
        "hint": "Gdy cyfra dziesiątek ≠ 0, ile czynników 2 wnosi każda cyfra?",
        "expression": "$A: 8 = 2^3$ (3 czynniki), $9 = 3^2$ (0 czynników)\n$B$ (bez 0): $1$ (0 czynników), $2 = 2^1$ (1 czynnik)\n$C: 3, 5, 7$ (0 czynników), $4 = 2^2$ (2 czynniki), $6 = 2 \\cdot 3$ (1 czynnik)",
        "explanation": "Rozkładamy cyfry na czynniki pierwsze i liczymy potęgi liczby 2"
      },
      {
        "step": 5,
        "hint": "Przypadek: cyfra setek = 8, cyfra dziesiątek ≠ 0",
        "expression": "Cyfra setek = 8 (3 czynniki 2): iloczyn jest podzielny przez 8 niezależnie od pozostałych cyfr\nCyfra dziesiątek: 1 lub 2\nLiczba sposobów: $1 \\times 2 \\times 5 = 10$",
        "explanation": "Gdy cyfra setek to 8, mamy już 3 czynniki 2"
      },
      {
        "step": 6,
        "hint": "Przypadek: cyfra setek = 9, cyfra dziesiątek ≠ 0",
        "expression": "Cyfra setek = 9 (0 czynników 2): potrzebujemy 3 czynników z cyfr dziesiątek i jedności",
        "explanation": "Musimy uzyskać wszystkie 3 czynniki 2 z pozostałych pozycji",
        "why": "Jedyna możliwość: cyfra dziesiątek = 2 (1 czynnik) i cyfra jedności = 4 (2 czynniki)"
      },
      {
        "step": 7,
        "hint": "Ile sposobów daje przypadek z cyfrą setek = 9 i cyfrą dziesiątek ≠ 0?",
        "expression": "Cyfra dziesiątek = 2, cyfra jedności = 4\nLiczba sposobów: $1 \\times 1 \\times 1 = 1$",
        "explanation": "Tylko jedna kombinacja: 924"
      },
      {
        "step": 8,
        "hint": "Jak połączyć wyniki ze wszystkich przypadków?",
        "expression": "Łączna liczba sposobów: $10 + 10 + 1 = 21$",
        "explanation": "Dodajemy: cyfra dziesiątek = 0 (10) + cyfra setek = 8 i dziesiątek ≠ 0 (10) + cyfra setek = 9 i dziesiątek ≠ 0 (1)"
      }
    ],
    "solutions": [
      "21"
    ],
    "parameters": {
      "sets": "$A = \\{8,9\\}$, $B = \\{0,1,2\\}$, $C = \\{3,4,5,6,7\\}$",
      "condition": "iloczyn cyfr podzielny przez 8"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-09-22T12:25:07.149Z"
  },
  {
    "id": "three_digit_odd_sum",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 4,
    "statement": "Tworzymy liczbę trzycyfrową, której cyfra setek należy do zbioru $A=\\{8,9\\}$, cyfra dziesiątek do zbioru $B=\\{0,1,2\\}$, a cyfra jedności do zbioru $C=\\{3,4,5,6,7\\}$. Oblicz, na ile sposobów możemy utworzyć liczbę, której suma cyfr jest liczbą nieparzystą.",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy suma trzech liczb jest nieparzysta?",
        "expression": "Suma jest nieparzysta gdy: nieparzysta + parzysta + parzysta lub parzysta + nieparzysta + nieparzysta",
        "explanation": "Analizujemy parzystość cyfr w zbiorach",
        "why": "Suma jest nieparzysta gdy mamy nieparzystą liczbę składników nieparzystych. Tu: 1 lub 3 nieparzyste cyfry."
      },
      {
        "step": 2,
        "hint": "Które cyfry w każdym zbiorze są parzyste, a które nieparzyste?",
        "expression": "$A$: $8$ (parzysta), $9$ (nieparzysta); $B$: $0,2$ (parzyste), $1$ (nieparzysta); $C$: $4,6$ (parzyste), $3,5,7$ (nieparzyste)",
        "explanation": "Klasyfikujemy cyfry według parzystości"
      },
      {
        "step": 3,
        "hint": "Jakie są możliwe kombinacje parzystości dla nieparzystej sumy?",
        "expression": "Przypadek 1: (nieparzysta, parzysta, parzysta) lub Przypadek 2: (parzysta, nieparzysta, nieparzysta)",
        "explanation": "Identyfikujemy dwa możliwe scenariusze",
        "why": "Nie może być (nieparzysta, nieparzysta, nieparzysta) bo to dałoby nieparzystą sumę, ale mamy tylko 1 nieparzystą cyfrę w zbiorze B."
      },
      {
        "step": 4,
        "hint": "Ile sposobów daje pierwszy przypadek: nieparzysta cyfra setek?",
        "expression": "Przypadek 1: $1 \\times 2 \\times 2 = 4$ sposoby",
        "explanation": "Cyfra setek: 1 nieparzysta (9), dziesiątek: 2 parzyste (0,2), jedności: 2 parzyste (4,6)"
      },
      {
        "step": 5,
        "hint": "Ile sposobów daje drugi przypadek: parzysta cyfra setek?",
        "expression": "Przypadek 2: $1 \\times 1 \\times 3 = 3$ sposoby",
        "explanation": "Cyfra setek: 1 parzysta (8), dziesiątek: 1 nieparzysta (1), jedności: 3 nieparzyste (3,5,7)"
      },
      {
        "step": 6,
        "hint": "Jak połączyć oba przypadki w końcowy wynik?",
        "expression": "Łącznie: $4 + 3 = 7$ sposobów",
        "explanation": "Dodajemy liczbę sposobów z obu rozłącznych przypadków"
      }
    ],
    "solutions": [
      "7 sposobów"
    ],
    "parameters": {
      "sets": "$A=\\{8,9\\}$, $B=\\{0,1,2\\}$, $C=\\{3,4,5,6,7\\}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:25:28.207Z"
  },
  {
    "id": "divisibility_by_4_combinations",
    "topic": "Podzielność przez 4 i kombinatoryka",
    "difficulty": 4,
    "statement": "Ze zbioru A={1,2,3,4,5} wybieramy trzy różne cyfry i tworzymy liczbę trzycyfrową. Oblicz, na ile sposobów otrzymamy liczbę podzielną przez 4.",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy liczba jest podzielna przez 4?",
        "expression": "Liczba jest podzielna przez 4, gdy jej dwie ostatnie cyfry tworzą liczbę podzielną przez 4",
        "explanation": "Używamy cechy podzielności przez 4",
        "why": "Nie sprawdzamy całej liczby, tylko dwie ostatnie cyfry! To znacznie upraszcza problem."
      },
      {
        "step": 2,
        "hint": "Które dwucyfrowe liczby z cyfr {1,2,3,4,5} dzielą się przez 4?",
        "expression": "Sprawdzamy: 12÷4=3, 13÷4=3,25, 14÷4=3,5, 15÷4=3,75, 21÷4=5,25, 23÷4=5,75, 24÷4=6, 25÷4=6,25, 31÷4=7,75, 32÷4=8, 34÷4=8,5, 35÷4=8,75, 41÷4=10,25, 42÷4=10,5, 43÷4=10,75, 45÷4=11,25, 51÷4=12,75, 52÷4=13, 53÷4=13,25, 54÷4=13,5",
        "explanation": "Podzielne przez 4 to: 12, 24, 32, 52"
      },
      {
        "step": 3,
        "hint": "Ile cyfr pozostaje do wyboru na pierwszą pozycję dla każdego końca?",
        "expression": "Dla końca 12: pierwsza cyfra z {3,4,5} → 3 możliwości",
        "explanation": "Gdy kończymy na 12, pierwszą cyfrą może być 3, 4 lub 5"
      },
      {
        "step": 4,
        "hint": "Czy dla pozostałych końców sytuacja wygląda podobnie?",
        "expression": "Dla końca 24: pierwsza cyfra z {1,3,5} → 3 możliwości\nDla końca 32: pierwsza cyfra z {1,4,5} → 3 możliwości\nDla końca 52: pierwsza cyfra z {1,3,4} → 3 możliwości",
        "explanation": "Każdy z czterech końców daje 3 możliwości wyboru pierwszej cyfry"
      },
      {
        "step": 5,
        "hint": "Jak zsumować wszystkie możliwości?",
        "expression": "Łącznie: $3 + 3 + 3 + 3 = 12$ sposobów",
        "explanation": "Sumujemy możliwości dla wszystkich końców podzielnych przez 4"
      }
    ],
    "solutions": [
      "12 sposobów"
    ],
    "parameters": {
      "valid_endings": [
        "12",
        "24",
        "32",
        "52"
      ],
      "total_combinations": 12
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 1
      }
    },
    "timestamp": "2025-09-22T12:25:41.733Z"
  },
  {
    "id": "three_digit_numbers_greater_240",
    "topic": "Kombinatoryka - liczby trzycyfrowe z warunkiem",
    "difficulty": 4,
    "statement": "Ze zbioru A={1,2,3,4,5} wybieramy trzy różne cyfry i tworzymy liczbę trzycyfrową. Oblicz, na ile sposobów otrzymamy liczbę większą od 240.",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy liczba trzycyfrowa jest większa od 240?",
        "expression": "Liczba $abc > 240$, gdy $a > 2$ lub ($a = 2$ i $bc > 40$)",
        "explanation": "Analizujemy warunek porównując cyfry od lewej strony",
        "why": "Pierwsza cyfra ma największy wpływ na wartość liczby. Jeśli $a \\geq 3$, liczba automatycznie > 240. Jeśli $a = 2$, musimy sprawdzić dalsze cyfry."
      },
      {
        "step": 2,
        "hint": "Ile liczb możemy utworzyć gdy pierwsza cyfra to 3, 4 lub 5?",
        "expression": "Przypadek 1: $a \\in \\{3, 4, 5\\}$",
        "explanation": "Gdy pierwsza cyfra ≥ 3, liczba zawsze > 240"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów wybierzemy pozostałe dwie cyfry z czterech dostępnych?",
        "expression": "Dla każdego $a \\in \\{3, 4, 5\\}$: $4 \\times 3 = 12$ sposobów",
        "explanation": "Druga cyfra: 4 wybory, trzecia cyfra: 3 wybory (bez powtórzeń)"
      },
      {
        "step": 4,
        "hint": "Ile łącznie liczb daje nam przypadek z a ≥ 3?",
        "expression": "Przypadek 1: $3 \\times 12 = 36$ liczb",
        "explanation": "3 wybory pierwszej cyfry × 12 sposobów na pozostałe"
      },
      {
        "step": 5,
        "hint": "Gdy a = 2, które liczby bc będą większe od 40?",
        "expression": "Przypadek 2: $a = 2$, sprawdzamy $bc > 40$",
        "explanation": "Pozostałe cyfry: {1, 3, 4, 5}, szukamy $bc \\in \\{41, 43, 45, 51, 53, 54\\}$"
      },
      {
        "step": 6,
        "hint": "Które z możliwych kombinacji bc spełniają warunek bc > 40?",
        "expression": "$bc \\in \\{41, 43, 45, 51, 53, 54\\}$ - wszystkie 6 kombinacji",
        "explanation": "Sprawdzamy wszystkie dwucyfrowe liczby z cyfr {1, 3, 4, 5}",
        "why": "Najmniejsza możliwa liczba to 13 < 40, ale gdy b ≥ 4 lub (b = 1 i c ≥ 4), mamy bc > 40. Z cyfr {1,3,4,5} tylko 13, 14, 15, 31, 34, 35 dają bc ≤ 40."
      },
      {
        "step": 7,
        "hint": "Ile liczb daje przypadek z a = 2?",
        "expression": "Przypadek 2: 6 liczb (241, 243, 245, 251, 253, 254)",
        "explanation": "Wszystkie kombinacje bc > 40 przy a = 2"
      },
      {
        "step": 8,
        "hint": "Jak połączyć oba przypadki w końcowy wynik?",
        "expression": "Łącznie: $36 + 6 = 42$ sposoby",
        "explanation": "Sumujemy liczby z obu rozłącznych przypadków"
      }
    ],
    "solutions": [
      "42"
    ],
    "parameters": {
      "set": "A = {1, 2, 3, 4, 5}",
      "condition": "liczba > 240",
      "digits": "3 różne cyfry"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:26:01.668Z"
  },
  {
    "id": "four_digit_divisible_by_5",
    "topic": "Kombinatoryka - liczby podzielne przez 5",
    "difficulty": 3,
    "statement": "Oblicz, ile jest liczb czterocyfrowych, które można utworzyć z różnych cyfr należących do zbioru $X = \\{0,1,2,3,4,5,6\\}$ i które są podzielne przez 5.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry na końcu sprawiają, że liczba jest podzielna przez 5?",
        "expression": "Liczba jest podzielna przez 5, gdy kończy się cyfrą 0 lub 5",
        "explanation": "Warunek podzielności przez 5 zależy tylko od ostatniej cyfry",
        "why": "To podstawowa reguła podzielności - liczba jest podzielna przez 5 wtedy i tylko wtedy, gdy jej ostatnia cyfra to 0 lub 5."
      },
      {
        "step": 2,
        "hint": "Dlaczego warto rozpatrzyć osobno przypadki z cyfrą 0 i 5 na końcu?",
        "expression": "Przypadek 1: liczba kończy się cyfrą 0\nPrzypadek 2: liczba kończy się cyfrą 5",
        "explanation": "Rozdzielamy problem na dwa przypadki ze względu na ostatnią cyfrę",
        "why": "Cyfra 0 nie może być pierwszą cyfrą liczby czterocyfrowej, więc przypadki różnią się ograniczeniami dla pierwszej pozycji."
      },
      {
        "step": 3,
        "hint": "Gdy ostatnia cyfra to 0, ile mamy możliwości wyboru pierwszej cyfry?",
        "expression": "Przypadek 1: _ _ _ 0\nPierwsza cyfra: $\\{1,2,3,4,5,6\\}$ - 6 możliwości",
        "explanation": "Pierwsza cyfra nie może być 0, więc mamy 6 opcji z pozostałych cyfr"
      },
      {
        "step": 4,
        "hint": "Po wyborze pierwszej i ostatniej cyfry, ile cyfr zostało do wyboru na pozycje środkowe?",
        "expression": "Druga cyfra: 5 możliwości (pozostałe cyfry + cyfra 0)\nTrzecia cyfra: 4 możliwości",
        "explanation": "Dla przypadku 1: $6 \\times 5 \\times 4 \\times 1 = 120$ liczb",
        "why": "Używamy wszystkich dostępnych cyfr oprócz już wybranych. Po wyborze pierwszej cyfry (nie 0) i ustaleniu ostatniej (0), zostaje 5 cyfr na drugą pozycję i 4 na trzecią."
      },
      {
        "step": 5,
        "hint": "Gdy ostatnia cyfra to 5, czy pierwsza cyfra może być zerem?",
        "expression": "Przypadek 2: _ _ _ 5\nPierwsza cyfra: $\\{1,2,3,4,6\\}$ - 5 możliwości (bez 0 i 5)",
        "explanation": "Pierwsza cyfra nie może być 0, a cyfra 5 jest już zajęta na końcu"
      },
      {
        "step": 6,
        "hint": "Ile cyfr pozostało do wyboru na środkowe pozycje w przypadku 2?",
        "expression": "Druga cyfra: 5 możliwości (w tym cyfra 0)\nTrzecia cyfra: 4 możliwości",
        "explanation": "Dla przypadku 2: $5 \\times 5 \\times 4 \\times 1 = 100$ liczb"
      },
      {
        "step": 7,
        "hint": "Jak połączyć wyniki z obu przypadków?",
        "expression": "Łączna liczba = $120 + 100 = 220$",
        "explanation": "Sumujemy liczbę możliwości z obu rozłącznych przypadków"
      }
    ],
    "solutions": [
      "220"
    ],
    "parameters": {
      "set": "$X = \\{0,1,2,3,4,5,6\\}$",
      "condition": "liczby czterocyfrowe z różnych cyfr, podzielne przez 5"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-09-22T12:26:27.100Z"
  },
  {
    "id": "counting_four_digit_numbers",
    "topic": "Kombinatoryka - liczby z ograniczeniami",
    "difficulty": 4,
    "statement": "Oblicz, ile jest liczb czterocyfrowych, które można utworzyć z różnych cyfr należących do zbioru $X = \\{0,1,2,3,4,5,6\\}$ i które są mniejsze od 3500.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą stać na pierwszym miejscu liczby czterocyfrowej?",
        "expression": "Pierwsza cyfra: $\\{1,2,3,4,5,6\\}$ (nie może być 0)",
        "explanation": "Liczba czterocyfrowa nie może zaczynać się od zera",
        "why": "To podstawowy warunek liczby czterocyfrowej. Gdyby pierwsza cyfra była 0, otrzymalibyśmy liczbę trzycyfrową."
      },
      {
        "step": 2,
        "hint": "Co oznacza warunek 'mniejsze od 3500' dla pierwszej cyfry?",
        "expression": "Przypadek 1: pierwsza cyfra $\\in \\{1,2\\}$ - bez dodatkowych ograniczeń",
        "explanation": "Gdy liczba zaczyna się od 1 lub 2, zawsze będzie mniejsza od 3500"
      },
      {
        "step": 3,
        "hint": "A co gdy pierwsza cyfra to 3? Jakie ograniczenia nałoży druga cyfra?",
        "expression": "Przypadek 2: pierwsza cyfra = 3, druga cyfra $\\in \\{0,1,2,4\\}$",
        "explanation": "Dla liczb 3abc < 3500 druga cyfra musi być mniejsza od 5",
        "why": "Gdy pierwsza cyfra to 3, musimy sprawdzić drugą: 35xx ≥ 3500, więc druga cyfra może być tylko 0,1,2,4 (pomijamy 3, bo cyfry mają być różne)."
      },
      {
        "step": 4,
        "hint": "Ile sposobów mamy dla przypadku 1 (pierwsza cyfra 1 lub 2)?",
        "expression": "Przypadek 1: $2 \\times 6 \\times 5 \\times 4 = 240$",
        "explanation": "2 wybory pierwszej cyfry, 6 drugiej (wszystkie z X oprócz pierwszej), 5 trzeciej, 4 czwartej"
      },
      {
        "step": 5,
        "hint": "A ile dla przypadku 2a (pierwsza cyfra 3, druga to 0)?",
        "expression": "Przypadek 2a (30ab): $1 \\times 1 \\times 5 \\times 4 = 20$",
        "explanation": "Pierwsza cyfra = 3, druga = 0, pozostałe 5 cyfr na trzecie miejsce, 4 na czwarte"
      },
      {
        "step": 6,
        "hint": "Ile dla przypadku 2b (pierwsza cyfra 3, druga z {1,2,4})?",
        "expression": "Przypadek 2b (3xab, gdzie x ∈ {1,2,4}): $1 \\times 3 \\times 4 \\times 3 = 36$",
        "explanation": "Pierwsza = 3, druga z {1,2,4}, pozostałe 4 cyfry na trzecie miejsce (bez 0 i dwóch użytych), 3 na czwarte",
        "why": "Gdy druga cyfra to 1, 2 lub 4, na trzecie miejsce zostają 4 cyfry (usuwamy 0 nie można, bo już użyliśmy pierwszą i drugą), na czwarte miejsce 3 cyfry."
      },
      {
        "step": 7,
        "hint": "Jak połączyć wszystkie przypadki w końcowy wynik?",
        "expression": "Razem: $240 + 20 + 36 = 296$",
        "explanation": "Sumujemy wszystkie możliwe przypadki"
      }
    ],
    "solutions": [
      "296"
    ],
    "parameters": {
      "set": "$X = \\{0,1,2,3,4,5,6\\}$",
      "condition": "liczby czterocyfrowe < 3500 z różnych cyfr"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-09-22T12:26:47.445Z"
  },
  {
    "id": "pin_complement_counting",
    "topic": "Zasada dopełnienia w kombinatoryce",
    "difficulty": 3,
    "statement": "Oblicz, na ile sposobów można utworzyć PIN czterocyfrowy, w którym co najmniej jedna cyfra nie jest zerem.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile w ogóle istnieje czterocyfrowych kodów PIN?",
        "expression": "Wszystkich PIN-ów: $10^4 = 10000$",
        "explanation": "Każda z 4 pozycji może być cyfrą od 0 do 9"
      },
      {
        "step": 2,
        "hint": "Co to znaczy 'co najmniej jedna cyfra nie jest zerem'?",
        "expression": "Co najmniej jedna cyfra $\\neq 0$ oznacza: nie wszystkie cyfry to zera",
        "explanation": "Szukamy PIN-ów, które nie składają się wyłącznie z zer"
      },
      {
        "step": 3,
        "hint": "Czy łatwiej policzyć wprost, czy może użyć zasady dopełnienia?",
        "expression": "Zasada dopełnienia: |A| = |U| - |A'|",
        "explanation": "Odejmiemy od wszystkich PIN-ów te składające się tylko z zer",
        "why": "Bezpośrednie liczenie byłoby bardzo skomplikowane - musielibyśmy rozważać przypadki z 1, 2, 3 lub 4 cyframi różnymi od zera. Zasada dopełnienia znacznie upraszcza problem."
      },
      {
        "step": 4,
        "hint": "Ile jest PIN-ów składających się wyłącznie z zer?",
        "expression": "PIN-ów tylko z zerami: $1$",
        "explanation": "Istnieje dokładnie jeden taki PIN: 0000"
      },
      {
        "step": 5,
        "hint": "Jak teraz otrzymać odpowiedź końcową?",
        "expression": "PIN-ów z co najmniej jedną cyfrą $\\neq 0$: $10000 - 1 = 9999$",
        "explanation": "Odejmujemy od wszystkich PIN-ów ten jeden składający się tylko z zer"
      }
    ],
    "solutions": [
      "9999"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 1
      }
    },
    "timestamp": "2025-09-22T12:26:59.196Z"
  },
  {
    "id": "pin_code_constraint",
    "topic": "Kombinatoryka z ograniczeniami",
    "difficulty": 3,
    "statement": "Oblicz, na ile sposobów można utworzyć PIN czterocyfrowy, w którym pierwsza cyfra jest o 3 większa od ostatniej cyfry.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry może przyjąć ostatnia pozycja, żeby pierwsza była o 3 większa?",
        "expression": "Ostatnia cyfra: $d \\in \\{0, 1, 2, 3, 4, 5, 6\\}$",
        "explanation": "Pierwsza cyfra to $d + 3$, więc musi być ≤ 9",
        "why": "Jeśli ostatnia cyfra to 7, to pierwsza byłaby 10 - to niemożliwe. Cyfry to tylko 0-9!"
      },
      {
        "step": 2,
        "hint": "Ile par (pierwsza, ostatnia) cyfra spełnia nasze ograniczenie?",
        "expression": "Możliwe pary: $(3,0), (4,1), (5,2), (6,3), (7,4), (8,5), (9,6)$",
        "explanation": "Mamy 7 możliwych par cyfr na pozycjach pierwszej i ostatniej"
      },
      {
        "step": 3,
        "hint": "Co możemy powiedzieć o drugiej i trzeciej cyfrze PIN-u?",
        "expression": "Druga cyfra: 10 możliwości, trzecia cyfra: 10 możliwości",
        "explanation": "Środkowe cyfry mogą być dowolne (0-9), bez ograniczeń"
      },
      {
        "step": 4,
        "hint": "Jak połączyć wszystkie możliwości w jeden wynik?",
        "expression": "Liczba sposobów = $7 \\times 10 \\times 10 = 700$",
        "explanation": "Mnożymy liczbę możliwości dla każdej pozycji",
        "why": "Używamy reguły iloczynu: jeśli mamy $n_1$ sposobów na pierwszą pozycję, $n_2$ na drugą itd., to łącznie $n_1 \\times n_2 \\times ...$"
      }
    ],
    "solutions": [
      "700"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:27:10.275Z"
  },
  {
    "id": "pin_decreasing_digits",
    "topic": "Kombinatoryka - ciągi malejące",
    "difficulty": 3,
    "statement": "Oblicz, na ile sposobów można utworzyć PIN czterocyfrowy, w którym każda kolejna cyfra jest mniejsza od bezpośrednio ją poprzedzającej o 1.",
    "steps": [
      {
        "step": 1,
        "hint": "Jak będzie wyglądać taki PIN, jeśli pierwsza cyfra to a?",
        "expression": "PIN ma postać: $a, (a-1), (a-2), (a-3)$",
        "explanation": "Każda kolejna cyfra jest o 1 mniejsza od poprzedniej"
      },
      {
        "step": 2,
        "hint": "Jakie ograniczenia mają cyfry w systemie dziesiętnym?",
        "expression": "Wszystkie cyfry muszą być z zakresu $\\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\\}$",
        "explanation": "PIN składa się z cyfr dziesiętnych"
      },
      {
        "step": 3,
        "hint": "Jaka musi być minimalna wartość pierwszej cyfry a, żeby ostatnia cyfra była nieujemna?",
        "expression": "Ostatnia cyfra: $a - 3 \\geq 0$, więc $a \\geq 3$",
        "explanation": "Najmniejsza cyfra w PIN-ie to $a-3$, która musi być nieujemna",
        "why": "To kluczowe ograniczenie - jeśli $a < 3$, to $a-3 < 0$ i nie będzie to cyfra. Na przykład dla $a = 2$ mielibyśmy PIN: 2, 1, 0, -1."
      },
      {
        "step": 4,
        "hint": "Jaka może być maksymalna wartość pierwszej cyfry a?",
        "expression": "Pierwsza cyfra: $a \\leq 9$",
        "explanation": "Największa możliwa cyfra to 9"
      },
      {
        "step": 5,
        "hint": "Ile różnych wartości może przyjąć pierwsza cyfra a?",
        "expression": "$a \\in \\{3, 4, 5, 6, 7, 8, 9\\}$",
        "explanation": "Pierwsza cyfra może przyjąć 7 różnych wartości",
        "why": "Każda wartość $a$ jednoznacznie określa cały PIN. Na przykład: $a=5$ daje PIN 5432, $a=9$ daje PIN 9876."
      },
      {
        "step": 6,
        "hint": "Czy wybór pierwszej cyfry jednoznacznie określa cały PIN?",
        "expression": "Liczba PIN-ów = 7",
        "explanation": "Każda z 7 możliwych wartości pierwszej cyfry daje dokładnie jeden PIN"
      }
    ],
    "solutions": [
      "7"
    ],
    "parameters": {
      "possible_pins": [
        "3210",
        "4321",
        "5432",
        "6543",
        "7654",
        "8765",
        "9876"
      ]
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:27:23.744Z"
  },
  {
    "id": "pin_sum_4_combinatorics",
    "topic": "Kombinatoryka z ograniczeniami",
    "difficulty": 4,
    "statement": "Oblicz, na ile sposobów można utworzyć PIN czterocyfrowy, w którym suma cyfr jest równa 4.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą wystąpić w PIN-ie, jeśli suma ma być równa 4?",
        "expression": "Cyfry: $0, 1, 2, 3, 4$ (cyfry większe od 4 uniemożliwiłyby sumę równą 4)",
        "explanation": "Ograniczamy zbiór możliwych cyfr ze względu na warunek sumy"
      },
      {
        "step": 2,
        "hint": "Na ile sposobów można rozłożyć liczbę 4 na sumę czterech składników nieujemnych?",
        "expression": "Szukamy liczby rozwiązań równania $x_1 + x_2 + x_3 + x_4 = 4$, gdzie $x_i \\in \\{0,1,2,3,4\\}$",
        "explanation": "To problem rozkładu liczby na składniki z ograniczeniami",
        "why": "Każde $x_i$ reprezentuje cyfrę na i-tej pozycji. Ograniczenie $x_i \\leq 4$ jest automatycznie spełnione, bo suma wynosi 4."
      },
      {
        "step": 3,
        "hint": "Które rozkłady liczby 4 na cztery składniki są możliwe?",
        "expression": "Możliwe rozkłady: $(4,0,0,0)$, $(3,1,0,0)$, $(2,2,0,0)$, $(2,1,1,0)$, $(1,1,1,1)$",
        "explanation": "Systematycznie wypisujemy wszystkie sposoby rozłożenia 4 na cztery nieujemne składniki"
      },
      {
        "step": 4,
        "hint": "Ile permutacji ma każdy z tych rozkładów?",
        "expression": "$(4,0,0,0)$: $\\frac{4!}{1!3!} = 4$ permutacje",
        "explanation": "Liczba permutacji z powtórzeniami dla rozkładu z jedną czwórką i trzema zerami",
        "why": "Wzór $\\frac{n!}{n_1!n_2!...n_k!}$ liczy permutacje z powtórzeniami, gdzie $n_i$ to liczba wystąpień i-tego elementu."
      },
      {
        "step": 5,
        "hint": "Jak obliczyć permutacje dla pozostałych rozkładów?",
        "expression": "$(3,1,0,0)$: $\\frac{4!}{1!1!2!} = 12$, $(2,2,0,0)$: $\\frac{4!}{2!2!} = 6$, $(2,1,1,0)$: $\\frac{4!}{1!2!1!} = 12$, $(1,1,1,1)$: $\\frac{4!}{4!} = 1$",
        "explanation": "Obliczamy permutacje z powtórzeniami dla każdego rozkładu"
      },
      {
        "step": 6,
        "hint": "Jaka jest suma wszystkich możliwości?",
        "expression": "$4 + 12 + 6 + 12 + 1 = 35$",
        "explanation": "Dodajemy liczbę permutacji dla wszystkich rozkładów"
      }
    ],
    "solutions": [
      "35"
    ],
    "parameters": {
      "constraint": "suma cyfr = 4",
      "pin_length": 4
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:27:39.347Z"
  },
  {
    "id": "lottery_probability",
    "topic": "Prawdopodobieństwo warunkowe",
    "difficulty": 4,
    "statement": "Na loterii znajduje się 6 losów wygrywających; jeden z wygraną 30 zł, dwa z wygraną 20 zł i trzy z wygraną 10 zł. Pozostałe 4 losy są puste. Losujemy dwa losy. Oblicz prawdopodobieństwo wygrania 30 zł.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile łącznie mamy losów i jak je można podzielić?",
        "expression": "Łącznie: $10$ losów (6 wygrywających + 4 puste)",
        "explanation": "Określamy przestrzeń wszystkich możliwych wyników"
      },
      {
        "step": 2,
        "hint": "Co dokładnie oznacza 'wygranie 30 zł' przy losowaniu dwóch losów?",
        "expression": "Wygranie 30 zł = wylosowanie losu z wygraną 30 zł (i dowolnego drugiego)",
        "explanation": "Precyzujemy zdarzenie, którego prawdopodobieństwo szukamy",
        "why": "Kluczowe jest zrozumienie, że wygrywamy 30 zł jeśli JEDEN z dwóch wylosowanych losów ma wygraną 30 zł. Drugi los może być dowolny."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można wylosować 2 losy z 10?",
        "expression": "Liczba wszystkich możliwości: $\\binom{10}{2} = \\frac{10!}{2! \\cdot 8!} = \\frac{10 \\cdot 9}{2} = 45$",
        "explanation": "Obliczamy liczbę wszystkich możliwych par losów"
      },
      {
        "step": 4,
        "hint": "W ilu przypadkach pierwszy los ma wygraną 30 zł, a drugi jest dowolny?",
        "expression": "Los z 30 zł na pierwszym miejscu: $1 \\cdot 9 = 9$ możliwości",
        "explanation": "Jeden sposób wyboru losu z 30 zł, 9 sposobów wyboru drugiego losu"
      },
      {
        "step": 5,
        "hint": "W ilu przypadkach drugi los ma wygraną 30 zł, a pierwszy jest dowolny?",
        "expression": "Los z 30 zł na drugim miejscu: $9 \\cdot 1 = 9$ możliwości",
        "explanation": "9 sposobów wyboru pierwszego losu, jeden sposób wyboru losu z 30 zł"
      },
      {
        "step": 6,
        "hint": "Czy przypadek 'oba losy z 30 zł' jest możliwy?",
        "expression": "Przypadek 'oba z 30 zł': niemożliwy (jest tylko jeden taki los)",
        "explanation": "Nie można wylosować dwóch losów z wygraną 30 zł, bo jest tylko jeden",
        "why": "Przy zliczaniu zdarzeń typu 'A lub B' musimy uważać na przecięcie. Tutaj przecięcie jest puste, więc nie odejmujemy nic."
      },
      {
        "step": 7,
        "hint": "Ile łącznie mamy korzystnych przypadków?",
        "expression": "Przypadki korzystne: $9 + 9 = 18$",
        "explanation": "Sumujemy przypadki gdy los z 30 zł jest pierwszy lub drugi"
      },
      {
        "step": 8,
        "hint": "Jak obliczyć prawdopodobieństwo ze wzoru klasycznego?",
        "expression": "$P = \\frac{18}{45} = \\frac{2}{5} = 0{,}4$",
        "explanation": "Prawdopodobieństwo to stosunek przypadków korzystnych do wszystkich możliwych"
      }
    ],
    "solutions": [
      "$P = \\frac{2}{5} = 0{,}4 = 40\\%$"
    ],
    "parameters": {
      "method": "Prawdopodobieństwo klasyczne z kombinacjami"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:27:57.308Z"
  },
  {
    "id": "probability_same_color",
    "topic": "Prawdopodobieństwo warunkowe",
    "difficulty": 3,
    "statement": "W pudełku znajdują się różnokolorowe kule: 2 czerwone, 3 białe i 5 niebieskich. Losujemy kolejno bez zwracania dwa razy jedną kulę. Oblicz prawdopodobieństwo zdarzenia, że obie wylosowane kule mają taki sam kolor.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile łącznie kul znajduje się w pudełku?",
        "expression": "Łączna liczba kul: $2 + 3 + 5 = 10$",
        "explanation": "Sumujemy wszystkie kule w pudełku"
      },
      {
        "step": 2,
        "hint": "Na ile sposobów można wylosować dwie kule z dziesięciu?",
        "expression": "Liczba wszystkich możliwych wyników: $\\binom{10}{2} = \\frac{10!}{2!(10-2)!} = \\frac{10 \\cdot 9}{2} = 45$",
        "explanation": "Obliczamy liczbę kombinacji dwuelementowych z 10 kul",
        "why": "Używamy kombinacji, bo kolejność losowania nie ma znaczenia dla wyniku końcowego - liczy się tylko to, które dwie kule wylosujemy."
      },
      {
        "step": 3,
        "hint": "Ile sposobów jest na wylosowanie dwóch czerwonych kul?",
        "expression": "Dwie czerwone: $\\binom{2}{2} = 1$",
        "explanation": "Z 2 czerwonych kul wybieramy 2"
      },
      {
        "step": 4,
        "hint": "A ile sposobów na wylosowanie dwóch białych kul?",
        "expression": "Dwie białe: $\\binom{3}{2} = \\frac{3!}{2!(3-2)!} = \\frac{3 \\cdot 2}{2} = 3$",
        "explanation": "Z 3 białych kul wybieramy 2"
      },
      {
        "step": 5,
        "hint": "Ile sposobów jest na wylosowanie dwóch niebieskich kul?",
        "expression": "Dwie niebieskie: $\\binom{5}{2} = \\frac{5!}{2!(5-2)!} = \\frac{5 \\cdot 4}{2} = 10$",
        "explanation": "Z 5 niebieskich kul wybieramy 2"
      },
      {
        "step": 6,
        "hint": "Czy zdarzenia 'dwie czerwone', 'dwie białe' i 'dwie niebieskie' mogą zajść jednocześnie?",
        "expression": "Liczba korzystnych wyników: $1 + 3 + 10 = 14$",
        "explanation": "Sumujemy wszystkie sposoby wylosowania dwóch kul tego samego koloru",
        "why": "Te zdarzenia są rozłączne - nie mogą zajść jednocześnie, więc prawdopodobieństwa dodajemy."
      },
      {
        "step": 7,
        "hint": "Jak obliczyć prawdopodobieństwo mając liczbę wyników korzystnych i wszystkich możliwych?",
        "expression": "$P = \\frac{14}{45}$",
        "explanation": "Prawdopodobieństwo to stosunek liczby wyników korzystnych do wszystkich możliwych"
      }
    ],
    "solutions": [
      "$P = \\frac{14}{45}$"
    ],
    "parameters": {
      "czerwone": 2,
      "białe": 3,
      "niebieskie": 5,
      "losowanie": "bez zwracania"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:28:11.738Z"
  },
  {
    "id": "probability_without_replacement",
    "topic": "Prawdopodobieństwo bez zwracania",
    "difficulty": 3,
    "statement": "W pudełku znajdują się różnokolorowe kule: 2 czerwone, 3 białe i 5 niebieskich. Losujemy kolejno bez zwracania dwa razy jedną kulę. Oblicz prawdopodobieństwo zdarzenia, że żadna z wylosowanych kul nie jest czerwona.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile łącznie kul znajduje się w pudełku?",
        "expression": "Łączna liczba kul: $2 + 3 + 5 = 10$",
        "explanation": "Sumujemy wszystkie kule w pudełku"
      },
      {
        "step": 2,
        "hint": "Ile kul nie jest czerwonych i co to oznacza dla pierwszego losowania?",
        "expression": "Kule nie-czerwone: $3 + 5 = 8$ (białe + niebieskie)",
        "explanation": "Kule, które mogą być wylosowane, aby spełnić warunek",
        "why": "Zdarzenie przeciwne do 'wylosowanie czerwonej' to 'wylosowanie białej lub niebieskiej'. Łatwiej liczyć kule nie-czerwone niż osobno białe i niebieskie."
      },
      {
        "step": 3,
        "hint": "Jakie jest prawdopodobieństwo, że pierwsza kula nie jest czerwona?",
        "expression": "$P(pierwsza nie-czerwona) = \\frac{8}{10} = \\frac{4}{5}$",
        "explanation": "8 kul nie-czerwonych z 10 możliwych"
      },
      {
        "step": 4,
        "hint": "Co się zmienia w pudełku po wylosowaniu pierwszej kuli nie-czerwonej?",
        "expression": "Po pierwszym losowaniu: 7 kul nie-czerwonych z 9 pozostałych",
        "explanation": "Jedna kula nie-czerwona została usunięta, więc zostało 7 z 9",
        "why": "Losowanie bez zwracania oznacza, że każde kolejne losowanie zmienia skład pudełka. Kluczowe: liczba czerwonych kul się nie zmieniła (nadal 2)!"
      },
      {
        "step": 5,
        "hint": "Jak obliczyć prawdopodobieństwo dwóch kolejnych zdarzeń?",
        "expression": "$P(druga nie-czerwona | pierwsza nie-czerwona) = \\frac{7}{9}$",
        "explanation": "Prawdopodobieństwo warunkowe dla drugiego losowania"
      },
      {
        "step": 6,
        "hint": "Jak połączyć prawdopodobieństwa obu losowań?",
        "expression": "$P(obie nie-czerwone) = \\frac{4}{5} \\cdot \\frac{7}{9} = \\frac{28}{45}$",
        "explanation": "Mnożymy prawdopodobieństwa kolejnych zdarzeń",
        "why": "Dla zdarzeń kolejnych (zależnych) prawdopodobieństwo iloczynu to iloczyn prawdopodobieństw. Wzór: $P(A \\cap B) = P(A) \\cdot P(B|A)$."
      }
    ],
    "solutions": [
      "$\\frac{28}{45}$"
    ],
    "parameters": {
      "red_balls": 2,
      "white_balls": 3,
      "blue_balls": 5,
      "total_balls": 10,
      "draws": 2,
      "replacement": false
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-09-22T12:28:28.950Z"
  },
  {
    "id": "polygon_diagonal_probability",
    "topic": "Prawdopodobieństwo geometryczne",
    "difficulty": 4,
    "statement": "Ze zbioru wierzchołków pewnego wielokąta wypukłego wybieramy losowo dwa wierzchołki. Prawdopodobieństwo wybrania wierzchołków wyznaczających przekątną tego wielokąta jest równe 0,8. Ile wierzchołków ma wielokąt?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile różnych par wierzchołków można wybrać z n-kąta?",
        "expression": "Liczba wszystkich par wierzchołków: $\\binom{n}{2} = \\frac{n(n-1)}{2}$",
        "explanation": "Wybieramy 2 wierzchołki z n dostępnych",
        "why": "To klasyczne kombinacje bez powtórzeń. Każda para wierzchołków wyznacza albo bok, albo przekątną wielokąta."
      },
      {
        "step": 2,
        "hint": "Które pary wierzchołków NIE tworzą przekątnych?",
        "expression": "Liczba boków wielokąta: $n$",
        "explanation": "Pary sąsiadujących wierzchołków tworzą boki, nie przekątne"
      },
      {
        "step": 3,
        "hint": "Jak obliczyć liczbę przekątnych, znając liczbę wszystkich par i boków?",
        "expression": "Liczba przekątnych: $\\binom{n}{2} - n = \\frac{n(n-1)}{2} - n = \\frac{n(n-3)}{2}$",
        "explanation": "Od wszystkich par odejmujemy pary tworzące boki",
        "why": "Przekątna łączy wierzchołki niesąsiadujące. Wzór $\\frac{n(n-3)}{2}$ to standardowy wzór na liczbę przekątnych n-kąta."
      },
      {
        "step": 4,
        "hint": "Jak zapisać prawdopodobieństwo jako stosunek korzystnych do wszystkich przypadków?",
        "expression": "$P = \\frac{liczba przekątnych}{liczba wszystkich par} = \\frac{\\frac{n(n-3)}{2}}{\\frac{n(n-1)}{2}} = \\frac{n-3}{n-1}$",
        "explanation": "Prawdopodobieństwo to stosunek przypadków korzystnych do wszystkich możliwych"
      },
      {
        "step": 5,
        "hint": "Jakie równanie otrzymasz, przyrównując to prawdopodobieństwo do 0,8?",
        "expression": "$\\frac{n-3}{n-1} = 0{,}8$",
        "explanation": "Podstawiamy dane prawdopodobieństwo"
      },
      {
        "step": 6,
        "hint": "Jak pozbyć się ułamka w równaniu?",
        "expression": "$n-3 = 0{,}8(n-1)$",
        "explanation": "Mnożymy obie strony przez $(n-1)$"
      },
      {
        "step": 7,
        "hint": "Co otrzymasz po rozwinięciu prawej strony i przeniesieniu wszystkiego na jedną stronę?",
        "expression": "$n-3 = 0{,}8n - 0{,}8$\n$n - 0{,}8n = 3 - 0{,}8$\n$0{,}2n = 2{,}2$",
        "explanation": "Porządkujemy równanie, zbierając wyrazy z n"
      },
      {
        "step": 8,
        "hint": "Jaka będzie końcowa wartość n?",
        "expression": "$n = \\frac{2{,}2}{0{,}2} = 11$",
        "explanation": "Dzielimy obie strony przez 0,2"
      }
    ],
    "solutions": [
      "$n = 11$"
    ],
    "parameters": {
      "verification": "Sprawdzenie: 11-kąt ma $\\frac{11 \\cdot 8}{2} = 44$ przekątne i $\\frac{11 \\cdot 10}{2} = 55$ par wierzchołków. $P = \\frac{44}{55} = \\frac{4}{5} = 0{,}8$ ✓"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:28:47.251Z"
  },
  {
    "id": "probability_white_balls",
    "topic": "Prawdopodobieństwo warunkowe",
    "difficulty": 4,
    "statement": "W pudełku jest pewna liczba kul białych i jedna kula czarna, wszystkie kule są rozróżnialne. Losujemy jedną kulę, zatrzymujemy ją, a następnie z pozostałych kul losujemy jedną kulę. Ile powinno być kul białych w pudełku, aby prawdopodobieństwo wylosowania dwóch kul białych było równe $\\frac{2}{3}$?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile łącznie kul będzie w pudełku, jeśli białych jest n?",
        "expression": "Liczba kul białych: $n$, liczba kul czarnych: $1$, łącznie: $n + 1$ kul",
        "explanation": "Określamy zmienne w zadaniu"
      },
      {
        "step": 2,
        "hint": "Jakie jest prawdopodobieństwo wylosowania białej kuli za pierwszym razem?",
        "expression": "$P(pierwsza biała) = \\frac{n}{n+1}$",
        "explanation": "Mamy n kul białych spośród n+1 wszystkich kul"
      },
      {
        "step": 3,
        "hint": "Co się zmienia w pudełku po wylosowaniu pierwszej białej kuli?",
        "expression": "Po wylosowaniu pierwszej białej: białych zostaje $n-1$, łącznie zostaje $n$ kul",
        "explanation": "Pierwsza kula została zatrzymana, więc zmniejsza się liczba kul w pudełku",
        "why": "To kluczowe - losowanie bez zwracania! Warunki się zmieniają po pierwszym losowaniu."
      },
      {
        "step": 4,
        "hint": "Jakie jest prawdopodobieństwo wylosowania drugiej białej kuli, gdy pierwsza była biała?",
        "expression": "$P(druga biała|pierwsza biała) = \\frac{n-1}{n}$",
        "explanation": "Prawdopodobieństwo warunkowe - zostało n-1 białych spośród n kul"
      },
      {
        "step": 5,
        "hint": "Jak obliczyć prawdopodobieństwo dwóch zdarzeń następujących po sobie?",
        "expression": "$P(dwie białe) = P(pierwsza biała) \\cdot P(druga biała|pierwsza biała) = \\frac{n}{n+1} \\cdot \\frac{n-1}{n}$",
        "explanation": "Używamy wzoru na prawdopodobieństwo zdarzeń zależnych",
        "why": "To reguła mnożenia dla zdarzeń zależnych. Alternatywa: kombinacje $\\binom{n}{2}/\\binom{n+1}{2}$."
      },
      {
        "step": 6,
        "hint": "Co można skrócić w tym ułamku?",
        "expression": "$P(dwie białe) = \\frac{n(n-1)}{(n+1)n} = \\frac{n-1}{n+1}$",
        "explanation": "Skracamy n w liczniku i mianowniku"
      },
      {
        "step": 7,
        "hint": "Jakie równanie otrzymasz, przyrównując to do $\\frac{2}{3}$?",
        "expression": "$\\frac{n-1}{n+1} = \\frac{2}{3}$",
        "explanation": "Przyrównujemy do zadanego prawdopodobieństwa"
      },
      {
        "step": 8,
        "hint": "Jak rozwiązać to równanie z ułamkami?",
        "expression": "$3(n-1) = 2(n+1)$",
        "explanation": "Mnożymy na krzyż",
        "why": "Mnożenie na krzyż to najszybszy sposób. Można też pomnożyć obie strony przez $3(n+1)$."
      },
      {
        "step": 9,
        "hint": "Co otrzymasz po rozwinięciu nawiasów?",
        "expression": "$3n - 3 = 2n + 2$",
        "explanation": "Rozwijamy nawiasy po obu stronach"
      },
      {
        "step": 10,
        "hint": "Jak wyizolować n?",
        "expression": "$3n - 2n = 2 + 3$, więc $n = 5$",
        "explanation": "Przenosimy wszystkie wyrazy z n na lewą stronę, resztę na prawą"
      }
    ],
    "solutions": [
      "$n = 5$ kul białych"
    ],
    "parameters": {
      "verification": "Sprawdzenie: $P = \\frac{5-1}{5+1} = \\frac{4}{6} = \\frac{2}{3}$ ✓"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-09-22T12:29:07.508Z"
  },
  {
    "id": "probability_at_least_one_girl",
    "topic": "Prawdopodobieństwo - zdarzenie przeciwne",
    "difficulty": 4,
    "statement": "W klasie IV b jest 9 dziewcząt i pewna liczba chłopców. Wybieramy losowo kolejno dwie osoby z tej klasy. Prawdopodobieństwo wybrania co najmniej jednej dziewczynki jest równe $\\frac{6}{7}$. Ilu chłopców jest w tej klasie?",
    "steps": [
      {
        "step": 1,
        "hint": "Oznaczmy liczbę chłopców jako x. Ile osób będzie w całej klasie?",
        "expression": "Liczba chłopców: $x$, liczba wszystkich uczniów: $9 + x$",
        "explanation": "Wprowadzamy oznaczenia dla nieznanej liczby chłopców"
      },
      {
        "step": 2,
        "hint": "Co jest łatwiejsze do obliczenia: prawdopodobieństwo co najmniej jednej dziewczynki czy samych chłopców?",
        "expression": "$P(co najmniej jedna dziewczynka) = 1 - P(sami chłopcy)$",
        "explanation": "Używamy zdarzenia przeciwnego",
        "why": "Zdarzenie 'co najmniej jedna dziewczynka' obejmuje wiele przypadków (1 dziewczynka + 1 chłopiec, 2 dziewczynki). Łatwiej obliczyć przeciwne zdarzenie 'sami chłopcy'."
      },
      {
        "step": 3,
        "hint": "Jak obliczyć prawdopodobieństwo wybrania dwóch chłopców kolejno bez zwracania?",
        "expression": "$P(sami chłopcy) = \\frac{x}{9+x} \\cdot \\frac{x-1}{9+x-1} = \\frac{x(x-1)}{(9+x)(8+x)}$",
        "explanation": "Pierwszy chłopiec: $\\frac{x}{9+x}$, drugi chłopiec: $\\frac{x-1}{8+x}$",
        "why": "Po wybraniu pierwszej osoby zostaje o jedną mniej w klasie. Jeśli pierwsza była chłopcem, to chłopców też jest o jednego mniej."
      },
      {
        "step": 4,
        "hint": "Jakie równanie otrzymamy podstawiając do wzoru na zdarzenie przeciwne?",
        "expression": "$\\frac{6}{7} = 1 - \\frac{x(x-1)}{(9+x)(8+x)}$",
        "explanation": "Podstawiamy dane prawdopodobieństwo do wzoru"
      },
      {
        "step": 5,
        "hint": "Co otrzymamy po przeniesieniu ułamka na lewą stronę?",
        "expression": "$\\frac{x(x-1)}{(9+x)(8+x)} = 1 - \\frac{6}{7} = \\frac{1}{7}$",
        "explanation": "Przekształcamy równanie"
      },
      {
        "step": 6,
        "hint": "Jak pozbyć się ułamków w równaniu?",
        "expression": "$7x(x-1) = (9+x)(8+x)$",
        "explanation": "Mnożymy obie strony przez $7(9+x)(8+x)$"
      },
      {
        "step": 7,
        "hint": "Co otrzymamy po rozwinięciu nawiasów po obu stronach?",
        "expression": "$7x^2 - 7x = 72 + 9x + 8x + x^2 = x^2 + 17x + 72$",
        "explanation": "Rozwijamy iloczyny"
      },
      {
        "step": 8,
        "hint": "Jakie równanie kwadratowe powstanie po przeniesieniu wszystkiego na jedną stronę?",
        "expression": "$6x^2 - 24x - 72 = 0$",
        "explanation": "Porządkujemy równanie: $7x^2 - 7x - x^2 - 17x - 72 = 0$"
      },
      {
        "step": 9,
        "hint": "Czy można uprościć to równanie przez podzielenie przez wspólny czynnik?",
        "expression": "$x^2 - 4x - 12 = 0$",
        "explanation": "Dzielimy przez 6",
        "why": "Zawsze warto uprościć równanie kwadratowe, jeśli to możliwe - ułatwia obliczenia."
      },
      {
        "step": 10,
        "hint": "Jakie liczby w iloczynie dają -12, a w sumie -4?",
        "expression": "$(x - 6)(x + 2) = 0$",
        "explanation": "Rozkładamy na czynniki: $6 \\cdot (-2) = -12$ i $6 + (-2) = 4$"
      },
      {
        "step": 11,
        "hint": "Które rozwiązanie ma sens w kontekście zadania?",
        "expression": "$x = 6$ lub $x = -2$",
        "explanation": "Liczba chłopców musi być dodatnia, więc $x = 6$"
      }
    ],
    "solutions": [
      "W klasie jest 6 chłopców"
    ],
    "parameters": {
      "verification": "Sprawdzenie: $P = 1 - \\frac{6 \\cdot 5}{15 \\cdot 14} = 1 - \\frac{30}{210} = 1 - \\frac{1}{7} = \\frac{6}{7}$ ✓"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 11,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-09-22T12:29:40.029Z"
  },
  {
    "id": "probability_balls_same_different",
    "topic": "Prawdopodobieństwo klasyczne",
    "difficulty": 4,
    "statement": "W skrzyni jest pewna liczba piłek do siatkówki i mniejsza liczba piłek do koszykówki - razem 9 piłek. Ile jest piłek do siatkówki, jeśli przy jednoczesnym losowaniu z tej skrzyni dwóch piłek prawdopodobieństwo wylosowania piłek do tej samej dyscypliny sportowej jest takie samo, jak prawdopodobieństwo wylosowania piłek do dwóch różnych dyscyplin?",
    "steps": [
      {
        "step": 1,
        "hint": "Jak oznaczyć liczbę piłek każdego rodzaju, wiedząc że razem jest 9?",
        "expression": "Niech $s$ = liczba piłek do siatkówki, $k$ = liczba piłek do koszykówki, gdzie $s + k = 9$ i $s > k$",
        "explanation": "Wprowadzamy zmienne dla liczby piłek każdego rodzaju"
      },
      {
        "step": 2,
        "hint": "Ile jest wszystkich sposobów wylosowania dwóch piłek z dziewięciu?",
        "expression": "Liczba wszystkich możliwych par: $\\binom{9}{2} = \\frac{9 \\cdot 8}{2} = 36$",
        "explanation": "To mianownik dla wszystkich prawdopodobieństw",
        "why": "Używamy kombinacji bez powtórzeń, bo kolejność losowania nie ma znaczenia. Wzór: $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można wylosować dwie piłki tej samej dyscypliny?",
        "expression": "Dwie piłki do siatkówki: $\\binom{s}{2}$, dwie do koszykówki: $\\binom{k}{2}$",
        "explanation": "Zliczamy korzystne przypadki dla piłek tej samej dyscypliny"
      },
      {
        "step": 4,
        "hint": "Jak wyrazić prawdopodobieństwo wylosowania piłek różnych dyscyplin?",
        "expression": "P(różne) = $\\frac{s \\cdot k}{36}$, P(takie same) = $\\frac{\\binom{s}{2} + \\binom{k}{2}}{36}$",
        "explanation": "Prawdopodobieństwo różnych to iloczyn liczb piłek każdego rodzaju",
        "why": "Dla różnych dyscyplin: pierwsza piłka może być dowolna z $s$ siatkówkowych, druga z $k$ koszykówkowych (lub odwrotnie), ale $s \\cdot k$ już uwzględnia oba przypadki."
      },
      {
        "step": 5,
        "hint": "Co oznacza warunek równości prawdopodobieństw?",
        "expression": "$\\frac{s \\cdot k}{36} = \\frac{\\binom{s}{2} + \\binom{k}{2}}{36}$",
        "explanation": "Prawdopodobieństwa są równe, więc przyrównujemy liczniki"
      },
      {
        "step": 6,
        "hint": "Jak uprościć równanie po podstawieniu wzorów na kombinacje?",
        "expression": "$s \\cdot k = \\frac{s(s-1)}{2} + \\frac{k(k-1)}{2}$",
        "explanation": "Podstawiamy wzory na kombinacje i upraszczamy",
        "why": "$\\binom{n}{2} = \\frac{n(n-1)}{2}$ to standardowy wzór. Mnożymy przez 2 obie strony dla ułatwienia."
      },
      {
        "step": 7,
        "hint": "Co otrzymasz po przemnożeniu przez 2 i podstawieniu $k = 9 - s$?",
        "expression": "$2s(9-s) = s(s-1) + (9-s)(8-s)$",
        "explanation": "Podstawiamy $k = 9 - s$ i mnożymy przez 2"
      },
      {
        "step": 8,
        "hint": "Jak wygląda równanie po rozwinięciu nawiasów?",
        "expression": "$18s - 2s^2 = s^2 - s + 72 - 17s + s^2$",
        "explanation": "Rozwijamy wszystkie nawiasy"
      },
      {
        "step": 9,
        "hint": "Do jakiej postaci sprowadzi się równanie kwadratowe?",
        "expression": "$18s - 2s^2 = 2s^2 - 18s + 72$, czyli $4s^2 - 36s + 72 = 0$",
        "explanation": "Przenosimy wszystko na jedną stronę i upraszczamy"
      },
      {
        "step": 10,
        "hint": "Jakie rozwiązania da równanie po podzieleniu przez 4?",
        "expression": "$s^2 - 9s + 18 = 0$, skąd $s = \\frac{9 \\pm 3}{2}$",
        "explanation": "Otrzymujemy $s = 6$ lub $s = 3$"
      },
      {
        "step": 11,
        "hint": "Które rozwiązanie spełnia warunek $s > k$?",
        "expression": "Dla $s = 6$: $k = 3$ (warunek $s > k$ spełniony), dla $s = 3$: $k = 6$ (warunek niespełniony)",
        "explanation": "Sprawdzamy oba rozwiązania względem warunków zadania"
      }
    ],
    "solutions": [
      "6 piłek do siatkówki"
    ],
    "parameters": {
      "total_balls": 9,
      "condition": "P(takie same) = P(różne)"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 11,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-09-22T12:30:04.592Z"
  },
  {
    "id": "permutation_probability",
    "topic": "Prawdopodobieństwo i permutacje",
    "difficulty": 3,
    "statement": "Przestawiając dowolnie cyfry 1, 2, 3, 4, 5 tworzymy losowo pięciocyfrowy kod. Opisz przestrzeń zdarzeń elementarnych. Oblicz prawdopodobieństwo zdarzenia, że najpierw ustawione są wszystkie cyfry będące liczbami parzystymi, następnie cyfry będące liczbami nieparzystymi.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile różnych sposobów ustawienia 5 cyfr możemy otrzymać?",
        "expression": "$|\\Omega| = 5! = 120$",
        "explanation": "Przestrzeń zdarzeń elementarnych to wszystkie możliwe permutacje cyfr 1, 2, 3, 4, 5",
        "why": "Każde zdarzenie elementarne to konkretne ustawienie cyfr, np. 12345, 54321 itp. Mamy 5 pozycji i 5 różnych cyfr - to klasyczna permutacja."
      },
      {
        "step": 2,
        "hint": "Które cyfry są parzyste, a które nieparzyste w zbiorze {1, 2, 3, 4, 5}?",
        "expression": "Cyfry parzyste: {2, 4}, cyfry nieparzyste: {1, 3, 5}",
        "explanation": "Dzielimy cyfry na dwie grupy według parzystości"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można ustawić cyfry parzyste na pierwszych pozycjach?",
        "expression": "$2! = 2$",
        "explanation": "Cyfry 2 i 4 można ustawić na pierwszych dwóch pozycjach na 2 sposoby",
        "why": "Mamy 2 cyfry parzyste i 2 pierwsze pozycje - to permutacja 2 elementów. Możliwe układy: 24... lub 42..."
      },
      {
        "step": 4,
        "hint": "A cyfry nieparzyste na pozostałych pozycjach?",
        "expression": "$3! = 6$",
        "explanation": "Cyfry 1, 3, 5 można ustawić na ostatnich trzech pozycjach na 6 sposobów"
      },
      {
        "step": 5,
        "hint": "Jak połączyć te dwa niezależne wybory w jeden wynik?",
        "expression": "$|A| = 2! \\cdot 3! = 2 \\cdot 6 = 12$",
        "explanation": "Liczba korzystnych zdarzeń to iloczyn możliwości dla każdej grupy",
        "why": "Zasada mnożenia: dla każdego z 2 sposobów ustawienia cyfr parzystych mamy 6 sposobów ustawienia nieparzystych."
      },
      {
        "step": 6,
        "hint": "Jak obliczyć prawdopodobieństwo mając liczbę zdarzeń korzystnych i wszystkich możliwych?",
        "expression": "$P(A) = \\frac{|A|}{|\\Omega|} = \\frac{12}{120} = \\frac{1}{10}$",
        "explanation": "Prawdopodobieństwo to stosunek liczby zdarzeń korzystnych do wszystkich możliwych"
      }
    ],
    "solutions": [
      "Przestrzeń zdarzeń elementarnych: wszystkie permutacje cyfr {1, 2, 3, 4, 5}, $|\\Omega| = 120$",
      "$P(A) = \\frac{1}{10} = 0{,}1$"
    ],
    "parameters": {
      "event_description": "A - najpierw cyfry parzyste {2, 4}, potem nieparzyste {1, 3, 5}"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-09-22T12:30:21.075Z"
  },
  {
    "id": "permutation_probability",
    "topic": "Prawdopodobieństwo i permutacje",
    "difficulty": 4,
    "statement": "Przestawiając dowolnie cyfry 1, 2, 3, 4, 5 tworzymy losowo pięciocyfrowy kod. Oblicz prawdopodobieństwo zdarzenia, że cyfry 1, 2, 3 stoją w podanej kolejności obok siebie.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile różnych kodów można utworzyć z 5 różnych cyfr?",
        "expression": "$|\\Omega| = 5! = 120$",
        "explanation": "Wszystkie możliwe permutacje 5 cyfr to przestrzeń zdarzeń elementarnych"
      },
      {
        "step": 2,
        "hint": "Co się stanie, jeśli potraktujemy blok 123 jako jeden element?",
        "expression": "Traktujemy blok (123) jako jeden element wraz z cyframi 4 i 5",
        "explanation": "Mamy teraz 3 elementy do przestawienia: (123), 4, 5",
        "why": "To kluczowa obserwacja! Zamiast 5 elementów mamy 3: blok cyfr i dwie pojedyncze cyfry. Cyfry w bloku muszą zachować kolejność 1-2-3."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można ustawić te 3 elementy?",
        "expression": "$|A| = 3! = 6$",
        "explanation": "Permutacje 3 elementów: (123), 4, 5"
      },
      {
        "step": 4,
        "hint": "Jakie konkretne kody spełniają warunek?",
        "expression": "12345, 12354, 41235, 51234, 45123, 54123",
        "explanation": "Wszystkie możliwe ustawienia bloku (123) z cyframi 4 i 5"
      },
      {
        "step": 5,
        "hint": "Jak obliczyć prawdopodobieństwo korzystając ze wzoru klasycznego?",
        "expression": "$P(A) = \\frac{|A|}{|\\Omega|} = \\frac{6}{120} = \\frac{1}{20}$",
        "explanation": "Stosunek liczby zdarzeń sprzyjających do wszystkich możliwych",
        "why": "Wzór klasyczny działa, bo wszystkie permutacje są jednakowo prawdopodobne. Można też myśleć: blok 123 to 3 z 5 pozycji, więc $\\frac{3!}{5!} = \\frac{6}{120}$."
      }
    ],
    "solutions": [
      "$P = \\frac{1}{20} = 0{,}05$"
    ],
    "parameters": {
      "method": "Permutacje z blokiem elementów"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:30:35.206Z"
  },
  {
    "id": "probability_anagram_mama",
    "topic": "Prawdopodobieństwo - permutacje z powtórzeniami",
    "difficulty": 3,
    "statement": "Mały chłopczyk przestawia losowo 4 klocki z literami A, A, M, M. Oblicz prawdopodobieństwo zdarzenia, że chłopiec ułoży słowo MAMA.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile różnych słów można ułożyć z liter A, A, M, M?",
        "expression": "Liczba wszystkich możliwych ustawień: $\\frac{4!}{2! \\cdot 2!} = \\frac{24}{4} = 6$",
        "explanation": "Używamy wzoru na permutacje z powtórzeniami dla 4 liter, gdzie A powtarza się 2 razy i M powtarza się 2 razy",
        "why": "Gdy mamy powtarzające się elementy, dzielimy przez silnie liczby powtórzeń, bo np. zamiana miejscami dwóch identycznych A nie tworzy nowego słowa."
      },
      {
        "step": 2,
        "hint": "Które konkretne słowa można utworzyć z tych liter?",
        "expression": "Możliwe słowa: AAMM, AMAM, AMMA, MAAM, MAMA, MMAA",
        "explanation": "Wypisujemy wszystkie 6 różnych kombinacji liter A, A, M, M"
      },
      {
        "step": 3,
        "hint": "Ile z tych słów to dokładnie MAMA?",
        "expression": "Liczba korzystnych zdarzeń: 1 (tylko słowo MAMA)",
        "explanation": "Spośród wszystkich możliwych słów tylko jedno to MAMA"
      },
      {
        "step": 4,
        "hint": "Jak obliczyć prawdopodobieństwo gdy znasz liczbę zdarzeń korzystnych i wszystkich możliwych?",
        "expression": "$P(MAMA) = \\frac{liczba zdarzeń korzystnych}{liczba wszystkich możliwych} = \\frac{1}{6}$",
        "explanation": "Prawdopodobieństwo to stosunek liczby zdarzeń korzystnych do liczby wszystkich możliwych zdarzeń"
      }
    ],
    "solutions": [
      "$P = \\frac{1}{6}$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 1
      }
    },
    "timestamp": "2025-09-22T12:30:46.982Z"
  },
  {
    "id": "probability_balls_boxes",
    "topic": "Prawdopodobieństwo klasyczne",
    "difficulty": 3,
    "statement": "Cztery ponumerowane kule umieszczono losowo w pięciu ponumerowanych szufladach. Oblicz prawdopodobieństwo zdarzenia A, że każda kula trafi do innej szuflady.",
    "steps": [
      {
        "step": 1,
        "hint": "Na ile sposobów można umieścić 4 kule w 5 szufladach bez ograniczeń?",
        "expression": "$|\\Omega| = 5^4 = 625$",
        "explanation": "Każda z 4 kul może trafić do dowolnej z 5 szuflad",
        "why": "To klasyczny przykład próbkowania ze zwracaniem - każda kula ma 5 możliwości niezależnie od innych."
      },
      {
        "step": 2,
        "hint": "Co oznacza warunek 'każda kula w innej szufladzie' dla wyboru szuflad?",
        "expression": "Musimy wybrać 4 różne szuflady z 5 dostępnych",
        "explanation": "Zdarzenie A to sytuacja, gdy żadne dwie kule nie są w tej samej szufladzie"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można wybrać 4 szuflady z 5, gdy kolejność ma znaczenie?",
        "expression": "$|A| = V_5^4 = \\frac{5!}{(5-4)!} = \\frac{5!}{1!} = 5 \\cdot 4 \\cdot 3 \\cdot 2 = 120$",
        "explanation": "Liczymy wariacje bez powtórzeń - pierwsza kula ma 5 opcji, druga 4, trzecia 3, czwarta 2",
        "why": "Używamy wariacji, nie kombinacji, bo kule są ponumerowane - kula nr 1 w szufladzie A i kula nr 2 w szufladzie B to inny układ niż odwrotnie."
      },
      {
        "step": 4,
        "hint": "Jak obliczyć prawdopodobieństwo używając definicji klasycznej?",
        "expression": "$P(A) = \\frac{|A|}{|\\Omega|} = \\frac{120}{625}$",
        "explanation": "Stosunek liczby zdarzeń sprzyjających do wszystkich możliwych"
      },
      {
        "step": 5,
        "hint": "Czy można uprościć ten ułamek dzieląc przez wspólny dzielnik?",
        "expression": "$P(A) = \\frac{120}{625} = \\frac{24}{125}$",
        "explanation": "Dzielimy licznik i mianownik przez 5"
      }
    ],
    "solutions": [
      "$P(A) = \\frac{24}{125} = 0{,}192$"
    ],
    "parameters": {
      "balls": 4,
      "boxes": 5
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:31:01.177Z"
  },
  {
    "id": "probability_balls_boxes",
    "topic": "Prawdopodobieństwo klasyczne",
    "difficulty": 3,
    "statement": "Cztery ponumerowane kule umieszczono losowo w pięciu ponumerowanych szufladach. Oblicz prawdopodobieństwo zdarzenia B, że wszystkie kule trafią do jednej szuflady.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile różnych sposobów rozmieszczenia kul możemy wyróżnić?",
        "expression": "$|\\Omega| = 5^4 = 625$",
        "explanation": "Każda z 4 kul może trafić do dowolnej z 5 szuflad",
        "why": "To klasyczna sytuacja: każda kula ma 5 możliwości wyboru szuflady niezależnie od innych. Reguła iloczynu daje $5 \\cdot 5 \\cdot 5 \\cdot 5 = 5^4$."
      },
      {
        "step": 2,
        "hint": "W ilu szufladach mogą się znaleźć wszystkie kule jednocześnie?",
        "expression": "Wszystkie kule mogą być w szufladzie nr 1, 2, 3, 4 lub 5",
        "explanation": "Mamy 5 możliwych szuflad, w których mogą się znaleźć wszystkie kule"
      },
      {
        "step": 3,
        "hint": "Ile jest sposobów umieszczenia wszystkich kul w konkretnej szufladzie?",
        "expression": "$|B| = 5 \\cdot 1 = 5$",
        "explanation": "Dla każdej z 5 szuflad jest dokładnie 1 sposób umieszczenia w niej wszystkich kul",
        "why": "Gdy wybierzemy konkretną szufladę (np. nr 3), to wszystkie 4 kule muszą trafić właśnie tam - jest tylko jeden taki sposób. Ale takich szuflad mamy 5."
      },
      {
        "step": 4,
        "hint": "Jak obliczyć prawdopodobieństwo korzystając z definicji klasycznej?",
        "expression": "$P(B) = \\frac{|B|}{|\\Omega|} = \\frac{5}{625} = \\frac{1}{125}$",
        "explanation": "Prawdopodobieństwo to stosunek liczby zdarzeń sprzyjających do wszystkich możliwych"
      }
    ],
    "solutions": [
      "$P(B) = \\frac{1}{125}$"
    ],
    "parameters": {
      "balls": 4,
      "boxes": 5
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:31:13.918Z"
  },
  {
    "id": "elevator_probability",
    "topic": "Prawdopodobieństwo klasyczne",
    "difficulty": 4,
    "statement": "Na parterze bloku, mającego oprócz parteru 6 pięter, wsiadło do windy 5 osób. Oblicz prawdopodobieństwo zdarzenia, że wszystkie osoby wysiądą na jednym piętrze (kolejność wychodzenia z windy na jednym piętrze nie jest istotna).",
    "steps": [
      {
        "step": 1,
        "hint": "Na ile różnych pięter mogą wysiadać osoby z windy?",
        "expression": "Liczba dostępnych pięter: $6$",
        "explanation": "Osoby mogą wysiadać na piętrach od 1 do 6 (parter nie wchodzi w grę)"
      },
      {
        "step": 2,
        "hint": "Ile jest wszystkich możliwych sposobów rozmieszczenia 5 osób na 6 piętrach?",
        "expression": "Liczba wszystkich możliwości: $6^5$",
        "explanation": "Każda z 5 osób może wybrać dowolne z 6 pięter niezależnie",
        "why": "To klasyczna sytuacja: każda osoba ma 6 wyborów, więc łącznie $6 \\times 6 \\times 6 \\times 6 \\times 6 = 6^5$ możliwości."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów wszystkie osoby mogą wysiadać na tym samym piętrze?",
        "expression": "Liczba korzystnych zdarzeń: $6 \\times 1^5 = 6$",
        "explanation": "Wybieramy jedno piętro (6 możliwości), a wszystkie osoby wysiadają na nim",
        "why": "Gdy już wybierzemy piętro, wszystkie 5 osób musi na nim wysiąść - to tylko 1 sposób dla każdego piętra."
      },
      {
        "step": 4,
        "hint": "Jak obliczyć prawdopodobieństwo używając definicji klasycznej?",
        "expression": "$P = \\frac{liczba zdarzeń korzystnych}{liczba wszystkich możliwości} = \\frac{6}{6^5}$",
        "explanation": "Stosujemy wzór na prawdopodobieństwo klasyczne"
      },
      {
        "step": 5,
        "hint": "Jak uprościć ten ułamek?",
        "expression": "$P = \\frac{6}{6^5} = \\frac{6}{6 \\cdot 6^4} = \\frac{1}{6^4}$",
        "explanation": "Skracamy przez 6"
      },
      {
        "step": 6,
        "hint": "Jaka jest końcowa wartość liczbowa tego prawdopodobieństwa?",
        "expression": "$P = \\frac{1}{6^4} = \\frac{1}{1296}$",
        "explanation": "Obliczamy $6^4 = 1296$"
      }
    ],
    "solutions": [
      "$P = \\frac{1}{1296}$"
    ],
    "parameters": {
      "floors": 6,
      "people": 5
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:31:27.642Z"
  },
  {
    "id": "elevator_probability",
    "topic": "Prawdopodobieństwo klasyczne",
    "difficulty": 4,
    "statement": "Na parterze bloku, mającego oprócz parteru 6 pięter, wsiadło do windy 5 osób. Oblicz prawdopodobieństwo zdarzenia, że każda osoba wysiądzie na innym piętrze.",
    "steps": [
      {
        "step": 1,
        "hint": "Na ile pięter mogą wyjść osoby z windy?",
        "expression": "Osoby mogą wyjść na piętra: 1, 2, 3, 4, 5, 6 (łącznie 6 pięter)",
        "explanation": "Blok ma parter plus 6 pięter, więc osoby mogą wyjść tylko na piętra od 1 do 6"
      },
      {
        "step": 2,
        "hint": "Ile jest wszystkich możliwych sposobów wysiadania 5 osób?",
        "expression": "$|\\Omega| = 6^5$",
        "explanation": "Każda z 5 osób może wybrać dowolne z 6 pięter niezależnie",
        "why": "To klasyczna sytuacja: każda osoba ma 6 wyborów, więc łącznie $6 \\times 6 \\times 6 \\times 6 \\times 6 = 6^5$ możliwości."
      },
      {
        "step": 3,
        "hint": "Co oznacza, że każda osoba wysiądzie na innym piętrze?",
        "expression": "Zdarzenie A: wszystkie 5 osób wysiada na różnych piętrach",
        "explanation": "Szukamy liczby sposobów przypisania 5 różnych pięter do 5 osób"
      },
      {
        "step": 4,
        "hint": "Ile sposobów jest na wybór 5 różnych pięter z 6 dostępnych?",
        "expression": "$|A| = 6 \\times 5 \\times 4 \\times 3 \\times 2$",
        "explanation": "Pierwsza osoba ma 6 wyborów, druga 5, trzecia 4, czwarta 3, piąta 2",
        "why": "To wariacje bez powtórzeń: $V_6^5 = \\frac{6!}{(6-5)!} = \\frac{6!}{1!} = 6!$. Każda kolejna osoba ma o jeden wybór mniej."
      },
      {
        "step": 5,
        "hint": "Jak obliczyć iloczyn $6 \\times 5 \\times 4 \\times 3 \\times 2$?",
        "expression": "$|A| = 6 \\times 5 \\times 4 \\times 3 \\times 2 = 720$",
        "explanation": "Obliczamy liczbę korzystnych zdarzeń"
      },
      {
        "step": 6,
        "hint": "Ile wynosi $6^5$ w liczniku?",
        "expression": "$|\\Omega| = 6^5 = 7776$",
        "explanation": "Obliczamy liczbę wszystkich możliwych zdarzeń"
      },
      {
        "step": 7,
        "hint": "Jak teraz zastosować definicję prawdopodobieństwa klasycznego?",
        "expression": "$P(A) = \\frac{|A|}{|\\Omega|} = \\frac{720}{7776}$",
        "explanation": "Prawdopodobieństwo to stosunek zdarzeń korzystnych do wszystkich możliwych"
      },
      {
        "step": 8,
        "hint": "Czy można uprościć ten ułamek?",
        "expression": "$P(A) = \\frac{720}{7776} = \\frac{5}{54}$",
        "explanation": "Dzielimy licznik i mianownik przez ich największy wspólny dzielnik 144",
        "why": "$720 = 144 \\times 5$ i $7776 = 144 \\times 54$. Można też zapisać jako $\\frac{5!}{6^5}$."
      }
    ],
    "solutions": [
      "$P(A) = \\frac{5}{54}$"
    ],
    "parameters": {
      "floors": 6,
      "people": 5
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-09-22T12:31:53.129Z"
  },
  {
    "id": "probability_arrangement",
    "topic": "Prawdopodobieństwo klasyczne",
    "difficulty": 3,
    "statement": "W szeregu ustawiamy losowo 4 kobiety i 4 mężczyzn. Oblicz prawdopodobieństwo zdarzenia, że najpierw stoją kobiety, a potem mężczyźni.",
    "steps": [
      {
        "step": 1,
        "hint": "Na ile sposobów można ustawić 8 osób w szeregu?",
        "expression": "$|\\Omega| = 8!$",
        "explanation": "Wszystkie możliwe ustawienia 8 osób to permutacje bez powtórzeń"
      },
      {
        "step": 2,
        "hint": "Co oznacza warunek 'najpierw kobiety, potem mężczyźni' dla kolejności?",
        "expression": "Pozycje 1-4: kobiety, pozycje 5-8: mężczyźni",
        "explanation": "Zdarzenie sprzyjające ma ustaloną strukturę: KKKKMMMM",
        "why": "To kluczowe ograniczenie - nie liczymy wszystkich mieszanych ustawień, tylko te o konkretnej strukturze."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można ustawić 4 kobiety na pierwszych 4 pozycjach?",
        "expression": "Kobiety na pozycjach 1-4: $4!$ sposobów",
        "explanation": "4 różne kobiety można permutować na 4 pozycjach"
      },
      {
        "step": 4,
        "hint": "Czy ustawienie mężczyzn zależy od ustawienia kobiet?",
        "expression": "Mężczyźni na pozycjach 5-8: $4!$ sposobów",
        "explanation": "4 różnych mężczyzn można niezależnie permutować na pozostałych 4 pozycjach"
      },
      {
        "step": 5,
        "hint": "Jak połączyć liczbę sposobów dla kobiet i mężczyzn?",
        "expression": "$|A| = 4! \\cdot 4!$",
        "explanation": "Zdarzenia są niezależne, więc mnożymy liczby możliwości",
        "why": "Reguła iloczynu: dla każdego z $4!$ ustawień kobiet mamy $4!$ ustawień mężczyzn."
      },
      {
        "step": 6,
        "hint": "Jaki jest wzór na prawdopodobieństwo klasyczne?",
        "expression": "$P(A) = \\frac{|A|}{|\\Omega|} = \\frac{4! \\cdot 4!}{8!}$",
        "explanation": "Prawdopodobieństwo to stosunek przypadków sprzyjających do wszystkich możliwych"
      },
      {
        "step": 7,
        "hint": "Jak uprościć ten ułamek wykorzystując właściwości silni?",
        "expression": "$P(A) = \\frac{4! \\cdot 4!}{8!} = \\frac{24 \\cdot 24}{40320} = \\frac{576}{40320} = \\frac{1}{70}$",
        "explanation": "Obliczamy wartości silni i upraszczamy ułamek"
      }
    ],
    "solutions": [
      "$P(A) = \\frac{1}{70}$"
    ],
    "parameters": {
      "people": "4 kobiety, 4 mężczyzn",
      "condition": "kobiety przed mężczyznami"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:32:09.465Z"
  },
  {
    "id": "alternating_arrangement_probability",
    "topic": "Prawdopodobieństwo - permutacje z ograniczeniami",
    "difficulty": 4,
    "statement": "W szeregu ustawiamy losowo 4 kobiety i 4 mężczyzn. Oblicz prawdopodobieństwo zdarzenia, że żadne dwie osoby tej samej płci nie stoją obok siebie.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile jest wszystkich możliwych ustawień 8 osób w szeregu?",
        "expression": "$|\\Omega| = 8!$",
        "explanation": "Wszystkie możliwe permutacje 8 osób"
      },
      {
        "step": 2,
        "hint": "Jak muszą być rozmieszczone osoby, żeby żadne dwie tej samej płci nie stały obok?",
        "expression": "Układ: K-M-K-M-K-M-K-M lub M-K-M-K-M-K-M-K",
        "explanation": "Osoby muszą się naprzemiennie",
        "why": "To jedyne możliwe układy przy równej liczbie kobiet i mężczyzn. Gdyby było nierówno, zadanie byłoby nierozwiązalne."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można wybrać, który układ będzie pierwszy - kobiety czy mężczyźni?",
        "expression": "2 możliwości: zaczynamy od K lub od M",
        "explanation": "Dwa podstawowe wzorce ustawienia"
      },
      {
        "step": 4,
        "hint": "Jeśli wzorzec jest już ustalony, na ile sposobów można ustawić kobiety na swoich miejscach?",
        "expression": "$4!$ sposobów ustawienia kobiet",
        "explanation": "4 kobiety na 4 wyznaczonych miejscach"
      },
      {
        "step": 5,
        "hint": "A na ile sposobów można ustawić mężczyzn na pozostałych miejscach?",
        "expression": "$4!$ sposobów ustawienia mężczyzn",
        "explanation": "4 mężczyzn na 4 pozostałych miejscach"
      },
      {
        "step": 6,
        "hint": "Jak połączyć wszystkie te możliwości w liczbę korzystnych zdarzeń?",
        "expression": "$|A| = 2 \\cdot 4! \\cdot 4! = 2 \\cdot 24 \\cdot 24 = 1152$",
        "explanation": "Mnożymy: wybór wzorca × ustawienia kobiet × ustawienia mężczyzn",
        "why": "Używamy reguły iloczynu - każdy wybór jest niezależny. Alternatywnie: można myśleć o tym jak o dwóch niezależnych permutacjach."
      },
      {
        "step": 7,
        "hint": "Jak obliczyć prawdopodobieństwo mając zdarzenia korzystne i wszystkie możliwe?",
        "expression": "$P(A) = \\frac{|A|}{|\\Omega|} = \\frac{1152}{8!} = \\frac{1152}{40320}$",
        "explanation": "Klasyczna definicja prawdopodobieństwa"
      },
      {
        "step": 8,
        "hint": "Czy można uprościć ten ułamek?",
        "expression": "$P(A) = \\frac{1152}{40320} = \\frac{1}{35}$",
        "explanation": "Upraszczamy ułamek dzieląc przez NWD(1152, 40320) = 1152"
      }
    ],
    "solutions": [
      "$P(A) = \\frac{1}{35}$"
    ],
    "parameters": {
      "total_people": 8,
      "women": 4,
      "men": 4
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:32:26.878Z"
  },
  {
    "id": "probability_seating_arrangement",
    "topic": "Prawdopodobieństwo klasyczne",
    "difficulty": 3,
    "statement": "Sześciu przyjaciół, wśród nich Jarek i Marek, wybrało się do kina. Mają bilety z kolejnymi miejscami w jednym rzędzie. Zakładając, że usiądą losowo na tych miejscach, oblicz prawdopodobieństwo zdarzenia, że Jarek i Marek usiądą na miejscach najbardziej od siebie odległych.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile różnych sposobów usadzenia 6 osób na 6 miejscach istnieje?",
        "expression": "$|\\Omega| = 6! = 720$",
        "explanation": "Przestrzeń wszystkich możliwych zdarzeń to permutacje 6 osób",
        "why": "W prawdopodobieństwie klasycznym najpierw liczymy wszystkie możliwe wyniki. Każda osoba może usiąść na dowolnym wolnym miejscu."
      },
      {
        "step": 2,
        "hint": "Które miejsca są najbardziej od siebie oddalone w rzędzie 6 miejsc?",
        "expression": "Miejsca 1 i 6",
        "explanation": "W rzędzie o 6 miejscach największa odległość to między pierwszym a ostatnim miejscem"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów Jarek i Marek mogą zająć miejsca 1 i 6?",
        "expression": "$2! = 2$",
        "explanation": "Jarek może usiąść na miejscu 1 (Marek na 6) lub na miejscu 6 (Marek na 1)"
      },
      {
        "step": 4,
        "hint": "Co z pozostałymi czterema osobami, gdy Jarek i Marek już zajęli swoje miejsca?",
        "expression": "$4! = 24$",
        "explanation": "Pozostałe 4 osoby mogą usiąść na 4 wolnych miejscach na $4!$ sposobów",
        "why": "Gdy pozycje Jarka i Marka są ustalone, pozostałe osoby można dowolnie permutować na wolnych miejscach."
      },
      {
        "step": 5,
        "hint": "Jak połączyć liczbę sposobów usadzenia Jarka z Markiem z resztą grupy?",
        "expression": "$|A| = 2 \\cdot 4! = 2 \\cdot 24 = 48$",
        "explanation": "Mnożymy liczbę sposobów usadzenia Jarka i Marka przez liczbę sposobów usadzenia pozostałych"
      },
      {
        "step": 6,
        "hint": "Jak obliczyć prawdopodobieństwo korzystając z definicji klasycznej?",
        "expression": "$P(A) = \\frac{|A|}{|\\Omega|} = \\frac{48}{720} = \\frac{1}{15}$",
        "explanation": "Prawdopodobieństwo to stosunek zdarzeń sprzyjających do wszystkich możliwych"
      }
    ],
    "solutions": [
      "$P = \\frac{1}{15}$"
    ],
    "parameters": {
      "people_count": 6,
      "specific_people": "Jarek i Marek"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:32:45.664Z"
  },
  {
    "id": "probability_seating_order",
    "topic": "Prawdopodobieństwo klasyczne",
    "difficulty": 3,
    "statement": "Sześciu przyjaciół, wśród nich Jarek i Marek, wybrało się do kina. Mają bilety z kolejnymi miejscami w jednym rzędzie. Zakładając, że usiądą losowo na tych miejscach, oblicz prawdopodobieństwo zdarzenia, że Jarek i Marek usiądą na dwóch pierwszych miejscach, w podanej kolejności, licząc od lewej strony.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile różnych sposobów usadzenia 6 osób w rzędzie możesz policzyć?",
        "expression": "$|\\Omega| = 6! = 720$",
        "explanation": "Wszystkie możliwe permutacje 6 osób na 6 miejscach",
        "why": "To przestrzeń wszystkich możliwych zdarzeń elementarnych. Każda osoba może zająć dowolne z pozostałych miejsc: 6·5·4·3·2·1."
      },
      {
        "step": 2,
        "hint": "Co musi się stać, żeby Jarek siedział na pierwszym miejscu?",
        "expression": "Jarek na miejscu 1: prawdopodobieństwo $\\frac{1}{6}$",
        "explanation": "Jarek może zająć jedno z sześciu miejsc, więc szansa na pierwsze miejsce to 1/6"
      },
      {
        "step": 3,
        "hint": "Jeśli Jarek już zajął pierwsze miejsce, jaka jest szansa Marka na drugie?",
        "expression": "Marek na miejscu 2 (gdy Jarek na 1): prawdopodobieństwo $\\frac{1}{5}$",
        "explanation": "Pozostało 5 wolnych miejsc, więc szansa Marka na drugie miejsce to 1/5"
      },
      {
        "step": 4,
        "hint": "Jak połączyć te dwa warunki w jedno prawdopodobieństwo?",
        "expression": "$P(A) = \\frac{1}{6} \\cdot \\frac{1}{5} = \\frac{1}{30}$",
        "explanation": "Mnożymy prawdopodobieństwa zdarzeń zależnych",
        "why": "To prawdopodobieństwo warunkowe: P(Marek na 2|Jarek na 1) · P(Jarek na 1). Alternatywnie: liczba korzystnych przypadków to 4! = 24 (pozostałe 4 osoby), więc P = 24/720 = 1/30."
      }
    ],
    "solutions": [
      "$P = \\frac{1}{30}$"
    ],
    "parameters": {
      "method": "Prawdopodobieństwo warunkowe lub zliczanie przypadków"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:32:59.965Z"
  },
  {
    "id": "probability_seating_arrangement",
    "topic": "Prawdopodobieństwo - rozmieszczenia",
    "difficulty": 4,
    "statement": "Sześciu przyjaciół, wśród nich Jarek i Marek, wybrało się do kina. Mają bilety z kolejnymi miejscami w jednym rzędzie. Zakładając, że usiądą losowo na tych miejscach, oblicz prawdopodobieństwo zdarzenia, że między Jarkiem i Markiem usiądzie jeszcze jedna osoba.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile jest wszystkich możliwych sposobów usadzenia 6 osób?",
        "expression": "$|\\Omega| = 6! = 720$",
        "explanation": "Przestrzeń wszystkich możliwych permutacji 6 osób na 6 miejscach"
      },
      {
        "step": 2,
        "hint": "Jak można interpretować warunek 'między nimi jedna osoba'?",
        "expression": "Jarek i Marek są oddaleni o dokładnie 2 miejsca",
        "explanation": "Między nimi jest dokładnie jedno wolne miejsce",
        "why": "Warunek 'między nimi jedna osoba' oznacza, że pozycje różnią się o 2. Na przykład: miejsca 1 i 3, lub 2 i 4, itd."
      },
      {
        "step": 3,
        "hint": "Ile par miejsc spełnia warunek odległości równej 2?",
        "expression": "Pary miejsc: $(1,3)$, $(2,4)$, $(3,5)$, $(4,6)$ - razem 4 pary",
        "explanation": "Miejsca numerowane 1-6, różnica pozycji równa 2"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można usadzić Jarka i Marka na wybranej parze miejsc?",
        "expression": "Na każdej parze miejsc: $2! = 2$ sposoby",
        "explanation": "Jarek może być po lewej lub prawej stronie Marka"
      },
      {
        "step": 5,
        "hint": "Co robimy z pozostałymi 4 osobami po usadzeniu Jarka i Marka?",
        "expression": "Pozostałe 4 osoby na 4 miejscach: $4! = 24$ sposoby",
        "explanation": "Permutujemy pozostałe osoby na wolnych miejscach"
      },
      {
        "step": 6,
        "hint": "Jak połączyć wszystkie możliwości w liczbę zdarzeń sprzyjających?",
        "expression": "$|A| = 4 \\times 2 \\times 24 = 192$",
        "explanation": "4 pary miejsc × 2 sposoby usadzenia J,M × 24 permutacje pozostałych",
        "why": "Używamy reguły mnożenia: wybieramy parę miejsc, usadzamy J i M, następnie pozostałe osoby. Te wybory są niezależne."
      },
      {
        "step": 7,
        "hint": "Jak obliczyć prawdopodobieństwo ze wzoru klasycznego?",
        "expression": "$P(A) = \\frac{|A|}{|\\Omega|} = \\frac{192}{720} = \\frac{4}{15}$",
        "explanation": "Stosunek liczby zdarzeń sprzyjających do wszystkich możliwych"
      }
    ],
    "solutions": [
      "$P = \\frac{4}{15}$"
    ],
    "parameters": {
      "people_count": 6,
      "target_distance": 2
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:33:16.794Z"
  },
  {
    "id": "probability_adjacent_seats",
    "topic": "Prawdopodobieństwo - zdarzenia przeciwne",
    "difficulty": 4,
    "statement": "W klasie IV f jest 32 uczniów, a wśród nich jest Darek i Franek. Cała klasa ma bilety do teatru na 20 miejsc od 1. do 20. w piątym rzędzie i 12 miejsc od 21. do 32. w siódmym rzędzie. Wszyscy uczniowie zajmują losowo te miejsca. Oblicz prawdopodobieństwo zdarzenia, że Darek i Franek nie usiądą obok siebie.",
    "steps": [
      {
        "step": 1,
        "hint": "Czy łatwiej obliczyć prawdopodobieństwo tego, że siedzą obok, czy że nie siedzą obok?",
        "expression": "$P(nie obok) = 1 - P(obok)$",
        "explanation": "Używamy zdarzenia przeciwnego - łatwiej obliczyć prawdopodobieństwo siedzenia obok",
        "why": "Zdarzenie przeciwne często upraszcza obliczenia. Zamiast liczyć wszystkie sposoby 'nie obok', liczymy sposoby 'obok' i odejmujemy od 1."
      },
      {
        "step": 2,
        "hint": "Na ile sposobów można rozmieścić wszystkich 32 uczniów na 32 miejscach?",
        "expression": "$|\\Omega| = 32!$",
        "explanation": "Przestrzeń wszystkich możliwych rozmieszeń uczniów na miejscach"
      },
      {
        "step": 3,
        "hint": "Ile par sąsiadujących miejsc można utworzyć w każdym rzędzie?",
        "expression": "Rząd 5: miejsca 1-20 dają 19 par sąsiadujących\nRząd 7: miejsca 21-32 dają 11 par sąsiadujących",
        "explanation": "W rzędzie z n miejscami jest n-1 par sąsiadujących miejsc",
        "why": "Miejsca 1,2,3,...,n tworzą pary: (1,2), (2,3), ..., (n-1,n). To daje n-1 par. Uwaga: miejsca z różnych rzędów NIE sąsiadują!"
      },
      {
        "step": 4,
        "hint": "Ile jest łącznie par sąsiadujących miejsc w całym teatrze?",
        "expression": "Łącznie par sąsiadujących: $19 + 11 = 30$",
        "explanation": "Sumujemy pary z obu rzędów"
      },
      {
        "step": 5,
        "hint": "Jeśli Darek i Franek siedzą na konkretnej parze miejsc, na ile sposobów można rozmieścić pozostałych uczniów?",
        "expression": "Dla każdej pary: Darek i Franek mogą usiąść na 2 sposoby, pozostali 30 uczniów na $30!$ sposobów",
        "explanation": "Na każdej parze miejsc: 2 sposoby dla Darka i Franka, reszta dowolnie"
      },
      {
        "step": 6,
        "hint": "Ile jest wszystkich sposobów, żeby Darek i Franek siedzieli obok siebie?",
        "expression": "$|A| = 30 \\times 2 \\times 30! = 60 \\times 30!$",
        "explanation": "30 par miejsc × 2 sposoby na każdej parze × 30! sposobów dla reszty"
      },
      {
        "step": 7,
        "hint": "Jak obliczyć prawdopodobieństwo siedzenia obok?",
        "expression": "$P(obok) = \\frac{60 \\times 30!}{32!} = \\frac{60 \\times 30!}{32 \\times 31 \\times 30!} = \\frac{60}{32 \\times 31}$",
        "explanation": "Prawdopodobieństwo jako stosunek przypadków sprzyjających do wszystkich możliwych"
      },
      {
        "step": 8,
        "hint": "Jak uprościć ten ułamek i obliczyć prawdopodobieństwo zdarzenia przeciwnego?",
        "expression": "$P(obok) = \\frac{60}{992} = \\frac{15}{248}$\n\n$P(nie obok) = 1 - \\frac{15}{248} = \\frac{233}{248}$",
        "explanation": "Upraszczamy ułamek i obliczamy prawdopodobieństwo zdarzenia przeciwnego"
      }
    ],
    "solutions": [
      "$P(Darek i Franek nie siedzą obok) = \\frac{233}{248}$"
    ],
    "parameters": {
      "students": 32,
      "row5_seats": "1-20",
      "row7_seats": "21-32"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:33:37.299Z"
  },
  {
    "id": "probability_sampling_with_replacement",
    "topic": "Prawdopodobieństwo - losowanie ze zwracaniem",
    "difficulty": 4,
    "statement": "Ze zbioru liczb $\\{1, 2, 3, ..., n\\}$, gdzie $n \\in \\mathbb{N}$, $n \\geq 2$, losujemy kolejno dwa razy jedną liczbę ze zwracaniem. Prawdopodobieństwo otrzymania za pierwszym razem liczby mniejszej niż za drugim razem jest równe $\\frac{7}{16}$. Oblicz $n$.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile wszystkich par $(a,b)$ możemy wylosować ze zbioru $n$ elementów?",
        "expression": "Liczba wszystkich możliwych par: $n^2$",
        "explanation": "Losujemy ze zwracaniem, więc każdy z $n$ wyborów pierwszej liczby może być połączony z każdym z $n$ wyborów drugiej liczby"
      },
      {
        "step": 2,
        "hint": "Kiedy pierwsza liczba jest mniejsza od drugiej? Co to oznacza dla par $(a,b)$?",
        "expression": "Szukamy par $(a,b)$ takich, że $a < b$",
        "explanation": "Interesują nas pary, gdzie pierwsza wylosowana liczba jest mniejsza od drugiej",
        "why": "To kluczowe zdarzenie w zadaniu. Musimy policzyć ile takich par istnieje w zbiorze $\\{1,2,...,n\\}$."
      },
      {
        "step": 3,
        "hint": "Dla ustalonej drugiej liczby $b$, ile może być pierwszych liczb $a$ takich że $a < b$?",
        "expression": "Dla $b = 2$: jedna para $(1,2)$\nDla $b = 3$: dwie pary $(1,3), (2,3)$\n...\nDla $b = n$: $(n-1)$ par",
        "explanation": "Systematycznie liczymy pary dla każdej możliwej wartości drugiej liczby"
      },
      {
        "step": 4,
        "hint": "Jak zsumować wszystkie możliwe pary $(a,b)$ gdzie $a < b$?",
        "expression": "Liczba par gdzie $a < b$: $1 + 2 + 3 + ... + (n-1) = \\frac{(n-1)n}{2}$",
        "explanation": "Używamy wzoru na sumę kolejnych liczb naturalnych",
        "why": "To klasyczny wzór: $1+2+...+k = \\frac{k(k+1)}{2}$. Tutaj $k = n-1$."
      },
      {
        "step": 5,
        "hint": "Jak zapisać prawdopodobieństwo jako stosunek liczby zdarzeń sprzyjających do wszystkich możliwych?",
        "expression": "$P(a < b) = \\frac{\\frac{(n-1)n}{2}}{n^2} = \\frac{n-1}{2n}$",
        "explanation": "Prawdopodobieństwo to stosunek liczby zdarzeń sprzyjających do liczby wszystkich zdarzeń"
      },
      {
        "step": 6,
        "hint": "Jakie równanie otrzymasz przyrównując to prawdopodobieństwo do $\\frac{7}{16}$?",
        "expression": "$\\frac{n-1}{2n} = \\frac{7}{16}$",
        "explanation": "Wykorzystujemy warunek z zadania"
      },
      {
        "step": 7,
        "hint": "Jak rozwiązać to równanie przez mnożenie na krzyż?",
        "expression": "$16(n-1) = 14n$\n$16n - 16 = 14n$\n$2n = 16$\n$n = 8$",
        "explanation": "Rozwiązujemy równanie liniowe względem $n$"
      },
      {
        "step": 8,
        "hint": "Czy warto sprawdzić poprawność wyniku?",
        "expression": "Sprawdzenie: $P = \\frac{8-1}{2 \\cdot 8} = \\frac{7}{16}$ ✓",
        "explanation": "Podstawiając $n = 8$ otrzymujemy dokładnie prawdopodobieństwo z zadania"
      }
    ],
    "solutions": [
      "$n = 8$"
    ],
    "parameters": {
      "constraint": "$n \\in \\mathbb{N}$, $n \\geq 2$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-09-22T12:33:56.215Z"
  },
  {
    "id": "probability_lottery_tickets",
    "topic": "Prawdopodobieństwo - losowanie bez zwracania",
    "difficulty": 4,
    "statement": "W pudełku znajduje się 8 losów pustych i pewna liczba losów wygrywających. Losujemy kolejno dwa razy po jednym losie bez zwracania. Prawdopodobieństwo wylosowania co najmniej jednego losu wygrywającego jest nie większe niż $\\frac{17}{45}$. Ile losów wygrywających było w pudełku?",
    "steps": [
      {
        "step": 1,
        "hint": "Jak oznaczyć nieznaną liczbę losów wygrywających?",
        "expression": "Niech $n$ = liczba losów wygrywających, więc łącznie mamy $8 + n$ losów",
        "explanation": "Wprowadzamy zmienną dla nieznanej liczby losów wygrywających"
      },
      {
        "step": 2,
        "hint": "Czy łatwiej obliczyć prawdopodobieństwo 'co najmniej jeden' bezpośrednio, czy przez dopełnienie?",
        "expression": "$P(co najmniej jeden wygrywający) = 1 - P(oba puste)$",
        "explanation": "Używamy wzoru na prawdopodobieństwo zdarzenia przeciwnego",
        "why": "Zdarzenie przeciwne do 'co najmniej jeden' to 'żaden'. Często łatwiej obliczyć prawdopodobieństwo 'żadnego' niż sumować wszystkie przypadki 'co najmniej jednego'."
      },
      {
        "step": 3,
        "hint": "Jak obliczyć prawdopodobieństwo wylosowania dwóch pustych losów bez zwracania?",
        "expression": "$P(oba puste) = \\frac{8}{8+n} \\cdot \\frac{7}{8+n-1} = \\frac{8 \\cdot 7}{(8+n)(7+n)}$",
        "explanation": "Pierwszy los pusty z prawdopodobieństwem $\\frac{8}{8+n}$, drugi z prawdopodobieństwem $\\frac{7}{7+n}$",
        "why": "Bez zwracania: po wylosowaniu pierwszego losu zostaje o jeden los mniej. Jeśli pierwszy był pusty, zostaje 7 pustych z $(8+n-1)$ losów."
      },
      {
        "step": 4,
        "hint": "Jak teraz wyrazić prawdopodobieństwo co najmniej jednego wygrywającego?",
        "expression": "$P(co najmniej jeden wygrywający) = 1 - \\frac{56}{(8+n)(7+n)}$",
        "explanation": "Podstawiamy do wzoru z kroku 2"
      },
      {
        "step": 5,
        "hint": "Jaką nierówność otrzymamy z warunków zadania?",
        "expression": "$1 - \\frac{56}{(8+n)(7+n)} \\leq \\frac{17}{45}$",
        "explanation": "Prawdopodobieństwo jest nie większe niż $\\frac{17}{45}$"
      },
      {
        "step": 6,
        "hint": "Co otrzymasz po przeniesieniu 1 na prawą stronę?",
        "expression": "$-\\frac{56}{(8+n)(7+n)} \\leq \\frac{17}{45} - 1 = -\\frac{28}{45}$",
        "explanation": "Przekształcamy nierówność"
      },
      {
        "step": 7,
        "hint": "Co się stanie ze znakiem nierówności przy mnożeniu przez -1?",
        "expression": "$\\frac{56}{(8+n)(7+n)} \\geq \\frac{28}{45}$",
        "explanation": "Mnożymy przez -1 i zmieniamy znak nierówności",
        "why": "Przy mnożeniu nierówności przez liczbę ujemną zawsze odwracamy znak nierówności!"
      },
      {
        "step": 8,
        "hint": "Jak uprościć tę nierówność przez skrócenie?",
        "expression": "$\\frac{2}{(8+n)(7+n)} \\geq \\frac{1}{45}$",
        "explanation": "Dzielimy licznik i mianownik lewej strony przez 28"
      },
      {
        "step": 9,
        "hint": "Co otrzymasz po przemnożeniu na krzyż?",
        "expression": "$2 \\cdot 45 \\geq (8+n)(7+n)$, czyli $(8+n)(7+n) \\leq 90$",
        "explanation": "Mnożymy obie strony przez $(8+n)(7+n) \\cdot 45$"
      },
      {
        "step": 10,
        "hint": "Jak rozwinąć iloczyn $(8+n)(7+n)$?",
        "expression": "$56 + 8n + 7n + n^2 = n^2 + 15n + 56 \\leq 90$",
        "explanation": "Rozwijamy nawias i porządkujemy wyrazy"
      },
      {
        "step": 11,
        "hint": "Jakie równanie kwadratowe otrzymasz po przeniesieniu wszystkiego na lewą stronę?",
        "expression": "$n^2 + 15n - 34 \\leq 0$",
        "explanation": "Przenosimy 90 na lewą stronę"
      },
      {
        "step": 12,
        "hint": "Jakie są pierwiastki równania $n^2 + 15n - 34 = 0$?",
        "expression": "$\\Delta = 15^2 + 4 \\cdot 34 = 225 + 136 = 361 = 19^2$, więc $n = \\frac{-15 \\pm 19}{2}$",
        "explanation": "Obliczamy deltę i pierwiastki"
      },
      {
        "step": 13,
        "hint": "Które wartości n spełniają nierówność kwadratową?",
        "expression": "$n_1 = \\frac{-15 + 19}{2} = 2$, $n_2 = \\frac{-15 - 19}{2} = -17$, więc $n \\in [-17, 2]$",
        "explanation": "Parabola o ramionach w górę, więc nierówność $\\leq 0$ między pierwiastkami"
      },
      {
        "step": 14,
        "hint": "Jakie dodatkowe ograniczenia ma liczba losów wygrywających?",
        "expression": "$n \\geq 0$ (liczba losów nie może być ujemna), więc $n \\in [0, 2]$",
        "explanation": "Uwzględniamy warunki fizyczne zadania",
        "why": "Liczba losów musi być nieujemną liczbą całkowitą. Sprawdzamy też czy dla n=0,1,2 warunek jest rzeczywiście spełniony."
      }
    ],
    "solutions": [
      "$n \\in \\{0, 1, 2\\}$",
      "Odpowiedź: W pudełku było 0, 1 lub 2 losy wygrywające"
    ],
    "parameters": {
      "constraint": "$P(\\text{co najmniej jeden wygrywający}) \\leq \\frac{17}{45}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 14,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-09-22T12:34:25.940Z"
  }
]