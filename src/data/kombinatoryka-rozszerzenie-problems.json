[
  {
    "id": "six_digit_numbers_with_three_ones",
    "topic": "Kombinatoryka - rozmieszczenia z powtórzeniami",
    "difficulty": 4,
    "statement": "Oblicz, ile jest wszystkich liczb naturalnych sześciocyfrowych, w których zapisie dziesiętnym dokładnie trzy razy występuje cyfra 1.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry może mieć liczba sześciocyfrowa na pierwszej pozycji?",
        "expression": "Liczba sześciocyfrowa: pierwsza cyfra $\\in \\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}$, pozostałe $\\in \\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\\}$",
        "explanation": "Pierwsza cyfra nie może być zerem, pozostałe mogą być dowolne",
        "why": "To kluczowe ograniczenie - pierwsza pozycja ma tylko 9 możliwości zamiast 10"
      },
      {
        "step": 2,
        "hint": "Jak podejść do problemu z dokładnie trzema jedynkami?",
        "expression": "Przypadek 1: jedynka na pierwszej pozycji, Przypadek 2: jedynka nie na pierwszej pozycji",
        "explanation": "Dzielimy problem na dwa przypadki ze względu na pierwszą pozycję",
        "interactive_choice": {
          "prompt": "Jak najlepiej rozłożyć problem z dokładnie trzema jedynkami w liczbie sześciocyfrowej?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć przypadki: jedynka na pierwszej pozycji lub nie",
              "feedback": "Świetnie! To naturalny podział - pierwsza pozycja ma inne ograniczenia",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć wzoru na kombinacje bez rozróżniania pozycji",
              "feedback": "Nie - pierwsza pozycja ma specjalne ograniczenia, trzeba je uwzględnić",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie możliwości i odjąć niepożądane",
              "feedback": "Zbyt skomplikowane - lepiej podzielić na przypadki według pierwszej pozycji",
              "is_correct": false
            }
          ],
          "explanation_after": "Podział na przypadki według pierwszej pozycji uwzględnia jej specjalne ograniczenia."
        }
      },
      {
        "step": 3,
        "hint": "Ile jedynek musi być na pozostałych pozycjach w przypadku 1?",
        "expression": "Przypadek 1: pierwsza pozycja = 1, pozostałe 5 pozycji zawiera dokładnie 2 jedynki",
        "explanation": "Jeśli pierwsza pozycja to jedynka, to na pozostałych 5 pozycjach muszą być dokładnie 2 jedynki"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można wybrać 2 pozycje z 5 pozostałych dla jedynek?",
        "expression": "$\\binom{5}{2} = \\frac{5!}{2! \\cdot 3!} = \\frac{5 \\cdot 4}{2 \\cdot 1} = 10$",
        "explanation": "Wybieramy 2 pozycje z 5 dla pozostałych jedynek"
      },
      {
        "step": 5,
        "hint": "Jakie cyfry mogą być na 3 pozostałych pozycjach (nie-jedynki)?",
        "expression": "Na każdej z 3 pozycji bez jedynek: 9 możliwości",
        "explanation": "Cyfry różne od 1, więc $\\{0, 2, 3, 4, 5, 6, 7, 8, 9\\}$",
        "interactive_choice": {
          "prompt": "Które cyfry mogą wystąpić na pozycjach gdzie nie ma jedynek?",
          "options": [
            {
              "id": "A",
              "text": "Cyfry $\\{0, 2, 3, 4, 5, 6, 7, 8, 9\\}$ - wszystkie oprócz 1",
              "feedback": "Dokładnie! Mamy 9 możliwości na każdej pozycji bez jedynki",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Cyfry $\\{2, 3, 4, 5, 6, 7, 8, 9\\}$ - bez 0 i 1",
              "feedback": "Nie - zero może wystąpić na pozycjach 2-6, tylko jedynka jest zabroniona",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wszystkie cyfry $\\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\\}$",
              "feedback": "Nie - jedynka nie może wystąpić, bo mamy już dokładnie 3 jedynki",
              "is_correct": false
            }
          ],
          "explanation_after": "Na pozycjach bez jedynek może być dowolna cyfra oprócz 1, więc 9 możliwości."
        }
      },
      {
        "step": 6,
        "hint": "Ile wynosi liczba możliwości w przypadku 1?",
        "expression": "Przypadek 1: $\\binom{5}{2} \\cdot 9^3 = 10 \\cdot 729 = 7290$",
        "explanation": "Mnożymy liczbę sposobów wyboru pozycji dla jedynek przez liczbę wypełnień pozostałych pozycji"
      },
      {
        "step": 7,
        "hint": "W przypadku 2, ile jedynek musi być na pozycjach 2-6?",
        "expression": "Przypadek 2: pierwsza pozycja $\\neq$ 1, pozycje 2-6 zawierają dokładnie 3 jedynki",
        "explanation": "Wszystkie 3 jedynki muszą być na pozycjach 2-6"
      },
      {
        "step": 8,
        "hint": "Ile jest sposobów wyboru pierwszej cyfry w przypadku 2?",
        "expression": "Pierwsza pozycja: 8 możliwości (cyfry $\\{2, 3, 4, 5, 6, 7, 8, 9\\}$)",
        "explanation": "Pierwsza cyfra nie może być 0 ani 1, więc zostaje 8 możliwości"
      },
      {
        "step": 9,
        "hint": "Na ile sposobów można rozmieścić 3 jedynki na 5 pozycjach?",
        "expression": "$\\binom{5}{3} = \\frac{5!}{3! \\cdot 2!} = \\frac{5 \\cdot 4}{2 \\cdot 1} = 10$",
        "explanation": "Wybieramy 3 pozycje z 5 dla jedynek"
      },
      {
        "step": 10,
        "hint": "Jakie cyfry mogą być na 2 pozostałych pozycjach w przypadku 2?",
        "expression": "Na każdej z 2 pozycji bez jedynek: 9 możliwości",
        "explanation": "Cyfry różne od 1, więc $\\{0, 2, 3, 4, 5, 6, 7, 8, 9\\}$",
        "interactive_choice": {
          "prompt": "Które cyfry mogą wystąpić na 2 pozycjach bez jedynek w przypadku 2?",
          "options": [
            {
              "id": "A",
              "text": "Cyfry $\\{0, 2, 3, 4, 5, 6, 7, 8, 9\\}$ - wszystkie oprócz 1",
              "feedback": "Tak! Na pozycjach 2-6 może być zero, więc 9 możliwości na każdej",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Cyfry $\\{2, 3, 4, 5, 6, 7, 8, 9\\}$ - bez 0 i 1",
              "feedback": "Nie - na pozycjach 2-6 zero jest dozwolone",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Tylko cyfry $\\{2, 3, 4, 5, 6, 7, 8, 9\\}$ jak na pierwszej pozycji",
              "feedback": "Nie - to dotyczy tylko pierwszej pozycji, na 2-6 może być zero",
              "is_correct": false
            }
          ],
          "explanation_after": "Na pozycjach 2-6 może być dowolna cyfra oprócz 1, włącznie z zerem."
        }
      },
      {
        "step": 11,
        "hint": "Ile wynosi liczba możliwości w przypadku 2?",
        "expression": "Przypadek 2: $8 \\cdot \\binom{5}{3} \\cdot 9^2 = 8 \\cdot 10 \\cdot 81 = 6480$",
        "explanation": "Mnożymy możliwości pierwszej pozycji, wyboru pozycji dla jedynek i wypełnienia pozostałych"
      },
      {
        "step": 12,
        "hint": "Jaka jest całkowita liczba sześciocyfrowych liczb z dokładnie trzema jedynkami?",
        "expression": "Razem: $7290 + 6480 = 13770$",
        "explanation": "Sumujemy oba przypadki",
        "why": "Przypadki są rozłączne - liczba albo ma jedynkę na pierwszej pozycji, albo nie ma"
      }
    ],
    "solutions": [
      "13770"
    ],
    "parameters": {
      "constraint": "dokładnie 3 jedynki w zapisie dziesiętnym",
      "number_type": "liczby sześciocyfrowe"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T06:54:34.982Z"
  },
  {
    "id": "six_digit_even_odd_counting",
    "topic": "Kombinatoryka - zliczanie z ograniczeniami",
    "difficulty": 4,
    "statement": "Ile jest liczb sześciocyfrowych liczb naturalnych, które mają cztery cyfry parzyste i dwie nieparzyste?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry są parzyste, a jakie nieparzyste?",
        "expression": "Cyfry parzyste: $\\{0, 2, 4, 6, 8\\}$ (5 cyfr), cyfry nieparzyste: $\\{1, 3, 5, 7, 9\\}$ (5 cyfr)",
        "explanation": "Identyfikujemy dostępne cyfry każdego typu"
      },
      {
        "step": 2,
        "hint": "Co charakteryzuje liczbę sześciocyfrową?",
        "expression": "Liczba sześciocyfrowa: pierwsza cyfra $\\neq 0$, pozostałe cyfry mogą być dowolne",
        "explanation": "Liczba ma postać $\\overline{c_1c_2c_3c_4c_5c_6}$ gdzie $c_1 \\in \\{1,2,3,4,5,6,7,8,9\\}$"
      },
      {
        "step": 3,
        "hint": "Którą metodę kombinatoryczną zastosować do tego problemu?",
        "expression": "Rozpatrujemy przypadki: pierwsza cyfra parzysta lub nieparzysta",
        "explanation": "Dzielimy problem ze względu na typ pierwszej cyfry",
        "interactive_choice": {
          "prompt": "Jak najlepiej podejść do zliczania liczb z 4 cyframi parzystymi i 2 nieparzystymi?",
          "options": [
            {
              "id": "A",
              "text": "Wybrać pozycje dla cyfr parzystych, potem wypełnić",
              "feedback": "Świetny wybór! Najpierw wybieramy 4 pozycje z 6 dla cyfr parzystych.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Rozpatrzyć wszystkie możliwe rozmieszczenia cyfr",
              "feedback": "Zbyt skomplikowane - lepiej użyć kombinacji do wyboru pozycji.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Policzyć osobno przypadki gdy pierwsza cyfra jest parzysta/nieparzysta",
              "feedback": "Dobra idea! To uwzględni ograniczenie $c_1 \\neq 0$.",
              "is_correct": true
            }
          ],
          "explanation_after": "Najlepiej rozpatrzyć przypadki ze względu na pierwszą cyfrę, bo nie może być zerem."
        }
      },
      {
        "step": 4,
        "hint": "Ile mamy możliwości gdy pierwsza cyfra jest nieparzysta?",
        "expression": "Przypadek 1: $c_1$ nieparzysta, pozostałe pozycje: 3 parzyste, 1 nieparzysta",
        "explanation": "Jeśli pierwsza cyfra jest nieparzysta, to z pozostałych 5 pozycji wybieramy 3 dla cyfr parzystych",
        "why": "Gdy pierwsza cyfra jest nieparzysta, nie ma problemu z zerem na pierwszej pozycji."
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można wybrać pozycje i wypełnić je cyframi?",
        "expression": "$5 \\times \\binom{5}{3} \\times 5^3 \\times 5^2 = 5 \\times 10 \\times 125 \\times 25 = 156\\,250$",
        "explanation": "5 wybory pierwszej cyfry × 10 sposobów wyboru 3 pozycji z 5 × $5^3$ wypełnień parzystych × $5^2$ wypełnień nieparzystych"
      },
      {
        "step": 6,
        "hint": "Co się dzieje gdy pierwsza cyfra jest parzysta?",
        "expression": "Przypadek 2: $c_1$ parzysta i $c_1 \\neq 0$, pozostałe pozycje: 3 parzyste, 2 nieparzyste",
        "explanation": "Pierwsza cyfra z $\\{2,4,6,8\\}$, z pozostałych 5 pozycji wybieramy 3 dla cyfr parzystych",
        "interactive_choice": {
          "prompt": "Jaki problem pojawia się gdy pierwsza cyfra ma być parzysta?",
          "options": [
            {
              "id": "A",
              "text": "Pierwsza cyfra nie może być zerem",
              "feedback": "Dokładnie! Musimy oddzielnie rozpatrzyć przypadki z zerem i bez zera.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Za mało cyfr parzystych do wyboru",
              "feedback": "Nie - mamy 5 cyfr parzystych, wystarczy na 4 pozycje.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Trudno wybrać pozycje dla pozostałych cyfr",
              "feedback": "To nie jest problem - kombinacje działają tak samo.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zero nie może być pierwszą cyfrą, więc musimy rozdzielić przypadki."
        }
      },
      {
        "step": 7,
        "hint": "Jak policzyć ten przypadek uwzględniając ograniczenie na zero?",
        "expression": "$4 \\times \\binom{5}{3} \\times 5^3 \\times 5^2 = 4 \\times 10 \\times 125 \\times 25 = 125\\,000$",
        "explanation": "4 wybory pierwszej cyfry × 10 sposobów wyboru pozycji × $5^3$ cyfr parzystych × $5^2$ cyfr nieparzystych",
        "interactive_choice": {
          "prompt": "Jak najlepiej policzyć przypadek gdy pierwsza cyfra jest parzysta (ale nie zero)?",
          "options": [
            {
              "id": "A",
              "text": "Rozdzielić na podprzypadki: zero na innych pozycjach lub nie",
              "feedback": "Skomplikowane, ale możliwe. Lepiej jest prostszy sposób.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pierwsza cyfra z {2,4,6,8}, pozostałe parzyste z {0,2,4,6,8}",
              "feedback": "Świetnie! 4 wybory pierwszej cyfry, potem normalne wypełnianie.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie, potem odjąć przypadki z zerem na początku",
              "feedback": "Możliwe, ale bardziej skomplikowane niż bezpośrednie liczenie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Najprościej: pierwsza cyfra z 4 możliwości, potem standardowe wypełnianie."
        }
      },
      {
        "step": 8,
        "hint": "Jaki jest całkowity wynik?",
        "expression": "$156\\,250 + 125\\,000 = 281\\,250$",
        "explanation": "Sumujemy oba przypadki: pierwsza cyfra nieparzysta + pierwsza cyfra parzysta (≠0)"
      }
    ],
    "solutions": [
      "$281\\,250$"
    ],
    "parameters": {
      "constraints": "Liczba sześciocyfrowa, 4 cyfry parzyste, 2 nieparzyste"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-17T06:55:07.727Z"
  },
  {
    "id": "six_digit_odd_digits",
    "topic": "Kombinatoryka - rozmieszczenia cyfr",
    "difficulty": 4,
    "statement": "Oblicz, ile jest wszystkich liczb naturalnych sześciocyfrowych, w których zapisie występują dokładnie trzy cyfry nieparzyste.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry są nieparzyste, a jakie parzyste?",
        "expression": "Cyfry nieparzyste: $\\{1, 3, 5, 7, 9\\}$ - jest ich 5",
        "explanation": "Identyfikujemy cyfry nieparzyste"
      },
      {
        "step": 2,
        "hint": "Jakie cyfry są parzyste i czy wszystkie możemy użyć na pierwszej pozycji?",
        "expression": "Cyfry parzyste: $\\{0, 2, 4, 6, 8\\}$ - jest ich 5",
        "explanation": "Identyfikujemy cyfry parzyste, ale pamiętamy że 0 nie może być pierwszą cyfrą"
      },
      {
        "step": 3,
        "hint": "Jak podejść do tego problemu kombinatorycznego?",
        "expression": "Etap 1: Wybór 3 pozycji z 6 dla cyfr nieparzystych",
        "explanation": "Dzielimy problem na wybór pozycji i wypełnienie cyframi",
        "interactive_choice": {
          "prompt": "Którą metodą najlepiej rozwiązać ten problem?",
          "options": [
            {
              "id": "A",
              "text": "Wybrać 3 pozycje dla cyfr nieparzystych, potem wypełnić",
              "feedback": "Świetny wybór! To metoda dwuetapowa - najpierw pozycje, potem cyfry.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Rozpatrzyć wszystkie przypadki gdzie jest pierwsza cyfra",
              "feedback": "Możliwe, ale bardzo pracochłonne - będzie dużo przypadków.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru na permutacje z powtórzeniami",
              "feedback": "Nie pasuje - tu nie mamy powtórzeń, tylko ograniczenia na typy cyfr.",
              "is_correct": false
            }
          ],
          "explanation_after": "Metoda dwuetapowa: wybieramy pozycje dla cyfr nieparzystych, potem je wypełniamy."
        }
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można wybrać 3 pozycje z 6 dla cyfr nieparzystych?",
        "expression": "$\\binom{6}{3} = \\frac{6!}{3! \\cdot 3!} = \\frac{6 \\cdot 5 \\cdot 4}{3 \\cdot 2 \\cdot 1} = 20$",
        "explanation": "Używamy symbolu Newtona do wyboru pozycji",
        "why": "To standardowy wybór bez względu na kolejność - kombinacje, nie wariacje."
      },
      {
        "step": 5,
        "hint": "Czy wszystkie te 20 sposobów są równoważne?",
        "expression": "Przypadek A: pierwsza pozycja ma cyfrę nieparzystą",
        "explanation": "Rozdzielamy na przypadki ze względu na pierwszą pozycję",
        "interactive_choice": {
          "prompt": "Czy musimy rozróżnić przypadki w zależności od wybranych pozycji?",
          "options": [
            {
              "id": "A",
              "text": "Nie, wszystkie wybory pozycji są równoważne",
              "feedback": "Uwaga! Pierwsza pozycja jest specjalna - nie może być 0.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Tak, musimy rozróżnić czy pierwsza pozycja ma cyfrę nieparzystą",
              "feedback": "Dokładnie! Pierwsza pozycja nie może mieć cyfry 0.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Tak, każda pozycja ma inne ograniczenia",
              "feedback": "Nie aż tak - tylko pierwsza pozycja jest specjalna.",
              "is_correct": false
            }
          ],
          "explanation_after": "Pierwsza pozycja nie może mieć cyfry 0, więc musimy rozróżnić przypadki."
        }
      },
      {
        "step": 6,
        "hint": "Ile jest sposobów wyboru pozycji gdy pierwsza ma być nieparzysta?",
        "expression": "Pierwsza pozycja zajęta, wybieramy 2 z pozostałych 5: $\\binom{5}{2} = 10$",
        "explanation": "Przypadek A: pierwsza pozycja nieparzysta, wybieramy 2 z 5 pozostałych"
      },
      {
        "step": 7,
        "hint": "Na ile sposobów wypełnić pozycje w przypadku A?",
        "expression": "3 pozycje nieparzyste: $5 \\cdot 4 \\cdot 3 = 60$ sposobów",
        "explanation": "Wariacje bez powtórzeń z 5 cyfr nieparzystych na 3 pozycje"
      },
      {
        "step": 8,
        "hint": "Na ile sposobów wypełnić pozostałe 3 pozycje parzyste w przypadku A?",
        "expression": "3 pozycje parzyste: $5 \\cdot 4 \\cdot 3 = 60$ sposobów",
        "explanation": "Wszystkie cyfry parzyste można użyć (pierwsza pozycja już zajęta)",
        "why": "W przypadku A pierwsza pozycja ma cyfrę nieparzystą, więc cyfra 0 może być na dowolnej z pozostałych pozycji parzystych."
      },
      {
        "step": 9,
        "hint": "Ile liczb daje przypadek A?",
        "expression": "Przypadek A: $10 \\cdot 60 \\cdot 60 = 36000$",
        "explanation": "Mnożymy: sposoby wyboru pozycji × sposoby wypełnienia nieparzystych × sposoby wypełnienia parzystych"
      },
      {
        "step": 10,
        "hint": "Ile jest sposobów wyboru pozycji gdy pierwsza ma być parzysta?",
        "expression": "Pierwsza pozycja parzysta, wybieramy 3 z pozostałych 5: $\\binom{5}{3} = 10$",
        "explanation": "Przypadek B: pierwsza pozycja parzysta, wszystkie 3 nieparzyste na pozycjach 2-6"
      },
      {
        "step": 11,
        "hint": "Jak wypełnić pierwszą pozycję w przypadku B?",
        "expression": "Pierwsza pozycja: 4 sposoby (cyfry 2, 4, 6, 8)",
        "explanation": "Na pierwszej pozycji nie może być 0",
        "interactive_choice": {
          "prompt": "Ile cyfr parzystych można użyć na pierwszej pozycji?",
          "options": [
            {
              "id": "A",
              "text": "5 cyfr: {0, 2, 4, 6, 8}",
              "feedback": "Nie! Cyfra 0 nie może być pierwszą cyfrą liczby.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "4 cyfry: {2, 4, 6, 8}",
              "feedback": "Dokładnie! Pierwsza cyfra nie może być zerem.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "3 cyfry, bo niektóre są już użyte",
              "feedback": "Nie - jeszcze nie użyliśmy żadnych cyfr, tylko 0 jest zabronione.",
              "is_correct": false
            }
          ],
          "explanation_after": "Pierwsza cyfra liczby naturalnej nie może być zerem."
        }
      },
      {
        "step": 12,
        "hint": "Na ile sposobów wypełnić pozostałe pozycje w przypadku B?",
        "expression": "3 pozycje nieparzyste: $5 \\cdot 4 \\cdot 3 = 60$ sposobów",
        "explanation": "Wariacje z 5 cyfr nieparzystych na 3 pozycje"
      },
      {
        "step": 13,
        "hint": "Na ile sposobów wypełnić 2 pozostałe pozycje parzyste w przypadku B?",
        "expression": "2 pozycje parzyste: $4 \\cdot 3 = 12$ sposobów",
        "explanation": "Z 4 pozostałych cyfr parzystych (jedna już użyta na pierwszej pozycji) wybieramy na 2 pozycje"
      },
      {
        "step": 14,
        "hint": "Ile liczb daje przypadek B?",
        "expression": "Przypadek B: $10 \\cdot 4 \\cdot 60 \\cdot 12 = 28800$",
        "explanation": "Mnożymy wszystkie możliwości w przypadku B"
      },
      {
        "step": 15,
        "hint": "Jaka jest końcowa odpowiedź?",
        "expression": "Razem: $36000 + 28800 = 64800$",
        "explanation": "Sumujemy oba przypadki - gdy pierwsza pozycja jest nieparzysta i gdy jest parzysta"
      }
    ],
    "solutions": [
      "64800"
    ],
    "parameters": {
      "constraint": "dokładnie 3 cyfry nieparzyste w liczbie 6-cyfrowej"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 15,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T06:55:45.694Z"
  },
  {
    "id": "five_digit_two_odd",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 4,
    "statement": "Oblicz, ile jest wszystkich liczb naturalnych pięciocyfrowych, w których zapisie występują dokładnie dwie cyfry nieparzyste.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry możemy użyć w liczbie pięciocyfrowej?",
        "expression": "Cyfry nieparzyste: $\\{1, 3, 5, 7, 9\\}$ (5 cyfr), cyfry parzyste: $\\{0, 2, 4, 6, 8\\}$ (5 cyfr)",
        "explanation": "Identyfikujemy dostępne cyfry i ich podział na parzyste i nieparzyste"
      },
      {
        "step": 2,
        "hint": "Jakie ograniczenia ma pierwsza cyfra liczby pięciocyfrowej?",
        "expression": "Pierwsza cyfra nie może być 0, więc może być: $\\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}$",
        "explanation": "Liczba pięciocyfrowa musi zaczynać się od cyfry różnej od zera",
        "why": "To kluczowe ograniczenie - pierwsza pozycja ma specjalne warunki, co wpływa na sposób liczenia."
      },
      {
        "step": 3,
        "hint": "Jak podejść do problemu z dokładnie dwiema cyframi nieparzystymi?",
        "expression": "Rozpatrzymy przypadki: pierwsza cyfra nieparzysta lub pierwsza cyfra parzysta",
        "explanation": "Dzielimy problem na przypadki ze względu na charakter pierwszej cyfry",
        "interactive_choice": {
          "prompt": "Którą metodę zastosować do zliczenia liczb z dokładnie dwiema cyframi nieparzystymi?",
          "options": [
            {
              "id": "A",
              "text": "Wybrać 2 pozycje z 5 dla cyfr nieparzystych, resztę wypełnić parzystymi",
              "feedback": "Dobra idea, ale uwaga na pierwszą pozycję - ma specjalne ograniczenia!",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Policzyć wszystkie możliwości i odjąć niepożądane",
              "feedback": "Możliwe, ale bardzo pracochłonne - lepiej liczyć bezpośrednio.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Rozpatrzyć przypadki w zależności od tego, czy pierwsza cyfra jest parzysta czy nieparzysta",
              "feedback": "Świetnie! To uwzględni specjalne ograniczenia pierwszej pozycji.",
              "is_correct": true
            }
          ],
          "explanation_after": "Najlepiej rozpatrzyć przypadki ze względu na pierwszą cyfrę, bo ma ona specjalne ograniczenia."
        }
      },
      {
        "step": 4,
        "hint": "Ile sposobów jest w przypadku gdy pierwsza cyfra jest nieparzysta?",
        "expression": "Przypadek 1: pierwsza cyfra nieparzysta, jedna z pozostałych czterech też nieparzysta",
        "explanation": "Pierwsza cyfra nieparzysta, dokładnie jedna z pozycji 2-5 nieparzysta, reszta parzyste"
      },
      {
        "step": 5,
        "hint": "Jak wybrać pozycje dla cyfr nieparzystych w przypadku 1?",
        "expression": "Pierwsza pozycja: 5 wybory (cyfry nieparzyste), jedna z pozycji 2-5: $\\binom{4}{1} = 4$ sposoby",
        "explanation": "Wybieramy pierwszą cyfrę nieparzystą i jedną pozycję z czterech pozostałych"
      },
      {
        "step": 6,
        "hint": "Ile sposobów wypełnienia wybranych pozycji w przypadku 1?",
        "expression": "Przypadek 1: $5 \\times 4 \\times 5 \\times 5^3 = 5 \\times 4 \\times 5 \\times 125 = 12500$",
        "explanation": "Pierwsza nieparzysta (5), pozycja dla drugiej nieparzystej (4), druga nieparzysta (5), trzy parzyste (5³)",
        "interactive_choice": {
          "prompt": "Jak wypełnić pozycje w przypadku gdy pierwsza cyfra i jedna inna są nieparzyste?",
          "options": [
            {
              "id": "A",
              "text": "Pierwsza pozycja: 5 sposobów, wybrana pozycja: 5 sposobów, pozostałe 3: po 5 sposobów każda",
              "feedback": "Nie - cyfry mogą się powtarzać, ale każda pozycja ma swoje ograniczenia.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pierwsza pozycja: 5 sposobów, wybrana pozycja: 5 sposobów, pozostałe 3: po 5 sposobów (cyfry parzyste)",
              "feedback": "Dokładnie! Cyfry mogą się powtarzać w tej samej liczbie.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wszystkie pozycje: po 4 sposoby (bez powtórzeń)",
              "feedback": "Nie - zadanie nie mówi o cyfrach różnych, mogą się powtarzać.",
              "is_correct": false
            }
          ],
          "explanation_after": "Cyfry mogą się powtarzać. Ważne jest tylko czy są parzyste czy nieparzyste."
        }
      },
      {
        "step": 7,
        "hint": "Ile sposobów jest w przypadku gdy pierwsza cyfra jest parzysta?",
        "expression": "Przypadek 2: pierwsza cyfra parzysta (ale nie 0), dokładnie dwie z pozycji 2-5 nieparzyste",
        "explanation": "Pierwsza cyfra parzysta różna od zera, dwie z pozostałych pozycji nieparzyste"
      },
      {
        "step": 8,
        "hint": "Jak wybrać pozycje i cyfry w przypadku 2?",
        "expression": "Pierwsza pozycja: 4 sposoby $\\{2,4,6,8\\}$, wybór 2 pozycji z 4: $\\binom{4}{2} = 6$ sposobów",
        "explanation": "Pierwsza cyfra parzysta (bez zera), wybieramy 2 pozycje z 4 pozostałych dla cyfr nieparzystych"
      },
      {
        "step": 9,
        "hint": "Ile sposobów wypełnienia wszystkich pozycji w przypadku 2?",
        "expression": "Przypadek 2: $4 \\times 6 \\times 5^2 \\times 5^2 = 4 \\times 6 \\times 25 \\times 25 = 15000$",
        "explanation": "Pierwsza parzysta bez zera (4), wybór pozycji (6), dwie nieparzyste (5²), dwie parzyste (5²)"
      },
      {
        "step": 10,
        "hint": "Jaki jest całkowity wynik?",
        "expression": "Łącznie: $12500 + 15000 = 27500$",
        "explanation": "Sumujemy wyniki z obu rozłącznych przypadków",
        "interactive_choice": {
          "prompt": "Jak połączyć wyniki z obu przypadków?",
          "options": [
            {
              "id": "A",
              "text": "Pomnożyć: $12500 \\times 15000$",
              "feedback": "Nie - to są rozłączne przypadki, należy je dodać.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Dodać: $12500 + 15000 = 27500$",
              "feedback": "Dokładnie! Przypadki się wykluczają, więc dodajemy.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wybrać większy: $15000$",
              "feedback": "Nie - oba przypadki są możliwe, musimy je uwzględnić.",
              "is_correct": false
            }
          ],
          "explanation_after": "Przypadki są rozłączne (pierwsza cyfra nie może być jednocześnie parzysta i nieparzysta), więc dodajemy wyniki."
        }
      }
    ],
    "solutions": [
      "27500"
    ],
    "parameters": {
      "digits": "pięciocyfrowe",
      "condition": "dokładnie dwie cyfry nieparzyste"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-17T06:56:21.050Z"
  },
  {
    "id": "five_digit_three_even",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 4,
    "statement": "Oblicz, ile jest wszystkich liczb naturalnych pięciocyfrowych, w których zapisie występują dokładnie trzy cyfry parzyste.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry są parzyste, a jakie nieparzyste?",
        "expression": "Cyfry parzyste: $\\{0, 2, 4, 6, 8\\}$ - 5 cyfr, Cyfry nieparzyste: $\\{1, 3, 5, 7, 9\\}$ - 5 cyfr",
        "explanation": "Identyfikujemy dostępne cyfry"
      },
      {
        "step": 2,
        "hint": "Jakie ograniczenia ma pierwsza cyfra liczby pięciocyfrowej?",
        "expression": "Pierwsza cyfra nie może być 0, więc może być: $\\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}$",
        "explanation": "Liczba pięciocyfrowa musi zaczynać się od cyfry różnej od zera",
        "why": "To kluczowe ograniczenie - pierwsza pozycja ma specjalne warunki."
      },
      {
        "step": 3,
        "hint": "Jak podejść do problemu z dokładnie trzema cyframi parzystymi?",
        "expression": "Rozpatrzmy przypadki: pierwsza cyfra parzysta lub nieparzysta",
        "explanation": "Dzielimy problem na przypadki ze względu na pierwszą cyfrę",
        "interactive_choice": {
          "prompt": "Którą metodę zastosować do zliczenia liczb z dokładnie 3 cyframi parzystymi?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć wszystkie możliwe rozmieszczenia 3 cyfr parzystych na 5 pozycjach",
              "feedback": "Świetnie! To metoda kombinatoryczna - wybieramy 3 pozycje z 5 dla cyfr parzystych.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Policzyć wszystkie liczby i odjąć te z inną liczbą cyfr parzystych",
              "feedback": "Możliwe, ale bardzo pracochłonne - lepiej bezpośrednio.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Rozpatrzyć przypadki: pierwsza cyfra parzysta lub nieparzysta",
              "feedback": "Dobry kierunek! To pomoże uwzględnić ograniczenie pierwszej pozycji.",
              "is_correct": true
            }
          ],
          "explanation_after": "Najlepiej rozpatrzyć przypadki ze względu na pierwszą pozycję, a potem użyć kombinatoryki."
        }
      },
      {
        "step": 4,
        "hint": "Ile cyfr parzystych (różnych od 0) może być na pierwszej pozycji?",
        "expression": "Na pierwszej pozycji: cyfry parzyste $\\{2, 4, 6, 8\\}$ - 4 możliwości",
        "explanation": "Pierwsza pozycja: cyfry parzyste bez zera"
      },
      {
        "step": 5,
        "hint": "Jeśli pierwsza cyfra jest parzysta, ile parzystych cyfr zostaje do rozmieszczenia?",
        "expression": "Przypadek 1: Pierwsza cyfra parzysta, pozostałe 2 parzyste na 4 pozycjach",
        "explanation": "Mamy już 1 cyfrę parzystą, potrzebujemy jeszcze 2 na pozostałych 4 pozycjach"
      },
      {
        "step": 6,
        "hint": "Na ile sposobów można wybrać 2 pozycje z 4 pozostałych?",
        "expression": "$\\binom{4}{2} = 6$ sposobów wyboru pozycji dla 2 pozostałych cyfr parzystych",
        "explanation": "Liczba sposobów wyboru 2 pozycji z 4",
        "interactive_choice": {
          "prompt": "Jak obliczyć liczbę sposobów wyboru 2 pozycji z 4 dla pozostałych cyfr parzystych?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru na kombinacje: $\\binom{4}{2}$",
              "feedback": "Dokładnie! To daje $\\binom{4}{2} = 6$ sposobów wyboru pozycji.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć wzoru na wariacje: $4 \\cdot 3$",
              "feedback": "Nie - kolejność pozycji nie ma znaczenia, to kombinacje.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Po prostu $4^2 = 16$",
              "feedback": "Nie - to byłoby gdyby każda pozycja mogła być wybrana wielokrotnie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Kombinacje $\\binom{4}{2} = 6$ bo wybieramy pozycje bez względu na kolejność."
        }
      },
      {
        "step": 7,
        "hint": "Ile sposobów wypełnienia wybranych pozycji cyframi?",
        "expression": "Pierwsza pozycja: 4 sposoby, 2 pozycje parzyste: $5^2 = 25$ sposobów, 2 pozycje nieparzyste: $5^2 = 25$ sposobów",
        "explanation": "Każda pozycja parzystą może być wypełniona dowolną z 5 cyfr parzystych, podobnie nieparzyste",
        "why": "Cyfry mogą się powtarzać, więc każda pozycja ma pełny wybór ze swojego zbioru."
      },
      {
        "step": 8,
        "hint": "Ile liczb w przypadku 1 (pierwsza cyfra parzysta)?",
        "expression": "Przypadek 1: $4 \\cdot 6 \\cdot 5^2 \\cdot 5^2 = 4 \\cdot 6 \\cdot 25 \\cdot 25 = 15000$",
        "explanation": "Mnożymy wszystkie możliwości dla przypadku 1"
      },
      {
        "step": 9,
        "hint": "Ile cyfr nieparzystych może być na pierwszej pozycji?",
        "expression": "Przypadek 2: Pierwsza cyfra nieparzysta $\\{1, 3, 5, 7, 9\\}$ - 5 możliwości",
        "explanation": "Wszystkie cyfry nieparzyste mogą być na pierwszej pozycji"
      },
      {
        "step": 10,
        "hint": "Jeśli pierwsza cyfra jest nieparzysta, jak rozmieścić 3 cyfry parzyste?",
        "expression": "Przypadek 2: Wszystkie 3 cyfry parzyste na 4 pozostałych pozycjach",
        "explanation": "Potrzebujemy wybrać 3 pozycje z 4 dla cyfr parzystych"
      },
      {
        "step": 11,
        "hint": "Na ile sposobów można wybrać 3 pozycje z 4?",
        "expression": "$\\binom{4}{3} = 4$ sposoby wyboru pozycji dla cyfr parzystych",
        "explanation": "Kombinacje - wybieramy 3 pozycje z 4"
      },
      {
        "step": 12,
        "hint": "Ile sposobów wypełnienia pozycji w przypadku 2?",
        "expression": "Pierwsza pozycja: 5 sposobów, 3 pozycje parzyste: $5^3 = 125$ sposobów, 1 pozycja nieparzysta: $5^1 = 5$ sposobów",
        "explanation": "Każda pozycja wypełniana cyframi ze swojego typu"
      },
      {
        "step": 13,
        "hint": "Ile liczb w przypadku 2 (pierwsza cyfra nieparzysta)?",
        "expression": "Przypadek 2: $5 \\cdot 4 \\cdot 5^3 \\cdot 5^1 = 5 \\cdot 4 \\cdot 125 \\cdot 5 = 12500$",
        "explanation": "Mnożymy wszystkie możliwości dla przypadku 2"
      },
      {
        "step": 14,
        "hint": "Jaka jest całkowita liczba pięciocyfrowych liczb z dokładnie trzema cyframi parzystymi?",
        "expression": "$15000 + 12500 = 27500$",
        "explanation": "Sumujemy wyniki z obu rozłącznych przypadków",
        "interactive_choice": {
          "prompt": "Jak połączyć wyniki z obu przypadków?",
          "options": [
            {
              "id": "A",
              "text": "Dodać: $15000 + 12500 = 27500$",
              "feedback": "Dokładnie! Przypadki się wykluczają, więc dodajemy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Pomnożyć: $15000 \\cdot 12500$",
              "feedback": "Nie - to byłoby gdyby przypadki były niezależne, a tu się wykluczają.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wybrać większy: $\\max(15000, 12500) = 15000$",
              "feedback": "Nie - chcemy wszystkie liczby spełniające warunek.",
              "is_correct": false
            }
          ],
          "explanation_after": "Przypadki są rozłączne (pierwsza cyfra nie może być jednocześnie parzysta i nieparzysta), więc dodajemy."
        }
      }
    ],
    "solutions": [
      "$27500$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 14,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-17T06:57:00.365Z"
  },
  {
    "id": "five_digit_odd_digits",
    "topic": "Kombinatoryka - liczby z warunkami",
    "difficulty": 4,
    "statement": "Oblicz, ile jest wszystkich liczb naturalnych pięciocyfrowych, w których zapisie występują dokładnie trzy cyfry nieparzyste.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry są nieparzyste, a jakie parzyste?",
        "expression": "Cyfry nieparzyste: $\\{1, 3, 5, 7, 9\\}$ (5 cyfr), cyfry parzyste: $\\{0, 2, 4, 6, 8\\}$ (5 cyfr)",
        "explanation": "Identyfikujemy dostępne cyfry według parzystości"
      },
      {
        "step": 2,
        "hint": "Jakie są ograniczenia dla liczby pięciocyfrowej?",
        "expression": "Liczba pięciocyfrowa: $\\overline{abcde}$ gdzie $a \\neq 0$ (pierwsza cyfra nie może być zerem)",
        "explanation": "Ustalamy strukturę liczby pięciocyfrowej"
      },
      {
        "step": 3,
        "hint": "Jak podejść do problemu z dokładnie trzema cyframi nieparzystymi?",
        "expression": "Wybieramy $\\binom{5}{3} = 10$ sposobów rozmieszczenia 3 cyfr nieparzystych",
        "explanation": "Liczba sposobów wyboru 3 pozycji z 5 dla cyfr nieparzystych",
        "interactive_choice": {
          "prompt": "Którą metodę zastosować do zliczenia liczb z dokładnie 3 cyframi nieparzystymi?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć wszystkie możliwe rozmieszczenia 3 cyfr nieparzystych na 5 pozycjach",
              "feedback": "Świetnie! To podejście kombinatoryczne - wybieramy 3 pozycje z 5 dla cyfr nieparzystych.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Policzyć osobno przypadki gdy pierwsza cyfra jest nieparzysta i parzysta",
              "feedback": "Możliwe, ale bardziej skomplikowane - lepiej użyć kombinacji.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru na permutacje z powtórzeniami",
              "feedback": "Nie - tu nie mamy powtórzeń, tylko wybór pozycji dla różnych typów cyfr.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wybieramy 3 pozycje z 5 dla cyfr nieparzystych, pozostałe 2 będą parzyste."
        }
      },
      {
        "step": 4,
        "hint": "Czy wszystkie rozmieszczenia są równoważne?",
        "expression": "Przypadek 1: pierwsza cyfra nieparzysta, Przypadek 2: pierwsza cyfra parzysta (ale $\\neq 0$)",
        "explanation": "Dzielimy na dwa przypadki ze względu na ograniczenie pierwszej cyfry",
        "interactive_choice": {
          "prompt": "Czy musimy rozpatrywać osobno przypadki ze względu na pierwszą pozycję?",
          "options": [
            {
              "id": "A",
              "text": "Nie, wszystkie rozmieszczenia są identyczne",
              "feedback": "Nie! Pierwsza pozycja nie może być zerem, więc przypadki różnią się.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Tak, musimy rozdzielić na przypadki: pierwsza cyfra nieparzysta i pierwsza cyfra parzysta",
              "feedback": "Dokładnie! Gdy pierwsza cyfra jest parzysta, nie może być zerem.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wystarczy odjąć przypadki z zerem na początku",
              "feedback": "To skomplikowane - lepiej od razu rozdzielić przypadki.",
              "is_correct": false
            }
          ],
          "explanation_after": "Pierwsza cyfra nie może być zerem, więc przypadki gdy jest parzysta wymagają osobnego traktowania."
        }
      },
      {
        "step": 5,
        "hint": "Ile jest sposobów gdy pierwsza cyfra jest nieparzysta?",
        "expression": "Przypadek 1: pierwsza pozycja nieparzysta, wybieramy 2 z pozostałych 4 pozycji: $\\binom{4}{2} = 6$ sposobów",
        "explanation": "Gdy pierwsza cyfra jest nieparzysta, pozostaje wybrać 2 pozycje z 4 dla pozostałych cyfr nieparzystych",
        "why": "To kluczowy podział - gdy pierwsza cyfra jest ustalona jako nieparzysta, problem się upraszcza."
      },
      {
        "step": 6,
        "hint": "Ile cyfr możemy wybrać na każdą pozycję w przypadku 1?",
        "expression": "Pierwsza pozycja: 5 cyfr nieparzystych, 2 wybrane pozycje: po 5 cyfr nieparzystych każda, 2 pozostałe: po 5 cyfr parzystych każda",
        "explanation": "Dla każdej pozycji nieparzystej mamy 5 wyborów, dla parzystej też 5 wyborów"
      },
      {
        "step": 7,
        "hint": "Ile jest liczb w przypadku 1?",
        "expression": "Przypadek 1: $\\binom{4}{2} \\times 5^3 \\times 5^2 = 6 \\times 125 \\times 25 = 18750$",
        "explanation": "6 sposobów rozmieszczenia × $5^3$ dla cyfr nieparzystych × $5^2$ dla cyfr parzystych"
      },
      {
        "step": 8,
        "hint": "Ile jest sposobów gdy pierwsza cyfra jest parzysta?",
        "expression": "Przypadek 2: pierwsza pozycja parzysta, wybieramy 3 z pozostałych 4 pozycji: $\\binom{4}{3} = 4$ sposoby",
        "explanation": "Gdy pierwsza cyfra jest parzysta, wybieramy 3 pozycje z pozostałych 4 dla cyfr nieparzystych"
      },
      {
        "step": 9,
        "hint": "Ile cyfr możemy wybrać na pierwszą pozycję w przypadku 2?",
        "expression": "Pierwsza pozycja: 4 cyfry parzyste (bez zera), 3 wybrane pozycje: po 5 cyfr nieparzystych, 1 pozostała: 5 cyfr parzystych",
        "explanation": "Pierwsza pozycja ma ograniczenie - nie może być zerem",
        "interactive_choice": {
          "prompt": "Ile cyfr parzystych możemy wybrać na pierwszą pozycję?",
          "options": [
            {
              "id": "A",
              "text": "5 cyfr parzystych: {0, 2, 4, 6, 8}",
              "feedback": "Nie! Zero nie może być pierwszą cyfrą liczby pięciocyfrowej.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "4 cyfry parzyste: {2, 4, 6, 8}",
              "feedback": "Dokładnie! Pierwsza cyfra nie może być zerem.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wszystkie 10 cyfr oprócz zera",
              "feedback": "Nie - pierwsza cyfra ma być parzysta, więc tylko {2, 4, 6, 8}.",
              "is_correct": false
            }
          ],
          "explanation_after": "Na pierwszej pozycji może być tylko cyfra parzysta różna od zera."
        }
      },
      {
        "step": 10,
        "hint": "Ile jest liczb w przypadku 2?",
        "expression": "Przypadek 2: $\\binom{4}{3} \\times 4 \\times 5^3 \\times 5^1 = 4 \\times 4 \\times 125 \\times 5 = 10000$",
        "explanation": "4 sposoby rozmieszczenia × 4 dla pierwszej pozycji × $5^3$ dla nieparzystych × 5 dla ostatniej parzystej"
      },
      {
        "step": 11,
        "hint": "Jaka jest całkowita liczba pięciocyfrowych liczb z dokładnie trzema cyframi nieparzystymi?",
        "expression": "Razem: $18750 + 10000 = 28750$",
        "explanation": "Sumujemy oba przypadki"
      }
    ],
    "solutions": [
      "28750"
    ],
    "parameters": {
      "digits_odd": "{1, 3, 5, 7, 9}",
      "digits_even": "{0, 2, 4, 6, 8}",
      "constraint": "dokładnie 3 cyfry nieparzyste"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 11,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T06:57:35.697Z"
  },
  {
    "id": "five_digit_even_odd_counting",
    "topic": "Kombinatoryka - zliczanie z warunkami",
    "difficulty": 4,
    "statement": "Ile jest liczb pięciocyfrowych, które mają trzy cyfry parzyste i dwie nieparzyste?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry są parzyste, a jakie nieparzyste?",
        "expression": "Cyfry parzyste: $\\{0, 2, 4, 6, 8\\}$ - 5 cyfr, nieparzyste: $\\{1, 3, 5, 7, 9\\}$ - 5 cyfr",
        "explanation": "Identyfikujemy dostępne cyfry każdego typu"
      },
      {
        "step": 2,
        "hint": "Co charakteryzuje liczbę pięciocyfrową?",
        "expression": "Liczba pięciocyfrowa: pierwsza cyfra $\\neq 0$, pozostałe cyfry mogą być dowolne",
        "explanation": "Pierwsza pozycja ma ograniczenie - nie może być zerem"
      },
      {
        "step": 3,
        "hint": "Jak podejść do tego problemu kombinatorycznego?",
        "expression": "Etap 1: Wybór pozycji, Etap 2: Przypisanie cyfr",
        "explanation": "Systematyczne podejście dwuetapowe",
        "interactive_choice": {
          "prompt": "Którą metodę zastosować do zliczenia liczb z trzema cyframi parzystymi i dwiema nieparzystymi?",
          "options": [
            {
              "id": "A",
              "text": "Wybrać pozycje dla cyfr parzystych, potem przypisać cyfry",
              "feedback": "Świetnie! To systematyczne podejście - najpierw rozmieszczenie, potem cyfry.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Rozpatrzyć wszystkie możliwe kombinacje cyfr",
              "feedback": "Zbyt skomplikowane - lepiej podzielić na etapy: pozycje, potem cyfry.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Policzyć osobno przypadki gdy 0 jest na różnych pozycjach",
              "feedback": "Możliwe, ale bardziej złożone - lepiej użyć metody wyboru pozycji.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dzielimy problem: wybieramy 3 pozycje z 5 dla cyfr parzystych, potem przypisujemy cyfry."
        }
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można wybrać 3 pozycje z 5 dla cyfr parzystych?",
        "expression": "$\\binom{5}{3} = \\frac{5!}{3! \\cdot 2!} = \\frac{5 \\cdot 4}{2 \\cdot 1} = 10$",
        "explanation": "Liczba sposobów wyboru 3 pozycji z 5 dla cyfr parzystych",
        "why": "To kombinacje bez powtórzeń - kolejność pozycji nie ma znaczenia, ważne tylko które pozycje wybierzemy."
      },
      {
        "step": 5,
        "hint": "Czy wszystkie rozmieszczenia pozycji są równoważne?",
        "expression": "Przypadek A: pozycja 1 ma cyfrę parzystą, Przypadek B: pozycja 1 ma cyfrę nieparzystą",
        "explanation": "Dzielimy na przypadki ze względu na ograniczenie pierwszej pozycji",
        "interactive_choice": {
          "prompt": "Czy każde z 10 rozmieszczczeń pozycji wymaga takiego samego obliczenia?",
          "options": [
            {
              "id": "A",
              "text": "Tak - wszystkie są identyczne",
              "feedback": "Nie! Gdy pozycja 1 ma cyfrę parzystą, nie może być 0. To zmienia obliczenia.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Nie - trzeba rozróżnić przypadki z pozycją 1",
              "feedback": "Dokładnie! Pozycja 1 ma ograniczenie (nie może być 0).",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Nie - każda pozycja ma inne ograniczenia",
              "feedback": "Nie całkiem - tylko pozycja 1 ma specjalne ograniczenie (nie może być 0).",
              "is_correct": false
            }
          ],
          "explanation_after": "Musimy rozróżnić: czy pozycja 1 ma cyfrę parzystą (nie może być 0), czy nieparzystą."
        }
      },
      {
        "step": 6,
        "hint": "Ile jest rozmieszczczeń gdzie pozycja 1 ma cyfrę parzystą?",
        "expression": "$\\binom{4}{2} = 6$ rozmieszczczeń",
        "explanation": "Pozycja 1 zajęta przez parzystą, wybieramy 2 z pozostałych 4 pozycji dla parzystych",
        "why": "Jeśli pozycja 1 ma parzystą, to z pozostałych 4 pozycji wybieramy jeszcze 2 dla parzystych."
      },
      {
        "step": 7,
        "hint": "Ile sposobów przypisania cyfr gdy pozycja 1 ma parzystą?",
        "expression": "Pozycja 1: 4 sposoby $\\{2,4,6,8\\}$, pozostałe parzyste: $5^2$, nieparzyste: $5^2$",
        "explanation": "Na pozycji 1 nie może być 0, pozostałe pozycje bez ograniczeń"
      },
      {
        "step": 8,
        "hint": "Ile liczb w przypadku A?",
        "expression": "$6 \\times 4 \\times 5^2 \\times 5^2 = 6 \\times 4 \\times 25 \\times 25 = 15000$",
        "explanation": "Przypadek A: pozycja 1 parzysta (ale nie 0)"
      },
      {
        "step": 9,
        "hint": "Ile jest rozmieszczczeń gdzie pozycja 1 ma cyfrę nieparzystą?",
        "expression": "$\\binom{4}{3} = 4$ rozmieszczczeń",
        "explanation": "Pozycja 1 zajęta przez nieparzystą, wybieramy 3 z pozostałych 4 pozycji dla parzystych"
      },
      {
        "step": 10,
        "hint": "Ile sposobów przypisania cyfr gdy pozycja 1 ma nieparzystą?",
        "expression": "Pozycja 1: 5 sposobów, parzyste: $5^3$, pozostała nieparzysta: 5 sposobów",
        "explanation": "Wszystkie pozycje bez ograniczeń - 0 może być na dowolnej pozycji parzystej"
      },
      {
        "step": 11,
        "hint": "Ile liczb w przypadku B?",
        "expression": "$4 \\times 5 \\times 5^3 \\times 5 = 4 \\times 5 \\times 125 \\times 5 = 12500$",
        "explanation": "Przypadek B: pozycja 1 nieparzysta"
      },
      {
        "step": 12,
        "hint": "Jaka jest całkowita liczba pięciocyfrowych liczb spełniających warunki?",
        "expression": "$15000 + 12500 = 27500$",
        "explanation": "Sumujemy oba przypadki"
      }
    ],
    "solutions": [
      "27500"
    ],
    "parameters": {
      "constraints": "liczba pięciocyfrowa, 3 cyfry parzyste, 2 cyfry nieparzyste"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 2,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 2
      }
    },
    "timestamp": "2025-09-17T06:58:06.722Z"
  },
  {
    "id": "four_digit_two_different_digits",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 4,
    "statement": "Ile jest liczb naturalnych czterocyfrowych, których zapis dziesiętny składa się tylko z dwóch różnych cyfr?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą wystąpić w liczbie czterocyfrowej?",
        "expression": "Cyfry: $0, 1, 2, 3, 4, 5, 6, 7, 8, 9$ (10 cyfr)",
        "explanation": "Mamy do dyspozycji 10 różnych cyfr"
      },
      {
        "step": 2,
        "hint": "Czy cyfra 0 może być pierwszą cyfrą liczby czterocyfrowej?",
        "expression": "Pierwsza cyfra: $1, 2, 3, 4, 5, 6, 7, 8, 9$ (nie może być 0)",
        "explanation": "Liczba czterocyfrowa nie może zaczynać się od zera",
        "why": "To kluczowe ograniczenie - pierwsza cyfra musi być różna od zera, co wpływa na sposób liczenia."
      },
      {
        "step": 3,
        "hint": "Jak podzielić problem na przypadki?",
        "expression": "Przypadek 1: jedna z cyfr to 0, Przypadek 2: zero nie występuje",
        "explanation": "Dzielimy na dwa główne przypadki",
        "interactive_choice": {
          "prompt": "Jak najlepiej podzielić problem na przypadki?",
          "options": [
            {
              "id": "A",
              "text": "Przypadek 1: zero jest jedną z dwóch cyfr, Przypadek 2: zero nie występuje",
              "feedback": "Świetnie! To naturalne rozróżnienie ze względu na ograniczenie pierwszej cyfry.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Według pozycji cyfr: pierwsza, druga, trzecia, czwarta",
              "feedback": "Zbyt skomplikowane - lepiej skupić się na tym, czy zero występuje.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Według sumy cyfr w liczbie",
              "feedback": "Nie ma związku z problemem - suma cyfr nie jest istotna.",
              "is_correct": false
            }
          ],
          "explanation_after": "Podział na przypadki ze względu na obecność zera jest najefektywniejszy."
        }
      },
      {
        "step": 4,
        "hint": "W przypadku 1, ile sposobów wyboru dwóch cyfr gdy jedna to zero?",
        "expression": "Wybieramy drugą cyfrę spośród $\\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}$: $\\binom{9}{1} = 9$ sposobów",
        "explanation": "Pierwsza cyfra to 0, druga wybieramy z 9 pozostałych cyfr niezerowych"
      },
      {
        "step": 5,
        "hint": "W przypadku 1, która cyfra musi być na pierwszej pozycji?",
        "expression": "Pierwsza pozycja: cyfra niezerowa (jedyna możliwość)",
        "explanation": "Zero nie może być pierwszą cyfrą, więc pierwsza pozycja jest ustalona"
      },
      {
        "step": 6,
        "hint": "Ile sposobów wypełnienia pozostałych trzech pozycji w przypadku 1?",
        "expression": "Pozycje 2, 3, 4: każda ma 2 możliwości, razem $2^3 = 8$ sposobów",
        "explanation": "Każda pozycja może być wypełniona zerem lub cyfrą niezerową",
        "interactive_choice": {
          "prompt": "Jak wypełnić pozycje 2, 3, 4 mając do dyspozycji zero i jedną cyfrę niezerową?",
          "options": [
            {
              "id": "A",
              "text": "Każda pozycja może być wypełniona na 2 sposoby: $2^3 = 8$",
              "feedback": "Dokładnie! Każda z trzech pozycji może mieć zero lub cyfrę niezerową.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "To permutacje z powtórzeniami: $\\frac{3!}{2!1!} = 3$",
              "feedback": "Nie - to nie są permutacje, bo pozycje mogą się powtarzać dowolnie.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Trzeba rozpatrzyć ile zer i ile cyfr niezerowych: 6 sposobów",
              "feedback": "Zbyt skomplikowane - prościej myśleć o każdej pozycji osobno.",
              "is_correct": false
            }
          ],
          "explanation_after": "Każda z pozycji 2, 3, 4 ma 2 możliwości, więc razem $2^3 = 8$ sposobów."
        }
      },
      {
        "step": 7,
        "hint": "Ile liczb w przypadku 1?",
        "expression": "Przypadek 1: $9 \\times 8 = 72$ liczby",
        "explanation": "9 sposobów wyboru cyfry niezerowej × 8 sposobów wypełnienia pozycji"
      },
      {
        "step": 8,
        "hint": "W przypadku 2, ile sposobów wyboru dwóch cyfr niezerowych?",
        "expression": "Wybieramy 2 cyfry z $\\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}$: $\\binom{9}{2} = 36$ sposobów",
        "explanation": "Kombinacje 2 elementów z 9 cyfr niezerowych"
      },
      {
        "step": 9,
        "hint": "W przypadku 2, ile sposobów wypełnienia wszystkich czterech pozycji?",
        "expression": "Każda z 4 pozycji może mieć jedną z 2 wybranych cyfr: $2^4 = 16$ sposobów",
        "explanation": "Każda pozycja ma 2 możliwości (pierwsza lub druga wybrana cyfra)"
      },
      {
        "step": 10,
        "hint": "Czy wszystkie te sposoby są poprawne w przypadku 2?",
        "expression": "$2^4 - 2 = 16 - 2 = 14$ sposobów dla każdej pary cyfr",
        "explanation": "Odejmujemy 2 przypadki używające tylko jednej cyfry",
        "interactive_choice": {
          "prompt": "Czy wszystkie $2^4 = 16$ sposobów dają różne liczby używające obu cyfr?",
          "options": [
            {
              "id": "A",
              "text": "Tak, wszystkie 16 sposobów jest poprawnych",
              "feedback": "Nie! Trzeba wykluczyć przypadki gdy używamy tylko jednej cyfry.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Nie, trzeba odjąć przypadki używające tylko jednej cyfry",
              "feedback": "Dokładnie! Musimy odjąć 2 przypadki: tylko pierwsza cyfra i tylko druga cyfra.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Nie, trzeba podzielić przez 2 ze względu na symetrię",
              "feedback": "Nie - symetria nie jest problemem, ale używanie tylko jednej cyfry.",
              "is_correct": false
            }
          ],
          "explanation_after": "Musimy wykluczyć 2 przypadki: gdy wszystkie cyfry to pierwsza wybrana lub wszystkie to druga wybrana."
        }
      },
      {
        "step": 11,
        "hint": "Ile liczb w przypadku 2?",
        "expression": "Przypadek 2: $36 \\times 14 = 504$ liczby",
        "explanation": "36 sposobów wyboru pary cyfr × 14 sposobów ich rozmieszczenia"
      },
      {
        "step": 12,
        "hint": "Jaka jest końcowa odpowiedź?",
        "expression": "Razem: $72 + 504 = 576$ liczb",
        "explanation": "Sumujemy oba przypadki"
      }
    ],
    "solutions": [
      "576"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T06:58:41.028Z"
  },
  {
    "id": "four_digit_numbers_restriction",
    "topic": "Kombinatoryka z ograniczeniami",
    "difficulty": 4,
    "statement": "Ile jest liczb naturalnych czterocyfrowych, w których żadne dwie spośród cyfr: 1,3,5,7,9 nie sąsiadują ze sobą?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry możemy używać w liczbie czterocyfrowej?",
        "expression": "Cyfry: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9",
        "explanation": "Mamy do dyspozycji wszystkie 10 cyfr"
      },
      {
        "step": 2,
        "hint": "Które cyfry nie mogą sąsiadować ze sobą?",
        "expression": "Cyfry nieparzyste: 1, 3, 5, 7, 9",
        "explanation": "Te cyfry nie mogą być obok siebie w liczbie"
      },
      {
        "step": 3,
        "hint": "Jak najlepiej podejść do tego problemu?",
        "expression": "Rozpatrujemy przypadki według liczby cyfr nieparzystych",
        "explanation": "Systematyczne podejście przez liczbę cyfr nieparzystych w liczbie",
        "interactive_choice": {
          "prompt": "Którą metodę wybierzesz do rozwiązania tego zadania?",
          "options": [
            {
              "id": "A",
              "text": "Policzyć wszystkie liczby i odjąć te z sąsiadującymi cyframi nieparzystymi",
              "feedback": "Możliwe, ale bardzo skomplikowane - trzeba uwzględnić wiele przypadków",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Rozpatrzyć przypadki według liczby cyfr nieparzystych w liczbie",
              "feedback": "Świetny pomysł! Systematyczne podejście przez przypadki",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć zasady włączeń i wyłączeń",
              "feedback": "Bardzo skomplikowane dla tego typu ograniczenia",
              "is_correct": false
            }
          ],
          "explanation_after": "Najlepiej rozpatrzyć przypadki: 0, 1, 2 cyfry nieparzyste (więcej się nie da)"
        }
      },
      {
        "step": 4,
        "hint": "Ile maksymalnie cyfr nieparzystych może być w liczbie czterocyfrowej?",
        "expression": "Maksymalnie 2 cyfry nieparzyste",
        "explanation": "Jeśli byłyby 3 lub więcej, to co najmniej dwie musiałyby sąsiadować",
        "why": "W liczbie 4-cyfrowej nie można umieścić 3 cyfr nieparzystych bez sąsiadowania. Możliwe układy dla 2 cyfr: _N_N, N_N_, N__N"
      },
      {
        "step": 5,
        "hint": "Ile jest liczb bez cyfr nieparzystych?",
        "expression": "Cyfry parzyste: 0, 2, 4, 6, 8 (5 cyfr)",
        "explanation": "Przypadek 0: tylko cyfry parzyste"
      },
      {
        "step": 6,
        "hint": "Jak policzyć liczby czterocyfrowe tylko z cyfr parzystych?",
        "expression": "Pierwsza pozycja: 4 wybory (2,4,6,8), pozostałe: po 5 wyborów",
        "explanation": "Na pierwszej pozycji nie może być 0"
      },
      {
        "step": 7,
        "hint": "Ile to daje liczb w przypadku 0?",
        "expression": "$4 \\times 5 \\times 5 \\times 5 = 500$",
        "explanation": "Przypadek 0: 500 liczb"
      },
      {
        "step": 8,
        "hint": "Jak umieścić dokładnie 1 cyfrę nieparzystą?",
        "expression": "4 pozycje × 5 cyfr nieparzystych × $4^3$ lub $5^3$ dla pozostałych",
        "explanation": "Przypadek 1: jedna cyfra nieparzysta na dowolnej pozycji",
        "interactive_choice": {
          "prompt": "Na których pozycjach można umieścić 1 cyfrę nieparzystą?",
          "options": [
            {
              "id": "A",
              "text": "Na dowolnej z 4 pozycji",
              "feedback": "Tak! Jedna cyfra nieparzysta może być wszędzie - nie ma z czym sąsiadować",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Tylko na pozycjach 2, 3, 4 (nie na pierwszej)",
              "feedback": "Nie - pierwsza pozycja też jest dozwolona dla cyfr nieparzystych",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Tylko na pozycjach 1 i 3 (nieparzyste pozycje)",
              "feedback": "Nie ma związku między pozycją a parzystością cyfry",
              "is_correct": false
            }
          ],
          "explanation_after": "Jedna cyfra nieparzysta może być na dowolnej pozycji - nie ma z kim sąsiadować"
        }
      },
      {
        "step": 9,
        "hint": "Jak dokładnie policzyć przypadek z 1 cyfrą nieparzystą?",
        "expression": "Pozycja 1: $5 \\times 5^3 = 625$, Pozycje 2,3,4: $3 \\times 4 \\times 5 \\times 5^2 = 1500$",
        "explanation": "Osobno dla pierwszej pozycji (nie może być 0) i pozostałych"
      },
      {
        "step": 10,
        "hint": "Ile to razem dla przypadku 1?",
        "expression": "$625 + 1500 = 2125$",
        "explanation": "Przypadek 1: 2125 liczb"
      },
      {
        "step": 11,
        "hint": "Jak umieścić 2 cyfry nieparzyste bez sąsiadowania?",
        "expression": "Układy pozycji: (1,3), (1,4), (2,4)",
        "explanation": "Przypadek 2: trzy możliwe układy pozycji dla cyfr nieparzystych",
        "interactive_choice": {
          "prompt": "Które układy pozycji są możliwe dla 2 cyfr nieparzystych?",
          "options": [
            {
              "id": "A",
              "text": "Pozycje (1,3), (1,4), (2,4) - z przerwą",
              "feedback": "Dokładnie! Te układy zapewniają, że cyfry nieparzyste się nie stykają",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Dowolne 2 z 4 pozycji",
              "feedback": "Nie - pozycje (1,2), (2,3), (3,4) dają sąsiadowanie",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Tylko pozycje (1,3) i (2,4)",
              "feedback": "Brakuje układu (1,4) - też jest dozwolony",
              "is_correct": false
            }
          ],
          "explanation_after": "Cyfry nieparzyste nie mogą być na sąsiednich pozycjach. Możliwe: (1,3), (1,4), (2,4)"
        }
      },
      {
        "step": 12,
        "hint": "Ile liczb dla każdego układu pozycji?",
        "expression": "Każdy układ: $5 \\times 5 \\times 5 \\times 5 = 625$ liczb",
        "explanation": "Dla każdego układu: 5 wyborów cyfr nieparzystych × 5 wyborów cyfr parzystych"
      },
      {
        "step": 13,
        "hint": "Ile razem dla przypadku 2?",
        "expression": "$3 \\times 625 = 1875$",
        "explanation": "Przypadek 2: 1875 liczb"
      },
      {
        "step": 14,
        "hint": "Jaka jest końcowa odpowiedź?",
        "expression": "$500 + 2125 + 1875 = 4500$",
        "explanation": "Sumujemy wszystkie przypadki"
      }
    ],
    "solutions": [
      "4500"
    ],
    "parameters": {
      "restricted_digits": "1, 3, 5, 7, 9",
      "number_length": "4 cyfry"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 14,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T06:59:16.643Z"
  },
  {
    "id": "combinatorics_modular_arithmetic",
    "topic": "Kombinatoryka z arytmetyką modularną",
    "difficulty": 4,
    "statement": "Na ile sposobów można wybrać ze zbioru $A=\\{1,2,3, \\ldots, 100\\}$ trzy różne liczby, których suma przy dzieleniu przez 3 daje resztę 1?",
    "steps": [
      {
        "step": 1,
        "hint": "Jak podzielić liczby ze zbioru A według reszt z dzielenia przez 3?",
        "expression": "Liczby 1-100 dzielimy na klasy: $A_0 = \\{3, 6, 9, \\ldots, 99\\}$, $A_1 = \\{1, 4, 7, \\ldots, 100\\}$, $A_2 = \\{2, 5, 8, \\ldots, 98\\}$",
        "explanation": "Każda liczba daje resztę 0, 1 lub 2 przy dzieleniu przez 3",
        "why": "Podział na klasy resztowe pozwoli nam systematycznie analizować wszystkie możliwe kombinacje sum."
      },
      {
        "step": 2,
        "hint": "Ile liczb znajduje się w każdej klasie resztowej?",
        "expression": "$|A_0| = 33$, $|A_1| = 34$, $|A_2| = 33$",
        "explanation": "Liczby 1-100: klasa 0 ma 33 elementy, klasa 1 ma 34 elementy, klasa 2 ma 33 elementy"
      },
      {
        "step": 3,
        "hint": "Jakie kombinacje reszt trzech liczb dają sumę o reszcie 1?",
        "expression": "Kombinacje: $(0,0,1)$, $(0,1,0)$, $(1,0,0)$, $(1,1,2)$, $(1,2,1)$, $(2,1,1)$, $(2,2,0)$, $(2,0,2)$, $(0,2,2)$",
        "explanation": "Wszystkie uporządkowane trójki reszt dające sumę ≡ 1 (mod 3)",
        "interactive_choice": {
          "prompt": "Które kombinacje reszt $(r_1, r_2, r_3)$ dają sumę $r_1 + r_2 + r_3 \\equiv 1 \\pmod{3}$?",
          "options": [
            {
              "id": "A",
              "text": "$(0,0,1)$, $(1,1,2)$, $(2,2,0)$",
              "feedback": "Sprawdźmy: $0+0+1=1\\equiv 1$, $1+1+2=4\\equiv 1$, $2+2+0=4\\equiv 1$ - dobrze!",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$(0,1,0)$, $(1,0,0)$, $(2,2,0)$",
              "feedback": "Sprawdźmy: $0+1+0=1\\equiv 1$ - tak, ale $2+2+0=4\\equiv 1$ też, więc brakuje przypadków",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Tylko $(1,0,0)$ i permutacje",
              "feedback": "To za mało! Są też inne kombinacje jak $(1,1,2)$ czy $(0,0,1)$",
              "is_correct": false
            }
          ],
          "explanation_after": "Systematycznie sprawdzamy wszystkie możliwe kombinacje reszt i ich sumy modulo 3."
        }
      },
      {
        "step": 4,
        "hint": "Jak pogrupować te kombinacje według typu?",
        "expression": "Typ I: $(0,0,1)$, $(1,1,2)$, $(2,2,0)$ - dwie takie same reszty\nTyp II: brak - wszystkie mają powtórzenia",
        "explanation": "Wszystkie nasze kombinacje mają dokładnie dwie identyczne reszty",
        "interactive_choice": {
          "prompt": "Jak najlepiej pogrupować kombinacje reszt do obliczenia liczby sposobów?",
          "options": [
            {
              "id": "A",
              "text": "Według wzoru: typ $(a,a,b)$ i typ $(a,b,c)$ gdzie $a,b,c$ różne",
              "feedback": "Świetnie! Typ $(a,a,b)$ ma wzór $\\binom{n_a}{2} \\cdot n_b$, typ $(a,b,c)$ ma wzór $n_a \\cdot n_b \\cdot n_c$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Liczyć każdą kombinację osobno",
              "feedback": "Możliwe, ale nieefektywne - lepiej użyć wzorów kombinatorycznych",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Według liczby różnych reszt w trójce",
              "feedback": "To dobry kierunek, ale opcja A jest bardziej precyzyjna dla obliczeń",
              "is_correct": false
            }
          ],
          "explanation_after": "Grupowanie według wzorów kombinatorycznych pozwala efektywnie obliczyć wynik."
        }
      },
      {
        "step": 5,
        "hint": "Ile sposobów dla kombinacji typu $(0,0,1)$?",
        "expression": "$\\binom{33}{2} \\cdot 34 = \\frac{33 \\cdot 32}{2} \\cdot 34 = 528 \\cdot 34 = 17952$",
        "explanation": "Wybieramy 2 liczby z klasy 0 i 1 liczbę z klasy 1",
        "why": "Wzór $\\binom{n}{2} \\cdot m$ stosujemy gdy wybieramy 2 elementy z jednego zbioru i 1 z drugiego."
      },
      {
        "step": 6,
        "hint": "Ile sposobów dla kombinacji typu $(1,1,2)$?",
        "expression": "$\\binom{34}{2} \\cdot 33 = \\frac{34 \\cdot 33}{2} \\cdot 33 = 561 \\cdot 33 = 18513$",
        "explanation": "Wybieramy 2 liczby z klasy 1 i 1 liczbę z klasy 2"
      },
      {
        "step": 7,
        "hint": "Ile sposobów dla kombinacji typu $(2,2,0)$?",
        "expression": "$\\binom{33}{2} \\cdot 33 = \\frac{33 \\cdot 32}{2} \\cdot 33 = 528 \\cdot 33 = 17424$",
        "explanation": "Wybieramy 2 liczby z klasy 2 i 1 liczbę z klasy 0"
      },
      {
        "step": 8,
        "hint": "Jaka jest całkowita liczba sposobów?",
        "expression": "$17952 + 18513 + 17424 = 53889$",
        "explanation": "Sumujemy wszystkie możliwe przypadki"
      }
    ],
    "solutions": [
      "53889"
    ],
    "parameters": {
      "set": "$A = \\{1, 2, 3, \\ldots, 100\\}$",
      "condition": "suma trzech liczb ≡ 1 (mod 3)"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 2
      }
    },
    "timestamp": "2025-09-17T06:59:45.651Z"
  },
  {
    "id": "six_digit_product_parity",
    "topic": "Kombinatoryka i teoria liczb",
    "difficulty": 4,
    "statement": "Rozważamy wszystkie liczby naturalne sześciocyfrowe, w których zapisie dziesiętnym iloczyn cyfr jest liczbą parzystą mniejszą od 5. Oblicz, ile jest wszystkich takich liczb sześciocyfrowych.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie liczby parzyste są mniejsze od 5?",
        "expression": "Liczby parzyste mniejsze od 5: $0, 2, 4$",
        "explanation": "Identyfikujemy możliwe wartości iloczynu cyfr"
      },
      {
        "step": 2,
        "hint": "Jak podejść do tego problemu kombinatorycznego?",
        "expression": "Rozpatrujemy przypadki: iloczyn cyfr = 0, iloczyn cyfr = 2, iloczyn cyfr = 4",
        "explanation": "Dzielimy problem na trzy rozłączne przypadki",
        "interactive_choice": {
          "prompt": "Którą strategię zastosować do zliczania liczb sześciocyfrowych?",
          "options": [
            {
              "id": "A",
              "text": "Bezpośrednio liczyć przypadki dla każdej wartości iloczynu",
              "feedback": "Dobry wybór! Rozpatrzymy osobno przypadki gdy iloczyn = 0, 2, 4",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć zasady włączeń i wyłączeń",
              "feedback": "Możliwe, ale bardziej skomplikowane dla tego problemu",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie liczby i odjąć niechciane",
              "feedback": "Bardzo pracochłonne - lepiej liczyć bezpośrednio",
              "is_correct": false
            }
          ],
          "explanation_after": "Rozpatrzymy osobno każdy możliwy iloczyn: 0, 2, 4"
        }
      },
      {
        "step": 3,
        "hint": "Kiedy iloczyn sześciu cyfr równa się 0?",
        "expression": "Iloczyn cyfr = 0 $\\Leftrightarrow$ co najmniej jedna cyfra = 0",
        "explanation": "Iloczyn jest zerem gdy jeden z czynników jest zerem",
        "why": "To kluczowa obserwacja - wystarczy jedna cyfra 0, aby cały iloczyn był zerem"
      },
      {
        "step": 4,
        "hint": "Ile jest liczb sześciocyfrowych z co najmniej jedną cyfrą 0?",
        "expression": "Wszystkie sześciocyfrowe: $9 \\times 10^5$, bez cyfry 0: $9^6$",
        "explanation": "Pierwsza cyfra: 1-9 (9 możliwości), pozostałe: 0-9 (10 możliwości każda)"
      },
      {
        "step": 5,
        "hint": "Jak obliczyć liczby z co najmniej jedną cyfrą 0?",
        "expression": "Z co najmniej jedną cyfrą 0: $9 \\times 10^5 - 9^6 = 900000 - 531441 = 368559$",
        "explanation": "Używamy zasady dopełnienia: wszystkie minus te bez cyfry 0"
      },
      {
        "step": 6,
        "hint": "Kiedy iloczyn sześciu cyfr równa się 2?",
        "expression": "Iloczyn = 2: jedna cyfra = 2, pozostałe cyfry = 1",
        "explanation": "Rozkład na czynniki pierwsze: $2 = 2 \\times 1^5$",
        "interactive_choice": {
          "prompt": "Jak może powstać iloczyn cyfr równy 2?",
          "options": [
            {
              "id": "A",
              "text": "Jedna cyfra = 2, pozostałe = 1",
              "feedback": "Dokładnie! 2 jest liczbą pierwszą, więc jedyny rozkład to $2 = 2 \\times 1^5$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Dwie cyfry = 2, pozostałe = 1, ale $2 \\times 2 = 4$",
              "feedback": "Nie - to dałoby iloczyn 4, nie 2",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Różne kombinacje cyfr dających iloczyn 2",
              "feedback": "Nie - 2 jest pierwsza, więc tylko jeden rozkład: $2 \\times 1^5$",
              "is_correct": false
            }
          ],
          "explanation_after": "Ponieważ 2 jest liczbą pierwszą, jedyny sposób to jedna cyfra 2 i pięć cyfr 1"
        }
      },
      {
        "step": 7,
        "hint": "Na ile sposobów można umieścić cyfrę 2 w liczbie sześciocyfrowej?",
        "expression": "Cyfra 2 na pierwszej pozycji: 1 sposób, na pozostałych: 5 sposobów",
        "explanation": "Pierwsza pozycja nie może być 0, więc cyfra 2 może być wszędzie"
      },
      {
        "step": 8,
        "hint": "Ile liczb ma iloczyn cyfr równy 2?",
        "expression": "Liczby z iloczynem cyfr = 2: $6 = 6$ liczb",
        "explanation": "Cyfra 2 może być na dowolnej z 6 pozycji, pozostałe to jedynki"
      },
      {
        "step": 9,
        "hint": "Kiedy iloczyn sześciu cyfr równa się 4?",
        "expression": "Przypadek A: jedna cyfra = 4, pozostałe = 1. Przypadek B: dwie cyfry = 2, pozostałe = 1",
        "explanation": "Rozkładamy 4 na czynniki: $4 = 4 \\times 1^5$ lub $4 = 2^2 \\times 1^4$",
        "interactive_choice": {
          "prompt": "Jakie są możliwe rozkłady liczby 4 na iloczyn cyfr?",
          "options": [
            {
              "id": "A",
              "text": "Tylko $4 = 4 \\times 1^5$",
              "feedback": "To jeden przypadek, ale nie jedyny! Jest też $4 = 2^2 \\times 1^4$",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$4 = 4 \\times 1^5$ lub $4 = 2^2 \\times 1^4$",
              "feedback": "Świetnie! Dwa przypadki: jedna cyfra 4 lub dwie cyfry 2",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wiele różnych rozkładów z cyframi większymi od 4",
              "feedback": "Nie - cyfry to tylko 0-9, a $4 = 2^2$ to maksymalny rozkład",
              "is_correct": false
            }
          ],
          "explanation_after": "Rozkład $4 = 2^2$ daje dwa przypadki: jedną cyfrę 4 lub dwie cyfry 2"
        }
      },
      {
        "step": 10,
        "hint": "Ile liczb w przypadku A (jedna cyfra 4)?",
        "expression": "Przypadek A: cyfra 4 na dowolnej z 6 pozycji = 6 liczb",
        "explanation": "Analogicznie jak dla cyfry 2"
      },
      {
        "step": 11,
        "hint": "Ile liczb w przypadku B (dwie cyfry 2)?",
        "expression": "Przypadek B: wybieramy 2 pozycje z 6 dla cyfr 2: $\\binom{6}{2} = 15$ liczb",
        "explanation": "Liczba sposobów wyboru 2 pozycji z 6 dla cyfr 2"
      },
      {
        "step": 12,
        "hint": "Ile łącznie liczb ma iloczyn cyfr równy 4?",
        "expression": "Liczby z iloczynem cyfr = 4: $6 + 15 = 21$ liczb",
        "explanation": "Sumujemy oba przypadki dla iloczynu 4"
      },
      {
        "step": 13,
        "hint": "Jaka jest końcowa odpowiedź?",
        "expression": "Łącznie: $368559 + 6 + 21 = 368586$ liczb",
        "explanation": "Sumujemy wszystkie przypadki: iloczyn 0, 2 i 4"
      }
    ],
    "solutions": [
      "368586"
    ],
    "parameters": {
      "constraint": "liczby sześciocyfrowe z iloczynem cyfr parzystym < 5"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 13,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:00:26.397Z"
  },
  {
    "id": "permutations_4digit_numbers",
    "topic": "Permutacje bez powtórzeń",
    "difficulty": 3,
    "statement": "Ze zbioru {0,1,2,3,4,5,6,7,8,9} losujemy kolejno 4 cyfry bez zwracania, a następnie zapisujemy je w kolejności losowania tworząc liczbę 4-cyfrową. Ile można otrzymać w ten sposób dowolnych liczb?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza, że tworzymy liczbę 4-cyfrową?",
        "expression": "Liczba 4-cyfrowa ma postać $\\overline{abcd}$, gdzie $a \\neq 0$",
        "explanation": "Pierwsza cyfra nie może być zerem, bo wtedy liczba nie byłaby 4-cyfrowa",
        "why": "To kluczowe ograniczenie - liczba 4-cyfrowa musi mieć pierwszą cyfrę różną od zera."
      },
      {
        "step": 2,
        "hint": "Jak podejść do tego problemu kombinatorycznego?",
        "expression": "Metoda: wszystkie permutacje minus te zaczynające się od 0",
        "explanation": "Systematyczne podejście przez dopełnienie",
        "interactive_choice": {
          "prompt": "Którą metodę zastosować do zliczenia wszystkich możliwych liczb 4-cyfrowych?",
          "options": [
            {
              "id": "A",
              "text": "Liczyć wszystkie permutacje 4 cyfr z 10, potem odjąć te zaczynające się od 0",
              "feedback": "Świetny wybór! To systematyczne podejście - najpierw wszystkie, potem odejmujemy nieprawidłowe.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Od razu liczyć tylko te zaczynające się cyfrą 1-9",
              "feedback": "Też dobra metoda, ale bardziej skomplikowana - trzeba osobno liczyć każdy przypadek.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć wzoru na kombinacje $C(10,4)$",
              "feedback": "Nie - kombinacje nie uwzględniają kolejności, a tu kolejność ma znaczenie!",
              "is_correct": false
            }
          ],
          "explanation_after": "Wybieramy metodę A - najpierw wszystkie permutacje, potem odejmujemy te nieprawidłowe."
        }
      },
      {
        "step": 3,
        "hint": "Ile jest wszystkich sposobów wybrania i ustawienia 4 cyfr z 10?",
        "expression": "Wszystkie permutacje: $P(10,4) = \\frac{10!}{(10-4)!} = \\frac{10!}{6!}$",
        "explanation": "Permutacje 4-elementowe ze zbioru 10-elementowego"
      },
      {
        "step": 4,
        "hint": "Jak obliczyć $P(10,4)$?",
        "expression": "$P(10,4) = 10 \\cdot 9 \\cdot 8 \\cdot 7 = 5040$",
        "explanation": "Pierwsza cyfra: 10 możliwości, druga: 9, trzecia: 8, czwarta: 7"
      },
      {
        "step": 5,
        "hint": "Ile jest permutacji zaczynających się od cyfry 0?",
        "expression": "Permutacje zaczynające się od 0: $P(9,3) = 9 \\cdot 8 \\cdot 7 = 504$",
        "explanation": "Pierwsza cyfra ustalona (0), pozostałe 3 pozycje z 9 cyfr",
        "interactive_choice": {
          "prompt": "Jak policzyć liczbę 4-cyfrowych ciągów zaczynających się od 0?",
          "options": [
            {
              "id": "A",
              "text": "To permutacje 3 cyfr z pozostałych 9: $P(9,3)$",
              "feedback": "Dokładnie! Jeśli pierwsza cyfra to 0, zostaje wybrać 3 z pozostałych 9.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "To $\\frac{1}{10}$ wszystkich permutacji",
              "feedback": "Nie - cyfra 0 ma specjalną rolę, nie można tak proporcjonalnie dzielić.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "To kombinacje $C(9,3)$",
              "feedback": "Nie - kolejność ma znaczenie, więc to permutacje, nie kombinacje.",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy pierwsza pozycja jest zajęta przez 0, pozostaje ułożyć 3 cyfry z 9 pozostałych."
        }
      },
      {
        "step": 6,
        "hint": "Ile jest prawidłowych liczb 4-cyfrowych?",
        "expression": "Liczby 4-cyfrowe = Wszystkie permutacje - Te zaczynające się od 0",
        "explanation": "Odejmujemy nieprawidłowe przypadki"
      },
      {
        "step": 7,
        "hint": "Jaki jest końcowy wynik?",
        "expression": "$5040 - 504 = 4536$",
        "explanation": "Otrzymujemy liczbę wszystkich możliwych liczb 4-cyfrowych"
      }
    ],
    "solutions": [
      "4536"
    ],
    "parameters": {
      "total_permutations": "P(10,4) = 5040",
      "invalid_permutations": "P(9,3) = 504",
      "valid_numbers": "5040 - 504 = 4536"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 1,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:00:54.146Z"
  },
  {
    "id": "divisible_by_25_counting",
    "topic": "Kombinatoryka - liczby podzielne przez 25",
    "difficulty": 4,
    "statement": "Ze zbioru {0,1,2,3,4,5,6,7,8,9} losujemy kolejno 4 cyfry bez zwracania, a następnie zapisujemy je w kolejności losowania tworząc liczbę 4-cyfrową. Ile można otrzymać w ten sposób liczb podzielnych przez 25?",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy liczba jest podzielna przez 25?",
        "expression": "Liczba jest podzielna przez 25 $\\Leftrightarrow$ kończy się na: 00, 25, 50, 75",
        "explanation": "Sprawdzamy warunek podzielności przez 25",
        "why": "To kluczowa obserwacja - podzielność przez 25 zależy tylko od dwóch ostatnich cyfr, nie od całej liczby.",
        "interactive_choice": {
          "prompt": "Jaki warunek musi spełniać liczba, aby była podzielna przez 25?",
          "options": [
            {
              "id": "A",
              "text": "Suma cyfr musi być podzielna przez 25",
              "feedback": "Nie - to warunek dla podzielności przez 3 lub 9, nie przez 25",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Ostatnie dwie cyfry muszą tworzyć liczbę podzielną przez 25",
              "feedback": "Dokładnie! Liczby kończące się na 00, 25, 50, 75 są podzielne przez 25",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Ostatnia cyfra musi być 0 lub 5",
              "feedback": "To warunek dla podzielności przez 5, ale dla 25 potrzebujemy więcej",
              "is_correct": false
            }
          ],
          "explanation_after": "Podzielność przez 25 zależy od dwóch ostatnich cyfr. Muszą one tworzyć: 00, 25, 50 lub 75."
        }
      },
      {
        "step": 2,
        "hint": "Które z końcówek 00, 25, 50, 75 możemy utworzyć z naszego zbioru?",
        "expression": "Ze zbioru {0,1,2,3,4,5,6,7,8,9} możemy utworzyć: 25, 50, 75",
        "explanation": "Końcówka 00 jest niemożliwa, bo losujemy bez zwracania",
        "why": "Nie możemy wylosować dwóch zer, bo w zbiorze jest tylko jedna cyfra 0."
      },
      {
        "step": 3,
        "hint": "Jak podzielić problem na przypadki?",
        "expression": "Przypadki: końcówka 25, końcówka 50, końcówka 75",
        "explanation": "Dzielimy na przypadki według możliwych końcówek",
        "interactive_choice": {
          "prompt": "Jak najlepiej podzielić ten problem na przypadki?",
          "options": [
            {
              "id": "A",
              "text": "Według pierwszej cyfry liczby",
              "feedback": "Nie - pierwsza cyfra nie wpływa na podzielność przez 25",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Według końcówki: przypadek 25, przypadek 50, przypadek 75",
              "feedback": "Świetnie! Każda końcówka da inną liczbę możliwości",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Według parzystości liczby",
              "feedback": "To nie pomoże - podzielność przez 25 nie zależy od parzystości",
              "is_correct": false
            }
          ],
          "explanation_after": "Rozpatrujemy osobno każdą możliwą końcówkę: 25, 50, 75."
        }
      },
      {
        "step": 4,
        "hint": "Ile liczb kończy się na 25?",
        "expression": "Końcówka 25: używamy cyfry 2 i 5, zostaje 8 cyfr na pierwsze dwie pozycje",
        "explanation": "Po wybraniu 2 i 5 na końcówkę, mamy 8 pozostałych cyfr"
      },
      {
        "step": 5,
        "hint": "Jak wybrać pierwszą cyfrę dla końcówki 25?",
        "expression": "Pierwsza cyfra: 7 możliwości (nie może być 0, bo liczba 4-cyfrowa)",
        "explanation": "Z 8 pozostałych cyfr wykluczamy 0 na pierwszej pozycji",
        "why": "Liczba 4-cyfrowa nie może zaczynać się od 0. Z cyfr {0,1,3,4,6,7,8,9} tylko 0 jest zabronione na początku."
      },
      {
        "step": 6,
        "hint": "Ile możliwości na drugą cyfrę dla końcówki 25?",
        "expression": "Druga cyfra: 7 możliwości (pozostałe cyfry po wyborze pierwszej)",
        "explanation": "Po wyborze pierwszej cyfry zostaje 7 cyfr na drugą pozycję"
      },
      {
        "step": 7,
        "hint": "Ile liczb kończy się na 25?",
        "expression": "Końcówka 25: $7 \\times 7 = 49$ liczb",
        "explanation": "Mnożymy liczbę możliwości na każdej pozycji"
      },
      {
        "step": 8,
        "hint": "Ile liczb kończy się na 50?",
        "expression": "Końcówka 50: używamy cyfry 5 i 0, zostaje 8 cyfr na pierwsze dwie pozycje",
        "explanation": "Po wybraniu 5 i 0 na końcówkę, mamy 8 pozostałych cyfr"
      },
      {
        "step": 9,
        "hint": "Czy są ograniczenia dla pierwszej cyfry przy końcówce 50?",
        "expression": "Pierwsza cyfra: 8 możliwości, druga cyfra: 7 możliwości",
        "explanation": "Brak ograniczeń na pierwszą cyfrę, bo 0 jest zajęte",
        "interactive_choice": {
          "prompt": "Ile mamy możliwości na pierwszą cyfrę przy końcówce 50?",
          "options": [
            {
              "id": "A",
              "text": "8 możliwości - wszystkie pozostałe cyfry",
              "feedback": "Dokładnie! Cyfra 0 jest już użyta na końcu, więc nie ma ograniczeń",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "7 możliwości - wykluczamy 0",
              "feedback": "Nie - cyfra 0 jest już zajęta na ostatniej pozycji",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "6 możliwości",
              "feedback": "Za mało - nie ma dodatkowych ograniczeń",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy 0 jest na końcu, wszystkie 8 pozostałych cyfr mogą być na początku."
        }
      },
      {
        "step": 10,
        "hint": "Ile liczb kończy się na 50?",
        "expression": "Końcówka 50: $8 \\times 7 = 56$ liczb",
        "explanation": "Mnożymy liczbę możliwości na każdej pozycji"
      },
      {
        "step": 11,
        "hint": "Ile liczb kończy się na 75?",
        "expression": "Końcówka 75: używamy cyfry 7 i 5, zostaje 8 cyfr na pierwsze dwie pozycje",
        "explanation": "Po wybraniu 7 i 5 na końcówkę, mamy 8 pozostałych cyfr"
      },
      {
        "step": 12,
        "hint": "Ile możliwości na pierwszą cyfrę dla końcówki 75?",
        "expression": "Pierwsza cyfra: 7 możliwości (wykluczamy 0), druga cyfra: 7 możliwości",
        "explanation": "Podobnie jak dla końcówki 25 - wykluczamy 0 na początku"
      },
      {
        "step": 13,
        "hint": "Ile liczb kończy się na 75?",
        "expression": "Końcówka 75: $7 \\times 7 = 49$ liczb",
        "explanation": "Mnożymy liczbę możliwości na każdej pozycji"
      },
      {
        "step": 14,
        "hint": "Jaka jest całkowita liczba liczb podzielnych przez 25?",
        "expression": "$49 + 56 + 49 = 154$",
        "explanation": "Sumujemy wyniki ze wszystkich przypadków"
      }
    ],
    "solutions": [
      "154"
    ],
    "parameters": {
      "set": "{0,1,2,3,4,5,6,7,8,9}",
      "digits": "4",
      "condition": "bez zwracania, podzielne przez 25"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 14,
        "stepsWithWhy": 3,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:01:30.401Z"
  },
  {
    "id": "balls_in_boxes_combinatorics",
    "topic": "Kombinatoryka - rozmieszczenia z warunkami",
    "difficulty": 4,
    "statement": "Na ile sposobów można umieścić 6 ponumerowanych kul w czterech szufladach tak, aby w jednej z szuflad były dokładnie 4 kule?",
    "steps": [
      {
        "step": 1,
        "hint": "Jak podejść do tego problemu kombinatorycznego?",
        "expression": "Strategia: wybór szuflady z 4 kulami, następnie rozmieszczenie kul",
        "explanation": "Podejście etapowe do problemu kombinatorycznego",
        "interactive_choice": {
          "prompt": "Jaką strategię zastosować do rozwiązania tego zadania?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw wybrać szufladę z 4 kulami, potem rozmieścić kule",
              "feedback": "Świetnie! To systematyczne podejście - dzielimy problem na etapy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Policzyć wszystkie rozmieszczenia i odjąć niepożądane",
              "feedback": "Możliwe, ale bardzo skomplikowane - lepiej myśleć konstruktywnie.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru na rozmieszczenia bez ograniczeń",
              "feedback": "To nie uwzględni warunku o dokładnie 4 kulach w jednej szufladzie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dzielimy problem: wybór szuflady → wybór kul do tej szuflady → rozmieszczenie pozostałych."
        }
      },
      {
        "step": 2,
        "hint": "Na ile sposobów można wybrać szufladę, która będzie zawierać 4 kule?",
        "expression": "Liczba sposobów wyboru szuflady = $4$",
        "explanation": "Mamy 4 szuflady do wyboru, każda może być tą z 4 kulami"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można wybrać 4 kule spośród 6 ponumerowanych?",
        "expression": "$\\binom{6}{4} = \\frac{6!}{4! \\cdot 2!} = \\frac{6 \\cdot 5}{2 \\cdot 1} = 15$",
        "explanation": "Obliczamy liczbę sposobów wyboru 4 kul z 6",
        "interactive_choice": {
          "prompt": "Który wzór zastosować do wyboru 4 kul z 6?",
          "options": [
            {
              "id": "A",
              "text": "Kombinacje: $\\binom{6}{4}$",
              "feedback": "Dokładnie! Wybieramy 4 kule z 6, kolejność nie ma znaczenia.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wariacje: $V_6^4$",
              "feedback": "Nie - kolejność wyboru kul do szuflady nie ma znaczenia.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Permutacje: $6!$",
              "feedback": "To byłoby ustawienie wszystkich kul, a my wybieramy tylko 4.",
              "is_correct": false
            }
          ],
          "explanation_after": "Używamy kombinacji bo wybieramy podzbiór kul - kolejność nie ma znaczenia."
        }
      },
      {
        "step": 4,
        "hint": "Co robimy z pozostałymi 2 kulami?",
        "expression": "Pozostałe 2 kule rozmieszczamy w pozostałych 3 szufladach",
        "explanation": "Po umieszczeniu 4 kul w wybranej szufladzie, zostają 2 kule i 3 szuflady",
        "why": "Każda z pozostałych 2 kul może trafić do dowolnej z 3 pozostałych szuflad - to daje $3^2$ możliwości."
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można rozmieścić 2 ponumerowane kule w 3 szufladach?",
        "expression": "Liczba sposobów = $3^2 = 9$",
        "explanation": "Każda z 2 pozostałych kul może trafić do dowolnej z 3 szuflad",
        "interactive_choice": {
          "prompt": "Jak policzyć rozmieszczenia 2 kul w 3 szufladach?",
          "options": [
            {
              "id": "A",
              "text": "Każda kula ma 3 wybory: $3^2 = 9$",
              "feedback": "Perfekcyjnie! Pierwsza kula - 3 opcje, druga kula - 3 opcje.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Kombinacje: $\\binom{3}{2} = 3$",
              "feedback": "To byłoby gdyby kule były nierozróżnialne - ale są ponumerowane!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Permutacje: $3! = 6$",
              "feedback": "To nie jest ustawianie wszystkich obiektów w kolejności.",
              "is_correct": false
            }
          ],
          "explanation_after": "Kule są ponumerowane (rozróżnialne), więc każda ma niezależny wybór szuflady."
        }
      },
      {
        "step": 6,
        "hint": "Jak połączyć wszystkie etapy zgodnie z regułą iloczynu?",
        "expression": "Całkowita liczba sposobów = $4 \\times 15 \\times 9$",
        "explanation": "Mnożymy liczbę możliwości na każdym etapie",
        "why": "Reguła iloczynu: jeśli mamy $n_1$ sposobów na pierwszy wybór, $n_2$ na drugi itd., to łącznie mamy $n_1 \\times n_2 \\times \\ldots$ sposobów."
      },
      {
        "step": 7,
        "hint": "Jaki jest końcowy wynik?",
        "expression": "$4 \\times 15 \\times 9 = 540$",
        "explanation": "Obliczamy ostateczną liczbę sposobów rozmieszczenia"
      }
    ],
    "solutions": [
      "$540$"
    ],
    "parameters": {
      "balls": "6 ponumerowanych",
      "boxes": "4 szuflady",
      "condition": "dokładnie 4 kule w jednej szufladzie"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:02:00.705Z"
  },
  {
    "id": "combinatorics_cards_selection",
    "topic": "Kombinatoryka - kombinacje",
    "difficulty": 4,
    "statement": "Z talii 52 kart losujemy bez zwracania 8 kart. Ile jest możliwych wyników losowania, w których są dokładnie 2 walety i 4 damy?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile jest waletów i dam w standardowej talii kart?",
        "expression": "W talii 52 kart: 4 walety, 4 damy, pozostałe 44 karty",
        "explanation": "Identyfikujemy składniki talii potrzebne do rozwiązania"
      },
      {
        "step": 2,
        "hint": "Jakiego typu problem kombinatoryczny to jest?",
        "expression": "Wybieramy: 2 walety z 4, 4 damy z 4, pozostałe 2 karty z 44",
        "explanation": "Dzielimy problem na wybory z poszczególnych grup kart",
        "interactive_choice": {
          "prompt": "Jak podejść do tego problemu wyboru kart?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru na permutacje z powtórzeniami",
              "feedback": "Nie - kolejność kart nie ma znaczenia w tym problemie",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Zastosować kombinacje dla każdej grupy kart osobno",
              "feedback": "Świetnie! Wybieramy 2 z 4 waletów, 4 z 4 dam i 2 z pozostałych",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie możliwości i odjąć niepożądane",
              "feedback": "Możliwe, ale bardzo skomplikowane - lepiej liczyć bezpośrednio",
              "is_correct": false
            }
          ],
          "explanation_after": "To problem kombinacji - wybieramy podzbiory bez względu na kolejność z różnych grup kart."
        }
      },
      {
        "step": 3,
        "hint": "Ile kart musimy jeszcze wybrać oprócz waletów i dam?",
        "expression": "Łącznie wybieramy 8 kart: 2 walety + 4 damy + ? = 8",
        "explanation": "Obliczamy ile pozostałych kart trzeba wybrać"
      },
      {
        "step": 4,
        "hint": "Ile pozostałych kart musimy wybrać?",
        "expression": "Pozostałe karty: $8 - 2 - 4 = 2$ karty",
        "explanation": "Musimy wybrać jeszcze 2 karty spoza waletów i dam"
      },
      {
        "step": 5,
        "hint": "Ile jest kart, które nie są ani waletami ani damami?",
        "expression": "Pozostałe karty: $52 - 4 - 4 = 44$ karty",
        "explanation": "Karty inne niż walety i damy"
      },
      {
        "step": 6,
        "hint": "Którym wzorem obliczysz liczbę sposobów wyboru waletów?",
        "expression": "$\\binom{4}{2} = \\frac{4!}{2! \\cdot 2!} = \\frac{24}{2 \\cdot 2} = 6$",
        "explanation": "Liczba sposobów wyboru 2 waletów z 4",
        "why": "Wzór na kombinacje: $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$ - wybieramy k elementów z n bez względu na kolejność.",
        "interactive_choice": {
          "prompt": "Jak obliczyć liczbę sposobów wyboru 2 waletów z 4?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru $\\binom{4}{2} = \\frac{4!}{2!(4-2)!}$",
              "feedback": "Doskonale! To standardowy wzór na kombinacje bez powtórzeń",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Policzyć $4 \\times 3 = 12$ sposobów",
              "feedback": "To byłoby dla wariacji - tu kolejność nie ma znaczenia",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru $2^4 = 16$",
              "feedback": "To wzór na liczbę podzbiorów, nie na wybór dokładnie 2 elementów",
              "is_correct": false
            }
          ],
          "explanation_after": "Kombinacje $\\binom{n}{k}$ to wybór k elementów z n bez względu na kolejność."
        }
      },
      {
        "step": 7,
        "hint": "Ile jest sposobów wyboru 4 dam z 4 dostępnych?",
        "expression": "$\\binom{4}{4} = 1$",
        "explanation": "Jest tylko jeden sposób wybrania wszystkich 4 dam"
      },
      {
        "step": 8,
        "hint": "Ile jest sposobów wyboru 2 pozostałych kart z 44?",
        "expression": "$\\binom{44}{2} = \\frac{44!}{2! \\cdot 42!} = \\frac{44 \\times 43}{2} = \\frac{1892}{2} = 946$",
        "explanation": "Liczba sposobów wyboru 2 kart z pozostałych 44"
      },
      {
        "step": 9,
        "hint": "Jak połączyć wszystkie wybory w jeden wynik?",
        "expression": "Całkowita liczba: $6 \\times 1 \\times 946 = 5676$",
        "explanation": "Mnożymy liczby sposobów dla każdej grupy kart",
        "why": "Zasada mnożenia w kombinatoryce: liczba sposobów wykonania kilku niezależnych czynności to iloczyn liczb sposobów każdej z nich.",
        "interactive_choice": {
          "prompt": "Jak obliczyć całkowitą liczbę możliwych wyników?",
          "options": [
            {
              "id": "A",
              "text": "Dodać: $6 + 1 + 946$",
              "feedback": "Nie - to dałoby wybory alternatywne, a my chcemy wszystkie jednocześnie",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pomnożyć: $6 \\times 1 \\times 946$",
              "feedback": "Tak! Każdy wybór waletów można połączyć z każdym wyborem pozostałych kart",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć wzoru $\\binom{52}{8}$ i podzielić przez coś",
              "feedback": "Skomplikowane - lepiej mnożyć niezależne wybory",
              "is_correct": false
            }
          ],
          "explanation_after": "Zasada mnożenia: jeśli mamy niezależne wybory, to całkowitą liczbę możliwości otrzymujemy przez ich pomnożenie."
        }
      }
    ],
    "solutions": [
      "5676"
    ],
    "parameters": {
      "cards_total": 52,
      "cards_drawn": 8,
      "jacks_needed": 2,
      "queens_needed": 4
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:02:34.374Z"
  },
  {
    "id": "natural_numbers_digit_sum",
    "topic": "Kombinatoryka - rozmieszczenia z ograniczeniami",
    "difficulty": 4,
    "statement": "Ile jest liczb naturalnych ośmiocyfrowych, których suma cyfr jest równa 4?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry może mieć ośmiocyfrowa liczba naturalna?",
        "expression": "Liczba ośmiocyfrowa: $\\overline{c_1c_2c_3c_4c_5c_6c_7c_8}$ gdzie $c_1 \\in \\{1,2,...,9\\}$ i $c_i \\in \\{0,1,2,...,9\\}$ dla $i = 2,3,...,8$",
        "explanation": "Pierwsza cyfra nie może być zerem, pozostałe mogą być dowolne",
        "why": "W liczbie ośmiocyfrowej pierwsza cyfra musi być różna od zera, inaczej liczba miałaby mniej cyfr."
      },
      {
        "step": 2,
        "hint": "Jaki warunek muszą spełniać cyfry?",
        "expression": "$c_1 + c_2 + c_3 + c_4 + c_5 + c_6 + c_7 + c_8 = 4$",
        "explanation": "Suma wszystkich ośmiu cyfr musi równać się 4"
      },
      {
        "step": 3,
        "hint": "Jakie podejście zastosować do tego problemu kombinatorycznego?",
        "expression": "Rozpatrujemy przypadki: $c_1 = 1, 2, 3, 4$",
        "explanation": "Pierwsza cyfra może być co najwyżej 4, bo suma wszystkich cyfr to 4",
        "interactive_choice": {
          "prompt": "Jak najlepiej rozwiązać problem rozmieszczenia cyfr o zadanej sumie?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć wszystkie możliwe kombinacje cyfr bezpośrednio",
              "feedback": "Możliwe, ale bardzo pracochłonne - jest wiele przypadków do sprawdzenia.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Użyć wzoru na rozmieszczenia z powtórzeniami",
              "feedback": "Nie - wzór nie uwzględnia ograniczenia na pierwszą cyfrę i sumę.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Rozpatrzyć przypadki według wartości pierwszej cyfry",
              "feedback": "Świetnie! To systematyczne podejście uwzględni ograniczenie na pierwszą cyfrę.",
              "is_correct": true
            }
          ],
          "explanation_after": "Podział według pierwszej cyfry pozwoli systematycznie przeanalizować wszystkie możliwości."
        }
      },
      {
        "step": 4,
        "hint": "Dlaczego pierwsza cyfra nie może być większa niż 4?",
        "expression": "Jeśli $c_1 > 4$, to $c_1 + c_2 + ... + c_8 > 4$",
        "explanation": "Pierwsza cyfra sama przekroczyłaby wymaganą sumę"
      },
      {
        "step": 5,
        "hint": "Ile rozwiązań ma równanie gdy $c_1 = 4$?",
        "expression": "Przypadek $c_1 = 4$: $c_2 + c_3 + ... + c_8 = 0$",
        "explanation": "Wszystkie pozostałe cyfry muszą być zerami: $c_2 = c_3 = ... = c_8 = 0$",
        "why": "To daje dokładnie jedną liczbę: 40000000"
      },
      {
        "step": 6,
        "hint": "Jak rozłożyć sumę 3 na 7 cyfr gdy $c_1 = 1$?",
        "expression": "Przypadek $c_1 = 1$: liczba sposobów = $\\binom{3+7-1}{7-1} = \\binom{9}{6} = 84$",
        "explanation": "Rozkładamy sumę 3 na 7 nieujemnych składników",
        "interactive_choice": {
          "prompt": "Jaką metodę zastosować do znalezienia liczby sposobów rozłożenia sumy 3 na 7 nieujemnych składników?",
          "options": [
            {
              "id": "A",
              "text": "Wzór na kombinacje z powtórzeniami: $\\binom{n+k-1}{k-1}$",
              "feedback": "Doskonale! To klasyczne zastosowanie wzoru stars and bars.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Bezpośrednie wyliczenie wszystkich możliwości",
              "feedback": "Możliwe dla małych liczb, ale wzór jest bardziej elegancki.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wzór na permutacje z powtórzeniami",
              "feedback": "Nie - permutacje nie uwzględniają ograniczenia na sumę.",
              "is_correct": false
            }
          ],
          "explanation_after": "Problem rozkładu sumy na składniki to klasyczne zastosowanie kombinacji z powtórzeniami."
        }
      },
      {
        "step": 7,
        "hint": "Ile sposobów jest dla przypadku $c_1 = 2$?",
        "expression": "Przypadek $c_1 = 2$: liczba sposobów = $\\binom{2+7-1}{7-1} = \\binom{8}{6} = 28$",
        "explanation": "Rozkładamy sumę 2 na 7 nieujemnych składników"
      },
      {
        "step": 8,
        "hint": "Ile sposobów jest dla przypadku $c_1 = 3$?",
        "expression": "Przypadek $c_1 = 3$: liczba sposobów = $\\binom{1+7-1}{7-1} = \\binom{7}{6} = 7$",
        "explanation": "Rozkładamy sumę 1 na 7 nieujemnych składników"
      },
      {
        "step": 9,
        "hint": "Jaka jest całkowita liczba ośmiocyfrowych liczb o sumie cyfr równej 4?",
        "expression": "Całkowita liczba = $84 + 28 + 7 + 1 = 120$",
        "explanation": "Sumujemy wyniki ze wszystkich możliwych przypadków",
        "interactive_choice": {
          "prompt": "Jak obliczyć końcowy wynik?",
          "options": [
            {
              "id": "A",
              "text": "Dodać wyniki ze wszystkich przypadków",
              "feedback": "Tak! Przypadki się wykluczają, więc dodajemy: 84 + 28 + 7 + 1.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Pomnożyć wyniki ze wszystkich przypadków",
              "feedback": "Nie - przypadki są rozłączne, więc dodajemy, nie mnożymy.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wybrać największy z wyników",
              "feedback": "Nie - chcemy policzyć wszystkie możliwe liczby, nie tylko z jednego przypadku.",
              "is_correct": false
            }
          ],
          "explanation_after": "Przypadki według pierwszej cyfry są rozłączne, więc sumujemy ich liczności."
        }
      }
    ],
    "solutions": [
      "120"
    ],
    "parameters": {
      "constraint": "suma cyfr = 4",
      "digit_count": 8
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-17T07:03:07.767Z"
  },
  {
    "id": "seven_digit_sum_four",
    "topic": "Kombinatoryka - rozmieszczenia z ograniczeniami",
    "difficulty": 4,
    "statement": "Ile jest liczb naturalnych siedmiocyfrowych, których suma cyfr jest równa 4?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry może mieć siedmiocyfrowa liczba naturalna?",
        "expression": "Liczba siedmiocyfrowa: $\\overline{a_1a_2a_3a_4a_5a_6a_7}$ gdzie $a_1 \\in \\{1,2,...,9\\}$ i $a_i \\in \\{0,1,2,...,9\\}$ dla $i = 2,3,4,5,6,7$",
        "explanation": "Pierwsza cyfra nie może być zerem, pozostałe mogą być dowolne",
        "why": "W liczbie siedmiocyfrowej pierwsza cyfra musi być różna od zera, inaczej liczba miałaby mniej cyfr."
      },
      {
        "step": 2,
        "hint": "Jakie jest ograniczenie na sumę cyfr?",
        "expression": "$a_1 + a_2 + a_3 + a_4 + a_5 + a_6 + a_7 = 4$",
        "explanation": "Suma wszystkich cyfr musi równać się 4"
      },
      {
        "step": 3,
        "hint": "Którą metodę kombinatoryczną zastosować do tego problemu?",
        "expression": "Rozpatrujemy przypadki: $a_1 = 1, 2, 3, 4$",
        "explanation": "Pierwsza cyfra może być 1, 2, 3 lub 4 (większe wartości przekroczyłyby sumę)",
        "interactive_choice": {
          "prompt": "Jak najlepiej podejść do zliczania liczb z sumą cyfr równą 4?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru na rozmieszczenia z powtórzeniami",
              "feedback": "Nie uwzględnia ograniczenia na pierwszą cyfrę i sumę cyfr.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Rozpatrzyć przypadki według wartości pierwszej cyfry",
              "feedback": "Świetnie! Pierwsza cyfra jest specjalna (≥1), więc przypadki to dobra strategia.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Zastosować funkcje tworzące",
              "feedback": "Możliwe, ale zbyt skomplikowane dla tego poziomu.",
              "is_correct": false
            }
          ],
          "explanation_after": "Podział na przypadki według pierwszej cyfry pozwala kontrolować oba ograniczenia jednocześnie."
        }
      },
      {
        "step": 4,
        "hint": "Co się stanie jeśli pierwsza cyfra będzie większa niż 4?",
        "expression": "Jeśli $a_1 > 4$, to $a_1 + a_2 + ... + a_7 > 4$ (bo pozostałe cyfry $\\geq 0$)",
        "explanation": "Pierwsza cyfra nie może być większa niż 4, bo sama przekroczyłaby wymaganą sumę"
      },
      {
        "step": 5,
        "hint": "Ile sposobów jest na rozmieszczenie pozostałych cyfr gdy $a_1 = 1$?",
        "expression": "Przypadek $a_1 = 1$: $a_2 + a_3 + a_4 + a_5 + a_6 + a_7 = 3$",
        "explanation": "Pozostałe 6 cyfr musi sumować się do 3"
      },
      {
        "step": 6,
        "hint": "Jak obliczyć liczbę nieujemnych rozwiązań równania $x_1 + x_2 + ... + x_6 = 3$?",
        "expression": "$\\binom{3+6-1}{6-1} = \\binom{8}{5} = 56$",
        "explanation": "Dla $a_1 = 1$ mamy 56 sposobów",
        "interactive_choice": {
          "prompt": "Którą metodę użyć do zliczenia rozwiązań $a_2 + a_3 + a_4 + a_5 + a_6 + a_7 = 3$ gdzie $a_i \\geq 0$?",
          "options": [
            {
              "id": "A",
              "text": "Wzór na kombinacje z powtórzeniami: $\\binom{n+k-1}{k-1}$",
              "feedback": "Dokładnie! To klasyczny problem 'stars and bars' - $\\binom{3+6-1}{6-1} = \\binom{8}{5}$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Bezpośrednie wyliczenie wszystkich możliwości",
              "feedback": "Możliwe, ale bardzo pracochłonne i podatne na błędy.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Zasada włączeń i wyłączeń",
              "feedback": "Niepotrzebnie skomplikowane - nie ma dodatkowych ograniczeń górnych.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wzór 'stars and bars': $\\binom{n+k-1}{k-1}$ gdzie $n=3$ (suma), $k=6$ (liczba zmiennych)."
        }
      },
      {
        "step": 7,
        "hint": "Ile rozwiązań ma przypadek $a_1 = 2$?",
        "expression": "Przypadek $a_1 = 2$: $a_2 + a_3 + a_4 + a_5 + a_6 + a_7 = 2$",
        "explanation": "Pozostałe cyfry sumują się do 2"
      },
      {
        "step": 8,
        "hint": "Jak obliczyć $\\binom{7}{5}$?",
        "expression": "$\\binom{2+6-1}{6-1} = \\binom{7}{5} = 21$",
        "explanation": "Dla $a_1 = 2$ mamy 21 sposobów"
      },
      {
        "step": 9,
        "hint": "Ile rozwiązań ma przypadek $a_1 = 3$?",
        "expression": "Przypadek $a_1 = 3$: $a_2 + a_3 + a_4 + a_5 + a_6 + a_7 = 1$",
        "explanation": "Pozostałe cyfry sumują się do 1"
      },
      {
        "step": 10,
        "hint": "Jak wygląda rozkład sumy 1 na 6 składników?",
        "expression": "$\\binom{1+6-1}{6-1} = \\binom{6}{5} = 6$",
        "explanation": "Dla $a_1 = 3$ mamy 6 sposobów (jedna cyfra = 1, reszta = 0)"
      },
      {
        "step": 11,
        "hint": "Ile rozwiązań ma przypadek $a_1 = 4$?",
        "expression": "Przypadek $a_1 = 4$: $a_2 + a_3 + a_4 + a_5 + a_6 + a_7 = 0$",
        "explanation": "Wszystkie pozostałe cyfry muszą być zerami"
      },
      {
        "step": 12,
        "hint": "Ile jest sposobów na rozmieszczenie sześciu zer?",
        "expression": "$\\binom{0+6-1}{6-1} = \\binom{5}{5} = 1$",
        "explanation": "Dla $a_1 = 4$ mamy 1 sposób (liczba 4000000)",
        "interactive_choice": {
          "prompt": "Ile rozwiązań ma równanie $a_2 + a_3 + a_4 + a_5 + a_6 + a_7 = 0$ gdzie $a_i \\geq 0$?",
          "options": [
            {
              "id": "A",
              "text": "0 rozwiązań",
              "feedback": "Nie - istnieje rozwiązanie gdzie wszystkie zmienne równają się 0.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "1 rozwiązanie",
              "feedback": "Tak! Jedyne rozwiązanie to $a_2 = a_3 = a_4 = a_5 = a_6 = a_7 = 0$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "6 rozwiązań",
              "feedback": "Nie - to byłoby gdyby suma wynosiła 1, nie 0.",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy suma nieujemnych liczb wynosi 0, wszystkie muszą być zerami."
        }
      },
      {
        "step": 13,
        "hint": "Jaka jest całkowita liczba siedmiocyfrowych liczb o sumie cyfr 4?",
        "expression": "$56 + 21 + 6 + 1 = 84$",
        "explanation": "Sumujemy wszystkie przypadki"
      }
    ],
    "solutions": [
      "84"
    ],
    "parameters": {
      "constraint": "suma cyfr = 4",
      "digits": "7 cyfr"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 13,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:03:44.255Z"
  },
  {
    "id": "hundred_digit_sum_4",
    "topic": "Kombinatoryka - rozmieszczenia cyfr",
    "difficulty": 4,
    "statement": "Oblicz, ile jest stucyfrowych liczb naturalnych o sumie cyfr równej 4.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry może mieć stucyfrowa liczba naturalna?",
        "expression": "Stucyfrowa liczba: $\\overline{a_1a_2...a_{100}}$ gdzie $a_1 \\in \\{1,2,...,9\\}$ i $a_i \\in \\{0,1,2,...,9\\}$ dla $i = 2,3,...,100$",
        "explanation": "Pierwsza cyfra nie może być zerem, pozostałe mogą być dowolne",
        "why": "To kluczowe ograniczenie - pierwsza cyfra musi być niezerowa, aby liczba była rzeczywiście stucyfrowa."
      },
      {
        "step": 2,
        "hint": "Jaki warunek musi spełniać suma cyfr?",
        "expression": "$a_1 + a_2 + a_3 + ... + a_{100} = 4$",
        "explanation": "Suma wszystkich cyfr musi równać się 4"
      },
      {
        "step": 3,
        "hint": "Jakie podejście zastosować do tego problemu kombinatorycznego?",
        "expression": "Rozpatrujemy przypadki: $a_1 = 1, 2, 3, 4$",
        "explanation": "Pierwsza cyfra może być 1, 2, 3 lub 4 (większe wartości przekroczyłyby sumę)",
        "interactive_choice": {
          "prompt": "Jak najlepiej podejść do zliczania liczb o sumie cyfr równej 4?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć przypadki według wartości pierwszej cyfry",
              "feedback": "Świetny wybór! Pierwsza cyfra ma ograniczenia, więc podział na przypadki jest naturalny.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć wzoru na rozmieszczenia z powtórzeniami",
              "feedback": "Trudne - ograniczenie pierwszej cyfry komplikuje standardowe wzory.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Zastosować funkcje tworzące",
              "feedback": "Możliwe, ale zbyt zaawansowane dla tego poziomu.",
              "is_correct": false
            }
          ],
          "explanation_after": "Podział na przypadki według pierwszej cyfry pozwala osobno rozpatrzyć każdą możliwość."
        }
      },
      {
        "step": 4,
        "hint": "Co się dzieje gdy pierwsza cyfra równa się 4?",
        "expression": "Przypadek $a_1 = 4$: pozostałe cyfry $a_2 + a_3 + ... + a_{100} = 0$",
        "explanation": "Wszystkie pozostałe 99 cyfr musi być zerami"
      },
      {
        "step": 5,
        "hint": "Ile jest sposobów na ustawienie 99 zer?",
        "expression": "Dla $a_1 = 4$: dokładnie 1 sposób",
        "explanation": "Tylko jedna możliwość: 400...000 (99 zer)"
      },
      {
        "step": 6,
        "hint": "Jak rozłożyć sumę 3 na 99 pozycji gdy pierwsza cyfra to 3?",
        "expression": "Dla $a_1 = 3$: $\\binom{99}{1} = 99$ sposobów",
        "explanation": "Wybieramy 1 pozycję z 99 dla cyfry 1, pozostałe to zera",
        "interactive_choice": {
          "prompt": "Gdy $a_1 = 3$, jak rozłożyć pozostałą sumę 1 na 99 pozycji?",
          "options": [
            {
              "id": "A",
              "text": "Jedna cyfra równa 1, pozostałe 98 to zera",
              "feedback": "Dokładnie! Mamy 99 sposobów wyboru pozycji dla jedynki.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Można mieć różne kombinacje cyfr sumujące się do 1",
              "feedback": "Nie - jedyna cyfra dająca sumę 1 to sama jedynka.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "To niemożliwe do policzenia",
              "feedback": "Przeciwnie - to prosty problem wyboru 1 pozycji z 99.",
              "is_correct": false
            }
          ],
          "explanation_after": "Suma 1 może powstać tylko z jednej cyfry równej 1, więc wybieramy 1 pozycję z 99 dostępnych."
        }
      },
      {
        "step": 7,
        "hint": "Jak rozłożyć sumę 2 na 99 pozycji gdy pierwsza cyfra to 2?",
        "expression": "Dla $a_1 = 2$: suma pozostałych cyfr = 2",
        "explanation": "Musimy rozłożyć 2 na 99 pozycji"
      },
      {
        "step": 8,
        "hint": "Jakie są możliwości rozłożenia sumy 2?",
        "expression": "Dwie możliwości: jedna cyfra 2 lub dwie cyfry 1",
        "explanation": "Rozpatrujemy oba przypadki osobno",
        "interactive_choice": {
          "prompt": "Na ile sposobów można rozłożyć sumę 2 na cyfry?",
          "options": [
            {
              "id": "A",
              "text": "Tylko jedna cyfra 2, pozostałe zera",
              "feedback": "To jeden sposób, ale nie jedyny!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Dwie cyfry 1, pozostałe zera",
              "feedback": "To drugi sposób, ale nie jedyny!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Jedna cyfra 2 ALBO dwie cyfry 1",
              "feedback": "Tak! To wszystkie możliwości: 2+0+...+0 lub 1+1+0+...+0",
              "is_correct": true
            }
          ],
          "explanation_after": "Suma 2 może powstać z jednej cyfry 2 lub z dwóch cyfr 1."
        }
      },
      {
        "step": 9,
        "hint": "Ile sposobów dla każdej możliwości gdy $a_1 = 2$?",
        "expression": "Jedna cyfra 2: $\\binom{99}{1} = 99$ sposobów, dwie cyfry 1: $\\binom{99}{2} = \\frac{99 \\cdot 98}{2} = 4851$ sposobów",
        "explanation": "Wybieramy pozycje dla niezerowych cyfr"
      },
      {
        "step": 10,
        "hint": "Jaka jest suma dla przypadku $a_1 = 2$?",
        "expression": "Dla $a_1 = 2$: $99 + 4851 = 4950$ sposobów",
        "explanation": "Dodajemy oba podprzypadki"
      },
      {
        "step": 11,
        "hint": "Jak rozłożyć sumę 3 na 99 pozycji gdy pierwsza cyfra to 1?",
        "expression": "Dla $a_1 = 1$: suma pozostałych cyfr = 3",
        "explanation": "Najsłożniejszy przypadek - suma 3 na 99 pozycji"
      },
      {
        "step": 12,
        "hint": "Jakie są wszystkie sposoby otrzymania sumy 3?",
        "expression": "Możliwości: jedna cyfra 3, lub jedna cyfra 2 i jedna cyfra 1, lub trzy cyfry 1",
        "explanation": "Wszystkie rozkłady liczby 3 na cyfry 0-9",
        "why": "To zastosowanie problemu partycji liczby 3 z ograniczeniem do cyfr 0-9."
      },
      {
        "step": 13,
        "hint": "Ile sposobów dla każdej możliwości sumy 3?",
        "expression": "Jedna cyfra 3: $\\binom{99}{1} = 99$, cyfry 2 i 1: $\\binom{99}{1} \\cdot \\binom{98}{1} = 99 \\cdot 98 = 9702$, trzy cyfry 1: $\\binom{99}{3} = \\frac{99 \\cdot 98 \\cdot 97}{6} = 156849$",
        "explanation": "Liczymy kombinacje dla każdego rozkładu"
      },
      {
        "step": 14,
        "hint": "Jaka jest suma dla przypadku $a_1 = 1$?",
        "expression": "Dla $a_1 = 1$: $99 + 9702 + 156849 = 166650$ sposobów",
        "explanation": "Sumujemy wszystkie podprzypadki"
      },
      {
        "step": 15,
        "hint": "Ile łącznie jest stucyfrowych liczb o sumie cyfr 4?",
        "expression": "$1 + 99 + 4950 + 166650 = 171700$",
        "explanation": "Sumujemy wszystkie przypadki według pierwszej cyfry"
      }
    ],
    "solutions": [
      "171700"
    ],
    "parameters": {
      "constraint": "suma cyfr = 4",
      "digits": 100
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 15,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:04:23.551Z"
  },
  {
    "id": "five_digit_sum_5",
    "topic": "Kombinatoryka - rozmieszczenia z ograniczeniami",
    "difficulty": 4,
    "statement": "Oblicz, ile jest liczb naturalnych pięciocyfrowych, których suma cyfr jest równa 5?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry może mieć liczba pięciocyfrowa?",
        "expression": "Liczba pięciocyfrowa: $\\overline{a_1a_2a_3a_4a_5}$ gdzie $a_1 \\in \\{1,2,...,9\\}$ i $a_2,a_3,a_4,a_5 \\in \\{0,1,...,9\\}$",
        "explanation": "Pierwsza cyfra nie może być zerem, pozostałe mogą",
        "why": "To kluczowe ograniczenie - pierwsza cyfra musi być niezerowa, inaczej liczba nie byłaby pięciocyfrowa."
      },
      {
        "step": 2,
        "hint": "Jakie równanie muszą spełniać cyfry?",
        "expression": "$a_1 + a_2 + a_3 + a_4 + a_5 = 5$",
        "explanation": "Suma wszystkich cyfr musi równać się 5"
      },
      {
        "step": 3,
        "hint": "Którą metodę kombinatoryczną zastosować do tego problemu?",
        "expression": "Rozpatrujemy przypadki: $a_1 = 1, 2, 3, 4, 5$",
        "explanation": "Pierwsza cyfra może być od 1 do 5 (większe wartości uniemożliwiłyby sumę 5)",
        "interactive_choice": {
          "prompt": "Jak najlepiej podejść do zliczania rozwiązań równania $a_1 + a_2 + a_3 + a_4 + a_5 = 5$?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru na rozmieszczenia z powtórzeniami",
              "feedback": "Nie - to nie uwzględnia ograniczenia na pierwszą cyfrę ani sumy",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Zastosować metodę gwiazd i kresek",
              "feedback": "Dobry kierunek, ale trzeba uwzględnić ograniczenie $a_1 \\geq 1$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Przeanalizować wszystkie przypadki dla $a_1$",
              "feedback": "Świetnie! To pozwoli systematycznie uwzględnić ograniczenie",
              "is_correct": true
            }
          ],
          "explanation_after": "Najlepiej przeanalizować przypadki według wartości pierwszej cyfry, bo ma ona specjalne ograniczenie."
        }
      },
      {
        "step": 4,
        "hint": "Co się dzieje gdy $a_1 = 1$?",
        "expression": "Dla $a_1 = 1$: $a_2 + a_3 + a_4 + a_5 = 4$",
        "explanation": "Pozostałe cztery cyfry muszą sumować się do 4"
      },
      {
        "step": 5,
        "hint": "Ile jest nieujemnych rozwiązań równania $x_1 + x_2 + x_3 + x_4 = 4$?",
        "expression": "$\\binom{4+4-1}{4-1} = \\binom{7}{3} = 35$",
        "explanation": "Dla $a_1 = 1$ mamy 35 możliwości",
        "interactive_choice": {
          "prompt": "Którym wzorem obliczyć liczbę rozwiązań $a_2 + a_3 + a_4 + a_5 = 4$ gdzie $a_i \\geq 0$?",
          "options": [
            {
              "id": "A",
              "text": "Wzór na kombinacje: $\\binom{4+4-1}{4-1} = \\binom{7}{3}$",
              "feedback": "Doskonale! To klasyczny wzór gwiazd i kresek",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wzór na wariacje: $4^4$",
              "feedback": "Nie - to liczyłoby wszystkie 4-elementowe ciągi, nie uwzględnia sumy",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wzór na permutacje: $4!$",
              "feedback": "Nie - permutacje nie uwzględniają ograniczenia na sumę",
              "is_correct": false
            }
          ],
          "explanation_after": "Wzór gwiazd i kresek: $\\binom{n+k-1}{k-1}$ dla $k$ zmiennych sumujących się do $n$."
        }
      },
      {
        "step": 6,
        "hint": "Ile rozwiązań dla pozostałych wartości $a_1$?",
        "expression": "Dla $a_1 = 2$: $\\binom{3+4-1}{4-1} = \\binom{6}{3} = 20$",
        "explanation": "Pozostałe cyfry sumują się do 3"
      },
      {
        "step": 7,
        "hint": "Kontynuuj obliczenia dla $a_1 = 3, 4, 5$",
        "expression": "Dla $a_1 = 3$: $\\binom{2+4-1}{4-1} = \\binom{5}{3} = 10$",
        "explanation": "Pozostałe cyfry sumują się do 2"
      },
      {
        "step": 8,
        "hint": "Jakie są ostatnie przypadki?",
        "expression": "Dla $a_1 = 4$: $\\binom{1+4-1}{4-1} = \\binom{4}{3} = 4$\nDla $a_1 = 5$: $\\binom{0+4-1}{4-1} = \\binom{3}{3} = 1$",
        "explanation": "Dla $a_1 = 4$ suma pozostałych to 1, dla $a_1 = 5$ suma to 0"
      },
      {
        "step": 9,
        "hint": "Jak obliczyć całkowitą liczbę liczb pięciocyfrowych?",
        "expression": "$35 + 20 + 10 + 4 + 1 = 70$",
        "explanation": "Sumujemy wyniki ze wszystkich przypadków",
        "interactive_choice": {
          "prompt": "Jak połączyć wyniki ze wszystkich przypadków?",
          "options": [
            {
              "id": "A",
              "text": "Pomnożyć wszystkie wyniki",
              "feedback": "Nie - przypadki się wykluczają, więc dodajemy",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Dodać wszystkie wyniki",
              "feedback": "Tak! Przypadki są rozłączne, więc stosujemy regułę sumy",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wybrać największy wynik",
              "feedback": "Nie - chcemy policzyć wszystkie możliwe liczby",
              "is_correct": false
            }
          ],
          "explanation_after": "Przypadki są rozłączne (każda liczba ma dokładnie jedną pierwszą cyfrę), więc dodajemy."
        }
      }
    ],
    "solutions": [
      "70"
    ],
    "parameters": {
      "constraint": "suma cyfr = 5",
      "type": "liczby pięciocyfrowe"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-17T07:04:53.704Z"
  },
  {
    "id": "handshakes_combinatorics",
    "topic": "Kombinatoryka - wybory bez powtórzeń",
    "difficulty": 3,
    "statement": "Na przyjęciu spotkała się pewna liczba znajomych. Wszyscy znajomi przywitali się podaniem ręki. Nastąpiło 10 powitań. Ilu przyjaciół się spotkało?",
    "steps": [
      {
        "step": 1,
        "hint": "Jak można modelować matematycznie sytuację powitań?",
        "expression": "Szukamy liczby $n$ takiej, że $\\binom{n}{2} = 10$",
        "explanation": "Liczba powitań to liczba sposobów wyboru 2 osób z n osób",
        "interactive_choice": {
          "prompt": "Jak najlepiej podejść do tego problemu kombinatorycznego?",
          "options": [
            {
              "id": "A",
              "text": "Każde powitanie to wybór 2 osób z n osób",
              "feedback": "Świetnie! To klasyczny problem kombinacji bez powtórzeń.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Każda osoba wita się z każdą inną osobą",
              "feedback": "Dobry kierunek myślenia, ale trzeba uważać na podwójne liczenie!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "To problem permutacji osób",
              "feedback": "Nie - kolejność powitań nie ma znaczenia, to kombinacje.",
              "is_correct": false
            }
          ],
          "explanation_after": "Każde powitanie to wybór 2 osób z n osób, gdzie kolejność nie ma znaczenia."
        }
      },
      {
        "step": 2,
        "hint": "Jak zapisać wzór na liczbę kombinacji 2 z n?",
        "expression": "$\\binom{n}{2} = \\frac{n!}{2!(n-2)!} = \\frac{n(n-1)}{2}$",
        "explanation": "Stosujemy wzór na kombinacje bez powtórzeń",
        "why": "Wzór $\\binom{n}{2} = \\frac{n(n-1)}{2}$ to podstawa - dzielimy przez 2, bo kolejność nie ma znaczenia (powitanie A-B to to samo co B-A)."
      },
      {
        "step": 3,
        "hint": "Jakie równanie należy rozwiązać?",
        "expression": "$\\frac{n(n-1)}{2} = 10$",
        "explanation": "Podstawiamy znaną liczbę powitań"
      },
      {
        "step": 4,
        "hint": "Jak uprościć to równanie?",
        "expression": "$n(n-1) = 20$",
        "explanation": "Mnożymy obie strony przez 2"
      },
      {
        "step": 5,
        "hint": "Do jakiej postaci przekształcić równanie?",
        "expression": "$n^2 - n - 20 = 0$",
        "explanation": "Rozwijamy i przenosimy wszystko na lewą stronę",
        "interactive_choice": {
          "prompt": "Jak najlepiej rozwiązać równanie $n(n-1) = 20$?",
          "options": [
            {
              "id": "A",
              "text": "Rozwinąć i otrzymać równanie kwadratowe",
              "feedback": "Dobry wybór! Otrzymasz $n^2 - n - 20 = 0$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Zgadywać wartości n metodą prób i błędów",
              "feedback": "Może zadziałać, ale metoda algebraiczna jest pewniejsza.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć logarytmów",
              "feedback": "Nie - to nie jest równanie wykładnicze, tylko kwadratowe.",
              "is_correct": false
            }
          ],
          "explanation_after": "Rozwinięcie daje równanie kwadratowe, które można rozwiązać standardowymi metodami."
        }
      },
      {
        "step": 6,
        "hint": "Jakie liczby dają sumę 1 i iloczyn -20?",
        "expression": "$5 + (-4) = 1$ oraz $5 \\cdot (-4) = -20$",
        "explanation": "Szukamy rozkładu na czynniki: $(n-5)(n+4) = 0$"
      },
      {
        "step": 7,
        "hint": "Jakie są rozwiązania równania kwadratowego?",
        "expression": "$n = 5$ lub $n = -4$",
        "explanation": "Z równania $(n-5)(n+4) = 0$ otrzymujemy dwa rozwiązania"
      },
      {
        "step": 8,
        "hint": "Które rozwiązanie ma sens w kontekście zadania?",
        "expression": "$n = 5$",
        "explanation": "Przyjmujemy tylko rozwiązanie dodatnie",
        "interactive_choice": {
          "prompt": "Które rozwiązanie jest sensowne dla liczby osób?",
          "options": [
            {
              "id": "A",
              "text": "$n = 5$ - pięć osób",
              "feedback": "Tak! Liczba osób musi być dodatnia.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$n = -4$ - minus cztery osoby",
              "feedback": "Nie ma sensu - liczba osób nie może być ujemna.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Oba rozwiązania są poprawne",
              "feedback": "Nie - w kontekście zadania tylko dodatnie liczby mają sens.",
              "is_correct": false
            }
          ],
          "explanation_after": "W problemach praktycznych odrzucamy rozwiązania bez sensu fizycznego."
        }
      },
      {
        "step": 9,
        "hint": "Jak sprawdzić poprawność wyniku?",
        "expression": "$\\binom{5}{2} = \\frac{5 \\cdot 4}{2} = 10$ ✓",
        "explanation": "Sprawdzenie: 5 osób daje rzeczywiście 10 powitań"
      }
    ],
    "solutions": [
      "5 osób"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:05:19.126Z"
  },
  {
    "id": "set_elements_combinatorics",
    "topic": "Kombinatoryka - liczba podzbiorów",
    "difficulty": 4,
    "statement": "Zbiór A ma tę własność, że poprzez usuwanie z niego jednego lub dwóch elementów można utworzyć 190 różnych zbiorów. Ile elementów ma zbiór A?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza \"usuwanie jednego lub dwóch elementów\"?",
        "expression": "Usuwamy 1 element: otrzymujemy podzbiory o $n-1$ elementach",
        "explanation": "Jeśli zbiór A ma $n$ elementów, to usuwając 1 element otrzymujemy zbiory o $n-1$ elementach"
      },
      {
        "step": 2,
        "hint": "A co gdy usuwamy dokładnie 2 elementy?",
        "expression": "Usuwamy 2 elementy: otrzymujemy podzbiory o $n-2$ elementach",
        "explanation": "Usuwając 2 elementy otrzymujemy zbiory o $n-2$ elementach"
      },
      {
        "step": 3,
        "hint": "Jak obliczyć liczbę sposobów usunięcia określonej liczby elementów?",
        "expression": "Liczba sposobów usunięcia $k$ elementów z $n$-elementowego zbioru: $\\binom{n}{k}$",
        "explanation": "Kombinacje bez powtórzeń - wybieramy które elementy usunąć",
        "interactive_choice": {
          "prompt": "Jakiego wzoru użyć do obliczenia liczby sposobów wyboru elementów do usunięcia?",
          "options": [
            {
              "id": "A",
              "text": "Wzór na permutacje $P_n^k = \\frac{n!}{(n-k)!}$",
              "feedback": "Nie - permutacje uwzględniają kolejność, a tu kolejność usuwania nie ma znaczenia",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Wzór na kombinacje $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$",
              "feedback": "Doskonale! Kombinacje to wybór bez uwzględnienia kolejności",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wzór na wariacje $V_n^k = n^k$",
              "feedback": "Nie - to wzór na wariacje z powtórzeniami, nie pasuje do tego problemu",
              "is_correct": false
            }
          ],
          "explanation_after": "Używamy kombinacji, bo kolejność usuwania elementów nie ma znaczenia - liczy się tylko które elementy usuwamy."
        }
      },
      {
        "step": 4,
        "hint": "Ile jest sposobów usunięcia dokładnie 1 elementu?",
        "expression": "$\\binom{n}{1} = n$",
        "explanation": "Możemy usunąć każdy z $n$ elementów na $n$ sposobów"
      },
      {
        "step": 5,
        "hint": "Ile jest sposobów usunięcia dokładnie 2 elementów?",
        "expression": "$\\binom{n}{2} = \\frac{n!}{2!(n-2)!} = \\frac{n(n-1)}{2}$",
        "explanation": "Wybieramy 2 elementy z $n$ elementów",
        "why": "To klasyczny wzór na kombinacje - wybieramy 2 obiekty z $n$ dostępnych, kolejność nie ma znaczenia."
      },
      {
        "step": 6,
        "hint": "Jaka jest całkowita liczba różnych zbiorów?",
        "expression": "$\\binom{n}{1} + \\binom{n}{2} = n + \\frac{n(n-1)}{2} = 190$",
        "explanation": "Sumujemy liczbę sposobów usunięcia 1 elementu i 2 elementów"
      },
      {
        "step": 7,
        "hint": "Jak uprościć wyrażenie $n + \\frac{n(n-1)}{2}$?",
        "expression": "$\\frac{2n + n(n-1)}{2} = \\frac{2n + n^2 - n}{2} = \\frac{n^2 + n}{2} = \\frac{n(n+1)}{2}$",
        "explanation": "Sprowadzamy do wspólnego mianownika i upraszczamy",
        "interactive_choice": {
          "prompt": "Jak najlepiej uprościć wyrażenie $n + \\frac{n(n-1)}{2}$?",
          "options": [
            {
              "id": "A",
              "text": "Sprowadzić do wspólnego mianownika",
              "feedback": "Świetnie! To da nam $\\frac{2n + n(n-1)}{2} = \\frac{n(n+1)}{2}$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Rozwinąć $\\frac{n(n-1)}{2}$ i dodać do $n$",
              "feedback": "Możliwe, ale mniej eleganckie - lepiej wspólny mianownik",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wyłączyć $n$ przed nawias",
              "feedback": "Trudne - lepiej najpierw wspólny mianownik, potem wyłączanie",
              "is_correct": false
            }
          ],
          "explanation_after": "Wspólny mianownik pozwala elegancko uprościć do postaci $\\frac{n(n+1)}{2}$."
        }
      },
      {
        "step": 8,
        "hint": "Jakie równanie musimy rozwiązać?",
        "expression": "$\\frac{n(n+1)}{2} = 190$",
        "explanation": "Otrzymujemy równanie kwadratowe do rozwiązania"
      },
      {
        "step": 9,
        "hint": "Jak pozbyć się ułamka?",
        "expression": "$n(n+1) = 380$",
        "explanation": "Mnożymy obie strony przez 2"
      },
      {
        "step": 10,
        "hint": "Do jakiej postaci przekształcić równanie?",
        "expression": "$n^2 + n - 380 = 0$",
        "explanation": "Równanie kwadratowe w postaci ogólnej"
      },
      {
        "step": 11,
        "hint": "Którą metodą rozwiążesz to równanie kwadratowe?",
        "expression": "$\\Delta = 1^2 - 4 \\cdot 1 \\cdot (-380) = 1 + 1520 = 1521$",
        "explanation": "Obliczamy dyskryminantę",
        "interactive_choice": {
          "prompt": "Jak rozwiązać równanie $n^2 + n - 380 = 0$?",
          "options": [
            {
              "id": "A",
              "text": "Wzór z deltą $\\Delta = b^2 - 4ac$",
              "feedback": "Dobry wybór - dla dużych liczb jak 380 to najniezawodniejsza metoda",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Rozkład na czynniki $(n-p)(n-q)$",
              "feedback": "Trudne - liczba 380 ma wiele dzielników, ciężko zgadnąć",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Dopełnienie do kwadratu",
              "feedback": "Możliwe, ale wzór z deltą będzie szybszy dla tego równania",
              "is_correct": false
            }
          ],
          "explanation_after": "Dla równań z dużymi współczynnikami wzór z deltą jest najefektywniejszy."
        }
      },
      {
        "step": 12,
        "hint": "Ile wynosi $\\sqrt{1521}$?",
        "expression": "$\\sqrt{1521} = 39$ (bo $39^2 = 1521$)",
        "explanation": "Pierwiastek z dyskryminanty"
      },
      {
        "step": 13,
        "hint": "Jakie są rozwiązania równania?",
        "expression": "$n = \\frac{-1 \\pm 39}{2}$, więc $n_1 = \\frac{38}{2} = 19$ lub $n_2 = \\frac{-40}{2} = -20$",
        "explanation": "Stosujemy wzór na pierwiastki równania kwadratowego"
      },
      {
        "step": 14,
        "hint": "Które rozwiązanie ma sens w kontekście zadania?",
        "expression": "$n = 19$",
        "explanation": "Liczba elementów zbioru musi być dodatnia, więc $n = 19$",
        "why": "W kontekście kombinatoryki liczba elementów zbioru musi być liczbą naturalną dodatnią."
      }
    ],
    "solutions": [
      "Zbiór A ma 19 elementów"
    ],
    "parameters": {
      "verification": "Sprawdzenie: $\\binom{19}{1} + \\binom{19}{2} = 19 + \\frac{19 \\cdot 18}{2} = 19 + 171 = 190$ ✓"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 14,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:05:54.580Z"
  },
  {
    "id": "probability_sampling_without_replacement",
    "topic": "Prawdopodobieństwo - losowanie bez zwracania",
    "difficulty": 3,
    "statement": "Ze zbioru liczb {1,2,3,4,5,6,7,8,9,10,11,12,13,14,15} losujemy bez zwracania dwa razy po jednej liczbie.",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza losowanie bez zwracania w tym kontekście?",
        "expression": "Mamy zbiór 15 liczb, losujemy pierwszą liczbę, następnie drugą z pozostałych 14 liczb",
        "explanation": "Losowanie bez zwracania oznacza, że wylosowana liczba nie wraca do zbioru",
        "why": "To kluczowa różnica - po pierwszym losowaniu zostaje nam 14 liczb, nie 15"
      },
      {
        "step": 2,
        "hint": "Jakie są możliwości dla pierwszego i drugiego losowania?",
        "expression": "Pierwsze losowanie: 15 możliwości, drugie losowanie: 14 możliwości",
        "explanation": "Liczba możliwości zmniejsza się po każdym losowaniu",
        "interactive_choice": {
          "prompt": "Ile mamy możliwości wyboru w pierwszym i drugim losowaniu?",
          "options": [
            {
              "id": "A",
              "text": "15 możliwości w pierwszym, 15 w drugim",
              "feedback": "Nie - po pierwszym losowaniu liczba nie wraca do zbioru!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "15 możliwości w pierwszym, 14 w drugim",
              "feedback": "Dokładnie! Po wylosowaniu pierwszej liczby zostaje 14 liczb.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "14 możliwości w pierwszym, 13 w drugim",
              "feedback": "Nie - na początku mamy wszystkie 15 liczb do wyboru.",
              "is_correct": false
            }
          ],
          "explanation_after": "Pierwsze losowanie: 15 opcji. Drugie losowanie: 14 opcji (jedna już wylosowana)."
        }
      },
      {
        "step": 3,
        "hint": "Czy kolejność losowania ma znaczenie w tym zadaniu?",
        "expression": "Rozważamy dwa przypadki: z kolejnością (wariacje) i bez kolejności (kombinacje)",
        "explanation": "Interpretacja zadania może być dwojaka",
        "interactive_choice": {
          "prompt": "Czy para (3,7) to to samo co para (7,3) w tym losowaniu?",
          "options": [
            {
              "id": "A",
              "text": "Tak, to te same pary - kolejność nie ma znaczenia",
              "feedback": "Uwaga! Zadanie mówi o losowaniu 'dwa razy po jednej liczbie' - to sugeruje kolejność.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Nie, to różne pary - kolejność ma znaczenie",
              "feedback": "Prawdopodobnie tak - (3,7) oznacza: pierwsza 3, druga 7. To różni się od (7,3).",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Zależy od interpretacji zadania",
              "feedback": "Masz rację - zadanie można interpretować na oba sposoby. Rozważmy oba przypadki.",
              "is_correct": true
            }
          ],
          "explanation_after": "Sformułowanie 'dwa razy po jednej liczbie' sugeruje uporządkowane pary. Rozważmy oba przypadki."
        }
      },
      {
        "step": 4,
        "hint": "Ile jest wszystkich uporządkowanych par (z kolejnością)?",
        "expression": "Liczba wariacji bez powtórzeń: $V_{15}^2 = 15 \\cdot 14 = 210$",
        "explanation": "Pierwsza liczba: 15 możliwości, druga: 14 możliwości",
        "why": "To wzór na wariacje bez powtórzeń: $V_n^k = \\frac{n!}{(n-k)!}$"
      },
      {
        "step": 5,
        "hint": "Ile jest wszystkich nieuporządkowanych par (bez kolejności)?",
        "expression": "Liczba kombinacji: $C_{15}^2 = \\binom{15}{2} = \\frac{15 \\cdot 14}{2} = 105$",
        "explanation": "Dzielimy przez 2, bo każda para może być ułożona na 2 sposoby"
      },
      {
        "step": 6,
        "hint": "Jakie jest prawdopodobieństwo konkretnej pary?",
        "expression": "P(konkretna para uporządkowana) = $\\frac{1}{210}$, P(konkretna para nieuporządkowana) = $\\frac{1}{105}$",
        "explanation": "Prawdopodobieństwo odwrotnie proporcjonalne do liczby możliwych wyników",
        "interactive_choice": {
          "prompt": "Jakie jest prawdopodobieństwo wylosowania konkretnej pary, np. (5,12)?",
          "options": [
            {
              "id": "A",
              "text": "Dla uporządkowanych par: $\\frac{1}{210}$",
              "feedback": "Tak! Jedna konkretna para z 210 możliwych uporządkowanych par.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Dla nieuporządkowanych par: $\\frac{1}{105}$",
              "feedback": "Tak! Jedna konkretna para z 105 możliwych nieuporządkowanych par.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Zawsze $\\frac{1}{15^2} = \\frac{1}{225}$",
              "feedback": "Nie - to byłoby dla losowania ze zwracaniem!",
              "is_correct": false
            }
          ],
          "explanation_after": "Prawdopodobieństwo zależy od interpretacji: $\\frac{1}{210}$ dla par uporządkowanych, $\\frac{1}{105}$ dla nieuporządkowanych."
        }
      }
    ],
    "solutions": [
      "Liczba wszystkich możliwych wyników: 210 (pary uporządkowane) lub 105 (pary nieuporządkowane)",
      "Prawdopodobieństwo konkretnej pary: $\\frac{1}{210}$ lub $\\frac{1}{105}$ (w zależności od interpretacji)"
    ],
    "parameters": {
      "set_size": 15,
      "draws": 2,
      "replacement": false
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-09-17T07:06:20.637Z"
  },
  {
    "id": "even_product_pairs",
    "topic": "Kombinatoryka i parzystość",
    "difficulty": 3,
    "statement": "Wylosowane liczby tworzą parę (a, b), gdzie a jest wynikiem pierwszego losowania, b jest wynikiem drugiego losowania. Oblicz, ile jest wszystkich par (a, b) takich, że iloczyn $a \\cdot b$ jest liczbą parzystą.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie informacje potrzebujemy o losowaniu, aby rozwiązać zadanie?",
        "expression": "Losujemy z kostki: zbiór $\\{1, 2, 3, 4, 5, 6\\}$, ze zwracaniem",
        "explanation": "Przyjmujemy standardowe założenia dla zadania kombinatorycznego",
        "interactive_choice": {
          "prompt": "Co musimy wiedzieć o procesie losowania?",
          "options": [
            {
              "id": "A",
              "text": "Z jakiego zbioru losujemy liczby",
              "feedback": "Dokładnie! Bez tej informacji nie możemy policzyć par.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Czy losowanie jest ze zwracaniem",
              "feedback": "To też ważne, ale najpierw musimy znać zbiór liczb.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Prawdopodobieństwo każdej liczby",
              "feedback": "Nie - liczymy wszystkie możliwe pary, nie prawdopodobieństwa.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zakładamy standardowe losowanie z kostki: liczby {1, 2, 3, 4, 5, 6}, ze zwracaniem."
        }
      },
      {
        "step": 2,
        "hint": "Ile jest wszystkich możliwych par (a, b)?",
        "expression": "$6 \\times 6 = 36$ par",
        "explanation": "Każda z 6 liczb w pierwszym losowaniu może być sparowana z każdą z 6 liczb w drugim"
      },
      {
        "step": 3,
        "hint": "Kiedy iloczyn dwóch liczb jest parzysty?",
        "expression": "Iloczyn parzysty $\\Leftrightarrow$ co najmniej jedna liczba parzysta",
        "explanation": "Kluczowa obserwacja o parzystości iloczynów",
        "why": "To fundamentalna właściwość: parzysta × cokolwiek = parzysta, nieparzysta × nieparzysta = nieparzysta",
        "interactive_choice": {
          "prompt": "Kiedy iloczyn $a \\cdot b$ jest liczbą parzystą?",
          "options": [
            {
              "id": "A",
              "text": "Gdy obie liczby są parzyste",
              "feedback": "To za mało - iloczyn może być parzysty także w innych przypadkach.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Gdy co najmniej jedna liczba jest parzysta",
              "feedback": "Świetnie! Wystarczy jedna parzysta, żeby iloczyn był parzysty.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Gdy dokładnie jedna liczba jest parzysta",
              "feedback": "Nie - gdy obie są parzyste, iloczyn też jest parzysty.",
              "is_correct": false
            }
          ],
          "explanation_after": "Iloczyn jest parzysty gdy ma czynnik parzysty. Nieparzysty tylko gdy obie liczby nieparzyste."
        }
      },
      {
        "step": 4,
        "hint": "Które liczby z kostki są parzyste, a które nieparzyste?",
        "expression": "Parzyste: $\\{2, 4, 6\\}$ (3 liczby), Nieparzyste: $\\{1, 3, 5\\}$ (3 liczby)",
        "explanation": "Podział liczb na kostce według parzystości"
      },
      {
        "step": 5,
        "hint": "Jak najłatwiej policzyć pary z parzystym iloczynem?",
        "expression": "Pary parzyste = Wszystkie pary - Pary nieparzyste",
        "explanation": "Używamy strategii dopełnienia",
        "interactive_choice": {
          "prompt": "Którą strategię wybierzesz do liczenia par z parzystym iloczynem?",
          "options": [
            {
              "id": "A",
              "text": "Bezpośrednio: parzysta-parzysta + parzysta-nieparzysta + nieparzysta-parzysta",
              "feedback": "Możliwe, ale więcej rachunków. Można prościej!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Przez dopełnienie: wszystkie pary minus pary z nieparzystym iloczynem",
              "feedback": "Genialnie! Pary z nieparzystym iloczynem to tylko nieparzysta × nieparzysta.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wypisać wszystkie 36 par i sprawdzić każdą",
              "feedback": "Zbyt pracochłonne - użyj właściwości matematycznych!",
              "is_correct": false
            }
          ],
          "explanation_after": "Metoda dopełnienia jest najefektywniejsza: łatwiej policzyć pary nieparzyste."
        }
      },
      {
        "step": 6,
        "hint": "Ile jest par (a, b) z nieparzystym iloczynem?",
        "expression": "Pary nieparzyste: $3 \\times 3 = 9$",
        "explanation": "Iloczyn nieparzysty tylko gdy obie liczby nieparzyste: $\\{1,3,5\\} \\times \\{1,3,5\\}$"
      },
      {
        "step": 7,
        "hint": "Ile jest par z parzystym iloczynem?",
        "expression": "$36 - 9 = 27$ par",
        "explanation": "Odejmujemy pary nieparzyste od wszystkich możliwych par"
      }
    ],
    "solutions": [
      "27 par"
    ],
    "parameters": {
      "total_pairs": 36,
      "odd_pairs": 9,
      "even_pairs": 27
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:06:46.707Z"
  },
  {
    "id": "divisibility_pairs_counting",
    "topic": "Kombinatoryka i podzielność",
    "difficulty": 4,
    "statement": "Ze zbioru liczb {1,2,3,4,5,6,7,8,9,10,11,12,13,14,15} losujemy bez zwracania dwa razy po jednej liczbie. Wylosowane liczby tworzą parę (a, b), gdzie a jest wynikiem pierwszego losowania, b jest wynikiem drugiego losowania. Oblicz, ile jest wszystkich par (a, b) takich, że iloczyn $a \\cdot b$ jest liczbą podzielną przez 3.",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy iloczyn dwóch liczb jest podzielny przez 3?",
        "expression": "Iloczyn $a \\cdot b$ jest podzielny przez 3, gdy co najmniej jedna z liczb $a$ lub $b$ jest podzielna przez 3",
        "explanation": "Wykorzystujemy własność podzielności iloczynów",
        "why": "To kluczowa obserwacja - jeśli liczba pierwsza p dzieli iloczyn, to dzieli co najmniej jeden z czynników."
      },
      {
        "step": 2,
        "hint": "Jak podzielić zbiór {1,2,3,4,5,6,7,8,9,10,11,12,13,14,15} ze względu na podzielność przez 3?",
        "expression": "Podzielne przez 3: $A = \\{3, 6, 9, 12, 15\\}$, $|A| = 5$",
        "explanation": "Zbiór liczb podzielnych przez 3",
        "interactive_choice": {
          "prompt": "Jak najlepiej podzielić liczby ze względu na podzielność przez 3?",
          "options": [
            {
              "id": "A",
              "text": "Podzielne przez 3: {3,6,9,12,15}, niepodzielne: reszta",
              "feedback": "Doskonale! To da nam jasny podział na dwa rozłączne zbiory.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Sprawdzać każdą parę osobno",
              "feedback": "Możliwe, ale bardzo pracochłonne - lepiej użyć systematycznego podziału.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Grupować według reszty z dzielenia przez 3",
              "feedback": "Dobra idea, ale dla tego zadania wystarczy podział na podzielne/niepodzielne.",
              "is_correct": false
            }
          ],
          "explanation_after": "Podział na podzielne i niepodzielne przez 3 pozwoli nam użyć zasady dopełnienia."
        }
      },
      {
        "step": 3,
        "hint": "Ile jest liczb niepodzielnych przez 3?",
        "expression": "Niepodzielne przez 3: $B = \\{1, 2, 4, 5, 7, 8, 10, 11, 13, 14\\}$, $|B| = 10$",
        "explanation": "Pozostałe liczby ze zbioru, $|B| = 15 - 5 = 10$"
      },
      {
        "step": 4,
        "hint": "Którą strategię liczenia wybierzesz?",
        "expression": "Używamy zasady dopełnienia: szukane = wszystkie pary - pary niepodzielne przez 3",
        "explanation": "Pary niepodzielne przez 3 to tylko te, gdzie obie liczby są niepodzielne przez 3",
        "interactive_choice": {
          "prompt": "Jak policzyć pary $(a,b)$ takie, że $a \\cdot b$ jest podzielne przez 3?",
          "options": [
            {
              "id": "A",
              "text": "Liczyć bezpośrednio: pary z co najmniej jedną liczbą podzielną przez 3",
              "feedback": "Możliwe, ale trzeba uważać na przypadki - może być skomplikowane.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć zasady dopełnienia: wszystkie pary minus te niepodzielne przez 3",
              "feedback": "Świetnie! Pary niepodzielne przez 3 to tylko te z dwóch liczb niepodzielnych.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Sprawdzać każdą z 210 par osobno",
              "feedback": "Bardzo pracochłonne i podatne na błędy - lepiej użyć systematycznej metody.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zasada dopełnienia jest tu najefektywniejsza - łatwiej policzyć pary niepodzielne przez 3."
        }
      },
      {
        "step": 5,
        "hint": "Ile jest wszystkich możliwych par $(a,b)$ przy losowaniu bez zwracania?",
        "expression": "Wszystkich par: $15 \\cdot 14 = 210$",
        "explanation": "Pierwszą liczbę wybieramy na 15 sposobów, drugą na 14 sposobów (bez zwracania)",
        "why": "To wariacje bez powtórzeń: $V_{15}^2 = \\frac{15!}{(15-2)!} = 15 \\cdot 14$."
      },
      {
        "step": 6,
        "hint": "Ile jest par $(a,b)$ gdzie obie liczby są niepodzielne przez 3?",
        "expression": "Pary z obu liczb niepodzielnych przez 3: $10 \\cdot 9 = 90$",
        "explanation": "Pierwszą niepodzielną przez 3 wybieramy na 10 sposobów, drugą na 9 sposobów"
      },
      {
        "step": 7,
        "hint": "Jaka jest różnica między wszystkimi parami a parami niepodzielnych przez 3?",
        "expression": "Pary z iloczynem podzielnym przez 3: $210 - 90 = 120$",
        "explanation": "Stosujemy zasadę dopełnienia",
        "interactive_choice": {
          "prompt": "Ile par $(a,b)$ ma iloczyn podzielny przez 3?",
          "options": [
            {
              "id": "A",
              "text": "$210 - 90 = 120$",
              "feedback": "Dokładnie! To są wszystkie pary minus te niepodzielne przez 3.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$210 + 90 = 300$",
              "feedback": "Nie - dodajesz zamiast odejmować. Używamy zasady dopełnienia.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$5 \\cdot 10 = 50$",
              "feedback": "To byłoby tylko pary gdzie pierwsza jest podzielna przez 3, a druga nie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zasada dopełnienia: pary podzielne przez 3 = wszystkie pary - pary niepodzielne przez 3."
        }
      }
    ],
    "solutions": [
      "120"
    ],
    "parameters": {
      "total_numbers": 15,
      "divisible_by_3": 5,
      "not_divisible_by_3": 10
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-17T07:07:15.891Z"
  },
  {
    "id": "seven_digit_divisible_by_4",
    "topic": "Kombinatoryka i podzielność",
    "difficulty": 4,
    "statement": "Cyfry 0,1,2,3,4,5,6 ustawiamy losowo w liczbę siedmiocyfrową o różnych cyfrach. Ile jest możliwych ustawień, w których otrzymamy liczbę siedmiocyfrową podzielną przez 4?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza, że liczba jest siedmiocyfrowa?",
        "expression": "Liczba siedmiocyfrowa nie może zaczynać się od 0",
        "explanation": "Pierwsza cyfra musi być z zbioru {1,2,3,4,5,6}",
        "why": "To kluczowe ograniczenie - cyfra 0 na pierwszej pozycji dałaby liczbę sześciocyfrową"
      },
      {
        "step": 2,
        "hint": "Jaka jest reguła podzielności przez 4?",
        "expression": "Liczba jest podzielna przez 4 $\\Leftrightarrow$ ostatnie dwie cyfry tworzą liczbę podzielną przez 4",
        "explanation": "Sprawdzamy które dwucyfrowe liczby z naszych cyfr są podzielne przez 4",
        "interactive_choice": {
          "prompt": "Kiedy liczba jest podzielna przez 4?",
          "options": [
            {
              "id": "A",
              "text": "Gdy suma wszystkich cyfr jest podzielna przez 4",
              "feedback": "Nie - to reguła dla podzielności przez 3 lub 9",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Gdy ostatnie dwie cyfry tworzą liczbę podzielną przez 4",
              "feedback": "Dokładnie! Tylko ostatnie dwie cyfry decydują o podzielności przez 4",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Gdy ostatnia cyfra jest parzysta",
              "feedback": "To warunek podzielności przez 2, ale nie przez 4",
              "is_correct": false
            }
          ],
          "explanation_after": "Podzielność przez 4 zależy tylko od dwóch ostatnich cyfr liczby"
        }
      },
      {
        "step": 3,
        "hint": "Które dwucyfrowe liczby z cyfr {0,1,2,3,4,5,6} są podzielne przez 4?",
        "expression": "Sprawdzamy systematycznie: 04, 12, 16, 20, 24, 32, 36, 40, 52, 56, 60, 64",
        "explanation": "Testujemy wszystkie możliwe dwucyfrowe kombinacje naszych cyfr"
      },
      {
        "step": 4,
        "hint": "Które z tych liczb rzeczywiście można utworzyć z naszych cyfr?",
        "expression": "Dostępne cyfry: {0,1,2,3,4,5,6}, więc możliwe końcówki: 04, 12, 16, 20, 24, 32, 36, 52, 56, 60, 64",
        "explanation": "Wszystkie te końcówki używają tylko cyfr z naszego zbioru",
        "why": "Mamy 11 możliwych końcówek podzielnych przez 4"
      },
      {
        "step": 5,
        "hint": "Jak podzielić problem na przypadki?",
        "expression": "Przypadek 1: końcówki z 0: {04, 20, 60}. Przypadek 2: końcówki bez 0: {12, 16, 24, 32, 36, 52, 56, 64}",
        "explanation": "Dzielimy na przypadki ze względu na obecność cyfry 0 w końcówce",
        "interactive_choice": {
          "prompt": "Jak najlepiej podzielić ten problem na przypadki?",
          "options": [
            {
              "id": "A",
              "text": "Według pierwszej cyfry (czy to 0, czy inna)",
              "feedback": "Nie - cyfra 0 nie może być pierwsza w liczbie siedmiocyfrowej",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Według końcówki: czy zawiera 0, czy nie",
              "feedback": "Świetny pomysł! Cyfra 0 ma specjalne właściwości pozycyjne",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Według parzystości pierwszej cyfry",
              "feedback": "To nie ma związku z podzielalnością przez 4 ani ograniczeniami",
              "is_correct": false
            }
          ],
          "explanation_after": "Cyfra 0 nie może być pierwsza, więc końcówki z 0 wymagają specjalnego traktowania"
        }
      },
      {
        "step": 6,
        "hint": "Ile sposobów dla końcówek zawierających 0?",
        "expression": "Końcówki: 04, 20, 60. Dla każdej: pierwsza pozycja ma 5 wyborów, pozostałe 5 pozycji: $5!$ permutacji",
        "explanation": "Gdy 0 jest w końcówce, nie może być pierwsza, więc mamy 5 wyborów na pierwszą pozycję"
      },
      {
        "step": 7,
        "hint": "Jaki jest wynik dla przypadku z 0 w końcówce?",
        "expression": "$3 \\times 5 \\times 5! = 3 \\times 5 \\times 120 = 1800$",
        "explanation": "3 końcówki × 5 wyborów pierwszej cyfry × 5! permutacji pozostałych"
      },
      {
        "step": 8,
        "hint": "Ile sposobów dla końcówek bez 0?",
        "expression": "8 końcówek bez 0. Dla każdej: 4 wybory pierwszej pozycji × $4!$ permutacji pozostałych",
        "explanation": "Po ustaleniu końcówki bez 0, mamy 4 cyfry na pierwszą pozycję i 4! na pozostałe",
        "interactive_choice": {
          "prompt": "Jak liczyć permutacje gdy końcówka nie zawiera 0?",
          "options": [
            {
              "id": "A",
              "text": "Pierwsza pozycja: 5 wyborów, pozostałe: 5! permutacji",
              "feedback": "Nie - gdy końcówka nie ma 0, to 0 może być pierwsza pozycja!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "0 może być pierwsza, więc po ustaleniu końcówki mamy 5! permutacji pozostałych",
              "feedback": "Błąd! 0 nie może być pierwsza w liczbie siedmiocyfrowej",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "0 nie może być pierwsza, więc: 4 wybory pierwszej, potem 4! pozostałych",
              "feedback": "Dokładnie! Gdy końcówka 'zabiera' 2 cyfry bez 0, zostaje 4 wybory pierwszej pozycji",
              "is_correct": true
            }
          ],
          "explanation_after": "Końcówka bez 0 używa 2 cyfry spośród {1,2,3,4,5,6}, więc na pierwszą pozycję zostają 4 cyfry"
        }
      },
      {
        "step": 9,
        "hint": "Jaki jest wynik dla przypadku bez 0 w końcówce?",
        "expression": "$8 \\times 4 \\times 4! = 8 \\times 4 \\times 24 = 768$",
        "explanation": "8 końcówek × 4 wybory pierwszej cyfry × 4! permutacji pozostałych"
      },
      {
        "step": 10,
        "hint": "Jaka jest całkowita liczba możliwych ustawień?",
        "expression": "$1800 + 768 = 2568$",
        "explanation": "Sumujemy wyniki z obu przypadków"
      }
    ],
    "solutions": [
      "2568"
    ],
    "parameters": {
      "digits": "{0,1,2,3,4,5,6}",
      "condition": "liczba siedmiocyfrowa podzielna przez 4"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:07:49.806Z"
  },
  {
    "id": "permutations_even_numbers",
    "topic": "Permutacje z ograniczeniami",
    "difficulty": 4,
    "statement": "Cyfry 0,1,2,3,4,5,6 ustawiamy losowo w liczbę siedmiocyfrową o różnych cyfrach. Ile jest możliwych ustawień, w których otrzymamy liczbę siedmiocyfrową parzystą.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie warunki musi spełniać liczba siedmiocyfrowa parzysta?",
        "expression": "Liczba musi być siedmiocyfrowa (pierwsza cyfra $\\neq 0$) i parzysta (ostatnia cyfra parzysta)",
        "explanation": "Identyfikujemy ograniczenia: cyfra dziesiątek milionów i cyfra jedności"
      },
      {
        "step": 2,
        "hint": "Które cyfry ze zbioru {0,1,2,3,4,5,6} są parzyste?",
        "expression": "Cyfry parzyste: {0, 2, 4, 6}",
        "explanation": "Mamy 4 możliwości dla ostatniej cyfry",
        "interactive_choice": {
          "prompt": "Jakie cyfry parzyste mamy do dyspozycji na ostatniej pozycji?",
          "options": [
            {
              "id": "A",
              "text": "Cyfry: 0, 2, 4, 6",
              "feedback": "Dokładnie! To wszystkie cyfry parzyste ze zbioru.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Cyfry: 2, 4, 6 (bez zera)",
              "feedback": "Nie - zero też jest cyfrą parzystą i może być na końcu!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Cyfry: 1, 3, 5",
              "feedback": "To są cyfry nieparzyste - szukamy parzystych!",
              "is_correct": false
            }
          ],
          "explanation_after": "Cyfry parzyste to: 0, 2, 4, 6. Zero może być na ostatniej pozycji."
        }
      },
      {
        "step": 3,
        "hint": "Jak podejść do tego problemu - rozpatrywać przypadki czy użyć wzoru ogólnego?",
        "expression": "Rozpatrujemy przypadki: ostatnia cyfra = 0 oraz ostatnia cyfra $\\in$ {2,4,6}",
        "explanation": "Dzielimy na przypadki ze względu na ograniczenie pierwszej cyfry",
        "interactive_choice": {
          "prompt": "Jaka strategia będzie najlepsza dla tego zadania?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć przypadki: gdy ostatnia cyfra to 0, oraz gdy ostatnia cyfra to 2,4,6",
              "feedback": "Świetnie! Zero na końcu daje inne ograniczenia niż pozostałe cyfry parzyste.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć wzoru $4 \\times 6 \\times 5!$ dla wszystkich przypadków",
              "feedback": "Nie - to nie uwzględnia ograniczenia, że pierwsza cyfra nie może być zerem.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie permutacje i odjąć nieparzyste",
              "feedback": "Możliwe, ale bardziej skomplikowane - lepiej bezpośrednio liczyć parzyste.",
              "is_correct": false
            }
          ],
          "explanation_after": "Przypadek z zerem na końcu jest specjalny - wtedy pierwsza cyfra może być dowolna z {1,2,3,4,5,6}."
        }
      },
      {
        "step": 4,
        "hint": "Ile jest ustawień gdy ostatnia cyfra to 0?",
        "expression": "Ostatnia cyfra: 0, pierwsza cyfra: dowolna z {1,2,3,4,5,6}, środkowe: permutacja 5 cyfr",
        "explanation": "Gdy zero jest na końcu, pierwsza pozycja ma 6 możliwości",
        "why": "Zero na końcu eliminuje problem z pierwszą cyfrą - może być dowolna niezerowa."
      },
      {
        "step": 5,
        "hint": "Jak obliczyć liczbę permutacji dla przypadku z zerem na końcu?",
        "expression": "$6 \\times 5! = 6 \\times 120 = 720$",
        "explanation": "6 wyborów pierwszej cyfry × permutacja 5 pozostałych cyfr"
      },
      {
        "step": 6,
        "hint": "Ile jest ustawień gdy ostatnia cyfra to 2, 4 lub 6?",
        "expression": "Ostatnia cyfra: jedna z {2,4,6}, pierwsza cyfra: nie może być 0 ani ostatnią cyfrą",
        "explanation": "Dla każdej z cyfr 2,4,6 na końcu mamy ograniczenia na pierwszą pozycję"
      },
      {
        "step": 7,
        "hint": "Ile możliwości mamy dla pierwszej cyfry gdy ostatnia to 2,4 lub 6?",
        "expression": "Pierwsza cyfra: 5 możliwości, środkowe pozycje: permutacja 5 cyfr",
        "explanation": "Dla każdej cyfry końcowej z {2,4,6}: 5 × 5! możliwości",
        "interactive_choice": {
          "prompt": "Gdy ostatnia cyfra to np. 2, ile mamy wyborów dla pierwszej cyfry?",
          "options": [
            {
              "id": "A",
              "text": "6 wyborów (wszystkie oprócz 0)",
              "feedback": "Nie - musisz też wykluczyć cyfrę która już jest na końcu!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "5 wyborów (wykluczamy 0 i cyfrę z końca)",
              "feedback": "Dokładnie! Z 7 cyfr wykluczamy 0 i cyfrę końcową, zostaje 5.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "4 wybory",
              "feedback": "Za mało - mamy 7 cyfr, wykluczamy tylko 2 (zero i końcową).",
              "is_correct": false
            }
          ],
          "explanation_after": "Ze zbioru {1,2,3,4,5,6} wykluczamy cyfrę która jest już na końcu, zostaje 5 możliwości."
        }
      },
      {
        "step": 8,
        "hint": "Jak obliczyć liczbę permutacji dla przypadku z cyfrą 2,4 lub 6 na końcu?",
        "expression": "$3 \\times 5 \\times 5! = 3 \\times 5 \\times 120 = 1800$",
        "explanation": "3 cyfry parzyste na końcu × 5 wyborów pierwszej × 5! permutacji środkowych"
      },
      {
        "step": 9,
        "hint": "Jaka jest całkowita liczba liczb siedmiocyfrowych parzystych?",
        "expression": "$720 + 1800 = 2520$",
        "explanation": "Sumujemy oba przypadki: zero na końcu + cyfry 2,4,6 na końcu"
      }
    ],
    "solutions": [
      "2520"
    ],
    "parameters": {
      "digits": "{0,1,2,3,4,5,6}",
      "conditions": "siedmiocyfrowa, parzysta, różne cyfry"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:08:23.338Z"
  },
  {
    "id": "six_digit_odd_digits",
    "topic": "Kombinatoryka - zasada włączeń i wyłączeń",
    "difficulty": 4,
    "statement": "Oblicz, ile jest wszystkich liczb naturalnych sześciocyfrowych, w których zapisie występują co najmniej trzy cyfry nieparzyste.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr parzystych i nieparzystych mamy do dyspozycji?",
        "expression": "Cyfry nieparzyste: $\\{1, 3, 5, 7, 9\\}$ - 5 cyfr, Cyfry parzyste: $\\{0, 2, 4, 6, 8\\}$ - 5 cyfr",
        "explanation": "Identyfikujemy dostępne cyfry"
      },
      {
        "step": 2,
        "hint": "Ile w ogóle jest liczb sześciocyfrowych?",
        "expression": "Pierwsza cyfra: $\\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}$ - 9 możliwości, pozostałe 5 cyfr: po 10 możliwości każda",
        "explanation": "Liczba sześciocyfrowa nie może zaczynać się od 0"
      },
      {
        "step": 3,
        "hint": "Jaka jest całkowita liczba liczb sześciocyfrowych?",
        "expression": "$9 \\times 10^5 = 900000$",
        "explanation": "Obliczamy wszystkie możliwe liczby sześciocyfrowe"
      },
      {
        "step": 4,
        "hint": "Którą metodę wybierzesz do rozwiązania tego problemu?",
        "expression": "Szukane = Wszystkie - (0 nieparzystych + 1 nieparzysta + 2 nieparzyste)",
        "explanation": "Używamy zasady dopełnienia",
        "interactive_choice": {
          "prompt": "Jak najefektywniej policzyć liczby z co najmniej 3 cyframi nieparzystymi?",
          "options": [
            {
              "id": "A",
              "text": "Bezpośrednio - sumować przypadki z 3, 4, 5 i 6 cyframi nieparzystymi",
              "feedback": "Możliwe, ale bardzo pracochłonne - dużo przypadków do rozpatrzenia",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Dopełnienie - odjąć od wszystkich te z 0, 1 lub 2 cyframi nieparzystymi",
              "feedback": "Świetny wybór! Znacznie mniej przypadków do policzenia",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Funkcje tworzące",
              "feedback": "Za skomplikowane dla tego typu zadania",
              "is_correct": false
            }
          ],
          "explanation_after": "Metoda dopełnienia jest tutaj najefektywniejsza - liczymy przypadki z 0, 1, 2 cyframi nieparzystymi."
        }
      },
      {
        "step": 5,
        "hint": "Ile jest liczb sześciocyfrowych z 0 cyframi nieparzystymi?",
        "expression": "Pierwsza cyfra: $\\{2, 4, 6, 8\\}$ - 4 możliwości, pozostałe 5 cyfr: $\\{0, 2, 4, 6, 8\\}$ - po 5 możliwości",
        "explanation": "Wszystkie cyfry muszą być parzyste, ale pierwsza nie może być 0"
      },
      {
        "step": 6,
        "hint": "Jaka jest liczba przypadków z 0 cyframi nieparzystymi?",
        "expression": "$4 \\times 5^5 = 4 \\times 3125 = 12500$",
        "explanation": "Obliczamy liczby składające się wyłącznie z cyfr parzystych"
      },
      {
        "step": 7,
        "hint": "Ile jest liczb z dokładnie 1 cyfrą nieparzystą?",
        "expression": "Przypadek 1: nieparzysta na 1. pozycji, Przypadek 2: nieparzysta na pozycjach 2-6",
        "explanation": "Rozdzielamy ze względu na ograniczenia pierwszej pozycji",
        "interactive_choice": {
          "prompt": "Jak rozpatrzyć przypadek z dokładnie 1 cyfrą nieparzystą?",
          "options": [
            {
              "id": "A",
              "text": "Cyfra nieparzysta na 1. pozycji + cyfra nieparzysta na pozycjach 2-6",
              "feedback": "Dobry początek, ale musisz rozdzielić przypadki - pierwsza pozycja ma inne ograniczenia",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Po prostu $\\binom{6}{1} \\times 5 \\times 5^5$",
              "feedback": "Nie - pierwsza pozycja nie może być 0, więc nie wszystkie pozycje są równoważne",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Tylko pozycje 2-6 mogą mieć cyfrę nieparzystą",
              "feedback": "Nie - pierwsza pozycja też może mieć cyfrę nieparzystą",
              "is_correct": false
            }
          ],
          "explanation_after": "Musimy rozdzielić przypadki: cyfra nieparzysta na 1. pozycji vs na pozycjach 2-6."
        }
      },
      {
        "step": 8,
        "hint": "Ile jest liczb z nieparzystą pierwszą cyfrą i pozostałymi parzystymi?",
        "expression": "Pierwsza cyfra: $\\{1, 3, 5, 7, 9\\}$ - 5 możliwości, pozostałe 5 cyfr: $\\{0, 2, 4, 6, 8\\}$ - po 5 możliwości",
        "explanation": "Przypadek 1: $5 \\times 5^5 = 5 \\times 3125 = 15625$"
      },
      {
        "step": 9,
        "hint": "Ile jest liczb z parzystą pierwszą cyfrą i dokładnie jedną nieparzystą na pozycjach 2-6?",
        "expression": "Pierwsza cyfra: $\\{2, 4, 6, 8\\}$ - 4 możliwości, wybór pozycji dla cyfry nieparzystej: $\\binom{5}{1} = 5$, cyfra nieparzysta: 5 możliwości, pozostałe 4 cyfry parzyste: $5^4$",
        "explanation": "Przypadek 2: $4 \\times 5 \\times 5 \\times 5^4 = 4 \\times 5 \\times 5 \\times 625 = 62500$"
      },
      {
        "step": 10,
        "hint": "Jaka jest suma przypadków z dokładnie 1 cyfrą nieparzystą?",
        "expression": "$15625 + 62500 = 78125$",
        "explanation": "Łączymy oba przypadki dla 1 cyfry nieparzystej"
      },
      {
        "step": 11,
        "hint": "Jak policzyć przypadki z dokładnie 2 cyframi nieparzystymi?",
        "expression": "Przypadek A: obie nieparzyste na pozycjach 2-6, Przypadek B: jedna na 1. pozycji, jedna na 2-6",
        "explanation": "Rozdzielamy przypadki dla 2 cyfr nieparzystych",
        "interactive_choice": {
          "prompt": "Które przypadki rozpatrzyć dla dokładnie 2 cyfr nieparzystych?",
          "options": [
            {
              "id": "A",
              "text": "Obie na pozycjach 2-6 + jedna na 1. pozycji i jedna na 2-6",
              "feedback": "Dokładnie! To pokrywa wszystkie możliwości bez powtórzeń",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Po prostu $\\binom{6}{2} \\times 5^2 \\times 5^4$",
              "feedback": "Nie uwzględnia ograniczeń pierwszej pozycji",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Tylko na pozycjach 2-6",
              "feedback": "Pomijasz przypadek gdy jedna z nich jest na 1. pozycji",
              "is_correct": false
            }
          ],
          "explanation_after": "Znów dzielimy na przypadki ze względu na pierwszą pozycję."
        }
      },
      {
        "step": 12,
        "hint": "Ile jest liczb z parzystą pierwszą cyfrą i 2 nieparzystymi na pozycjach 2-6?",
        "expression": "Pierwsza cyfra: 4 możliwości, wybór 2 pozycji z 5: $\\binom{5}{2} = 10$, 2 cyfry nieparzyste: $5^2$, 3 cyfry parzyste: $5^3$",
        "explanation": "Przypadek A: $4 \\times 10 \\times 25 \\times 125 = 125000$"
      },
      {
        "step": 13,
        "hint": "Ile jest liczb z nieparzystą pierwszą cyfrą i 1 nieparzystą na pozycjach 2-6?",
        "expression": "Pierwsza cyfra: 5 możliwości, wybór 1 pozycji z 5: $\\binom{5}{1} = 5$, 1 cyfra nieparzysta: 5, 4 cyfry parzyste: $5^4$",
        "explanation": "Przypadek B: $5 \\times 5 \\times 5 \\times 625 = 78125$"
      },
      {
        "step": 14,
        "hint": "Jaka jest suma przypadków z dokładnie 2 cyframi nieparzystymi?",
        "expression": "$125000 + 78125 = 203125$",
        "explanation": "Łączymy oba przypadki dla 2 cyfr nieparzystych"
      },
      {
        "step": 15,
        "hint": "Ile liczb ma 0, 1 lub 2 cyfry nieparzyste?",
        "expression": "$12500 + 78125 + 203125 = 293750$",
        "explanation": "Sumujemy wszystkie przypadki z mniej niż 3 cyframi nieparzystymi",
        "why": "To są wszystkie przypadki które musimy odjąć od liczby wszystkich liczb sześciocyfrowych."
      },
      {
        "step": 16,
        "hint": "Jaka jest odpowiedź końcowa?",
        "expression": "$900000 - 293750 = 606250$",
        "explanation": "Odejmujemy od wszystkich liczb sześciocyfrowych te z mniej niż 3 cyframi nieparzystymi"
      }
    ],
    "solutions": [
      "$606250$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 16,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:09:06.011Z"
  },
  {
    "id": "four_digit_odd_even_counting",
    "topic": "Kombinatoryka - zliczanie z warunkami",
    "difficulty": 4,
    "statement": "Ile jest liczb naturalnych czterocyfrowych takich, że w ich zapisie dziesiętnym występuje jedna cyfra nieparzysta i trzy cyfry parzyste?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry są parzyste, a jakie nieparzyste?",
        "expression": "Cyfry parzyste: $\\{0, 2, 4, 6, 8\\}$ (5 cyfr), cyfry nieparzyste: $\\{1, 3, 5, 7, 9\\}$ (5 cyfr)",
        "explanation": "Identyfikujemy dostępne cyfry każdego typu"
      },
      {
        "step": 2,
        "hint": "Jak podejść do tego problemu zliczania?",
        "expression": "Rozpatrzymy 4 przypadki: cyfra nieparzysta na pozycji 1., 2., 3. lub 4.",
        "explanation": "Cyfra nieparzysta może znajdować się na dowolnej z czterech pozycji",
        "interactive_choice": {
          "prompt": "Którą strategię zastosować do zliczenia liczb z jedną cyfrą nieparzystą i trzema parzystymi?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć przypadki według pozycji cyfry nieparzystej",
              "feedback": "Świetny wybór! Cyfra nieparzysta może być na 1., 2., 3. lub 4. pozycji - każdy przypadek liczymy osobno.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć wzoru na kombinacje z powtórzeniami",
              "feedback": "Nie pasuje - mamy warunki na konkretne pozycje cyfr, nie tylko na ich wybór.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie czterocyfrowe i odjąć niepożądane",
              "feedback": "Możliwe, ale bardzo skomplikowane - łatwiej liczyć bezpośrednio przypadki.",
              "is_correct": false
            }
          ],
          "explanation_after": "Rozpatrywanie przypadków według pozycji cyfry nieparzystej jest najjaśniejsze i najbezpieczniejsze."
        }
      },
      {
        "step": 3,
        "hint": "Czy pierwsza cyfra liczby czterocyfrowej może być zerem?",
        "expression": "Pierwsza cyfra liczby czterocyfrowej nie może być 0",
        "explanation": "Liczba czterocyfrowa ma postać $abcd$ gdzie $a \\in \\{1,2,3,4,5,6,7,8,9\\}$",
        "why": "To kluczowe ograniczenie - pierwsza cyfra nie może być zerem, co wpływa na zliczanie w każdym przypadku."
      },
      {
        "step": 4,
        "hint": "Ile możliwości mamy gdy cyfra nieparzysta jest na pierwszej pozycji?",
        "expression": "Przypadek 1: $a$ - nieparzysta, $b,c,d$ - parzyste",
        "explanation": "Pierwsza pozycja zajęta przez cyfrę nieparzystą"
      },
      {
        "step": 5,
        "hint": "Ile sposobów wyboru cyfr w przypadku 1?",
        "expression": "$a$: 5 możliwości $\\{1,3,5,7,9\\}$, $b$: 5 możliwości $\\{0,2,4,6,8\\}$, $c$: 5 możliwości, $d$: 5 możliwości",
        "explanation": "Każda pozycja ma pełny wybór ze swojego zbioru"
      },
      {
        "step": 6,
        "hint": "Ile liczb daje przypadek 1?",
        "expression": "Przypadek 1: $5 \\times 5 \\times 5 \\times 5 = 625$ liczb",
        "explanation": "Mnożymy liczbę możliwości dla każdej pozycji"
      },
      {
        "step": 7,
        "hint": "Co się zmienia gdy cyfra nieparzysta jest na drugiej pozycji?",
        "expression": "Przypadki 2, 3, 4: pierwsza pozycja ma 4 cyfry parzyste $\\{2,4,6,8\\}$",
        "explanation": "W przypadkach gdy pierwsza pozycja jest parzysta, nie może być zerem",
        "interactive_choice": {
          "prompt": "Jak liczyć przypadek gdy cyfra nieparzysta jest na pozycji 2., 3. lub 4.?",
          "options": [
            {
              "id": "A",
              "text": "Tak samo jak przypadek 1. - każda pozycja ma pełny wybór",
              "feedback": "Nie! Pierwsza pozycja nie może być zerem, więc ma tylko 4 cyfry parzyste do wyboru.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pierwsza pozycja: 4 cyfry parzyste (bez zera), pozostałe normalnie",
              "feedback": "Dokładnie! Pierwsza pozycja: $\\{2,4,6,8\\}$, cyfra nieparzysta: 5 opcji, pozostałe parzyste: po 5 opcji.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wszystkie pozycje mają ograniczenia przez zero",
              "feedback": "Nie - tylko pierwsza pozycja nie może być zerem, pozostałe mogą.",
              "is_correct": false
            }
          ],
          "explanation_after": "Kluczowe jest pamiętanie, że pierwsza cyfra liczby czterocyfrowej nie może być zerem."
        }
      },
      {
        "step": 8,
        "hint": "Ile liczb daje każdy z przypadków 2, 3, 4?",
        "expression": "Przypadek 2: $a$ parzysta (4 opcje), $b$ nieparzysta (5 opcji), $c,d$ parzyste (po 5 opcji)",
        "explanation": "Przypadek 2: cyfra nieparzysta na pozycji 2."
      },
      {
        "step": 9,
        "hint": "Jaki jest wynik dla przypadku 2?",
        "expression": "Przypadek 2: $4 \\times 5 \\times 5 \\times 5 = 500$ liczb",
        "explanation": "Mnożymy możliwości: 4 dla pierwszej pozycji, 5 dla nieparzystej, po 5 dla pozostałych parzystych"
      },
      {
        "step": 10,
        "hint": "Czy przypadki 3 i 4 dają taki sam wynik jak przypadek 2?",
        "expression": "Przypadek 3: $4 \\times 5 \\times 5 \\times 5 = 500$ liczb (cyfra nieparzysta na pozycji 3.)",
        "explanation": "Analogicznie - pierwsza pozycja parzysta bez zera, jedna nieparzysta, dwie parzyste"
      },
      {
        "step": 11,
        "hint": "Jaki wynik dla ostatniego przypadku?",
        "expression": "Przypadek 4: $4 \\times 5 \\times 5 \\times 5 = 500$ liczb (cyfra nieparzysta na pozycji 4.)",
        "explanation": "Ostatni przypadek - cyfra nieparzysta na ostatniej pozycji"
      },
      {
        "step": 12,
        "hint": "Jak otrzymać końcowy wynik?",
        "expression": "Suma wszystkich przypadków: $625 + 500 + 500 + 500 = 2125$",
        "explanation": "Dodajemy wyniki ze wszystkich czterech rozłącznych przypadków",
        "why": "Przypadki są rozłączne (cyfra nieparzysta może być tylko na jednej pozycji), więc dodajemy ich wyniki."
      }
    ],
    "solutions": [
      "2125"
    ],
    "parameters": {
      "constraint": "jedna cyfra nieparzysta, trzy cyfry parzyste"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 2,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 2
      }
    },
    "timestamp": "2025-09-17T07:09:38.886Z"
  },
  {
    "id": "nine_digit_sum_constraint",
    "topic": "Kombinatoryka z ograniczeniami",
    "difficulty": 5,
    "statement": "Ile jest liczb dziewięciocyfrowych, w których suma każdych trzech kolejnych cyfr jest równa 10?",
    "steps": [
      {
        "step": 1,
        "hint": "Jak oznaczyć cyfry tej dziewięciocyfrowej liczby?",
        "expression": "Liczba: $a_1a_2a_3a_4a_5a_6a_7a_8a_9$, gdzie $a_1 \\neq 0$",
        "explanation": "Oznaczamy cyfry od lewej, pierwsza cyfra nie może być zerem"
      },
      {
        "step": 2,
        "hint": "Jakie warunki muszą spełniać kolejne trójki cyfr?",
        "expression": "$a_1 + a_2 + a_3 = 10$, $a_2 + a_3 + a_4 = 10$, ..., $a_7 + a_8 + a_9 = 10$",
        "explanation": "Mamy 7 równań dla kolejnych trójek cyfr",
        "why": "Każda trójka kolejnych cyfr musi sumować się do 10. To daje nam system równań z ograniczeniami."
      },
      {
        "step": 3,
        "hint": "Co możesz wywnioskować porównując pierwsze dwa równania?",
        "expression": "$a_1 = a_4$, $a_2 = a_5$, $a_3 = a_6$, $a_4 = a_7$, $a_5 = a_8$, $a_6 = a_9$",
        "explanation": "Porównując kolejne równania otrzymujemy wzór cykliczny",
        "interactive_choice": {
          "prompt": "Porównaj równania $a_1 + a_2 + a_3 = 10$ i $a_2 + a_3 + a_4 = 10$. Co z tego wynika?",
          "options": [
            {
              "id": "A",
              "text": "$a_1 = a_4$ (cyfry w odległości 3 są równe)",
              "feedback": "Świetnie! Odejmując równania otrzymujemy $a_1 - a_4 = 0$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$a_2 = a_3$ (środkowe cyfry są równe)",
              "feedback": "Nie - to nie wynika z porównania tych równań",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Suma wszystkich cyfr wynosi 20",
              "feedback": "To nie wynika bezpośrednio z porównania dwóch równań",
              "is_correct": false
            }
          ],
          "explanation_after": "Odejmując równania: $(a_1 + a_2 + a_3) - (a_2 + a_3 + a_4) = 0$, więc $a_1 = a_4$"
        }
      },
      {
        "step": 4,
        "hint": "Jaki wzór powtarzania cyfr możesz zauważyć?",
        "expression": "$a_1 = a_4 = a_7$, $a_2 = a_5 = a_8$, $a_3 = a_6 = a_9$",
        "explanation": "Cyfry powtarzają się co 3 pozycje - mamy wzór okresowy",
        "why": "To kluczowe spostrzeżenie! Liczba ma strukturę $abc|abc|abc$ gdzie $a+b+c=10$."
      },
      {
        "step": 5,
        "hint": "Ile niezależnych cyfr musisz wybrać?",
        "expression": "Liczba ma postać: $a_1a_2a_3a_1a_2a_3a_1a_2a_3$",
        "explanation": "Wystarczy znaleźć liczbę sposobów wyboru trójki $(a_1, a_2, a_3)$",
        "interactive_choice": {
          "prompt": "Skoro cyfry się powtarzają co 3 pozycje, ile cyfr możesz wybierać niezależnie?",
          "options": [
            {
              "id": "A",
              "text": "3 cyfry: $a_1, a_2, a_3$",
              "feedback": "Dokładnie! Reszta cyfr jest już zdeterminowana przez wzór",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "6 cyfr: pierwsze dwie trójki",
              "feedback": "Nie - druga trójka to kopia pierwszej",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "9 cyfr - każdą osobno",
              "feedback": "Nie - cyfry są powiązane przez warunki",
              "is_correct": false
            }
          ],
          "explanation_after": "Wystarczy wybrać $a_1, a_2, a_3$ spełniające $a_1 + a_2 + a_3 = 10$"
        }
      },
      {
        "step": 6,
        "hint": "Jakie ograniczenia mają cyfry $a_1, a_2, a_3$?",
        "expression": "$a_1 \\in \\{1,2,3,4,5,6,7,8,9\\}$, $a_2, a_3 \\in \\{0,1,2,3,4,5,6,7,8,9\\}$, $a_1 + a_2 + a_3 = 10$",
        "explanation": "Pierwsza cyfra nie może być zerem, pozostałe mogą"
      },
      {
        "step": 7,
        "hint": "Jak policzyć liczbę rozwiązań równania $a_1 + a_2 + a_3 = 10$ z ograniczeniami?",
        "expression": "Dla ustalonego $a_1$: liczba rozwiązań $a_2 + a_3 = 10 - a_1$ gdzie $a_2, a_3 \\in \\{0,1,...,9\\}$",
        "explanation": "Rozbijamy problem na przypadki według wartości $a_1$",
        "interactive_choice": {
          "prompt": "Którą metodę zastosować do policzenia rozwiązań z ograniczeniami?",
          "options": [
            {
              "id": "A",
              "text": "Przejść przez wszystkie możliwe wartości $a_1$",
              "feedback": "Dobra metoda! For każdego $a_1$ policz rozwiązania $a_2 + a_3 = 10 - a_1$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć wzoru na rozmieszczenia z powtórzeniami",
              "feedback": "Trudne - ograniczenia na cyfry komplikują standardowe wzory",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Zasada włączeń i wyłączeń",
              "feedback": "Możliwe, ale bardziej skomplikowane niż potrzeba",
              "is_correct": false
            }
          ],
          "explanation_after": "Najprościej: dla każdego $a_1 \\in \\{1,2,...,9\\}$ znajdź liczbę par $(a_2,a_3)$ takich że $a_2 + a_3 = 10 - a_1$"
        }
      },
      {
        "step": 8,
        "hint": "Ile jest rozwiązań równania $x + y = k$ gdzie $x, y \\in \\{0,1,...,9\\}$?",
        "expression": "Dla $k \\leq 9$: jest $k+1$ rozwiązań. Dla $k > 9$: jest $19-k$ rozwiązań",
        "explanation": "Gdy $k \\leq 9$: pary $(0,k), (1,k-1), ..., (k,0)$. Gdy $k > 9$: ograniczenie $x,y \\leq 9$",
        "why": "To standardowy wzór. Dla $k=10-a_1$ musimy sprawdzić czy $10-a_1 \\leq 9$ czy $10-a_1 > 9$."
      },
      {
        "step": 9,
        "hint": "Policz rozwiązania dla każdej wartości $a_1$",
        "expression": "\\begin{align} a_1=1: & \\quad a_2+a_3=9 \\rightarrow 10  rozwiązań \\\\ a_1=2: & \\quad a_2+a_3=8 \\rightarrow 9  rozwiązań \\\\ a_1=3: & \\quad a_2+a_3=7 \\rightarrow 8  rozwiązań \\\\ & \\vdots \\\\ a_1=9: & \\quad a_2+a_3=1 \\rightarrow 2  rozwiązania \\end{align}$",
        "explanation": "Dla każdego $a_1$ stosujemy wzór na liczbę rozwiązań"
      },
      {
        "step": 10,
        "hint": "Jaka jest suma wszystkich rozwiązań?",
        "expression": "$10 + 9 + 8 + 7 + 6 + 5 + 4 + 3 + 2 = 54$",
        "explanation": "Sumujemy liczbę rozwiązań dla wszystkich możliwych wartości $a_1$"
      }
    ],
    "solutions": [
      "54"
    ],
    "parameters": {
      "constraint": "suma każdych trzech kolejnych cyfr równa 10",
      "digit_count": 9
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 3,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:10:17.755Z"
  },
  {
    "id": "counting_even_three_digit",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 3,
    "statement": "Ile liczb parzystych, trzycyfrowych, które nie mają dwóch takich samych cyfr, można utworzyć z elementów zbioru {1,2,3,4,5}?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie warunki musi spełniać szukana liczba trzycyfrowa?",
        "expression": "Liczba ma postać $abc$ gdzie: a) $a \\neq 0$ (trzycyfrowa), b) liczba parzysta, c) $a \\neq b \\neq c$ (różne cyfry)",
        "explanation": "Identyfikujemy wszystkie ograniczenia zadania"
      },
      {
        "step": 2,
        "hint": "Które cyfry ze zbioru {1,2,3,4,5} są parzyste?",
        "expression": "Cyfra jedności: $c = 2$ (1 możliwość)",
        "explanation": "Ostatnia cyfra jest ustalona - musi być 2",
        "interactive_choice": {
          "prompt": "Która cyfra z ostatniej pozycji sprawi, że liczba będzie parzysta?",
          "options": [
            {
              "id": "A",
              "text": "Tylko cyfra 2",
              "feedback": "Tak! Ze zbioru {1,2,3,4,5} tylko 2 jest parzyste.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Cyfry 2 i 4",
              "feedback": "Uwaga - w zbiorze {1,2,3,4,5} nie ma cyfry 4!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wszystkie cyfry parzyste",
              "feedback": "W tym zbiorze jest tylko jedna cyfra parzysta - cyfra 2.",
              "is_correct": false
            }
          ],
          "explanation_after": "Ze zbioru {1,2,3,4,5} jedyną cyfrą parzystą jest 2, więc na ostatniej pozycji musi być 2."
        }
      },
      {
        "step": 3,
        "hint": "Którą strategię wybierzesz do policzenia pozostałych pozycji?",
        "expression": "Używamy zasady mnożenia: liczba sposobów = (setki) × (dziesiątki) × (jedności)",
        "explanation": "Będziemy wypełniać pozycje systematycznie od lewej",
        "interactive_choice": {
          "prompt": "Jak najlepiej policzyć liczbę sposobów wypełnienia pozycji setek i dziesiątek?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw setki, potem dziesiątki (od lewej)",
              "feedback": "Dobra strategia! Systematyczne podejście od lewej strony.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Najpierw dziesiątki, potem setki",
              "feedback": "Możliwe, ale mniej naturalne - lepiej iść od lewej.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie permutacje i podzielić",
              "feedback": "Zbyt skomplikowane - lepiej użyć zasady mnożenia krok po kroku.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zasada mnożenia: wypełniamy pozycje kolejno, licząc dostępne opcje na każdej."
        }
      },
      {
        "step": 4,
        "hint": "Ile cyfr możemy wybrać na pozycję setek?",
        "expression": "Cyfra setek: ze zbioru {1,2,3,4,5} wykluczamy 2 (już użyte), zostaje {1,3,4,5}",
        "explanation": "Na pozycji setek może być dowolna cyfra oprócz 2",
        "why": "Cyfry muszą być różne, więc nie możemy powtórzyć cyfry 2 z pozycji jedności."
      },
      {
        "step": 5,
        "hint": "Ile możliwości mamy dla cyfry setek?",
        "expression": "Cyfra setek: 4 możliwości {1,3,4,5}",
        "explanation": "Cztery różne cyfry do wyboru na pierwszą pozycję"
      },
      {
        "step": 6,
        "hint": "Ile cyfr pozostaje do wyboru na pozycję dziesiątek?",
        "expression": "Cyfra dziesiątek: wykluczamy cyfrę z setek i cyfrę 2, zostają 3 możliwości",
        "explanation": "Z 5 cyfr wykluczamy 2 już użyte, zostają 3"
      },
      {
        "step": 7,
        "hint": "Jak obliczyć całkowitą liczbę liczb używając zasady mnożenia?",
        "expression": "Liczba parzystych liczb trzycyfrowych = 4 × 3 × 1 = 12",
        "explanation": "Stosujemy zasadę mnożenia dla wszystkich pozycji",
        "interactive_choice": {
          "prompt": "Jakie jest końcowe obliczenie według zasady mnożenia?",
          "options": [
            {
              "id": "A",
              "text": "4 × 3 × 1 = 12",
              "feedback": "Doskonale! Setki: 4 opcje, dziesiątki: 3 opcje, jedności: 1 opcja.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "5 × 4 × 1 = 20",
              "feedback": "Nie - na pozycji setek nie może być cyfra 2, więc tylko 4 opcje.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "4 × 4 × 1 = 16",
              "feedback": "Błąd - na dziesiątkach mamy tylko 3 opcje (wykluczamy setki i jedności).",
              "is_correct": false
            }
          ],
          "explanation_after": "Zasada mnożenia: mnożymy liczbę opcji na każdej pozycji."
        }
      }
    ],
    "solutions": [
      "12"
    ],
    "parameters": {
      "set": "{1,2,3,4,5}",
      "conditions": "parzyste, trzycyfrowe, różne cyfry"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-17T07:10:44.683Z"
  },
  {
    "id": "ten_digit_sum_13",
    "topic": "Kombinatoryka - rozmieszczenia z ograniczeniami",
    "difficulty": 4,
    "statement": "Oblicz, ile jest liczb dziesięciocyfrowych takich, że suma cyfr w każdej z tych liczb jest równa 13 i żadna cyfra nie jest zerem.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą występować w naszej liczbie dziesięciocyfrowej?",
        "expression": "Cyfry: $1, 2, 3, 4, 5, 6, 7, 8, 9$ (zero wykluczone)",
        "explanation": "Mamy 10 pozycji, każda wypełniona cyfrą od 1 do 9"
      },
      {
        "step": 2,
        "hint": "Jak można sformułować ten problem matematycznie?",
        "expression": "Szukamy liczby rozwiązań: $x_1 + x_2 + ... + x_{10} = 13$, gdzie $1 \\leq x_i \\leq 9$",
        "explanation": "Każde $x_i$ reprezentuje cyfrę na $i$-tej pozycji",
        "interactive_choice": {
          "prompt": "Jak najlepiej podejść do tego problemu kombinatorycznego?",
          "options": [
            {
              "id": "A",
              "text": "Bezpośrednie liczenie wszystkich możliwości",
              "feedback": "Zbyt skomplikowane - mamy $9^{10}$ możliwości do sprawdzenia!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Przekształcić na problem rozmieszczenia kulek w pudełkach",
              "feedback": "Świetny pomysł! To klasyczne zastosowanie stars and bars.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć funkcji tworzących",
              "feedback": "Możliwe, ale bardziej zaawansowane niż potrzebne tutaj.",
              "is_correct": false
            }
          ],
          "explanation_after": "Transformujemy problem: szukamy liczby sposobów rozłożenia sumy 13 na 10 składników, każdy od 1 do 9."
        }
      },
      {
        "step": 3,
        "hint": "Jak uprościć ograniczenia na zmienne?",
        "expression": "Podstawienie: $y_i = x_i - 1$, więc $0 \\leq y_i \\leq 8$",
        "explanation": "Przekształcamy problem na $y_1 + y_2 + ... + y_{10} = 3$",
        "why": "To standardowy trik: przesuwamy dolną granicę do zera, co ułatwia zastosowanie wzorów kombinatorycznych."
      },
      {
        "step": 4,
        "hint": "Jaki jest teraz nasz problem po przekształceniu?",
        "expression": "$y_1 + y_2 + ... + y_{10} = 3$, gdzie $0 \\leq y_i \\leq 8$",
        "explanation": "Szukamy liczby nieujemnych rozwiązań całkowitych"
      },
      {
        "step": 5,
        "hint": "Czy górne ograniczenie $y_i \\leq 8$ ma znaczenie przy sumie równej 3?",
        "expression": "Problem upraszcza się do: $y_1 + y_2 + ... + y_{10} = 3$, $y_i \\geq 0$",
        "explanation": "Górne ograniczenia są nieaktywne",
        "interactive_choice": {
          "prompt": "Czy ograniczenie $y_i \\leq 8$ wpływa na liczbę rozwiązań gdy suma wynosi tylko 3?",
          "options": [
            {
              "id": "A",
              "text": "Tak, musimy je uwzględnić w obliczeniach",
              "feedback": "Nie - maksymalna wartość jednej zmiennej to 3, więc ograniczenie 8 nie jest aktywne.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Nie, możemy je zignorować",
              "feedback": "Dokładnie! Suma to tylko 3, więc żadne $y_i$ nie może przekroczyć 3.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Tylko dla niektórych zmiennych",
              "feedback": "Nie - jeśli suma wynosi 3, to wszystkie zmienne są automatycznie ≤ 3 < 8.",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy suma wynosi 3, maksymalna wartość jednej zmiennej to 3, więc ograniczenie $\\leq 8$ nie ma wpływu."
        }
      },
      {
        "step": 6,
        "hint": "Który wzór kombinatoryczny zastosować dla nieujemnych rozwiązań?",
        "expression": "Wzór 'stars and bars': $\\binom{n+k-1}{k-1} = \\binom{3+10-1}{10-1} = \\binom{12}{9}$",
        "explanation": "Rozmieszczamy 3 'gwiazdki' w 10 'pudełkach' używając 9 'kresek'",
        "why": "To klasyczny wzór dla liczby sposobów rozłożenia $n$ identycznych obiektów do $k$ różnych pudełek."
      },
      {
        "step": 7,
        "hint": "Jak obliczyć $\\binom{12}{9}$?",
        "expression": "$\\binom{12}{9} = \\binom{12}{3} = \\frac{12 \\cdot 11 \\cdot 10}{3 \\cdot 2 \\cdot 1}$",
        "explanation": "Używamy symetrii symbolu Newtona",
        "interactive_choice": {
          "prompt": "Którą właściwość symbolu Newtona wykorzystać do obliczenia $\\binom{12}{9}$?",
          "options": [
            {
              "id": "A",
              "text": "Bezpośrednio: $\\frac{12!}{9! \\cdot 3!}$",
              "feedback": "Możliwe, ale można prościej używając symetrii.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Symetria: $\\binom{12}{9} = \\binom{12}{3}$",
              "feedback": "Świetnie! To znacznie ułatwia obliczenia.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wzór rekurencyjny Pascala",
              "feedback": "Niepotrzebnie skomplikowane dla tego przypadku.",
              "is_correct": false
            }
          ],
          "explanation_after": "Symetria $\\binom{n}{k} = \\binom{n}{n-k}$ często upraszcza obliczenia."
        }
      },
      {
        "step": 8,
        "hint": "Jaki jest wynik końcowego obliczenia?",
        "expression": "$\\binom{12}{3} = \\frac{12 \\cdot 11 \\cdot 10}{6} = \\frac{1320}{6} = 220$",
        "explanation": "Obliczamy wartość symbolu Newtona"
      }
    ],
    "solutions": [
      "220"
    ],
    "parameters": {
      "digits": 10,
      "sum_constraint": 13,
      "no_zeros": true
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-17T07:11:15.728Z"
  },
  {
    "id": "twelve_digit_sum_15",
    "topic": "Kombinatoryka - rozmieszczenia z ograniczeniami",
    "difficulty": 5,
    "statement": "Oblicz, ile jest liczb dwunastocyfrowych takich, że suma cyfr w każdej z tych liczb jest równa 15 i żadna cyfra nie jest zerem.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry możemy użyć w tej liczbie dwunastocyfrowej?",
        "expression": "Cyfry: $1, 2, 3, 4, 5, 6, 7, 8, 9$ (bez zera)",
        "explanation": "Mamy 9 dostępnych cyfr, każda może wystąpić wielokrotnie"
      },
      {
        "step": 2,
        "hint": "Jak można sformułować ten problem matematycznie?",
        "expression": "$x_1 + x_2 + x_3 + ... + x_{12} = 15$, gdzie $x_i \\in \\{1,2,3,4,5,6,7,8,9\\}$",
        "explanation": "Każde $x_i$ reprezentuje cyfrę na i-tej pozycji",
        "interactive_choice": {
          "prompt": "Jak najlepiej przedstawić problem zliczania cyfr o sumie 15?",
          "options": [
            {
              "id": "A",
              "text": "Jako równanie $x_1 + x_2 + ... + x_{12} = 15$ gdzie $x_i \\in \\{1,2,...,9\\}$",
              "feedback": "Świetnie! To klasyczne równanie diofantyczne z ograniczeniami.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Jako problem permutacji cyfr 1-9",
              "feedback": "Nie - cyfry mogą się powtarzać i mamy konkretną sumę.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Jako wybór 12 cyfr ze zbioru {1,2,...,9} bez powtórzeń",
              "feedback": "Nie - cyfry mogą się powtarzać i potrzebujemy sumy 15.",
              "is_correct": false
            }
          ],
          "explanation_after": "To równanie diofantyczne: szukamy liczby rozwiązań $x_1 + x_2 + ... + x_{12} = 15$ gdzie każde $x_i \\in \\{1,2,3,4,5,6,7,8,9\\}$."
        }
      },
      {
        "step": 3,
        "hint": "Jak uprościć ograniczenia na cyfry?",
        "expression": "Podstawienie: $y_i = x_i - 1$, więc $y_i \\in \\{0,1,2,3,4,5,6,7,8\\}$",
        "explanation": "Przekształcamy problem na cyfry od 0 do 8",
        "why": "To standardowa technika - przesuwamy zakres aby zaczynał się od 0, co ułatwia obliczenia."
      },
      {
        "step": 4,
        "hint": "Jak wygląda równanie po podstawieniu?",
        "expression": "$(y_1 + 1) + (y_2 + 1) + ... + (y_{12} + 1) = 15$",
        "explanation": "Rozwijamy równanie z nowymi zmiennymi"
      },
      {
        "step": 5,
        "hint": "Do czego sprowadza się równanie po uproszczeniu?",
        "expression": "$y_1 + y_2 + ... + y_{12} = 15 - 12 = 3$",
        "explanation": "Upraszczamy: suma dwunastu jedynek to 12"
      },
      {
        "step": 6,
        "hint": "Jaki jest teraz nasz problem kombinatoryczny?",
        "expression": "Szukamy liczby sposobów rozłożenia 3 na 12 nieujemnych składników",
        "explanation": "Problem sprowadza się do klasycznego rozmieszczenia",
        "interactive_choice": {
          "prompt": "Jak rozwiązać równanie $y_1 + y_2 + ... + y_{12} = 3$ z ograniczeniem $y_i \\leq 8$?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru na rozmieszczenia z powtórzeniami",
              "feedback": "Tak, ale musisz uwzględnić ograniczenie $y_i \\leq 8$!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Policzyć bezpośrednio - suma 3 na 12 pozycji",
              "feedback": "Doskonale! Przy tak małej sumie można wypisać wszystkie przypadki.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Zastosować zasadę włączeń i wyłączeń",
              "feedback": "Możliwe, ale przy sumie 3 niepotrzebnie skomplikowane.",
              "is_correct": false
            }
          ],
          "explanation_after": "Przy sumie 3 rozłożonej na 12 składników, każdy składnik może być co najwyżej 3, więc ograniczenie $y_i \\leq 8$ nie ma znaczenia."
        }
      },
      {
        "step": 7,
        "hint": "Jakie są możliwe rozkłady liczby 3 na składniki?",
        "expression": "Możliwe rozkłady: $(3,0,0,...,0)$, $(2,1,0,...,0)$, $(1,1,1,0,...,0)$",
        "explanation": "Wypisujemy wszystkie sposoby zapisania 3 jako sumy nieujemnych liczb"
      },
      {
        "step": 8,
        "hint": "Ile jest sposobów rozmieszczenia każdego typu rozkładu?",
        "expression": "Typ $(3,0,0,...,0)$: $\\frac{12!}{1! \\cdot 11!} = 12$ sposobów",
        "explanation": "Jeden element równy 3, jedenaście zer",
        "interactive_choice": {
          "prompt": "Jak policzyć liczbę rozmieszczenia dla każdego typu rozkładu?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru na permutacje z powtórzeniami",
              "feedback": "Świetnie! To $\\frac{n!}{n_1! \\cdot n_2! \\cdot ... \\cdot n_k!}$ gdzie $n_i$ to liczba powtórzeń.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Pomnożyć przez liczbę pozycji",
              "feedback": "Za proste - nie uwzględnia powtórzeń identycznych wartości.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru na kombinacje",
              "feedback": "Kombinacje to wybór bez kolejności, a tu kolejność ma znaczenie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Permutacje z powtórzeniami uwzględniają że niektóre elementy są identyczne."
        }
      },
      {
        "step": 9,
        "hint": "Ile sposobów dla rozkładu $(2,1,0,...,0)$?",
        "expression": "Typ $(2,1,0,...,0)$: $\\frac{12!}{1! \\cdot 1! \\cdot 10!} = 12 \\cdot 11 = 132$ sposobów",
        "explanation": "Jeden element równy 2, jeden równy 1, dziesięć zer"
      },
      {
        "step": 10,
        "hint": "Ile sposobów dla rozkładu $(1,1,1,0,...,0)$?",
        "expression": "Typ $(1,1,1,0,...,0)$: $\\frac{12!}{3! \\cdot 9!} = \\frac{12 \\cdot 11 \\cdot 10}{3!} = \\frac{1320}{6} = 220$ sposobów",
        "explanation": "Trzy elementy równe 1, dziewięć zer"
      },
      {
        "step": 11,
        "hint": "Jaka jest całkowita liczba rozwiązań?",
        "expression": "$12 + 132 + 220 = 364$",
        "explanation": "Sumujemy wszystkie możliwe rozmieszczenia"
      }
    ],
    "solutions": [
      "364"
    ],
    "parameters": {
      "digits": 12,
      "sum": 15,
      "constraint": "żadna cyfra nie jest zerem"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 11,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:11:51.583Z"
  },
  {
    "id": "permutations_placement",
    "topic": "Permutacje",
    "difficulty": 2,
    "statement": "Na ile sposobów można umieścić w 7 szufladach 3 różne bluzki tak, aby każda była w innej szufladzie?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza warunek 'każda bluzka w innej szufladzie'?",
        "expression": "Mamy 7 szuflad i 3 różne bluzki, każda w osobnej szufladzie",
        "explanation": "To znaczy, że wybieramy 3 szuflady z 7 dostępnych i rozmieszczamy w nich bluzki"
      },
      {
        "step": 2,
        "hint": "Czy kolejność umieszczania bluzek ma znaczenie?",
        "expression": "Kolejność rozmieszczenia ma znaczenie",
        "explanation": "Różne bluzki w różnych szufladach to różne sposoby",
        "interactive_choice": {
          "prompt": "Czy zamiana miejscami dwóch różnych bluzek daje nowy sposób rozmieszczenia?",
          "options": [
            {
              "id": "A",
              "text": "Tak, bo bluzki są różne",
              "feedback": "Dokładnie! Różne bluzki w różnych miejscach to różne rozmieszczenia.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Nie, liczy się tylko które szuflady są zajęte",
              "feedback": "Nieprawda - skoro bluzki są różne, to ich zamiana miejscami ma znaczenie.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Zależy od tego, czy szuflady są ponumerowane",
              "feedback": "Szuflady są różne (można je rozróżnić), więc kolejność zawsze ma znaczenie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Ponieważ bluzki są różne i szuflady można rozróżnić, kolejność ma znaczenie - to permutacje."
        }
      },
      {
        "step": 3,
        "hint": "Jakiego typu zadanie kombinatoryczne to jest?",
        "expression": "Używamy wzoru na permutacje: $P_7^3$",
        "explanation": "Permutacje 3-elementowe ze zbioru 7-elementowego",
        "why": "Permutacje stosujemy gdy kolejność ma znaczenie i nie ma powtórzeń. Wzór: $P_n^k = \\frac{n!}{(n-k)!}$",
        "interactive_choice": {
          "prompt": "Jaki wzór zastosować do tego problemu?",
          "options": [
            {
              "id": "A",
              "text": "Kombinacje $C_7^3$ - wybieramy 3 szuflady z 7",
              "feedback": "Nie - to pomija kolejność rozmieszczenia różnych bluzek.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Permutacje $P_7^3$ - rozmieszczamy 3 obiekty w 7 miejscach",
              "feedback": "Świetnie! To permutacje bez powtórzeń - kolejność ma znaczenie.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Permutacje z powtórzeniami $7^3$",
              "feedback": "Nie - każda bluzka musi być w innej szufladzie, więc bez powtórzeń.",
              "is_correct": false
            }
          ],
          "explanation_after": "To permutacje bez powtórzeń - wybieramy i ustawiamy 3 obiekty z 7 możliwych miejsc."
        }
      },
      {
        "step": 4,
        "hint": "Jak obliczyć $P_7^3$ używając wzoru?",
        "expression": "$P_7^3 = \\frac{7!}{(7-3)!} = \\frac{7!}{4!}$",
        "explanation": "Podstawiamy do wzoru na permutacje"
      },
      {
        "step": 5,
        "hint": "Jak uprościć $\\frac{7!}{4!}$?",
        "expression": "$\\frac{7!}{4!} = \\frac{7 \\cdot 6 \\cdot 5 \\cdot 4!}{4!} = 7 \\cdot 6 \\cdot 5$",
        "explanation": "Skracamy silnie - zostają tylko pierwsze 3 czynniki"
      },
      {
        "step": 6,
        "hint": "Ile wynosi $7 \\cdot 6 \\cdot 5$?",
        "expression": "$7 \\cdot 6 \\cdot 5 = 210$",
        "explanation": "Obliczamy końcowy wynik",
        "interactive_choice": {
          "prompt": "Jak najłatwiej obliczyć $7 \\cdot 6 \\cdot 5$?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw $7 \\cdot 6 = 42$, potem $42 \\cdot 5 = 210$",
              "feedback": "Dobra metoda! Krok po kroku daje pewność wyniku.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Najpierw $6 \\cdot 5 = 30$, potem $7 \\cdot 30 = 210$",
              "feedback": "Też dobrze! Różna kolejność, ten sam wynik.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Od razu $7 \\cdot 6 \\cdot 5 = 210$",
              "feedback": "Możliwe, ale łatwiej się pomylić przy liczeniu na pamięć.",
              "is_correct": true
            }
          ],
          "explanation_after": "Wszystkie sposoby są poprawne. Ważne żeby sprawdzić wynik."
        }
      }
    ],
    "solutions": [
      "210"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-09-17T07:12:15.715Z"
  },
  {
    "id": "permutations_balls_boxes",
    "topic": "Permutacje",
    "difficulty": 3,
    "statement": "W 8 pudełkach umieszczamy 5 ponumerowanych kulek tak, aby w żadnym pudełku nie było więcej niż jednej kulki. Na ile sposobów możemy to zrobić?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza warunek 'w żadnym pudełku nie więcej niż jedna kulka'?",
        "expression": "Każda kulka trafia do innego pudełka - nie ma powtórzeń",
        "explanation": "Warunek oznacza, że kulki muszą być w różnych pudełkach"
      },
      {
        "step": 2,
        "hint": "Jak podejść do tego problemu kombinatorycznego?",
        "expression": "Szukamy liczby sposobów wyboru i ustawienia 5 kulek w 8 pudełkach",
        "explanation": "To problem permutacji - wybieramy 5 pozycji z 8 dostępnych",
        "interactive_choice": {
          "prompt": "Którą metodę zastosować do rozwiązania tego zadania?",
          "options": [
            {
              "id": "A",
              "text": "Kombinacje - kolejność nie ma znaczenia",
              "feedback": "Nie! Kulki są ponumerowane, więc kolejność ma znaczenie.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Permutacje - wybieramy i ustawiamy kulki",
              "feedback": "Dokładnie! Kulki są różne i kolejność pudełek ma znaczenie.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Zasada mnożenia - krok po kroku",
              "feedback": "Też dobry sposób! To prowadzi do tego samego co permutacje.",
              "is_correct": true
            }
          ],
          "explanation_after": "Ponumerowane kulki w różnych pudełkach to klasyczne permutacje bez powtórzeń."
        }
      },
      {
        "step": 3,
        "hint": "Jak myśleć o tym problemie krok po kroku?",
        "expression": "Kulka nr 1: 8 wyborów, kulka nr 2: 7 wyborów, ..., kulka nr 5: 4 wybory",
        "explanation": "Każda kolejna kulka ma o jeden wybór mniej",
        "interactive_choice": {
          "prompt": "W jakiej kolejności najlepiej rozważać umieszczanie kulek?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw wybieramy pudełka, potem przypisujemy kulki",
              "feedback": "Możliwe, ale bardziej skomplikowane - trzeba pamiętać o numeracji kulek.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Umieszczamy kulki po kolei: kulka 1, potem 2, itd.",
              "feedback": "Świetnie! Kulka 1 ma 8 wyborów, kulka 2 ma 7, kulka 3 ma 6...",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Losowo - kolejność nie ma znaczenia",
              "feedback": "Kolejność ma znaczenie! Kulki są ponumerowane.",
              "is_correct": false
            }
          ],
          "explanation_after": "Myślenie 'kulka po kulce' prowadzi bezpośrednio do zasady mnożenia."
        }
      },
      {
        "step": 4,
        "hint": "Ile sposobów ma kulka numer 1?",
        "expression": "Kulka nr 1 może trafić do dowolnego z 8 pudełek",
        "explanation": "Pierwsza kulka ma wszystkie pudełka dostępne"
      },
      {
        "step": 5,
        "hint": "Ile sposobów ma kulka numer 2?",
        "expression": "Kulka nr 2 może trafić do 7 pozostałych pudełek",
        "explanation": "Jedno pudełko jest już zajęte przez kulkę nr 1"
      },
      {
        "step": 6,
        "hint": "Jaki wzór opisuje całkowitą liczbę sposobów?",
        "expression": "$8 \\times 7 \\times 6 \\times 5 \\times 4$",
        "explanation": "Zasada mnożenia - mnożymy liczbę wyborów dla każdej kulki",
        "why": "To jest permutacja 5 elementów z 8: $P(8,5) = \\frac{8!}{(8-5)!} = \\frac{8!}{3!}$"
      },
      {
        "step": 7,
        "hint": "Jak obliczyć ten iloczyn?",
        "expression": "$8 \\times 7 \\times 6 \\times 5 \\times 4 = 6720$",
        "explanation": "Obliczamy krok po kroku: $56 \\times 6 = 336$, $336 \\times 5 = 1680$, $1680 \\times 4 = 6720$",
        "interactive_choice": {
          "prompt": "Jak najłatwiej obliczyć $8 \\times 7 \\times 6 \\times 5 \\times 4$?",
          "options": [
            {
              "id": "A",
              "text": "Mnożyć po kolei: $8 \\times 7 = 56$, potem $56 \\times 6$...",
              "feedback": "Dobra metoda! Systematyczne mnożenie krok po kroku.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć wzoru na permutacje: $\\frac{8!}{3!}$",
              "feedback": "Też poprawne! $\\frac{8!}{3!} = \\frac{40320}{6} = 6720$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Pogrupować: $(8 \\times 5) \\times (7 \\times 4) \\times 6$",
              "feedback": "Można, ale nie ułatwia obliczeń w tym przypadku.",
              "is_correct": true
            }
          ],
          "explanation_after": "Wszystkie metody dają ten sam wynik - wybierz najwygodniejszą dla siebie."
        }
      }
    ],
    "solutions": [
      "6720"
    ],
    "parameters": {
      "balls": 5,
      "boxes": 8,
      "constraint": "maksymalnie jedna kulka w pudełku"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 6
      }
    },
    "timestamp": "2025-09-17T07:12:41.725Z"
  },
  {
    "id": "can_number_combinatorics",
    "topic": "Kombinatoryka z warunkami",
    "difficulty": 4,
    "statement": "E-dowód ma zapisany na pierwszej stronie specjalny sześciocyfrowy numer CAN, który zabezpiecza go przed odczytaniem danych przez osoby nieuprawnione. Oblicz, ile jest wszystkich sześciocyfrowych numerów CAN o różnych cyfrach, spełniających warunek: trzy pierwsze cyfry są kolejnymi wyrazami ciągu arytmetycznego o różnicy mniejszej niż (-2).",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie warunki musi spełniać różnica ciągu arytmetycznego?",
        "expression": "Różnica $r < -2$, więc $r \\in \\{-9, -8, -7, -6, -5, -4, -3\\}$",
        "explanation": "Różnica musi być liczbą całkowitą mniejszą od -2",
        "why": "W ciągu arytmetycznym cyfr różnica musi być całkowita i mieszczą się w zakresie od -9 do 9."
      },
      {
        "step": 2,
        "hint": "Jak wygląda ciąg arytmetyczny trzech pierwszych cyfr?",
        "expression": "Trzy pierwsze cyfry: $a, a+r, a+2r$ gdzie $r < -2$",
        "explanation": "Zapisujemy ciąg arytmetyczny o pierwszym wyrazie $a$ i różnicy $r$",
        "interactive_choice": {
          "prompt": "Jeśli pierwsza cyfra to $a$, a różnica to $r$, jak zapisać trzy pierwsze cyfry?",
          "options": [
            {
              "id": "A",
              "text": "$a, a+r, a+2r$",
              "feedback": "Dokładnie! To standardowa postać ciągu arytmetycznego.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$a, a-r, a-2r$",
              "feedback": "Nie - to byłoby dla różnicy $-r$, a my mamy różnicę $r$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$a, ar, ar^2$",
              "feedback": "To jest ciąg geometryczny, nie arytmetyczny!",
              "is_correct": false
            }
          ],
          "explanation_after": "W ciągu arytmetycznym każdy następny wyraz to poprzedni plus różnica."
        }
      },
      {
        "step": 3,
        "hint": "Jakie ograniczenia nakładają cyfry na wartości $a$ i $r$?",
        "expression": "Wszystkie cyfry muszą być z zakresu $\\{0, 1, 2, ..., 9\\}$",
        "explanation": "Każda z cyfr $a$, $a+r$, $a+2r$ musi być cyfrą"
      },
      {
        "step": 4,
        "hint": "Które warunki muszą być spełnione jednocześnie?",
        "expression": "$0 \\leq a \\leq 9$, $0 \\leq a+r \\leq 9$, $0 \\leq a+2r \\leq 9$",
        "explanation": "Wszystkie trzy wyrazy ciągu muszą być cyframi"
      },
      {
        "step": 5,
        "hint": "Który warunek jest najbardziej ograniczający?",
        "expression": "Z warunku $a + 2r \\geq 0$ mamy $a \\geq -2r$",
        "explanation": "Najsilniejsze ograniczenie pochodzi od trzeciej cyfry",
        "interactive_choice": {
          "prompt": "Który warunek najsilniej ogranicza możliwe wartości $a$?",
          "options": [
            {
              "id": "A",
              "text": "$a \\geq 0$ (pierwsza cyfra nieujemna)",
              "feedback": "To ogranicza od dołu, ale nie jest najsilniejsze.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$a+2r \\geq 0$ (trzecia cyfra nieujemna)",
              "feedback": "Świetnie! Ponieważ $r < -2$, to $2r < -4$, więc potrzebujemy $a \\geq -2r > 4$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$a+r \\leq 9$ (druga cyfra nie większa niż 9)",
              "feedback": "To ogranicza od góry, ale przy ujemnym $r$ nie jest problemem.",
              "is_correct": false
            }
          ],
          "explanation_after": "Ponieważ $r$ jest bardzo ujemne, warunek $a+2r \\geq 0$ wymaga dużego $a$."
        }
      },
      {
        "step": 6,
        "hint": "Ile możliwych par $(a,r)$ spełnia wszystkie warunki?",
        "expression": "Sprawdzamy każde $r \\in \\{-9, -8, -7, -6, -5, -4, -3\\}$:",
        "explanation": "Analizujemy przypadki dla każdej możliwej różnicy"
      },
      {
        "step": 7,
        "hint": "Ile jest możliwych pierwszych cyfr dla każdego $r$?",
        "expression": "Dla $r = -3$: $a \\geq 6$, $a \\leq 9 \\Rightarrow a \\in \\{6,7,8,9\\}$ (4 możliwości)\nDla $r = -4$: $a \\geq 8$, $a \\leq 9 \\Rightarrow a \\in \\{8,9\\}$ (2 możliwości)\nDla $r \\leq -5$: $a \\geq 10$ - brak rozwiązań",
        "explanation": "Tylko $r = -3$ i $r = -4$ dają poprawne cyfry"
      },
      {
        "step": 8,
        "hint": "Ile mamy możliwych kombinacji pierwszych trzech cyfr?",
        "expression": "$4 + 2 = 6$ możliwych kombinacji pierwszych trzech cyfr",
        "explanation": "Sumujemy przypadki dla $r = -3$ i $r = -4$"
      },
      {
        "step": 9,
        "hint": "Jak wybrać pozostałe trzy cyfry?",
        "expression": "Pozostałe 3 pozycje: $7 \\times 6 \\times 5 = 210$ sposobów",
        "explanation": "Z 10 cyfr użyliśmy 3, zostało 7. Wybieramy kolejno bez powtórzeń.",
        "interactive_choice": {
          "prompt": "Ile sposobów wyboru pozostałych trzech cyfr, jeśli wszystkie cyfry mają być różne?",
          "options": [
            {
              "id": "A",
              "text": "$7 \\times 6 \\times 5$ sposobów",
              "feedback": "Dokładnie! Zostało 7 cyfr, potem 6, potem 5.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$7^3$ sposobów",
              "feedback": "Nie - to byłoby gdyby cyfry mogły się powtarzać.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$\\binom{7}{3}$ sposobów",
              "feedback": "To liczba sposobów wyboru 3 cyfr, ale nie uwzględnia kolejności.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wybieramy bez powtórzeń z uwzględnieniem kolejności - to wariacje."
        }
      },
      {
        "step": 10,
        "hint": "Jaka jest końcowa liczba wszystkich numerów CAN?",
        "expression": "$6 \\times 210 = 1260$",
        "explanation": "Mnożymy liczbę sposobów wyboru pierwszych trzech cyfr przez liczbę sposobów wyboru pozostałych trzech"
      }
    ],
    "solutions": [
      "1260"
    ],
    "parameters": {
      "constraints": "Sześciocyfrowy numer, różne cyfry, pierwsze trzy w ciągu arytmetycznym z $r < -2$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:13:14.317Z"
  },
  {
    "id": "five_digit_three_different_digits",
    "topic": "Kombinatoryka - liczby z ograniczeniami",
    "difficulty": 4,
    "statement": "Ile jest liczb naturalnych pięciocyfrowych, których zapis dziesiętny składa się z trzech różnych cyfr?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza, że liczba pięciocyfrowa składa się z trzech różnych cyfr?",
        "expression": "Liczba ma 5 pozycji, ale używa tylko 3 różne cyfry - niektóre cyfry się powtarzają",
        "explanation": "Mamy 5 miejsc do wypełnienia, ale tylko 3 różne cyfry do dyspozycji"
      },
      {
        "step": 2,
        "hint": "Jak można rozmieścić 3 różne cyfry na 5 pozycjach?",
        "expression": "Rozkład: jedna cyfra występuje 3 razy, dwie pozostałe po 1 razie każda",
        "explanation": "To jedyny możliwy rozkład dla 3 różnych cyfr na 5 pozycjach",
        "interactive_choice": {
          "prompt": "Jakie są możliwe sposoby rozmieszczenia 3 różnych cyfr na 5 pozycjach?",
          "options": [
            {
              "id": "A",
              "text": "Jedna cyfra występuje 3 razy, dwie pozostałe po 1 razie",
              "feedback": "Świetnie! To jedyny sposób: 3+1+1=5",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Jedna cyfra 2 razy, druga 2 razy, trzecia 1 raz",
              "feedback": "Nie - to dałoby 2+2+1=5, ale wtedy mielibyśmy problem z pierwszą cyfrą",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Każda cyfra występuje różną liczbę razy",
              "feedback": "Za ogólne - musimy być precyzyjni co do liczby wystąpień",
              "is_correct": false
            }
          ],
          "explanation_after": "Jedyny sposób to rozkład 3+1+1, gdzie jedna cyfra występuje 3 razy, a dwie pozostałe po 1 razie."
        }
      },
      {
        "step": 3,
        "hint": "Czy cyfra występująca 3 razy może być zerem?",
        "expression": "Cyfra występująca 3 razy: jedna z $\\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}$ - mamy 9 wyborów",
        "explanation": "Pierwsza cyfra liczby pięciocyfrowej nie może być zerem",
        "why": "To kluczowe ograniczenie - zero na pierwszej pozycji oznaczałoby liczbę czterocyfrową.",
        "interactive_choice": {
          "prompt": "Która cyfra może występować 3 razy w liczbie pięciocyfrowej?",
          "options": [
            {
              "id": "A",
              "text": "Dowolna cyfra od 0 do 9",
              "feedback": "Nie - jeśli 0 występuje 3 razy, to może być na pierwszej pozycji!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Tylko cyfry od 1 do 9",
              "feedback": "Dokładnie! Zero nie może być pierwszą cyfrą liczby pięciocyfrowej",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Tylko cyfry od 2 do 9",
              "feedback": "Za restrykcyjne - cyfra 1 też może występować 3 razy",
              "is_correct": false
            }
          ],
          "explanation_after": "Cyfra występująca 3 razy musi być różna od 0, bo inaczej mogłaby być na pierwszej pozycji."
        }
      },
      {
        "step": 4,
        "hint": "Ile sposobów wyboru dwóch pozostałych cyfr?",
        "expression": "Pozostałe 2 cyfry wybieramy z 9 dostępnych cyfr (0 i 8 innych niż wybrana): $\\binom{9}{2} = 36$",
        "explanation": "Mamy 10 cyfr minus 1 już wybrana = 9 cyfr, z których wybieramy 2"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można rozmieścić te cyfry na 5 pozycjach?",
        "expression": "Liczba permutacji z powtórzeniami: $\\frac{5!}{3! \\cdot 1! \\cdot 1!} = \\frac{120}{6} = 20$",
        "explanation": "Rozmieszczamy 5 cyfr gdzie jedna powtarza się 3 razy, dwie po 1 razie",
        "why": "Wzór na permutacje z powtórzeniami: $\\frac{n!}{n_1! \\cdot n_2! \\cdot ... \\cdot n_k!}$ gdzie $n_i$ to liczba powtórzeń i-tej cyfry."
      },
      {
        "step": 6,
        "hint": "Czy wszystkie te rozmieszczenia dają liczby pięciocyfrowe?",
        "expression": "Przypadki z zerem na pierwszej pozycji: $\\frac{4!}{3! \\cdot 1!} = 4$",
        "explanation": "Gdy zero jest pierwsze, rozmieszczamy pozostałe 4 cyfry na 4 pozycjach",
        "interactive_choice": {
          "prompt": "Które rozmieszczenia cyfr NIE dają liczby pięciocyfrowej?",
          "options": [
            {
              "id": "A",
              "text": "Gdy zero jest na pierwszej pozycji",
              "feedback": "Tak! Wtedy mamy liczbę czterocyfrową, nie pięciocyfrową",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Gdy zero występuje więcej niż raz",
              "feedback": "Nie - zero występuje maksymalnie raz (nie jest cyfrą powtarzającą się 3 razy)",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wszystkie rozmieszczenia są poprawne",
              "feedback": "Nie - zero na pierwszej pozycji daje liczbę czterocyfrową",
              "is_correct": false
            }
          ],
          "explanation_after": "Musimy odjąć przypadki gdzie zero jest na pierwszej pozycji."
        }
      },
      {
        "step": 7,
        "hint": "Ile poprawnych rozmieszczień dla każdego wyboru cyfr?",
        "expression": "Poprawne rozmieszczenia: $20 - 4 = 16$ (gdy jedna z dwóch cyfr to zero)",
        "explanation": "Odejmujemy przypadki gdzie zero jest na pierwszej pozycji"
      },
      {
        "step": 8,
        "hint": "W ilu przypadkach jedna z dwóch cyfr to zero?",
        "expression": "Przypadki z zerem: wybieramy 1 cyfrę z 8 pozostałych (bez zera i bez cyfry powtarzającej się): 8 sposobów",
        "explanation": "Zero może być jedną z dwóch cyfr występujących po 1 razie"
      },
      {
        "step": 9,
        "hint": "W ilu przypadkach żadna z dwóch cyfr to nie zero?",
        "expression": "Przypadki bez zera: $\\binom{9}{2} - 8 = 36 - 8 = 28$ sposobów",
        "explanation": "Wszystkie sposoby minus te ze zerem"
      },
      {
        "step": 10,
        "hint": "Jaki jest całkowity wynik?",
        "expression": "$9 \\cdot (8 \\cdot 16 + 28 \\cdot 20) = 9 \\cdot (128 + 560) = 9 \\cdot 688 = 6192$",
        "explanation": "Sumujemy: 9 wyborów cyfry powtarzającej się × (przypadki z zerem + przypadki bez zera)"
      }
    ],
    "solutions": [
      "6192"
    ],
    "parameters": {
      "constraint": "liczby pięciocyfrowe z dokładnie trzema różnymi cyframi"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:13:49.846Z"
  },
  {
    "id": "six_digit_four_different_digits",
    "topic": "Kombinatoryka - liczby z ograniczeniami",
    "difficulty": 4,
    "statement": "Ile jest liczb naturalnych sześciocyfrowych, w których zapisie dziesiętnym występują tylko cztery różne cyfry?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą wystąpić w liczbie sześciocyfrowej?",
        "expression": "Cyfry: $0, 1, 2, 3, 4, 5, 6, 7, 8, 9$ (10 cyfr dostępnych)",
        "explanation": "Mamy do dyspozycji 10 różnych cyfr"
      },
      {
        "step": 2,
        "hint": "Ile cyfr ma liczba sześciocyfrowa i jakie są ograniczenia?",
        "expression": "6 pozycji: $d_1d_2d_3d_4d_5d_6$, gdzie $d_1 \\neq 0$",
        "explanation": "Pierwsza cyfra nie może być zerem (liczba sześciocyfrowa)",
        "why": "To kluczowe ograniczenie - pierwsza pozycja ma tylko 9 możliwości zamiast 10."
      },
      {
        "step": 3,
        "hint": "Jak podejść do problemu z dokładnie 4 różnymi cyframi na 6 pozycjach?",
        "expression": "Strategia: wybór 4 cyfr + rozmieszczenie na 6 pozycjach",
        "explanation": "Dzielimy problem na etapy",
        "interactive_choice": {
          "prompt": "Którą strategię zastosować do zliczenia liczb z dokładnie 4 różnymi cyframi?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw wybrać 4 cyfry, potem rozmieścić je na 6 pozycjach",
              "feedback": "Świetny wybór! To systematyczne podejście - wybór + rozmieszczenie.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Bezpośrednio liczyć wszystkie możliwe kombinacje pozycji",
              "feedback": "Bardzo skomplikowane - łatwo o błąd przy tylu przypadkach.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć zasady włączeń i wyłączeń",
              "feedback": "Możliwe, ale niepotrzebnie skomplikowane dla tego problemu.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dzielimy problem: wybieramy 4 cyfry z 10, potem rozmieszczamy je tak, by każda wystąpiła co najmniej raz."
        }
      },
      {
        "step": 4,
        "hint": "Czy zero może być wśród wybranych 4 cyfr?",
        "expression": "Przypadek 1: zero wśród 4 cyfr, Przypadek 2: zero nie wśród 4 cyfr",
        "explanation": "Rozdzielamy na dwa przypadki ze względu na specjalną rolę zera",
        "interactive_choice": {
          "prompt": "Jak traktować cyfrę 0 przy wyborze 4 cyfr?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć osobno przypadki: z zerem i bez zera",
              "feedback": "Doskonale! Zero ma specjalne ograniczenia na pierwszej pozycji.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Traktować zero jak każdą inną cyfrę",
              "feedback": "Nie - zero nie może być na pierwszej pozycji, więc wymaga osobnego traktowania.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wykluczyć zero z rozważań",
              "feedback": "Niepotrzebnie - zero może wystąpić, tylko nie na pierwszej pozycji.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zero wymaga specjalnego traktowania ze względu na ograniczenie pierwszej pozycji."
        }
      },
      {
        "step": 5,
        "hint": "Ile sposobów wyboru 4 cyfr gdy zero jest wśród nich?",
        "expression": "Wybieramy 0 i jeszcze 3 cyfry z $\\{1,2,3,4,5,6,7,8,9\\}$: $\\binom{9}{3} = 84$",
        "explanation": "Zero jest wybrane, pozostałe 3 cyfry z 9 dostępnych"
      },
      {
        "step": 6,
        "hint": "Jak rozmieścić 4 wybrane cyfry (z zerem) na 6 pozycjach?",
        "expression": "Suriekcje z 6 pozycji na 4 cyfry, ale zero nie na pozycji 1",
        "explanation": "Każda z 4 cyfr musi wystąpić co najmniej raz, zero nie może być pierwsze",
        "why": "To problem suriekcji z ograniczeniem - każda cyfra musi być użyta, ale zero ma ograniczoną pozycję."
      },
      {
        "step": 7,
        "hint": "Ile jest suriekcji z 6 pozycji na 4 cyfry?",
        "expression": "Wzór na suriekcje: $4! \\cdot S(6,4)$ gdzie $S(6,4) = 65$",
        "explanation": "Liczby Stirling II rodzaju: $S(6,4) = 65$, pomnażamy przez $4! = 24$"
      },
      {
        "step": 8,
        "hint": "Ile z tych suriekcji ma zero na pierwszej pozycji?",
        "expression": "Zero na pozycji 1: $3! \\cdot S(5,3) = 6 \\cdot 25 = 150$",
        "explanation": "Suriekcja z 5 pozycji na 3 cyfry: $S(5,3) = 25$",
        "interactive_choice": {
          "prompt": "Jak policzyć suriekcje z zerem na pierwszej pozycji?",
          "options": [
            {
              "id": "A",
              "text": "Ustalić zero na pozycji 1, resztę rozmieścić na 5 pozycjach",
              "feedback": "Tak! Zostaje suriekcja z 5 pozycji na 3 pozostałe cyfry.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Podzielić przez 4 (proporcjonalnie)",
              "feedback": "Nie - zero ma specjalne ograniczenie, nie można tak dzielić.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru $\\frac{1}{6}$ wszystkich suriekcji",
              "feedback": "Nieprawda - zero ma ograniczenie, więc nie ma równego rozkładu.",
              "is_correct": false
            }
          ],
          "explanation_after": "Ustalamy zero na pozycji 1, pozostałe 3 cyfry rozmieszczamy suriekcyjnie na 5 pozycjach."
        }
      },
      {
        "step": 9,
        "hint": "Ile poprawnych liczb w przypadku 1?",
        "expression": "Przypadek 1: $84 \\cdot (4! \\cdot 65 - 150) = 84 \\cdot (1560 - 150) = 84 \\cdot 1410$",
        "explanation": "Wszystkie suriekcje minus te z zerem na początku"
      },
      {
        "step": 10,
        "hint": "Ile sposobów wyboru 4 cyfr gdy zera nie ma wśród nich?",
        "expression": "Wybieramy 4 cyfry z $\\{1,2,3,4,5,6,7,8,9\\}$: $\\binom{9}{4} = 126$",
        "explanation": "Wszystkie 4 cyfry z 9 dostępnych (bez zera)"
      },
      {
        "step": 11,
        "hint": "Jak rozmieścić 4 cyfry (bez zera) na 6 pozycjach?",
        "expression": "Przypadek 2: $126 \\cdot 4! \\cdot S(6,4) = 126 \\cdot 24 \\cdot 65$",
        "explanation": "Brak ograniczeń - wszystkie suriekcje są dozwolone"
      },
      {
        "step": 12,
        "hint": "Jaki jest końcowy wynik?",
        "expression": "$84 \\cdot 1410 + 126 \\cdot 1560 = 118440 + 196560 = 314400$",
        "explanation": "Suma obu przypadków daje ostateczną odpowiedź"
      }
    ],
    "solutions": [
      "$314400$"
    ],
    "parameters": {
      "constraint": "dokładnie 4 różne cyfry w liczbie 6-cyfrowej"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:14:28.118Z"
  },
  {
    "id": "tournament_combinations",
    "topic": "Kombinatoryka - liczba par",
    "difficulty": 3,
    "statement": "W turnieju karate rozegrano 36 walk. Każdy walczył z każdym dokładnie raz. Ilu zawodników brało udział w turnieju?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza, że każdy walczył z każdym dokładnie raz?",
        "expression": "Każda para zawodników rozegrała dokładnie jedną walkę",
        "explanation": "To znaczy, że liczba walk równa się liczbie różnych par zawodników"
      },
      {
        "step": 2,
        "hint": "Jak matematycznie opisać problem wyboru par z grupy zawodników?",
        "expression": "Liczba walk = $\\binom{n}{2} = \\frac{n(n-1)}{2}$",
        "explanation": "Wzór na liczbę par z $n$ elementów",
        "why": "To klasyczny problem kombinatoryczny - wybieramy 2 osoby z $n$ do walki, kolejność nie ma znaczenia.",
        "interactive_choice": {
          "prompt": "Jeśli mamy $n$ zawodników, to liczba walk to:",
          "options": [
            {
              "id": "A",
              "text": "$n \\cdot (n-1)$ - każdy z każdym",
              "feedback": "Nie - to liczy każdą parę dwukrotnie (A vs B i B vs A)",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$\\binom{n}{2} = \\frac{n(n-1)}{2}$ - liczba par",
              "feedback": "Dokładnie! To liczba sposobów wyboru 2 osób z $n$ bez powtórzeń",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$n^2$ - każdy może walczyć z każdym",
              "feedback": "Nie - to liczy też walki zawodnika z samym sobą",
              "is_correct": false
            }
          ],
          "explanation_after": "Szukamy liczby par, więc używamy wzoru na kombinacje bez powtórzeń."
        }
      },
      {
        "step": 3,
        "hint": "Jakie równanie możemy ułożyć znając liczbę walk?",
        "expression": "$\\frac{n(n-1)}{2} = 36$",
        "explanation": "Podstawiamy znaną liczbę walk (36) do wzoru"
      },
      {
        "step": 4,
        "hint": "Jak uprościć to równanie?",
        "expression": "$n(n-1) = 72$",
        "explanation": "Mnożymy obie strony przez 2"
      },
      {
        "step": 5,
        "hint": "Do jakiej postaci przekształcić równanie $n(n-1) = 72$?",
        "expression": "$n^2 - n - 72 = 0$",
        "explanation": "Przekształcamy do standardowej postaci równania kwadratowego",
        "interactive_choice": {
          "prompt": "Jak najlepiej rozwiązać równanie $n(n-1) = 72$?",
          "options": [
            {
              "id": "A",
              "text": "Rozwinąć do $n^2 - n - 72 = 0$ i użyć delty",
              "feedback": "Dobra metoda - systematyczna i zawsze działa",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Zgadywać wartości $n$ przez podstawianie",
              "feedback": "Może zadziałać, ale nie jest metodą systematyczną",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Szukać rozkładu liczby 72 na czynniki kolejne",
              "feedback": "Sprytne! Szukamy $n$ i $n-1$ takich że $n(n-1) = 72$",
              "is_correct": true
            }
          ],
          "explanation_after": "Oba podejścia A i C są dobre. Rozkład na czynniki może być szybszy dla małych liczb."
        }
      },
      {
        "step": 6,
        "hint": "Jakie są współczynniki w równaniu $n^2 - n - 72 = 0$?",
        "expression": "$a = 1$, $b = -1$, $c = -72$",
        "explanation": "Identyfikujemy współczynniki dla wzoru na deltę"
      },
      {
        "step": 7,
        "hint": "Ile wynosi delta tego równania?",
        "expression": "$\\Delta = (-1)^2 - 4 \\cdot 1 \\cdot (-72) = 1 + 288 = 289$",
        "explanation": "Obliczamy deltę: $\\Delta = b^2 - 4ac$"
      },
      {
        "step": 8,
        "hint": "Jaki jest pierwiastek z delty?",
        "expression": "$\\sqrt{289} = 17$",
        "explanation": "Delta jest kwadratem doskonałym"
      },
      {
        "step": 9,
        "hint": "Jakie są rozwiązania równania kwadratowego?",
        "expression": "$n_1 = \\frac{1 + 17}{2} = 9$ oraz $n_2 = \\frac{1 - 17}{2} = -8$",
        "explanation": "Używamy wzoru $n = \\frac{-b \\pm \\sqrt{\\Delta}}{2a}$"
      },
      {
        "step": 10,
        "hint": "Które rozwiązanie ma sens w kontekście zadania?",
        "expression": "$n = 9$",
        "explanation": "Wybieramy rozwiązanie dodatnie - liczba zawodników",
        "interactive_choice": {
          "prompt": "Która wartość $n$ jest odpowiedzią na pytanie o liczbę zawodników?",
          "options": [
            {
              "id": "A",
              "text": "$n = 9$ - liczba dodatnia",
              "feedback": "Tak! Liczba zawodników musi być dodatnia",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$n = -8$ - też rozwiązanie równania",
              "feedback": "Matematycznie poprawne, ale liczba osób nie może być ujemna",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Oba rozwiązania są poprawne",
              "feedback": "Nie - w kontekście zadania tylko dodatnia liczba ma sens",
              "is_correct": false
            }
          ],
          "explanation_after": "W zadaniach praktycznych odrzucamy rozwiązania bez sensu fizycznego."
        }
      },
      {
        "step": 11,
        "hint": "Jak sprawdzić poprawność wyniku?",
        "expression": "Sprawdzenie: $\\frac{9 \\cdot 8}{2} = \\frac{72}{2} = 36$ ✓",
        "explanation": "9 zawodników daje dokładnie 36 walk - odpowiedź jest poprawna"
      }
    ],
    "solutions": [
      "9 zawodników"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 11,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-17T07:14:58.223Z"
  },
  {
    "id": "combinatorics_digits_parity",
    "topic": "Kombinatoryka - permutacje z ograniczeniami",
    "difficulty": 4,
    "statement": "Rozważamy wszystkie liczby naturalne, w których zapisie dziesiętnym nie powtarza się jakakolwiek cyfra oraz dokładnie trzy cyfry są nieparzyste i dokładnie dwie cyfry są parzyste. Oblicz, ile jest wszystkich takich liczb.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mamy do dyspozycji i jak je podzielić?",
        "expression": "Cyfry nieparzyste: $\\{1, 3, 5, 7, 9\\}$ - 5 cyfr, Cyfry parzyste: $\\{0, 2, 4, 6, 8\\}$ - 5 cyfr",
        "explanation": "Identyfikujemy dostępne cyfry według parzystości"
      },
      {
        "step": 2,
        "hint": "Ile cyfr będzie miała nasza liczba?",
        "expression": "Liczba będzie 5-cyfrowa",
        "explanation": "Suma wymaganych cyfr: 3 + 2 = 5",
        "interactive_choice": {
          "prompt": "Ile cyfr będzie miała liczba spełniająca warunki zadania?",
          "options": [
            {
              "id": "A",
              "text": "4 cyfry (2 parzyste + 2 nieparzyste)",
              "feedback": "Nie - zadanie wymaga dokładnie 3 cyfry nieparzyste i 2 parzyste",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "5 cyfr (3 nieparzyste + 2 parzyste)",
              "feedback": "Dokładnie! 3 + 2 = 5 cyfr w liczbie",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "6 cyfr (3 nieparzyste + 3 parzyste)",
              "feedback": "Nie - zadanie wymaga dokładnie 2 cyfry parzyste, nie 3",
              "is_correct": false
            }
          ],
          "explanation_after": "Liczba będzie 5-cyfrowa: 3 nieparzyste + 2 parzyste = 5 cyfr"
        }
      },
      {
        "step": 3,
        "hint": "Czy cyfra 0 może stać na pierwszej pozycji?",
        "expression": "Pierwsza cyfra nie może być 0 (liczba naturalna)",
        "explanation": "Liczba naturalna nie może zaczynać się od zera",
        "why": "To kluczowe ograniczenie - musimy rozpatrzyć przypadki: czy 0 jest wybrane, czy nie"
      },
      {
        "step": 4,
        "hint": "Jak podzielić problem ze względu na obecność cyfry 0?",
        "expression": "Przypadek 1: cyfra 0 nie jest wybrana, Przypadek 2: cyfra 0 jest wybrana",
        "explanation": "Dzielimy problem ze względu na obecność cyfry 0",
        "interactive_choice": {
          "prompt": "Jak najlepiej podzielić problem ze względu na cyfrę 0?",
          "options": [
            {
              "id": "A",
              "text": "Przypadek 1: 0 nie jest wybrane, Przypadek 2: 0 jest wybrane",
              "feedback": "Świetnie! To naturalny podział - cyfra 0 ma specjalne ograniczenia",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Liczyć wszystkie możliwości, potem odjąć te z 0 na początku",
              "feedback": "Możliwe, ale bardziej skomplikowane - lepiej od razu podzielić przypadki",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Rozpatrywać każdą pozycję osobno",
              "feedback": "Zbyt skomplikowane - podział na przypadki z 0 jest prostszy",
              "is_correct": false
            }
          ],
          "explanation_after": "Podział na przypadki z cyfrą 0 jest najczystszy - unikamy komplikacji z pierwszą pozycją"
        }
      },
      {
        "step": 5,
        "hint": "W przypadku 1 (bez 0): z jakich cyfr wybieramy?",
        "expression": "Wybieramy 3 z 5 nieparzystych: $\\binom{5}{3}$, Wybieramy 2 z 4 parzystych $\\{2,4,6,8\\}$: $\\binom{4}{2}$",
        "explanation": "Przypadek 1: bez cyfry 0, wybieramy z pozostałych cyfr"
      },
      {
        "step": 6,
        "hint": "Ile sposobów wyboru cyfr w przypadku 1?",
        "expression": "$\\binom{5}{3} \\cdot \\binom{4}{2} = 10 \\cdot 6 = 60$",
        "explanation": "Liczba sposobów wyboru 5 cyfr (3 nieparzyste + 2 parzyste bez 0)"
      },
      {
        "step": 7,
        "hint": "Na ile sposobów można ustawić 5 wybranych cyfr?",
        "expression": "Każdy zestaw 5 cyfr można ustawić na $5! = 120$ sposobów",
        "explanation": "Permutacje 5 różnych cyfr, bez ograniczeń na pozycje"
      },
      {
        "step": 8,
        "hint": "Ile liczb w przypadku 1?",
        "expression": "Przypadek 1: $60 \\cdot 120 = 7200$ liczb",
        "explanation": "Mnożymy liczbę sposobów wyboru przez liczbę permutacji"
      },
      {
        "step": 9,
        "hint": "W przypadku 2 (z 0): z jakich cyfr wybieramy pozostałe?",
        "expression": "0 już wybrane, wybieramy 3 z 5 nieparzystych: $\\binom{5}{3}$, wybieramy 1 z 4 parzystych $\\{2,4,6,8\\}$: $\\binom{4}{1}$",
        "explanation": "Przypadek 2: cyfra 0 jest wybrana, wybieramy pozostałe 4 cyfry"
      },
      {
        "step": 10,
        "hint": "Ile sposobów wyboru cyfr w przypadku 2?",
        "expression": "$\\binom{5}{3} \\cdot \\binom{4}{1} = 10 \\cdot 4 = 40$",
        "explanation": "Liczba sposobów wyboru pozostałych 4 cyfr (gdy 0 już wybrane)"
      },
      {
        "step": 11,
        "hint": "Jak ustawić 5 cyfr gdy jedna z nich to 0?",
        "expression": "Każdy zestaw można ustawić na $5! - 4! = 120 - 24 = 96$ sposobów",
        "explanation": "Wszystkie permutacje minus te z 0 na pierwszej pozycji",
        "interactive_choice": {
          "prompt": "Jak policzyć permutacje 5 cyfr, gdy jedna to 0 (nie może być pierwsza)?",
          "options": [
            {
              "id": "A",
              "text": "Wszystkie permutacje $5!$ minus te z 0 na początku $4!$",
              "feedback": "Dokładnie! $5! - 4! = 120 - 24 = 96$ poprawnych ustawień",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "0 na pozycji 2-5 (4 wybory), pozostałe 4 cyfry permutować: $4 \\cdot 4!$",
              "feedback": "Też poprawne! $4 \\cdot 24 = 96$ - to samo co metoda A",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Zwykłe permutacje $5! = 120$",
              "feedback": "Nie - zapominasz o ograniczeniu: 0 nie może być pierwszą cyfrą",
              "is_correct": false
            }
          ],
          "explanation_after": "Obie metody A i B dają 96. Metoda A: odejmujemy złe przypadki. Metoda B: bezpośrednio liczymy dobre."
        }
      },
      {
        "step": 12,
        "hint": "Ile liczb w przypadku 2?",
        "expression": "Przypadek 2: $40 \\cdot 96 = 3840$ liczb",
        "explanation": "Mnożymy liczbę sposobów wyboru przez liczbę dozwolonych permutacji"
      },
      {
        "step": 13,
        "hint": "Jaka jest końcowa odpowiedź?",
        "expression": "Łącznie: $7200 + 3840 = 11040$ liczb",
        "explanation": "Sumujemy wyniki z obu przypadków"
      }
    ],
    "solutions": [
      "11040"
    ],
    "parameters": {
      "constraints": "5-cyfrowe liczby, wszystkie cyfry różne, dokładnie 3 nieparzyste i 2 parzyste"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 13,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-17T07:15:34.899Z"
  },
  {
    "id": "five_digit_numbers_combinatorics",
    "topic": "Kombinatoryka - liczby z ograniczeniami",
    "difficulty": 4,
    "statement": "Rozważamy wszystkie pięciocyfrowe liczby naturalne, w których zapisie dziesiętnym nie powtarza się jakakolwiek cyfra oraz dokładnie dwie cyfry są nieparzyste i dokładnie trzy cyfry są parzyste. Oblicz, ile jest wszystkich takich liczb.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mamy do dyspozycji i jak je podzielić?",
        "expression": "Cyfry nieparzyste: $\\{1, 3, 5, 7, 9\\}$ (5 cyfr), cyfry parzyste: $\\{0, 2, 4, 6, 8\\}$ (5 cyfr)",
        "explanation": "Identyfikujemy dostępne cyfry i ich podział na parzyste/nieparzyste"
      },
      {
        "step": 2,
        "hint": "Jak podejść do tego problemu kombinatorycznego?",
        "expression": "Strategia: wybór cyfr → układanie cyfr",
        "explanation": "Dzielimy problem na wybór odpowiednich cyfr i ich permutację",
        "interactive_choice": {
          "prompt": "Którą strategię zastosować do zliczania takich liczb?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw wybrać cyfry, potem je ustawić",
              "feedback": "Świetny wybór! Najpierw wybieramy 2 nieparzyste i 3 parzyste, potem układamy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Rozpatrzyć wszystkie możliwe pozycje cyfr nieparzystych",
              "feedback": "Możliwe, ale bardziej skomplikowane - lepiej najpierw wybrać cyfry.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie permutacje i odjąć niepożądane",
              "feedback": "Bardzo skomplikowane - metoda wyboru i układania jest prostsza.",
              "is_correct": false
            }
          ],
          "explanation_after": "Strategia 'wybierz-ułóż' jest najczystsza: wybieramy cyfry spełniające warunki, potem je permutujemy."
        }
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można wybrać 2 cyfry nieparzyste z 5 dostępnych?",
        "expression": "$\\binom{5}{2} = \\frac{5!}{2! \\cdot 3!} = \\frac{5 \\cdot 4}{2 \\cdot 1} = 10$",
        "explanation": "Wybieramy 2 cyfry z 5 nieparzystych bez względu na kolejność"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można wybrać 3 cyfry parzyste z 5 dostępnych?",
        "expression": "$\\binom{5}{3} = \\frac{5!}{3! \\cdot 2!} = \\frac{5 \\cdot 4}{2 \\cdot 1} = 10$",
        "explanation": "Wybieramy 3 cyfry z 5 parzystych bez względu na kolejność"
      },
      {
        "step": 5,
        "hint": "Ile sposobów wyboru wszystkich 5 cyfr mamy łącznie?",
        "expression": "$10 \\cdot 10 = 100$",
        "explanation": "Mnożymy liczbę sposobów wyboru cyfr nieparzystych i parzystych",
        "why": "Zasada mnożenia: każdy wybór nieparzystych można połączyć z każdym wyborem parzystych."
      },
      {
        "step": 6,
        "hint": "Czy wszystkie permutacje wybranych cyfr dają poprawne liczby pięciocyfrowe?",
        "expression": "Problem: cyfra 0 na pierwszej pozycji",
        "explanation": "Musimy rozpatrzyć przypadki z cyfrą 0 i bez cyfry 0 osobno",
        "interactive_choice": {
          "prompt": "Co może być problemem przy układaniu wybranych cyfr?",
          "options": [
            {
              "id": "A",
              "text": "Cyfra 0 nie może być na pierwszej pozycji",
              "feedback": "Dokładnie! Jeśli wybierzemy cyfrę 0, musimy uważać na jej pozycję.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Cyfry nieparzyste muszą być obok siebie",
              "feedback": "Nie - zadanie nie wymaga żadnego szczególnego układu cyfr.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Nie ma żadnych ograniczeń",
              "feedback": "Nie - liczba pięciocyfrowa nie może zaczynać się od 0!",
              "is_correct": false
            }
          ],
          "explanation_after": "Kluczowe ograniczenie: cyfra 0 (jeśli zostanie wybrana) nie może być pierwszą cyfrą liczby."
        }
      },
      {
        "step": 7,
        "hint": "Ile jest sposobów wyboru 3 cyfr parzystych, gdy 0 NIE jest wybrane?",
        "expression": "$\\binom{4}{3} = 4$ sposoby wyboru z $\\{2, 4, 6, 8\\}$",
        "explanation": "Wybieramy 3 z 4 cyfr parzystych (bez zera)"
      },
      {
        "step": 8,
        "hint": "Ile permutacji dają przypadki bez cyfry 0?",
        "expression": "$10 \\cdot 4 \\cdot 5! = 10 \\cdot 4 \\cdot 120 = 4800$",
        "explanation": "10 sposobów wyboru nieparzystych × 4 sposoby parzystych bez 0 × 5! permutacji"
      },
      {
        "step": 9,
        "hint": "Ile jest sposobów wyboru 3 cyfr parzystych, gdy 0 JEST wybrane?",
        "expression": "$\\binom{4}{2} = 6$ sposobów wyboru 2 pozostałych z $\\{2, 4, 6, 8\\}$",
        "explanation": "Jeśli 0 jest wybrane, wybieramy jeszcze 2 z pozostałych 4 parzystych"
      },
      {
        "step": 10,
        "hint": "Jak policzyć permutacje gdy cyfra 0 jest w zbiorze?",
        "expression": "$4 \\cdot 4! = 4 \\cdot 24 = 96$ permutacji dla każdego wyboru z zerem",
        "explanation": "4 cyfry (bez 0) na pierwszą pozycję, potem 4! permutacji pozostałych",
        "interactive_choice": {
          "prompt": "Jak ułożyć 5 cyfr gdy jedna z nich to 0?",
          "options": [
            {
              "id": "A",
              "text": "Wszystkie 5! permutacje są dozwolone",
              "feedback": "Nie - 0 nie może być pierwszą cyfrą!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "4 wybory na pierwszą pozycję × 4! na pozostałe",
              "feedback": "Świetnie! Pierwsza pozycja: 4 cyfry (bez 0), pozostałe: 4! permutacji.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "5! - permutacje zaczynające się od 0",
              "feedback": "Dobra idea, ale metoda B jest prostsza w obliczeniach.",
              "is_correct": true
            }
          ],
          "explanation_after": "Gdy 0 jest w zbiorze: 4 sposoby na pierwszą cyfrę, potem 4! na pozostałe pozycje."
        }
      },
      {
        "step": 11,
        "hint": "Ile permutacji dają przypadki z cyfrą 0?",
        "expression": "$10 \\cdot 6 \\cdot 96 = 5760$",
        "explanation": "10 sposobów wyboru nieparzystych × 6 sposobów parzystych z 0 × 96 permutacji"
      },
      {
        "step": 12,
        "hint": "Jaka jest całkowita liczba poszukiwanych liczb?",
        "expression": "$4800 + 5760 = 10560$",
        "explanation": "Sumujemy przypadki bez cyfry 0 i z cyfrą 0",
        "why": "Rozdzielenie na przypadki pozwoliło nam poprawnie uwzględnić ograniczenie dla cyfry 0."
      }
    ],
    "solutions": [
      "10560"
    ],
    "parameters": {
      "constraints": "5 cyfr, wszystkie różne, dokładnie 2 nieparzyste i 3 parzyste"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-17T07:16:12.081Z"
  },
  {
    "id": "five_digit_encryption_numbers",
    "topic": "Zasada włączeń i wyłączeń",
    "difficulty": 4,
    "statement": "Karol do szyfrowania swoich danych postanowił używać pięciocyfrowych liczb naturalnych n, które mają co najmniej jedną z dwóch cech: w zapisie dziesiętnym liczby n występuje przynajmniej jedna z cyfr: 3,4,5,6,7,8,9, lub liczba n nie jest podzielna przez 3. Ile jest takich liczb pięciocyfrowych?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile jest wszystkich liczb pięciocyfrowych?",
        "expression": "Liczby pięciocyfrowe: od $10000$ do $99999$",
        "explanation": "Pierwsza cyfra może być 1,2,...,9 (9 możliwości), pozostałe 4 cyfry mogą być 0,1,...,9 (po 10 możliwości)"
      },
      {
        "step": 2,
        "hint": "Jak obliczyć całkowitą liczbę liczb pięciocyfrowych?",
        "expression": "$9 \\times 10^4 = 90000$",
        "explanation": "Wszystkich liczb pięciocyfrowych jest 90000"
      },
      {
        "step": 3,
        "hint": "Jak najlepiej podejść do tego problemu z dwoma warunkami?",
        "expression": "Szukamy: wszystkie - (bez cyfr 3,4,5,6,7,8,9 AND podzielne przez 3)",
        "explanation": "Używamy zasady dopełnienia dla warunku 'A lub B'",
        "interactive_choice": {
          "prompt": "Która strategia będzie najefektywniejsza dla problemu z warunkiem 'A lub B'?",
          "options": [
            {
              "id": "A",
              "text": "Liczyć bezpośrednio liczby spełniające warunek A lub B",
              "feedback": "Trudne - trzeba uważać na podwójne liczenie przypadków A i B jednocześnie",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Użyć dopełnienia: wszystkie minus te które NIE spełniają ani A ani B",
              "feedback": "Świetnie! To znacznie prostsze - szukamy liczb bez cyfr 3-9 I podzielnych przez 3",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Zastosować wzór na sumę zbiorów |A∪B| = |A| + |B| - |A∩B|",
              "feedback": "Możliwe, ale bardziej skomplikowane niż metoda dopełnienia",
              "is_correct": false
            }
          ],
          "explanation_after": "Metoda dopełnienia jest najlepsza: szukamy liczb które NIE mają cyfr 3-9 I SĄ podzielne przez 3."
        }
      },
      {
        "step": 4,
        "hint": "Jakie cyfry może zawierać liczba bez cyfr 3,4,5,6,7,8,9?",
        "expression": "Dozwolone cyfry: $\\{0, 1, 2\\}$",
        "explanation": "Liczba może zawierać tylko cyfry 0, 1, 2",
        "why": "To kluczowe ograniczenie - znacznie redukuje liczbę możliwości."
      },
      {
        "step": 5,
        "hint": "Ile jest pięciocyfrowych liczb używających tylko cyfr 0, 1, 2?",
        "expression": "Pierwsza cyfra: 1 lub 2 (2 możliwości), pozostałe: 0, 1 lub 2 (po 3 możliwości)",
        "explanation": "Pierwsza cyfra nie może być 0 (wtedy nie byłaby pięciocyfrowa)"
      },
      {
        "step": 6,
        "hint": "Jaka jest całkowita liczba takich liczb?",
        "expression": "$2 \\times 3^4 = 2 \\times 81 = 162$",
        "explanation": "Liczb pięciocyfrowych z cyframi tylko 0,1,2 jest 162"
      },
      {
        "step": 7,
        "hint": "Które z tych 162 liczb są podzielne przez 3?",
        "expression": "Suma cyfr musi być podzielna przez 3",
        "explanation": "Stosujemy cechę podzielności przez 3",
        "interactive_choice": {
          "prompt": "Jak sprawdzić podzielność przez 3 dla liczb z cyframi 0,1,2?",
          "options": [
            {
              "id": "A",
              "text": "Sprawdzić każdą z 162 liczb osobno",
              "feedback": "Bardzo pracochłonne - jest lepszy sposób!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Użyć cechy podzielności: suma cyfr podzielna przez 3",
              "feedback": "Dokładnie! Suma cyfr musi być podzielna przez 3",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Podzielić 162 przez 3, bo rozkład jest równomierny",
              "feedback": "Nie zawsze tak jest - trzeba sprawdzić konkretnie dla cyfr 0,1,2",
              "is_correct": false
            }
          ],
          "explanation_after": "Używamy cechy podzielności przez 3: liczba jest podzielna przez 3 gdy suma jej cyfr jest podzielna przez 3."
        }
      },
      {
        "step": 8,
        "hint": "Jakie sumy cyfr są możliwe przy cyfrach 0,1,2 w liczbie pięciocyfrowej?",
        "expression": "Minimalna suma: $1+0+0+0+0 = 1$, maksymalna: $2+2+2+2+2 = 10$",
        "explanation": "Suma cyfr może wynosić od 1 do 10"
      },
      {
        "step": 9,
        "hint": "Które z tych sum są podzielne przez 3?",
        "expression": "Sumy podzielne przez 3: $3, 6, 9$",
        "explanation": "Z zakresu 1-10 tylko te trzy sumy są podzielne przez 3"
      },
      {
        "step": 10,
        "hint": "Jak policzyć liczby o każdej z tych sum cyfr?",
        "expression": "Liczymy osobno dla sum 3, 6 i 9",
        "explanation": "Każdą sumę cyfr analizujemy oddzielnie",
        "interactive_choice": {
          "prompt": "Która metoda najlepiej policzy liczby pięciocyfrowe z cyframi 0,1,2 o zadanej sumie cyfr?",
          "options": [
            {
              "id": "A",
              "text": "Funkcje tworzące (generating functions)",
              "feedback": "Bardzo zaawansowane, ale skuteczne dla tego typu problemów",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Systematyczne wyliczanie przypadków",
              "feedback": "Możliwe, ale bardzo czasochłonne dla wszystkich kombinacji",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wzór na rozmieszczenia z powtórzeniami",
              "feedback": "Nie uwzględnia ograniczenia na pierwszą cyfrę i konkretnej sumy",
              "is_correct": false
            }
          ],
          "explanation_after": "Dla tego problemu najlepsze są funkcje tworzące lub systematyczne liczenie przypadków."
        }
      },
      {
        "step": 11,
        "hint": "Ile jest liczb o sumie cyfr równej 3?",
        "expression": "Suma 3: możliwe kombinacje cyfr to $(1,2,0,0,0)$, $(1,1,1,0,0)$, $(2,1,0,0,0)$",
        "explanation": "Analizujemy rozkłady liczby 3 na 5 składników z cyfr 0,1,2, gdzie pierwszy ≥ 1"
      },
      {
        "step": 12,
        "hint": "Ile jest permutacji dla każdej kombinacji?",
        "expression": "$(1,2,0,0,0)$: $\\frac{4!}{3!} = 4$, $(1,1,1,0,0)$: $\\frac{4!}{3!2!} = 2$, $(2,1,0,0,0)$: $\\frac{4!}{3!} = 4$",
        "explanation": "Używamy wzoru na permutacje z powtórzeniami dla ostatnich 4 pozycji"
      },
      {
        "step": 13,
        "hint": "Jaka jest suma dla wszystkich przypadków?",
        "expression": "Podobnie licząc dla sum 6 i 9, otrzymujemy łącznie 54 liczby podzielne przez 3",
        "explanation": "Po szczegółowych obliczeniach (pominięte dla zwięzłości) mamy 54 liczby"
      },
      {
        "step": 14,
        "hint": "Ile liczb spełnia warunki Karola?",
        "expression": "$90000 - 54 = 89946$",
        "explanation": "Odejmujemy od wszystkich liczb te, które nie spełniają żadnego z warunków"
      }
    ],
    "solutions": [
      "$89946$"
    ],
    "parameters": {
      "total_five_digit": "$90000$",
      "excluded_numbers": "$54$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 14,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:16:53.031Z"
  },
  {
    "id": "urn_balls_logic",
    "topic": "Kombinatoryka i logika",
    "difficulty": 4,
    "statement": "W urnie znajduje się 27 kul w dwóch kolorach. Wiadomo, że wśród każdych 13 kul wybranych z urny jest co najmniej jedna czarna, a wśród każdych 16 kul jest co najmniej jedna biała. Ile białych kul znajduje się w urnie?",
    "steps": [
      {
        "step": 1,
        "hint": "Jak oznaczyć liczbę białych i czarnych kul?",
        "expression": "Niech $b$ = liczba białych kul, $c$ = liczba czarnych kul",
        "explanation": "Wprowadzamy oznaczenia dla niewiadomych"
      },
      {
        "step": 2,
        "hint": "Jaki warunek wynika z całkowitej liczby kul?",
        "expression": "$b + c = 27$",
        "explanation": "Suma białych i czarnych kul równa się całkowitej liczbie kul"
      },
      {
        "step": 3,
        "hint": "Jak interpretować warunek o 13 kulach?",
        "expression": "$b \\leq 12$",
        "explanation": "Liczba białych kul nie może przekroczyć 12",
        "why": "To kluczowe przejście od słownego opisu do nierówności matematycznej.",
        "interactive_choice": {
          "prompt": "Co oznacza 'wśród każdych 13 kul jest co najmniej jedna czarna'?",
          "options": [
            {
              "id": "A",
              "text": "Można wybrać maksymalnie 12 białych kul",
              "feedback": "Dokładnie! Gdyby było 13 lub więcej białych, można by wybrać 13 białych bez czarnej.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Musi być co najmniej 13 czarnych kul",
              "feedback": "Nie - to nie wynika bezpośrednio z tego warunku.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "W każdym zbiorze 13 kul jest dokładnie jedna czarna",
              "feedback": "Nie - warunek mówi 'co najmniej jedna', nie 'dokładnie jedna'.",
              "is_correct": false
            }
          ],
          "explanation_after": "Jeśli białych kul byłoby 13 lub więcej, moglibyśmy wybrać 13 białych kul bez żadnej czarnej."
        }
      },
      {
        "step": 4,
        "hint": "Jak interpretować warunek o 16 kulach?",
        "expression": "$c \\leq 15$",
        "explanation": "Analogicznie - gdyby czarnych było 16 lub więcej, można by wybrać 16 czarnych bez białej"
      },
      {
        "step": 5,
        "hint": "Jakie mamy teraz ograniczenia?",
        "expression": "$27 - b \\leq 15$, więc $b \\geq 12$",
        "explanation": "Z warunku $c \\leq 15$ i $c = 27 - b$ otrzymujemy dolne ograniczenie na $b$",
        "interactive_choice": {
          "prompt": "Jak wykorzystać wszystkie warunki jednocześnie?",
          "options": [
            {
              "id": "A",
              "text": "Podstawić $c = 27 - b$ do nierówności $c \\leq 15$",
              "feedback": "Świetnie! To da nam dodatkowe ograniczenie na $b$.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Rozwiązać układ równań $b + c = 27$ i $b = 12$",
              "feedback": "Nie - $b \\leq 12$ to nierówność, nie równanie.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Sprawdzić wszystkie możliwe wartości od 0 do 27",
              "feedback": "Możliwe, ale nieefektywne - lepiej użyć nierówności.",
              "is_correct": false
            }
          ],
          "explanation_after": "Podstawienie pozwala nam połączyć wszystkie warunki w jeden system nierówności."
        }
      },
      {
        "step": 6,
        "hint": "Jakie są wszystkie ograniczenia na liczbę białych kul?",
        "expression": "$12 \\leq b \\leq 12$",
        "explanation": "Łączymy ograniczenia: $b \\geq 12$ i $b \\leq 12$"
      },
      {
        "step": 7,
        "hint": "Jaka jest jedyna możliwa wartość $b$?",
        "expression": "$b = 12$",
        "explanation": "Jedyna wartość spełniająca obie nierówności",
        "interactive_choice": {
          "prompt": "Co wynika z nierówności $12 \\leq b \\leq 12$?",
          "options": [
            {
              "id": "A",
              "text": "$b = 12$ (jedyna możliwa wartość)",
              "feedback": "Dokładnie! Gdy dolna i górna granica są równe, jest tylko jedna wartość.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Brak rozwiązań",
              "feedback": "Nie - nierówność $12 \\leq b \\leq 12$ ma rozwiązanie $b = 12$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$b$ może być dowolną liczbą całkowitą",
              "feedback": "Nie - nierówność bardzo ogranicza możliwe wartości.",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy nierówność ma postać $a \\leq x \\leq a$, jedynym rozwiązaniem jest $x = a$."
        }
      },
      {
        "step": 8,
        "hint": "Ile jest czarnych kul?",
        "expression": "$c = 27 - 12 = 15$",
        "explanation": "Obliczamy liczbę czarnych kul"
      },
      {
        "step": 9,
        "hint": "Czy rozwiązanie spełnia wszystkie warunki zadania?",
        "expression": "Sprawdzenie: 12 białych $\\leq$ 12 ✓, 15 czarnych $\\leq$ 15 ✓, $12 + 15 = 27$ ✓",
        "explanation": "Weryfikujemy poprawność rozwiązania",
        "why": "Zawsze warto sprawdzić czy znalezione rozwiązanie rzeczywiście spełnia wszystkie warunki zadania."
      }
    ],
    "solutions": [
      "12 białych kul"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:17:19.864Z"
  },
  {
    "id": "combinatorics_ten_digit_numbers",
    "topic": "Kombinatoryka - rozmieszczenia z powtórzeniami",
    "difficulty": 4,
    "statement": "Rozpatrujemy wszystkie liczby naturalne dziesięciocyfrowe, w zapisie których mogą występować wyłącznie cyfry 1, 2, 3, przy czym cyfra 1 występuje dokładnie trzy razy. Uzasadnij, że takich liczb jest 15360.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą występować w naszej dziesięciocyfrowej liczbie?",
        "expression": "Cyfry: 1, 2, 3, gdzie cyfra 1 występuje dokładnie 3 razy",
        "explanation": "Mamy 10 pozycji do wypełnienia cyframi 1, 2, 3 z ograniczeniem na cyfrę 1"
      },
      {
        "step": 2,
        "hint": "Ile pozycji pozostaje dla cyfr 2 i 3, jeśli cyfra 1 zajmuje dokładnie 3 pozycje?",
        "expression": "$10 - 3 = 7$ pozycji dla cyfr 2 i 3",
        "explanation": "Z 10 pozycji, 3 są zajęte przez cyfrę 1, zostaje 7 pozycji"
      },
      {
        "step": 3,
        "hint": "Jak podejść do tego problemu kombinatorycznego?",
        "expression": "Etap 1: rozmieszczenie 3 cyfr '1' na 10 pozycjach",
        "explanation": "Dzielimy problem na dwa etapy",
        "interactive_choice": {
          "prompt": "Którą metodę zastosować do policzenia liczb z ograniczeniami na cyfry?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw rozmieścić cyfry 1, potem wypełnić resztę",
              "feedback": "Świetny wybór! To klasyczne podejście dwuetapowe - najpierw ograniczenia, potem reszta.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć wzoru na permutacje z powtórzeniami bezpośrednio",
              "feedback": "Trudne - nie wiemy ile razy występują cyfry 2 i 3, więc nie możemy użyć tego wzoru.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie możliwości i odjąć niepożądane",
              "feedback": "Bardzo skomplikowane - lepiej zastosować podejście konstruktywne.",
              "is_correct": false
            }
          ],
          "explanation_after": "Podejście dwuetapowe: najpierw rozmieszczamy cyfry z ograniczeniami, potem resztę."
        }
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można wybrać 3 pozycje z 10 dla cyfry 1?",
        "expression": "$\\binom{10}{3} = \\frac{10!}{3! \\cdot 7!} = \\frac{10 \\cdot 9 \\cdot 8}{3 \\cdot 2 \\cdot 1} = 120$",
        "explanation": "Używamy wzoru na kombinacje - wybieramy 3 pozycje z 10",
        "why": "To klasyczny problem wyboru pozycji. Kolejność pozycji nie ma znaczenia, więc używamy kombinacji, nie permutacji."
      },
      {
        "step": 5,
        "hint": "Co robimy z pozostałymi 7 pozycjami?",
        "expression": "Na każdej z 7 pozostałych pozycji może być cyfra 2 lub 3",
        "explanation": "Każda z 7 pozycji ma 2 możliwości wypełnienia"
      },
      {
        "step": 6,
        "hint": "Jak policzyć liczbę sposobów wypełnienia 7 pozycji cyframi 2 i 3?",
        "expression": "$2^7 = 128$ sposobów wypełnienia pozostałych pozycji",
        "explanation": "Każda z 7 pozycji ma 2 możliwości (cyfra 2 lub 3)",
        "interactive_choice": {
          "prompt": "Ile jest sposobów wypełnienia 7 pozycji, gdy każda może być cyfrą 2 lub 3?",
          "options": [
            {
              "id": "A",
              "text": "$7^2 = 49$ sposobów",
              "feedback": "Nie - to byłoby gdyby mieliśmy 7 różnych cyfr na 2 pozycjach.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$2^7 = 128$ sposobów",
              "feedback": "Dokładnie! Każda z 7 pozycji ma 2 wybory, więc $2 \\times 2 \\times ... \\times 2$ (7 razy).",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$\\binom{7}{2} = 21$ sposobów",
              "feedback": "To byłoby wybieranie 2 pozycji z 7, ale my wypełniamy wszystkie pozycje.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zasada mnożenia: każda pozycja niezależnie ma 2 wybory, więc $2^7$ możliwości."
        }
      },
      {
        "step": 7,
        "hint": "Jak połączyć oba etapy w końcowy wynik?",
        "expression": "$2^7 = 2^7 = 128$",
        "explanation": "Obliczamy $2^7$"
      },
      {
        "step": 8,
        "hint": "Jaki jest końcowy wynik zgodnie z zasadą mnożenia?",
        "expression": "$120 \\times 128 = 15360$",
        "explanation": "Zasada mnożenia - każdy sposób rozmieszczenia cyfr 1 można połączyć z każdym sposobem wypełnienia pozostałych pozycji",
        "why": "To kluczowa zasada kombinatoryki: gdy mamy kolejne niezależne wybory, mnożymy liczby możliwości.",
        "interactive_choice": {
          "prompt": "Jak połączyć liczbę sposobów z obu etapów?",
          "options": [
            {
              "id": "A",
              "text": "Dodać: $120 + 128 = 248$",
              "feedback": "Nie - dodajemy gdy mamy alternatywy. Tu mamy kolejne etapy.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pomnożyć: $120 \\times 128 = 15360$",
              "feedback": "Tak! Zasada mnożenia - dla każdego z 120 rozmieszczenia cyfr 1 mamy 128 sposobów wypełnienia reszty.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć wzoru $\\binom{120}{128}$",
              "feedback": "To nie ma sensu - nie wybieramy jednego z drugiego.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zasada mnożenia: etapy są niezależne, więc mnożymy liczby możliwości."
        }
      },
      {
        "step": 9,
        "hint": "Czy otrzymany wynik zgadza się z tym, co mieliśmy uzasadnić?",
        "expression": "Liczba dziesięciocyfrowych liczb = $\\binom{10}{3} \\times 2^7 = 120 \\times 128 = 15360$",
        "explanation": "Potwierdzamy, że takich liczb jest rzeczywiście 15360"
      }
    ],
    "solutions": [
      "$15360$"
    ],
    "parameters": {
      "method": "Kombinacje i zasada mnożenia",
      "formula": "$\\binom{10}{3} \\times 2^7 = 120 \\times 128 = 15360$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:17:53.382Z"
  },
  {
    "id": "eight_digit_numbers_with_constraints",
    "topic": "Kombinatoryka - rozmieszczenia z ograniczeniami",
    "difficulty": 4,
    "statement": "Ile jest liczb naturalnych ośmiocyfrowych, w których każda cyfra jest większa od 4 i dokładnie 3 spośród cyfr takiej liczby są równe 9?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry możemy użyć w tej liczbie ośmiocyfrowej?",
        "expression": "Cyfry większe od 4: $\\{5, 6, 7, 8, 9\\}$",
        "explanation": "Mamy do dyspozycji 5 różnych cyfr"
      },
      {
        "step": 2,
        "hint": "Jak rozkłada się problem na części składowe?",
        "expression": "Krok 1: Wybór 3 miejsc z 8 dla cyfr 9",
        "explanation": "Dzielimy problem na dwa etapy",
        "interactive_choice": {
          "prompt": "Jak najlepiej podejść do tego problemu kombinatorycznego?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw wybrać miejsca dla cyfr 9, potem wypełnić pozostałe",
              "feedback": "Świetnie! To klasyczne podejście - najpierw rozmieszczamy ograniczone elementy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Policzyć wszystkie możliwości i odjąć niepożądane",
              "feedback": "Możliwe, ale bardzo skomplikowane - lepiej bezpośrednio liczyć pożądane.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Rozpatrzyć każdą pozycję osobno",
              "feedback": "Nie uwzględnia ograniczenia na dokładnie 3 cyfry równe 9.",
              "is_correct": false
            }
          ],
          "explanation_after": "Strategia: wybieramy 3 miejsca z 8 dla cyfr 9, pozostałe 5 miejsc wypełniamy cyframi z {5,6,7,8}."
        }
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można wybrać 3 miejsca z 8 dostępnych pozycji?",
        "expression": "$\\binom{8}{3} = \\frac{8!}{3! \\cdot 5!} = \\frac{8 \\cdot 7 \\cdot 6}{3 \\cdot 2 \\cdot 1}$",
        "explanation": "Używamy wzoru na kombinacje bez powtórzeń",
        "why": "To kombinacje, bo kolejność wyboru miejsc nie ma znaczenia - liczy się tylko które miejsca wybierzemy."
      },
      {
        "step": 4,
        "hint": "Ile wynosi $\\binom{8}{3}$?",
        "expression": "$\\binom{8}{3} = \\frac{336}{6} = 56$",
        "explanation": "Obliczamy liczbę sposobów wyboru miejsc dla cyfr 9"
      },
      {
        "step": 5,
        "hint": "Jakimi cyframi możemy wypełnić pozostałe 5 pozycji?",
        "expression": "Pozostałe 5 pozycji: cyfry z $\\{5, 6, 7, 8\\}$",
        "explanation": "Na każdej z 5 pozostałych pozycji mamy 4 wybory",
        "interactive_choice": {
          "prompt": "Które cyfry możemy użyć na pozostałych 5 pozycjach?",
          "options": [
            {
              "id": "A",
              "text": "Tylko cyfry {5, 6, 7, 8} - bez 9",
              "feedback": "Dokładnie! Cyfra 9 już została użyta dokładnie 3 razy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wszystkie cyfry {5, 6, 7, 8, 9}",
              "feedback": "Nie - mamy mieć dokładnie 3 cyfry równe 9, nie więcej.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Cyfry {5, 6, 7, 8} ale każda tylko raz",
              "feedback": "Nie - cyfry mogą się powtarzać, tylko 9 jest ograniczona.",
              "is_correct": false
            }
          ],
          "explanation_after": "Pozostałe 5 pozycji wypełniamy cyframi {5,6,7,8} z możliwością powtórzeń."
        }
      },
      {
        "step": 6,
        "hint": "Na ile sposobów można wypełnić 5 pozycji mając 4 cyfry do wyboru?",
        "expression": "$4^5 = 1024$",
        "explanation": "Każda z 5 pozycji ma 4 możliwości, więc $4 \\times 4 \\times 4 \\times 4 \\times 4$",
        "why": "To wariacje z powtórzeniami - na każdej pozycji możemy niezależnie wybrać jedną z 4 cyfr."
      },
      {
        "step": 7,
        "hint": "Jak połączyć oba etapy w końcowy wynik?",
        "expression": "$56 \\times 1024 = 57344$",
        "explanation": "Mnożymy liczbę sposobów każdego etapu",
        "interactive_choice": {
          "prompt": "Jak obliczyć całkowitą liczbę takich liczb ośmiocyfrowych?",
          "options": [
            {
              "id": "A",
              "text": "Pomnożyć: $56 \\times 1024$",
              "feedback": "Tak! Dla każdego z 56 sposobów rozmieszczenia cyfr 9 mamy 1024 sposoby wypełnienia reszty.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Dodać: $56 + 1024$",
              "feedback": "Nie - to są niezależne etapy tego samego procesu, więc mnożymy.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Podzielić: $\\frac{1024}{56}$",
              "feedback": "Nie ma sensu - oba etapy są konieczne do skonstruowania liczby.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zasada mnożenia: liczba sposobów wykonania sekwencji czynności to iloczyn liczb sposobów każdej czynności."
        }
      }
    ],
    "solutions": [
      "$57344$"
    ],
    "parameters": {
      "constraints": "cyfry > 4, dokładnie 3 cyfry równe 9",
      "number_length": "8 cyfr"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:18:22.424Z"
  },
  {
    "id": "binomial_equation",
    "topic": "Dwumian Newtona",
    "difficulty": 4,
    "statement": "Wyznacz liczbę n, wiedząc że $\\binom{n}{3}-\\binom{n}{2}=14$",
    "steps": [
      {
        "step": 1,
        "hint": "Jak zapisać symbole Newtona w postaci ułamków?",
        "expression": "$\\binom{n}{3} = \\frac{n(n-1)(n-2)}{6}$ oraz $\\binom{n}{2} = \\frac{n(n-1)}{2}$",
        "explanation": "Zapisujemy symbole Newtona jako ułamki z iloczynami",
        "interactive_choice": {
          "prompt": "Którą postać symboli Newtona najlepiej użyć do rozwiązania tego równania?",
          "options": [
            {
              "id": "A",
              "text": "Wzór z silniami: $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$",
              "feedback": "Możliwe, ale silnie są trudne w obliczeniach dla większych n",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Wzór z iloczynami: $\\binom{n}{3} = \\frac{n(n-1)(n-2)}{6}$, $\\binom{n}{2} = \\frac{n(n-1)}{2}$",
              "feedback": "Świetny wybór! Te wzory są łatwe do przekształceń algebraicznych",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Właściwości rekurencyjne symboli Newtona",
              "feedback": "Skomplikowane dla tego typu równania - lepiej użyć wzorów bezpośrednich",
              "is_correct": false
            }
          ],
          "explanation_after": "Wzory z iloczynami pozwalają na łatwe przekształcenia algebraiczne i wyłączenie wspólnych czynników."
        }
      },
      {
        "step": 2,
        "hint": "Jak podstawić te wzory do równania?",
        "expression": "$\\frac{n(n-1)(n-2)}{6} - \\frac{n(n-1)}{2} = 14$",
        "explanation": "Podstawiamy wzory do równania",
        "why": "Ten krok przekształca abstrakcyjne symbole Newtona w konkretne wyrażenia algebraiczne, które można rozwiązać standardowymi metodami."
      },
      {
        "step": 3,
        "hint": "Co możesz wyłączyć przed nawias z lewej strony?",
        "expression": "$\\frac{n(n-1)}{6}[(n-2) - 3] = 14$",
        "explanation": "Wyłączamy wspólny czynnik $\\frac{n(n-1)}{6}$"
      },
      {
        "step": 4,
        "hint": "Jak uprościć wyrażenie w nawiasie kwadratowym?",
        "expression": "$\\frac{n(n-1)(n-5)}{6} = 14$",
        "explanation": "Upraszczamy: $(n-2) - 3 = n-5$"
      },
      {
        "step": 5,
        "hint": "Jak pozbyć się ułamka?",
        "expression": "$n(n-1)(n-5) = 84$",
        "explanation": "Mnożymy obie strony przez 6"
      },
      {
        "step": 6,
        "hint": "Jak rozłożyć liczbę 84 na czynniki?",
        "expression": "Sprawdzamy: $84 = 2^2 \\cdot 3 \\cdot 7 = 4 \\cdot 21 = 6 \\cdot 14 = 7 \\cdot 12$",
        "explanation": "Rozkładamy 84 na czynniki i szukamy trzech liczb postaci $n$, $n-1$, $n-5$",
        "interactive_choice": {
          "prompt": "Jak najlepiej podejść do równania $n(n-1)(n-5) = 84$?",
          "options": [
            {
              "id": "A",
              "text": "Rozwinąć lewą stronę do postaci $n^3 - 6n^2 + 5n - 84 = 0$",
              "feedback": "Możliwe, ale równanie trzeciego stopnia jest trudne do rozwiązania",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Sprawdzić małe wartości n metodą prób i błędów",
              "feedback": "Dobra strategia! Szukamy trzech kolejnych liczb których iloczyn to 84",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć wzorów Vieta dla równania trzeciego stopnia",
              "feedback": "Zbyt skomplikowane - dla tego typu zadania lepiej sprawdzić małe wartości",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy mamy iloczyn trzech wyrażeń liniowych równy konkretnej liczbie, najefektywniej sprawdzić małe wartości n."
        }
      },
      {
        "step": 7,
        "hint": "Które trzy liczby o różnicy 1 i 4 dają iloczyn 84?",
        "expression": "Dla $n = 7$: $7 \\cdot 6 \\cdot 2 = 84$ ✓",
        "explanation": "Sprawdzamy $n = 7$: mamy liczby 7, 6, 2"
      },
      {
        "step": 8,
        "hint": "Czy istnieją inne rozwiązania?",
        "expression": "Sprawdzenie: $n = 6$: $6 \\cdot 5 \\cdot 1 = 30 < 84$, $n = 8$: $8 \\cdot 7 \\cdot 3 = 168 > 84$",
        "explanation": "Potwierdzamy, że n = 7 to jedyne rozwiązanie dodatnie",
        "interactive_choice": {
          "prompt": "Czy równanie $n(n-1)(n-5) = 84$ może mieć inne rozwiązania dodatnie?",
          "options": [
            {
              "id": "A",
              "text": "Tak, może mieć więcej rozwiązań dodatnich",
              "feedback": "Sprawdźmy inne wartości systematycznie",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Nie, to jedyne rozwiązanie dodatnie",
              "feedback": "Dokładnie! Dla n > 7 iloczyn rośnie szybko, dla n < 7 jest za mały",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Trzeba sprawdzić wszystkie możliwe rozkłady 84",
              "feedback": "Niepotrzebne - wystarczy sprawdzić kilka wartości wokół n = 7",
              "is_correct": false
            }
          ],
          "explanation_after": "Funkcja $f(n) = n(n-1)(n-5)$ rośnie szybko dla n > 7 i jest mniejsza od 84 dla n < 7."
        }
      },
      {
        "step": 9,
        "hint": "Jaka jest odpowiedź końcowa?",
        "expression": "$n = 7$",
        "explanation": "Sprawdzenie: $\\binom{7}{3} - \\binom{7}{2} = 35 - 21 = 14$ ✓"
      }
    ],
    "solutions": [
      "$n = 7$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:18:51.783Z"
  },
  {
    "id": "combinatorics_exactly_one_blue",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 3,
    "statement": "Andrzej ma w szafie 4 koszule: czerwoną, żółtą, zieloną i niebieską; 3 pary spodni: niebieskie, czarne i szare; oraz 5 par butów: czarne, szare, zielone, czerwone i niebieskie. Andrzej wybiera z szafy zestaw ubrania: jedną koszulę, jedną parę spodni i jedną parę butów. Zestawy ubrania wybierane przez Andrzeja określimy jako różne, gdy będą różniły się kolorem chociaż jednego rodzaju elementu ubioru w zestawie. Oblicz, na ile sposobów można wybrać taki zestaw, w którym dokładnie jeden element ubioru będzie niebieski.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile elementów każdego rodzaju ma Andrzej w szafie?",
        "expression": "Koszule: 4 (czerwona, żółta, zielona, niebieska)\nSpodnie: 3 (niebieskie, czarne, szare)\nButy: 5 (czarne, szare, zielone, czerwone, niebieskie)",
        "explanation": "Identyfikujemy wszystkie dostępne elementy garderoby"
      },
      {
        "step": 2,
        "hint": "Co oznacza warunek 'dokładnie jeden element niebieski'?",
        "expression": "Przypadek 1: niebieski = koszula\nPrzypadek 2: niebieski = spodnie\nPrzypadek 3: niebieski = buty",
        "explanation": "Dzielimy problem na trzy rozłączne przypadki",
        "interactive_choice": {
          "prompt": "Jak rozumieć warunek 'dokładnie jeden element niebieski'?",
          "options": [
            {
              "id": "A",
              "text": "Tylko koszula może być niebieska",
              "feedback": "Nie - to zbyt ograniczone. Niebieski może być dowolny jeden element.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Jeden z trzech elementów (koszula LUB spodnie LUB buty) jest niebieski, pozostałe nie",
              "feedback": "Dokładnie! To oznacza trzy rozłączne przypadki do rozpatrzenia.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Co najmniej jeden element jest niebieski",
              "feedback": "Nie - 'dokładnie jeden' oznacza ani więcej, ani mniej niż jeden.",
              "is_correct": false
            }
          ],
          "explanation_after": "Musimy rozpatrzyć trzy przypadki: niebieski element to koszula, spodnie lub buty."
        }
      },
      {
        "step": 3,
        "hint": "Ile sposobów wyboru w przypadku 1: niebieska koszula?",
        "expression": "Koszula: 1 sposób (niebieska)\nSpodnie: 2 sposoby (czarne, szare - bez niebieskich)\nButy: 4 sposoby (czarne, szare, zielone, czerwone - bez niebieskich)",
        "explanation": "W przypadku 1 koszula jest ustalona, pozostałe elementy nie mogą być niebieskie",
        "why": "Gdy jeden element jest już niebieski, pozostałe muszą być inne niż niebieskie, żeby spełnić warunek 'dokładnie jeden'."
      },
      {
        "step": 4,
        "hint": "Ile to daje możliwości dla przypadku 1?",
        "expression": "$1 \\times 2 \\times 4 = 8$ sposobów",
        "explanation": "Stosujemy zasadę mnożenia dla przypadku 1"
      },
      {
        "step": 5,
        "hint": "Ile sposobów wyboru w przypadku 2: niebieskie spodnie?",
        "expression": "Koszula: 3 sposoby (czerwona, żółta, zielona - bez niebieskiej)\nSpodnie: 1 sposób (niebieskie)\nButy: 4 sposoby (czarne, szare, zielone, czerwone - bez niebieskich)",
        "explanation": "W przypadku 2 spodnie są ustalone, pozostałe elementy nie mogą być niebieskie"
      },
      {
        "step": 6,
        "hint": "Ile to daje możliwości dla przypadku 2?",
        "expression": "$3 \\times 1 \\times 4 = 12$ sposobów",
        "explanation": "Stosujemy zasadę mnożenia dla przypadku 2"
      },
      {
        "step": 7,
        "hint": "Ile sposobów wyboru w przypadku 3: niebieskie buty?",
        "expression": "Koszula: 3 sposoby (czerwona, żółta, zielona - bez niebieskiej)\nSpodnie: 2 sposoby (czarne, szare - bez niebieskich)\nButy: 1 sposób (niebieskie)",
        "explanation": "W przypadku 3 buty są ustalone, pozostałe elementy nie mogą być niebieskie",
        "interactive_choice": {
          "prompt": "Jak policzyć możliwości gdy buty są niebieskie?",
          "options": [
            {
              "id": "A",
              "text": "Koszula: 4 sposoby, Spodnie: 3 sposoby, Buty: 1 sposób",
              "feedback": "Nie - jeśli buty są niebieskie, to koszula i spodnie nie mogą być niebieskie!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Koszula: 3 sposoby, Spodnie: 2 sposoby, Buty: 1 sposób",
              "feedback": "Dokładnie! Wykluczamy niebieską koszulę i niebieskie spodnie.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Koszula: 3 sposoby, Spodnie: 3 sposoby, Buty: 1 sposób",
              "feedback": "Nie - spodnie mogą być niebieskie, więc mamy tylko 2 opcje (czarne, szare).",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy buty są niebieskie, pozostałe elementy muszą być inne niż niebieskie."
        }
      },
      {
        "step": 8,
        "hint": "Ile to daje możliwości dla przypadku 3?",
        "expression": "$3 \\times 2 \\times 1 = 6$ sposobów",
        "explanation": "Stosujemy zasadę mnożenia dla przypadku 3"
      },
      {
        "step": 9,
        "hint": "Jak połączyć wyniki ze wszystkich przypadków?",
        "expression": "$8 + 12 + 6 = 26$ sposobów",
        "explanation": "Dodajemy wyniki z trzech rozłącznych przypadków",
        "interactive_choice": {
          "prompt": "Jak obliczyć całkowitą liczbę sposobów z trzech rozłącznych przypadków?",
          "options": [
            {
              "id": "A",
              "text": "Pomnożyć: $8 \\times 12 \\times 6$",
              "feedback": "Nie - przypadki są rozłączne, więc dodajemy, nie mnożymy!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Dodać: $8 + 12 + 6$",
              "feedback": "Tak! Przypadki są rozłączne, więc stosujemy zasadę dodawania.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wybrać największy: $\\max(8, 12, 6) = 12$",
              "feedback": "Nie - chcemy wszystkie możliwości, nie tylko z jednego przypadku.",
              "is_correct": false
            }
          ],
          "explanation_after": "Rozłączne przypadki dodajemy - każdy zestaw należy do dokładnie jednego przypadku."
        }
      }
    ],
    "solutions": [
      "26 sposobów"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:19:21.918Z"
  },
  {
    "id": "sum_five_digit_numbers",
    "topic": "Kombinatoryka i sumy permutacji",
    "difficulty": 4,
    "statement": "Rozważamy wszystkie liczby naturalne pięciocyfrowe zapisane przy użyciu cyfr 1, 3, 5, 7, 9, bez powtarzania jakiejkolwiek cyfry. Oblicz sumę wszystkich takich liczb.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile różnych pięciocyfrowych liczb możemy utworzyć z cyfr 1, 3, 5, 7, 9?",
        "expression": "Liczba permutacji: $5! = 120$",
        "explanation": "Mamy 5 różnych cyfr i tworzymy wszystkie możliwe permutacje"
      },
      {
        "step": 2,
        "hint": "Jak najefektywniej obliczyć sumę wszystkich tych liczb?",
        "expression": "Każda z cyfr 1, 3, 5, 7, 9 występuje na każdej pozycji dokładnie $\\frac{120}{5} = 24$ razy",
        "explanation": "W 120 permutacjach każda z 5 cyfr pojawia się równie często na każdej pozycji",
        "why": "To fundamentalna właściwość permutacji - rozkład jest równomierny. Gdy mamy $n!$ permutacji $n$ elementów, każdy element występuje $\\frac{n!}{n} = (n-1)!$ razy na każdej pozycji.",
        "interactive_choice": {
          "prompt": "Którą metodę wybierzesz do obliczenia sumy wszystkich 120 liczb?",
          "options": [
            {
              "id": "A",
              "text": "Wypisać wszystkie liczby i je zsumować",
              "feedback": "Możliwe, ale bardzo pracochłonne - 120 liczb to dużo!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Wykorzystać symetrię - każda cyfra występuje równie często na każdej pozycji",
              "feedback": "Świetnie! To kluczowa obserwacja - każda cyfra pojawi się dokładnie 24 razy na każdej pozycji.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Obliczyć średnią i pomnożyć przez liczbę permutacji",
              "feedback": "Dobry kierunek, ale jak obliczyć średnią bez wykorzystania symetrii?",
              "is_correct": false
            }
          ],
          "explanation_after": "Symetria permutacji oznacza, że każda cyfra występuje jednakowo często na każdej pozycji."
        }
      },
      {
        "step": 3,
        "hint": "Jaka jest suma cyfr 1, 3, 5, 7, 9?",
        "expression": "$1 + 3 + 5 + 7 + 9 = 25$",
        "explanation": "Suma wszystkich używanych cyfr"
      },
      {
        "step": 4,
        "hint": "Ile wynosi suma cyfr na pozycji jedności we wszystkich liczbach?",
        "expression": "Suma na pozycji jedności: $24 \\times (1 + 3 + 5 + 7 + 9) = 24 \\times 25 = 600$",
        "explanation": "Każda cyfra występuje 24 razy na pozycji jedności"
      },
      {
        "step": 5,
        "hint": "Jak obliczyć wkład każdej pozycji do całkowitej sumy?",
        "expression": "Suma = $600 \\times (10^0 + 10^1 + 10^2 + 10^3 + 10^4)$",
        "explanation": "Każda pozycja wnosi $600$ pomnożone przez odpowiednią potęgę 10",
        "interactive_choice": {
          "prompt": "Jak uwzględnić wartość pozycyjną cyfr w systemie dziesiętnym?",
          "options": [
            {
              "id": "A",
              "text": "Pomnożyć sumę cyfr przez odpowiednią potęgę 10 dla każdej pozycji",
              "feedback": "Dokładnie! Pozycja jedności × 1, dziesiątek × 10, setek × 100, itd.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Dodać 1 do sumy za każdą pozycję w lewo",
              "feedback": "Nie - to nie uwzględnia systemu pozycyjnego dziesiętnego",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Pomnożyć całą sumę przez 5 (liczba pozycji)",
              "feedback": "Nie - każda pozycja ma inną wartość w systemie dziesiętnym",
              "is_correct": false
            }
          ],
          "explanation_after": "W systemie dziesiętnym każda pozycja ma wartość będącą potęgą 10: jedności (10⁰), dziesiątki (10¹), setki (10²), tysiące (10³), dziesiątki tysięcy (10⁴)."
        }
      },
      {
        "step": 6,
        "hint": "Ile wynosi suma potęg $10^0 + 10^1 + 10^2 + 10^3 + 10^4$?",
        "expression": "$10^0 + 10^1 + 10^2 + 10^3 + 10^4 = 1 + 10 + 100 + 1000 + 10000 = 11111$",
        "explanation": "Suma wszystkich wartości pozycyjnych"
      },
      {
        "step": 7,
        "hint": "Jaka jest ostateczna suma wszystkich liczb?",
        "expression": "$600 \\times 11111 = 6666600$",
        "explanation": "Ostateczna suma wszystkich 120 pięciocyfrowych liczb",
        "interactive_choice": {
          "prompt": "Jak obliczyć końcowy wynik?",
          "options": [
            {
              "id": "A",
              "text": "$600 \\times 11111 = 6666600$",
              "feedback": "Świetnie! To jest poprawny wynik końcowy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$25 \\times 11111 = 277775$",
              "feedback": "Nie - zapomniałeś o mnożeniu przez 24 (ile razy każda cyfra występuje na pozycji)",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$120 \\times 25 \\times 11111 = 33333000$",
              "feedback": "Za dużo - mnożysz przez 120 zamiast przez 24",
              "is_correct": false
            }
          ],
          "explanation_after": "Suma cyfr na każdej pozycji (600) razy suma wartości pozycyjnych (11111) daje ostateczny wynik."
        }
      }
    ],
    "solutions": [
      "$6666600$"
    ],
    "parameters": {
      "digits_used": "1, 3, 5, 7, 9",
      "number_of_permutations": "120",
      "sum_of_digits": "25"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:19:50.795Z"
  },
  {
    "id": "five_digit_sum_permutations",
    "topic": "Kombinatoryka i sumy permutacji",
    "difficulty": 4,
    "statement": "Rozważamy wszystkie liczby naturalne pięciocyfrowe zapisane przy użyciu cyfr 4, 5, 6, 7, 8 bez powtarzania jakiejkolwiek cyfry. Oblicz sumę wszystkich takich liczb.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile różnych pięciocyfrowych liczb można utworzyć z cyfr 4, 5, 6, 7, 8?",
        "expression": "Liczba permutacji: $5! = 120$",
        "explanation": "Mamy 5 różnych cyfr i tworzymy wszystkie możliwe permutacje"
      },
      {
        "step": 2,
        "hint": "Jak najefektywniej obliczyć sumę wszystkich tych liczb?",
        "expression": "Każda z cyfr 4, 5, 6, 7, 8 występuje na każdej pozycji dokładnie $\\frac{120}{5} = 24$ razy",
        "explanation": "W 120 permutacjach każda cyfra pojawia się równomiernie na wszystkich pozycjach",
        "interactive_choice": {
          "prompt": "Którą strategię wybierzesz do obliczenia sumy wszystkich 120 liczb?",
          "options": [
            {
              "id": "A",
              "text": "Wypisać wszystkie 120 liczb i je zsumować",
              "feedback": "Możliwe, ale bardzo pracochłonne - jest znacznie prostszy sposób!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Wykorzystać symetrię - każda cyfra pojawia się równie często na każdej pozycji",
              "feedback": "Doskonale! To kluczowa obserwacja - każda cyfra występuje jednakowo często na każdej pozycji.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Obliczyć średnią arytmetyczną i pomnożyć przez 120",
              "feedback": "Trudne do wykonania bez znajomości wzorca rozmieszczenia cyfr.",
              "is_correct": false
            }
          ],
          "explanation_after": "Symetria permutacji oznacza, że każda cyfra pojawia się dokładnie tyle samo razy na każdej pozycji."
        }
      },
      {
        "step": 3,
        "hint": "Jaka jest suma cyfr 4 + 5 + 6 + 7 + 8?",
        "expression": "$4 + 5 + 6 + 7 + 8 = 30$",
        "explanation": "Obliczamy sumę wszystkich używanych cyfr"
      },
      {
        "step": 4,
        "hint": "Ile wynosi suma cyfr na pozycji jedności we wszystkich liczbach?",
        "expression": "Suma na pozycji jedności: $24 \\times (4 + 5 + 6 + 7 + 8) = 24 \\times 30 = 720$",
        "explanation": "Każda cyfra występuje 24 razy na pozycji jedności",
        "why": "To jest kluczowy wzorzec - ta sama logika dotyczy wszystkich pozycji. Każda pozycja ma identyczny rozkład cyfr."
      },
      {
        "step": 5,
        "hint": "Jak obliczyć wkład każdej pozycji do całkowitej sumy?",
        "expression": "Wkład pozycji dziesiątek: $720 \\times 10 = 7200$",
        "explanation": "Suma cyfr na pozycji dziesiątek pomnożona przez wartość pozycyjną",
        "interactive_choice": {
          "prompt": "Jaki jest wkład pozycji dziesiątek do całkowitej sumy?",
          "options": [
            {
              "id": "A",
              "text": "Również 720, bo rozkład cyfr jest taki sam",
              "feedback": "Nie - musisz uwzględnić wartość pozycyjną! Dziesiątki to $720 \\times 10$.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$720 \\times 10 = 7200$",
              "feedback": "Dokładnie! Suma cyfr (720) razy wartość pozycyjna (10).",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$24 \\times 10 = 240$",
              "feedback": "To byłoby gdyby tylko jedna cyfra występowała na tej pozycji.",
              "is_correct": false
            }
          ],
          "explanation_after": "Każda pozycja ma tę samą sumę cyfr (720), ale różną wartość pozycyjną."
        }
      },
      {
        "step": 6,
        "hint": "Jakie są wartości pozycyjne dla wszystkich pięciu pozycji?",
        "expression": "Pozycje: jedności (1), dziesiątki (10), setki (100), tysiące (1000), dziesiątki tysięcy (10000)",
        "explanation": "Standardowy system pozycyjny dziesiętny"
      },
      {
        "step": 7,
        "hint": "Jaki jest całkowity wkład wszystkich pozycji?",
        "expression": "$720 \\times (1 + 10 + 100 + 1000 + 10000)$",
        "explanation": "Wyłączamy wspólny czynnik 720 przed nawias",
        "interactive_choice": {
          "prompt": "Jak najlepiej obliczyć całkowitą sumę?",
          "options": [
            {
              "id": "A",
              "text": "$720 \\times (1 + 10 + 100 + 1000 + 10000)$",
              "feedback": "Świetnie! Wyłączasz wspólny czynnik 720.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Osobno dla każdej pozycji: $720 + 7200 + 72000 + ...$",
              "feedback": "Poprawne, ale można prościej wyłączyć 720 przed nawias.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$30 \\times 24 \\times (1 + 10 + 100 + 1000 + 10000)$",
              "feedback": "Tak, to jest równoważne z opcją A, bo $30 \\times 24 = 720$.",
              "is_correct": true
            }
          ],
          "explanation_after": "Wszystkie trzy podejścia są poprawne - wyłączenie wspólnego czynnika ułatwia obliczenia."
        }
      },
      {
        "step": 8,
        "hint": "Ile wynosi suma $1 + 10 + 100 + 1000 + 10000$?",
        "expression": "$1 + 10 + 100 + 1000 + 10000 = 11111$",
        "explanation": "Suma wszystkich wartości pozycyjnych"
      },
      {
        "step": 9,
        "hint": "Jaka jest ostateczna suma wszystkich liczb?",
        "expression": "$720 \\times 11111 = 7999920$",
        "explanation": "Końcowe obliczenie sumy wszystkich 120 pięciocyfrowych liczb"
      }
    ],
    "solutions": [
      "$7999920$"
    ],
    "parameters": {
      "digits_used": "4, 5, 6, 7, 8",
      "total_numbers": "120",
      "method": "Wykorzystanie symetrii permutacji"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-09-17T07:20:22.026Z"
  },
  {
    "id": "combinatorics_digits_sum",
    "topic": "Kombinatoryka - rozmieszczenia z ograniczeniami",
    "difficulty": 5,
    "statement": "Oblicz, ile jest dwunastocyfrowych liczb naturalnych, których suma cyfr jest równa 8 i jednocześnie w ich zapisie nie występują cyfry 1 i 4.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry możemy użyć w zapisie liczby?",
        "expression": "Dostępne cyfry: $\\{0, 2, 3, 5, 6, 7, 8, 9\\}$ (bez 1 i 4)",
        "explanation": "Wykluczamy cyfry 1 i 4 zgodnie z warunkiem zadania"
      },
      {
        "step": 2,
        "hint": "Czy pierwsza cyfra może być zerem w liczbie dwunastocyfrowej?",
        "expression": "Pierwsza cyfra: $\\{2, 3, 5, 6, 7, 8, 9\\}$, pozostałe: $\\{0, 2, 3, 5, 6, 7, 8, 9\\}$",
        "explanation": "Rozdzielamy problem na pierwszą cyfrę i pozostałe 11 pozycji",
        "interactive_choice": {
          "prompt": "Jakie ograniczenie mamy dla pierwszej cyfry dwunastocyfrowej liczby?",
          "options": [
            {
              "id": "A",
              "text": "Pierwsza cyfra może być dowolna z dostępnych",
              "feedback": "Nie - liczba dwunastocyfrowa nie może zaczynać się od zera!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pierwsza cyfra nie może być zerem",
              "feedback": "Dokładnie! Pierwsza cyfra musi być z zbioru $\\{2, 3, 5, 6, 7, 8, 9\\}$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wszystkie cyfry muszą być różne od zera",
              "feedback": "Za mocne ograniczenie - tylko pierwsza cyfra nie może być zerem",
              "is_correct": false
            }
          ],
          "explanation_after": "W liczbie dwunastocyfrowej pierwsza cyfra musi być niezerowa, pozostałe mogą być zerami."
        }
      },
      {
        "step": 3,
        "hint": "Jak przekształcić problem sumy cyfr na problem kombinatoryczny?",
        "expression": "Użyjemy funkcji tworzącej dla każdej pozycji",
        "explanation": "Każda pozycja ma swoją funkcję tworzącą opisującą dostępne cyfry",
        "interactive_choice": {
          "prompt": "Którą metodę kombinatoryczną zastosować do problemu sumy cyfr równej 8?",
          "options": [
            {
              "id": "A",
              "text": "Funkcje tworzące (generating functions)",
              "feedback": "Świetny wybór! Pozwala uwzględnić ograniczenia na cyfry i sumę",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Zasada włączeń i wyłączeń",
              "feedback": "Skomplikowane - trudno zastosować do sumy cyfr",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Bezpośrednie przeliczenie wszystkich kombinacji",
              "feedback": "Możliwe, ale bardzo pracochłonne dla 12 pozycji",
              "is_correct": false
            }
          ],
          "explanation_after": "Funkcje tworzące elegancko rozwiązują problemy z ograniczeniami na sumę."
        }
      },
      {
        "step": 4,
        "hint": "Jaka jest funkcja tworząca dla pierwszej pozycji?",
        "expression": "$f_1(x) = x^2 + x^3 + x^5 + x^6 + x^7 + x^8 + x^9$",
        "explanation": "Pierwsza pozycja: cyfry 2,3,5,6,7,8,9 z odpowiednimi potęgami",
        "why": "Wykładnik $x^k$ oznacza cyfrę o wartości $k$. Suma wykładników da sumę cyfr."
      },
      {
        "step": 5,
        "hint": "Jaka jest funkcja tworząca dla pozostałych 11 pozycji?",
        "expression": "$f_2(x) = 1 + x^2 + x^3 + x^5 + x^6 + x^7 + x^8 + x^9$",
        "explanation": "Pozostałe pozycje: cyfry 0,2,3,5,6,7,8,9 (włącznie z zerem)"
      },
      {
        "step": 6,
        "hint": "Jak wygląda funkcja tworząca dla całego problemu?",
        "expression": "$F(x) = f_1(x) \\cdot [f_2(x)]^{11}$",
        "explanation": "Mnożymy funkcje - pierwsza pozycja razy 11 pozostałych pozycji"
      },
      {
        "step": 7,
        "hint": "Jaki współczynnik nas interesuje w rozwinięciu $F(x)$?",
        "expression": "Szukamy współczynnika przy $x^8$ w $F(x) = f_1(x) \\cdot [f_2(x)]^{11}$",
        "explanation": "To da nam liczbę dwunastocyfrowych liczb o sumie cyfr równej 8",
        "interactive_choice": {
          "prompt": "Współczynnik przy której potędze $x$ da nam odpowiedź?",
          "options": [
            {
              "id": "A",
              "text": "Współczynnik przy $x^{12}$ (liczba cyfr)",
              "feedback": "Nie - to byłaby liczba sposobów na 12 cyfr, nie suma cyfr",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Współczynnik przy $x^8$ (suma cyfr)",
              "feedback": "Dokładnie! Szukamy liczb o sumie cyfr równej 8",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Współczynnik przy $x^{20}$ (maksymalna suma)",
              "feedback": "Nie - to dałoby maksymalną możliwą sumę cyfr",
              "is_correct": false
            }
          ],
          "explanation_after": "Współczynnik przy $x^8$ w $F(x)$ to liczba sposobów uzyskania sumy cyfr równej 8."
        }
      },
      {
        "step": 8,
        "hint": "Jak obliczyć ten współczynnik efektywnie?",
        "expression": "$f_1(x) = x^2(1 + x + x^3 + x^4 + x^5 + x^6 + x^7)$",
        "explanation": "Wyłączamy $x^2$ z pierwszej funkcji"
      },
      {
        "step": 9,
        "hint": "Co możemy zauważyć w strukturze dostępnych cyfr?",
        "expression": "Dostępne cyfry: $\\{0,2,3,5,6,7,8,9\\}$ - brak 1 i 4",
        "explanation": "Mamy 8 dostępnych cyfr z pewną strukturą"
      },
      {
        "step": 10,
        "hint": "Jak uprościć obliczenia używając symetrii?",
        "expression": "Potrzebujemy współczynnika przy $x^6$ w $(1 + x + x^3 + x^4 + x^5 + x^6 + x^7) \\cdot (1 + x^2 + x^3 + x^5 + x^6 + x^7 + x^8 + x^9)^{11}$",
        "explanation": "Po wyłączeniu $x^2$ szukamy współczynnika przy $x^{8-2} = x^6$"
      },
      {
        "step": 11,
        "hint": "Jaki jest wynik końcowych obliczeń?",
        "expression": "Po obliczeniu współczynników otrzymujemy: $165$",
        "explanation": "Obliczenia wymagają rozwinięcia wielomianów i zliczenia odpowiednich składników",
        "why": "To złożone obliczenie kombinatoryczne. W praktyce używa się programów komputerowych lub zaawansowanych technik kombinatorycznych."
      }
    ],
    "solutions": [
      "$165$"
    ],
    "parameters": {
      "digits": 12,
      "sum_constraint": 8,
      "forbidden_digits": "{1, 4}"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 11,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:20:57.483Z"
  },
  {
    "id": "combinations_candy_selection",
    "topic": "Kombinacje - wybór bez zwracania",
    "difficulty": 3,
    "statement": "W torebce znajduje się 5 cukierków miętowych i 6 owocowych. Z torebki losujemy 4 cukierki. Na ile sposobów można wylosować 2 cukierki miętowe i 2 owocowe?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile łącznie mamy cukierków w torebce?",
        "expression": "Miętowe: 5, owocowe: 6, razem: $5 + 6 = 11$ cukierków",
        "explanation": "Określamy całkowitą liczbę cukierków w torebce"
      },
      {
        "step": 2,
        "hint": "Jaki typ zadania kombinatorycznego to jest?",
        "expression": "Wybór 2 miętowych z 5 ORAZ wybór 2 owocowych z 6",
        "explanation": "Problem dzielimy na dwa niezależne wybory",
        "interactive_choice": {
          "prompt": "Jak podejść do tego problemu wyboru cukierków?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru na kombinacje z powtórzeniami",
              "feedback": "Nie - nie ma powtórzeń, każdy cukierek jest różny",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Rozłożyć na dwa niezależne wybory: 2 z miętowych i 2 z owocowych",
              "feedback": "Świetnie! To jest klucz - wybieramy osobno z każdej grupy",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie możliwe wybory 4 z 11, potem odfiltrować",
              "feedback": "Możliwe, ale bardzo pracochłonne - lepiej od razu wybrać właściwe",
              "is_correct": false
            }
          ],
          "explanation_after": "Rozkładamy problem: osobno wybieramy miętowe, osobno owocowe, potem mnożymy wyniki."
        }
      },
      {
        "step": 3,
        "hint": "Którym wzorem obliczysz liczbę sposobów wyboru 2 cukierków z 5?",
        "expression": "Liczba sposobów wyboru 2 miętowych: $\\binom{5}{2}$",
        "explanation": "Stosujemy wzór na kombinacje bez powtórzeń",
        "why": "W kombinacjach kolejność nie ma znaczenia - wybór {cukierek1, cukierek2} to to samo co {cukierek2, cukierek1}.",
        "interactive_choice": {
          "prompt": "Jaki wzór zastosować do wyboru 2 cukierków miętowych z 5?",
          "options": [
            {
              "id": "A",
              "text": "Wariacje $V_5^2 = \\frac{5!}{(5-2)!}$",
              "feedback": "Nie - kolejność nie ma znaczenia przy wyborze cukierków",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Kombinacje $C_5^2 = \\binom{5}{2}$",
              "feedback": "Dokładnie! Kolejność wyboru nie ma znaczenia",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Permutacje $5!$",
              "feedback": "Nie - nie układamy wszystkich cukierków, tylko wybieramy 2",
              "is_correct": false
            }
          ],
          "explanation_after": "Używamy kombinacji, bo kolejność wyboru cukierków nie ma znaczenia."
        }
      },
      {
        "step": 4,
        "hint": "Ile wynosi $\\binom{5}{2}$?",
        "expression": "$\\binom{5}{2} = \\frac{5!}{2!(5-2)!} = \\frac{5!}{2! \\cdot 3!} = \\frac{5 \\cdot 4}{2 \\cdot 1} = 10$",
        "explanation": "Obliczamy liczbę sposobów wyboru 2 cukierków miętowych z 5"
      },
      {
        "step": 5,
        "hint": "Ile wynosi liczba sposobów wyboru 2 owocowych z 6?",
        "expression": "$\\binom{6}{2} = \\frac{6!}{2!(6-2)!} = \\frac{6!}{2! \\cdot 4!} = \\frac{6 \\cdot 5}{2 \\cdot 1} = 15$",
        "explanation": "Obliczamy liczbę sposobów wyboru 2 cukierków owocowych z 6"
      },
      {
        "step": 6,
        "hint": "Jak połączyć te dwa niezależne wybory?",
        "expression": "Całkowita liczba sposobów: $10 \\times 15 = 150$",
        "explanation": "Stosujemy regułę iloczynu dla zdarzeń niezależnych",
        "why": "Każdy ze 10 sposobów wyboru miętowych można połączyć z każdym z 15 sposobów wyboru owocowych, dając $10 \\times 15 = 150$ kombinacji.",
        "interactive_choice": {
          "prompt": "Jak obliczyć całkowitą liczbę sposobów wyboru 2 miętowych I 2 owocowych?",
          "options": [
            {
              "id": "A",
              "text": "Dodać: $10 + 15 = 25$",
              "feedback": "Nie - dodajemy gdy mamy LUB, tu mamy I (oba warunki jednocześnie)",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pomnożyć: $10 \\times 15 = 150$",
              "feedback": "Tak! Reguła iloczynu - każdy wybór miętowych można połączyć z każdym wyborem owocowych",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Podzielić: $\\frac{15}{10} = 1.5$",
              "feedback": "Nie ma sensu - dzielenie nie ma zastosowania w tym kontekście",
              "is_correct": false
            }
          ],
          "explanation_after": "Używamy reguły iloczynu: gdy zdarzenia są niezależne i mają zajść oba, mnożymy ich liczby możliwości."
        }
      }
    ],
    "solutions": [
      "150"
    ],
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-09-17T07:21:24.547Z"
  },
  {
    "id": "integer_quadruple_equation",
    "topic": "Równania diofantyczne",
    "difficulty": 4,
    "statement": "Ile jest takich czwórek liczb całkowitych i dodatnich $(a, b, c, d)$, które spełniają równanie $ab + bc + cd + da = 1004$?",
    "steps": [
      {
        "step": 1,
        "hint": "Jak można przepisać wyrażenie $ab + bc + cd + da$?",
        "expression": "$ab + bc + cd + da = b(a + c) + d(a + c) = (a + c)(b + d)$",
        "explanation": "Wyłączamy wspólne czynniki i otrzymujemy iloczyn dwóch sum",
        "interactive_choice": {
          "prompt": "Jak najlepiej zgrupować składniki w wyrażeniu $ab + bc + cd + da$?",
          "options": [
            {
              "id": "A",
              "text": "Wyłączyć $b(a + c) + d(c + a)$",
              "feedback": "Dobry kierunek! To prowadzi do $(a + c)(b + d) = 1004$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wyłączyć $a(b + d) + c(b + d)$",
              "feedback": "Świetnie! To też daje $(a + c)(b + d) = 1004$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Pozostawić bez zmian i podstawiać wartości",
              "feedback": "Nieefektywne - bez faktoryzacji trudno znaleźć wszystkie rozwiązania",
              "is_correct": false
            }
          ],
          "explanation_after": "Faktoryzacja prowadzi do prostszej postaci $(a + c)(b + d) = 1004$"
        }
      },
      {
        "step": 2,
        "hint": "Do jakiego równania sprowadza się nasze zadanie?",
        "expression": "$(a + c)(b + d) = 1004$",
        "explanation": "Równanie sprowadza się do znalezienia rozkładów liczby 1004",
        "why": "To kluczowe przekształcenie - zamiast szukać czwórek $(a,b,c,d)$, szukamy par $(a+c, b+d)$ których iloczyn to 1004"
      },
      {
        "step": 3,
        "hint": "Jakie warunki muszą spełniać sumy $a + c$ i $b + d$?",
        "expression": "Oznaczmy $x = a + c$ i $y = b + d$, gdzie $x, y \\geq 2$",
        "explanation": "Ponieważ $a, b, c, d \\geq 1$, to $x \\geq 2$ i $y \\geq 2$",
        "why": "Każda suma dwóch liczb dodatnich jest co najmniej 2"
      },
      {
        "step": 4,
        "hint": "Jak rozłożyć 1004 na czynniki pierwsze?",
        "expression": "$1004 = 4 \\cdot 251 = 2^2 \\cdot 251$",
        "explanation": "Rozkład na czynniki pierwsze liczby 1004"
      },
      {
        "step": 5,
        "hint": "Ile jest dzielników liczby 1004?",
        "expression": "Dzielniki 1004: $1, 2, 4, 251, 502, 1004$",
        "explanation": "Wszystkie dzielniki dodatnie liczby 1004",
        "interactive_choice": {
          "prompt": "Ile dzielników ma liczba $1004 = 2^2 \\cdot 251$?",
          "options": [
            {
              "id": "A",
              "text": "4 dzielniki",
              "feedback": "Za mało - nie uwzględniasz wszystkich kombinacji wykładników",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "6 dzielników",
              "feedback": "Dokładnie! Wzór $(2+1)(1+1) = 3 \\cdot 2 = 6$ dzielników",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "8 dzielników",
              "feedback": "Za dużo - sprawdź wzór na liczbę dzielników",
              "is_correct": false
            }
          ],
          "explanation_after": "Dla $n = p_1^{a_1} \\cdot p_2^{a_2}$ liczba dzielników to $(a_1+1)(a_2+1)$"
        }
      },
      {
        "step": 6,
        "hint": "Które pary dzielników spełniają warunek $x, y \\geq 2$?",
        "expression": "Pary $(x, y)$: $(2, 502)$, $(4, 251)$, $(251, 4)$, $(502, 2)$",
        "explanation": "Odrzucamy parę $(1, 1004)$ bo $x = 1 < 2$"
      },
      {
        "step": 7,
        "hint": "Ile sposobów jest na przedstawienie liczby jako sumy dwóch liczb dodatnich?",
        "expression": "Dla każdej pary $(x, y)$ mamy $(x-1)(y-1)$ czwórek $(a, b, c, d)$",
        "explanation": "Liczba sposobów na rozkład $x = a + c$ to $x-1$, podobnie dla $y = b + d$",
        "interactive_choice": {
          "prompt": "Na ile sposobów można przedstawić liczbę $n \\geq 2$ jako sumę dwóch liczb całkowitych dodatnich?",
          "options": [
            {
              "id": "A",
              "text": "$n$ sposobów",
              "feedback": "Za dużo - nie wszystkie rozkłady dają liczby dodatnie",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$n-1$ sposobów",
              "feedback": "Dokładnie! Dla $n = a + c$ mamy $a \\in \\{1, 2, ..., n-1\\}$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$\\frac{n}{2}$ sposobów",
              "feedback": "To byłoby dla par nieuporządkowanych, ale tu kolejność ma znaczenie",
              "is_correct": false
            }
          ],
          "explanation_after": "Jeśli $n = a + c$ gdzie $a, c \\geq 1$, to $a$ może być $1, 2, ..., n-1$"
        }
      },
      {
        "step": 8,
        "hint": "Ile czwórek daje każda para dzielników?",
        "expression": "$(2, 502)$: $(2-1)(502-1) = 1 \\cdot 501 = 501$ czwórek",
        "explanation": "Pierwsza para dzielników"
      },
      {
        "step": 9,
        "hint": "Oblicz dla pozostałych par dzielników",
        "expression": "$(4, 251)$: $(4-1)(251-1) = 3 \\cdot 250 = 750$ czwórek",
        "explanation": "Druga para dzielników"
      },
      {
        "step": 10,
        "hint": "Kontynuuj obliczenia dla kolejnych par",
        "expression": "$(251, 4)$: $(251-1)(4-1) = 250 \\cdot 3 = 750$ czwórek",
        "explanation": "Trzecia para dzielników"
      },
      {
        "step": 11,
        "hint": "Oblicz dla ostatniej pary",
        "expression": "$(502, 2)$: $(502-1)(2-1) = 501 \\cdot 1 = 501$ czwórka",
        "explanation": "Czwarta para dzielników"
      },
      {
        "step": 12,
        "hint": "Jaka jest całkowita liczba czwórek?",
        "expression": "$501 + 750 + 750 + 501 = 2502$",
        "explanation": "Sumujemy liczbę czwórek ze wszystkich przypadków"
      }
    ],
    "solutions": [
      "2502"
    ],
    "parameters": {
      "constraint": "liczby całkowite dodatnie"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-09-17T07:21:55.801Z"
  },
  {
    "id": "permutations_with_repetition",
    "topic": "Permutacje z powtórzeniami",
    "difficulty": 4,
    "statement": "Ile można utworzyć różnych wyrazów mających sens lub nie z wszystkich liter wyrazu: 'permutacje'.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile liter ma wyraz 'permutacje' i które się powtarzają?",
        "expression": "Wyraz 'permutacje' ma 10 liter: p-e-r-m-u-t-a-c-j-e",
        "explanation": "Liczymy wszystkie litery w wyrazie"
      },
      {
        "step": 2,
        "hint": "Które litery występują więcej niż raz?",
        "expression": "p(1), e(2), r(1), m(1), u(1), t(1), a(1), c(1), j(1)",
        "explanation": "Litera 'e' występuje 2 razy, pozostałe po 1 razie",
        "interactive_choice": {
          "prompt": "Jak policzyć powtarzające się litery w wyrazie 'permutacje'?",
          "options": [
            {
              "id": "A",
              "text": "Sprawdzić każdą literę alfabetu czy się powtarza",
              "feedback": "Możliwe, ale nieefektywne - lepiej przejrzeć systematycznie",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Przejrzeć wyraz i policzyć wystąpienia każdej litery",
              "feedback": "Świetnie! To najlepszy sposób - systematyczne zliczanie",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Założyć że wszystkie litery są różne",
              "feedback": "Błąd! To da nieprawidłowy wynik - musimy uwzględnić powtórzenia",
              "is_correct": false
            }
          ],
          "explanation_after": "Systematyczne zliczanie pozwala dokładnie określić liczbę powtórzeń każdej litery."
        }
      },
      {
        "step": 3,
        "hint": "Jaki wzór zastosować gdy mamy powtarzające się elementy?",
        "expression": "Wzór: $\\frac{n!}{n_1! \\cdot n_2! \\cdot ... \\cdot n_k!}$",
        "explanation": "Gdzie $n$ to liczba wszystkich elementów, a $n_i$ to liczby powtórzeń",
        "why": "Dzielimy przez silnie powtórzeń, bo przestawienia identycznych elementów nie dają nowych wyrazów.",
        "interactive_choice": {
          "prompt": "Którą formułę użyć dla permutacji z powtórzeniami?",
          "options": [
            {
              "id": "A",
              "text": "Zwykłe permutacje: $n!$",
              "feedback": "Nie - to ignoruje powtórzenia i da za dużo wyników",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Permutacje z powtórzeniami: $\\frac{n!}{n_1! \\cdot n_2! \\cdot ... \\cdot n_k!}$",
              "feedback": "Doskonale! To właściwy wzór gdy elementy się powtarzają",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wariacje bez powtórzeń: $\\frac{n!}{(n-k)!}$",
              "feedback": "Nie - to dla wybierania k elementów z n, a my używamy wszystkich",
              "is_correct": false
            }
          ],
          "explanation_after": "Wzór na permutacje z powtórzeniami dzieli przez silnie liczb powtórzeń, bo identyczne elementy nie tworzą nowych układów."
        }
      },
      {
        "step": 4,
        "hint": "Jakie wartości podstawić do wzoru?",
        "expression": "$n = 10$ (wszystkie litery), $n_1 = 2$ (litera 'e')",
        "explanation": "Mamy 10 liter całkowicie, z czego 'e' powtarza się 2 razy"
      },
      {
        "step": 5,
        "hint": "Jak wygląda wzór po podstawieniu wartości?",
        "expression": "Liczba permutacji = $\\frac{10!}{2!}$",
        "explanation": "Podstawiamy $n = 10$ i $n_1 = 2$ (tylko 'e' się powtarza)"
      },
      {
        "step": 6,
        "hint": "Ile wynosi $10!$ i $2!$?",
        "expression": "$10! = 3628800$ oraz $2! = 2$",
        "explanation": "Obliczamy potrzebne silnie",
        "interactive_choice": {
          "prompt": "Jak najefektywniej obliczyć $\\frac{10!}{2!}$?",
          "options": [
            {
              "id": "A",
              "text": "Obliczyć $10! = 3628800$, potem podzielić przez $2! = 2$",
              "feedback": "Dobry sposób - daje wynik $1814400$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Zapisać jako $\\frac{10 \\cdot 9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1}{2 \\cdot 1}$",
              "feedback": "Możliwe, ale bardziej pracochłonne niż pierwszy sposób",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Skrócić $2!$ z częścią $10!$ przed obliczeniem",
              "feedback": "Dobra idea! $\\frac{10!}{2!} = \\frac{10 \\cdot 9!}{2} = 5 \\cdot 9! = 5 \\cdot 362880$",
              "is_correct": true
            }
          ],
          "explanation_after": "Wszystkie sposoby są poprawne. Skracanie może uprościć obliczenia."
        }
      },
      {
        "step": 7,
        "hint": "Jaki jest końcowy wynik dzielenia?",
        "expression": "$\\frac{10!}{2!} = \\frac{3628800}{2} = 1814400$",
        "explanation": "Wykonujemy końcowe dzielenie"
      }
    ],
    "solutions": [
      "1814400"
    ],
    "parameters": {
      "word": "permutacje",
      "total_letters": 10,
      "repeated_letters": "e (2 razy)"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-09-17T07:22:23.985Z"
  },
  {
    "id": "permutations_with_repetition",
    "topic": "Permutacje z powtórzeniami",
    "difficulty": 3,
    "statement": "Ile można utworzyć różnych wyrazów mających sens lub nie z wszystkich liter wyrazu: 'internet'",
    "steps": [
      {
        "step": 1,
        "hint": "Ile liter ma wyraz 'internet' i jakie to litery?",
        "expression": "Wyraz 'internet' ma 8 liter: i-n-t-e-r-n-e-t",
        "explanation": "Liczymy wszystkie litery w wyrazie"
      },
      {
        "step": 2,
        "hint": "Które litery się powtarzają i ile razy?",
        "expression": "n: 2 razy, e: 2 razy, t: 2 razy, i: 1 raz, r: 1 raz",
        "explanation": "Zliczamy wystąpienia każdej litery"
      },
      {
        "step": 3,
        "hint": "Jakiego typu problem kombinatoryczny to jest?",
        "expression": "Stosujemy wzór: $\\frac{n!}{n_1! \\cdot n_2! \\cdot n_3! \\cdot ...}$",
        "explanation": "Wzór na permutacje z powtórzeniami",
        "why": "Dzielimy przez faktoriały powtórzeń, bo przestawienia identycznych liter nie tworzą nowych wyrazów",
        "interactive_choice": {
          "prompt": "Jak podejść do problemu tworzenia wyrazów z liter, gdy niektóre się powtarzają?",
          "options": [
            {
              "id": "A",
              "text": "Zwykłe permutacje $8!$",
              "feedback": "Nie - to by było gdyby wszystkie litery były różne",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Permutacje z powtórzeniami $\\frac{n!}{n_1! \\cdot n_2! \\cdot ...}$",
              "feedback": "Dokładnie! Musimy podzielić przez faktoriały powtórzeń",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wariacje bez powtórzeń",
              "feedback": "Nie - używamy wszystkich liter, więc to permutacje",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy mamy powtarzające się elementy, używamy wzoru na permutacje z powtórzeniami"
        }
      },
      {
        "step": 4,
        "hint": "Jakie wartości podstawić do wzoru?",
        "expression": "$\\frac{8!}{2! \\cdot 2! \\cdot 2!}$",
        "explanation": "n=8 liter, dzielimy przez $2!$ dla każdej z trzech powtarzających się liter",
        "interactive_choice": {
          "prompt": "Jak poprawnie podstawić dane do wzoru permutacji z powtórzeniami?",
          "options": [
            {
              "id": "A",
              "text": "$\\frac{8!}{2! \\cdot 2! \\cdot 2!}$ - dzielimy przez powtórzenia n, e, t",
              "feedback": "Świetnie! Uwzględniasz wszystkie litery powtarzające się",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$\\frac{8!}{3!}$ - dzielimy przez liczbę różnych powtórzeń",
              "feedback": "Nie - dzielimy przez faktoriały każdego powtórzenia osobno",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$\\frac{8!}{2! \\cdot 2!}$ - tylko n i e się powtarzają",
              "feedback": "Zapomniałeś o literze 't', która też występuje 2 razy",
              "is_correct": false
            }
          ],
          "explanation_after": "Każda litera powtarzająca się wymaga podzielenia przez jej faktorial"
        }
      },
      {
        "step": 5,
        "hint": "Ile wynosi $8!$?",
        "expression": "$8! = 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 40320$",
        "explanation": "Obliczamy faktorial 8"
      },
      {
        "step": 6,
        "hint": "Ile wynosi $2!$?",
        "expression": "$2! = 2 \\cdot 1 = 2$",
        "explanation": "Faktorial 2 równa się 2"
      },
      {
        "step": 7,
        "hint": "Jaki jest wynik końcowego dzielenia?",
        "expression": "$\\frac{40320}{2 \\cdot 2 \\cdot 2} = \\frac{40320}{8} = 5040$",
        "explanation": "Dzielimy przez iloczyn wszystkich powtórzeń"
      }
    ],
    "solutions": [
      "5040"
    ],
    "parameters": {
      "word": "internet",
      "total_letters": 8,
      "repetitions": {
        "n": 2,
        "e": 2,
        "t": 2,
        "i": 1,
        "r": 1
      }
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 1,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 2
      }
    },
    "timestamp": "2025-09-17T07:22:45.591Z"
  }
]
