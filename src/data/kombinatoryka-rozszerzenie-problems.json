[
  {
    "id": "three_digit_divisible_lcm",
    "topic": "Podzielność liczb naturalnych",
    "difficulty": 3,
    "statement": "Oblicz, ile jest liczb naturalnych trzycyfrowych podzielnych przez $12$ i $15$.",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza, że liczba jest podzielna przez $12$ i przez $15$ jednocześnie?",
        "expression": "Szukamy liczb podzielnych przez $NWW(12, 15)$",
        "explanation": "Liczba podzielna przez $12$ i $15$ musi być wielokrotnością NWW tych liczb",
        "why": "NWW to najmniejsza liczba, która jest wielokrotnością obu danych liczb. Każda inna wspólna wielokrotność jest wielokrotnością NWW.",
        "interactive_choice": {
          "prompt": "Jak znaleźć liczby podzielne jednocześnie przez $12$ i $15$?",
          "options": [
            {
              "id": "A",
              "text": "Szukać liczb podzielnych przez $12 + 15 = 27$",
              "feedback": "Nie - suma nie daje wspólnej podzielności. Przykład: $24$ jest podzielne przez $12$, ale nie przez $27$.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Szukać liczb podzielnych przez $NWD(12, 15)$",
              "feedback": "NWD to największy wspólny dzielnik - daje liczby które dzielą $12$ i $15$, nie odwrotnie.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Szukać liczb podzielnych przez $NWW(12, 15)$",
              "feedback": "Doskonale! NWW to najmniejsza liczba podzielna przez obie liczby - dokładnie to czego szukamy.",
              "is_correct": true
            }
          ],
          "explanation_after": "Liczby podzielne przez $12$ i $15$ to wielokrotności ich najmniejszej wspólnej wielokrotności $NWW(12, 15)$."
        }
      },
      {
        "step": 2,
        "hint": "Jak obliczyć NWW($12$, $15$)?",
        "expression": "$12 = 2^2 \\cdot 3$ oraz $15 = 3 \\cdot 5$",
        "explanation": "Rozkładamy obie liczby na czynniki pierwsze",
        "interactive_choice": {
          "prompt": "Którą metodę użyjesz do obliczenia $NWW(12, 15)$?",
          "options": [
            {
              "id": "A",
              "text": "Rozkład na czynniki pierwsze",
              "feedback": "Świetnie! To najlepsza metoda - rozkładamy: $12 = 2^2 \\cdot 3$, $15 = 3 \\cdot 5$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wzór $NWW(a,b) = \\frac{a \\cdot b}{NWD(a,b)}$",
              "feedback": "Dobry wybór! Najpierw znajdź $NWD(12,15) = 3$, potem $NWW = \\frac{12 \\cdot 15}{3} = 60$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wypisać wielokrotności obu liczb",
              "feedback": "Możliwe, ale pracochłonne: $12$, $24$, $36$, $48$, $60$... i $15$, $30$, $45$, $60$...",
              "is_correct": true
            }
          ],
          "explanation_after": "Wszystkie metody prowadzą do tego samego wyniku. Rozkład na czynniki pierwsze jest najbardziej uniwersalny."
        }
      },
      {
        "step": 3,
        "hint": "Jak z rozkładów otrzymać NWW?",
        "expression": "$NWW(12, 15) = 2^2 \\cdot 3 \\cdot 5 = 4 \\cdot 3 \\cdot 5 = 60$",
        "explanation": "NWW to iloczyn najwyższych potęg wszystkich występujących czynników pierwszych",
        "why": "Bierzemy każdy czynnik pierwszy w najwyższej potędze: $2^2$ z $12$, $3^1$ z obu, $5^1$ z $15$."
      },
      {
        "step": 4,
        "hint": "Jakie są granice dla liczb trzycyfrowych?",
        "expression": "Liczby trzycyfrowe: od $100$ do $999$",
        "explanation": "Najmniejsza liczba trzycyfrowa to $100$, największa to $999$"
      },
      {
        "step": 5,
        "hint": "Jaka jest najmniejsza liczba trzycyfrowa podzielna przez $60$?",
        "expression": "$\\lceil \\frac{100}{60} \\rceil \\cdot 60 = 2 \\cdot 60 = 120$",
        "explanation": "Dzielimy $100$ przez $60$ i zaokrąglamy w górę: $\\frac{100}{60} \\approx 1.67$, więc bierzemy $2 \\cdot 60 = 120$"
      },
      {
        "step": 6,
        "hint": "Jaka jest największa liczba trzycyfrowa podzielna przez $60$?",
        "expression": "$\\lfloor \\frac{999}{60} \\rfloor \\cdot 60 = 16 \\cdot 60 = 960$",
        "explanation": "Dzielimy $999$ przez $60$ i zaokrąglamy w dół: $\\frac{999}{60} = 16.65$, więc bierzemy $16 \\cdot 60 = 960$"
      },
      {
        "step": 7,
        "hint": "Ile jest wielokrotności $60$ od $120$ do $960$?",
        "expression": "Liczby: $120, 180, 240, ..., 960$ to wielokrotności $60 \\cdot k$ dla $k = 2, 3, 4, ..., 16$",
        "explanation": "Mamy wielokrotności $60$ od $k=2$ do $k=16$",
        "interactive_choice": {
          "prompt": "Jak policzyć ile jest liczb postaci $60k$ dla $k$ od $2$ do $16$?",
          "options": [
            {
              "id": "A",
              "text": "To jest $16 - 2 = 14$ liczb",
              "feedback": "Nie - zapominasz o końcach przedziału! Liczby: $2$, $3$, $4$, ..., $16$ to więcej niż $14$.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "To jest $16 - 2 + 1 = 15$ liczb",
              "feedback": "Dokładnie! Wzór: ostatni - pierwszy + $1$. Sprawdzenie: od $2$ do $4$ to $3$ liczby $(2,3,4)$, czyli $4-2+1=3$ ✓",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "To jest $\\frac{960 - 120}{60} = 14$ liczb",
              "feedback": "Prawie! Ten wzór daje liczbę kroków między liczbami, ale zapominasz o pierwszej liczbie. Dodaj $1$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Liczba elementów w ciągu arytmetycznym: $(\\text{ostatni} - \\text{pierwszy})/\\text{różnica} + 1$, lub po prostu: $\\text{ostatni\\_indeks} - \\text{pierwszy\\_indeks} + 1$."
        }
      },
      {
        "step": 8,
        "hint": "Ile jest liczb całkowitych od $2$ do $16$ włącznie?",
        "expression": "$16 - 2 + 1 = 15$",
        "explanation": "Liczba elementów: $\\text{ostatni} - \\text{pierwszy} + 1$"
      }
    ],
    "solutions": [
      "$15$"
    ],
    "parameters": {
      "range": "liczby trzycyfrowe $(100-999)$",
      "divisors": "$12$ i $15$",
      "lcm": "$60$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-10-03T06:36:50.230Z"
  },
  {
    "id": "counting_divisibility_lcm",
    "topic": "Zasada włączeń i wyłączeń, podzielność",
    "difficulty": 4,
    "statement": "Oblicz, ile jest liczb naturalnych trzycyfrowych podzielnych przez $12$ lub $15$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jaki jest zakres liczb trzycyfrowych?",
        "expression": "Liczby trzycyfrowe: od $100$ do $999$",
        "explanation": "Ustalamy dziedzinę problemu"
      },
      {
        "step": 2,
        "hint": "Jak podejść do problemu zliczania liczb podzielnych przez $12$ lub $15$?",
        "expression": "$|A \\cup B| = |A| + |B| - |A \\cap B|$",
        "explanation": "Gdzie $A$ - liczby podzielne przez $12$, $B$ - liczby podzielne przez $15$",
        "why": "To fundamentalna zasada kombinatoryki. Bez odjęcia $|A \\cap B|$ policzylibyśmy niektóre liczby dwukrotnie.",
        "interactive_choice": {
          "prompt": "Którą metodę zastosować do zliczenia liczb podzielnych przez $12$ lub $15$?",
          "options": [
            {
              "id": "A",
              "text": "Zliczyć osobno podzielne przez $12$ i przez $15$, potem dodać",
              "feedback": "Uwaga! Tak policzymy niektóre liczby dwa razy - te podzielne przez oba.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Użyć zasady włączeń i wyłączeń: $|A \\cup B| = |A| + |B| - |A \\cap B|$",
              "feedback": "Doskonale! To uwzględni liczby policzone podwójnie.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Zliczyć liczby podzielne przez $12 + 15 = 27$",
              "feedback": "Nie - podzielność nie działa przez dodawanie. Liczba podzielna przez $12$ lub $15$ nie musi być podzielna przez $27$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zasada włączeń i wyłączeń pozwala uniknąć podwójnego liczenia. Musimy odjąć liczby podzielne przez obie wartości."
        }
      },
      {
        "step": 3,
        "hint": "Ile jest liczb trzycyfrowych podzielnych przez $12$?",
        "expression": "Najmniejsza: $\\lceil \\frac{100}{12} \\rceil \\cdot 12 = 9 \\cdot 12 = 108$",
        "explanation": "Znajdujemy pierwszą liczbę trzycyfrową podzielną przez $12$"
      },
      {
        "step": 4,
        "hint": "Jaka jest największa liczba trzycyfrowa podzielna przez $12$?",
        "expression": "Największa: $\\lfloor \\frac{999}{12} \\rfloor \\cdot 12 = 83 \\cdot 12 = 996$",
        "explanation": "Znajdujemy ostatnią liczbę trzycyfrową podzielną przez $12$"
      },
      {
        "step": 5,
        "hint": "Ile jest wyrazów w ciągu arytmetycznym od $108$ do $996$ o różnicy $12$?",
        "expression": "$|A| = \\frac{996 - 108}{12} + 1 = \\frac{888}{12} + 1 = 74 + 1 = 75$",
        "explanation": "Liczba wyrazów ciągu: $\\frac{a_n - a_1}{r} + 1$"
      },
      {
        "step": 6,
        "hint": "Ile jest liczb trzycyfrowych podzielnych przez $15$?",
        "expression": "Najmniejsza: $\\lceil \\frac{100}{15} \\rceil \\cdot 15 = 7 \\cdot 15 = 105$",
        "explanation": "Pierwsza liczba trzycyfrowa podzielna przez $15$"
      },
      {
        "step": 7,
        "hint": "Jaka jest największa liczba trzycyfrowa podzielna przez $15$?",
        "expression": "Największa: $\\lfloor \\frac{999}{15} \\rfloor \\cdot 15 = 66 \\cdot 15 = 990$",
        "explanation": "Ostatnia liczba trzycyfrowa podzielna przez $15$"
      },
      {
        "step": 8,
        "hint": "Ile jest liczb podzielnych przez $15$ w zakresie trzycyfrowym?",
        "expression": "$|B| = \\frac{990 - 105}{15} + 1 = \\frac{885}{15} + 1 = 59 + 1 = 60$",
        "explanation": "Zliczamy liczby podzielne przez $15$"
      },
      {
        "step": 9,
        "hint": "Przez jaką liczbę muszą być podzielne liczby należące do $A \\cap B$?",
        "expression": "$NWW(12, 15) = NWW(2^2 \\cdot 3, 3 \\cdot 5) = 2^2 \\cdot 3 \\cdot 5 = 60$",
        "explanation": "Obliczamy NWW z rozkładu na czynniki pierwsze",
        "why": "NWW to najmniejsza liczba podzielna przez obie dane liczby. Bierzemy największe potęgi wszystkich czynników pierwszych.",
        "interactive_choice": {
          "prompt": "Liczby podzielne zarówno przez $12$ jak i przez $15$ są podzielne przez:",
          "options": [
            {
              "id": "A",
              "text": "$12 \\cdot 15 = 180$",
              "feedback": "Nie zawsze - to działa tylko gdy liczby są względnie pierwsze. Tu $NWD(12,15) = 3$.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$NWW(12, 15) = 60$",
              "feedback": "Dokładnie! Liczba podzielna przez obie musi być podzielna przez ich najmniejszą wspólną wielokrotność.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$NWD(12, 15) = 3$",
              "feedback": "Nie - NWD to największy wspólny dzielnik, a potrzebujemy wspólnej wielokrotności.",
              "is_correct": false
            }
          ],
          "explanation_after": "Liczby podzielne przez $a$ i $b$ są podzielne przez $NWW(a,b)$. Tu: $NWW(12,15) = 60$."
        }
      },
      {
        "step": 10,
        "hint": "Ile jest liczb trzycyfrowych podzielnych przez $60$?",
        "expression": "Najmniejsza: $\\lceil \\frac{100}{60} \\rceil \\cdot 60 = 2 \\cdot 60 = 120$",
        "explanation": "Pierwsza liczba trzycyfrowa podzielna przez $60$"
      },
      {
        "step": 11,
        "hint": "Jaka jest największa liczba trzycyfrowa podzielna przez $60$?",
        "expression": "Największa: $\\lfloor \\frac{999}{60} \\rfloor \\cdot 60 = 16 \\cdot 60 = 960$",
        "explanation": "Ostatnia liczba trzycyfrowa podzielna przez $60$"
      },
      {
        "step": 12,
        "hint": "Ile jest liczb podzielnych przez $60$ w zakresie trzycyfrowym?",
        "expression": "$|A \\cap B| = \\frac{960 - 120}{60} + 1 = \\frac{840}{60} + 1 = 14 + 1 = 15$",
        "explanation": "Zliczamy liczby podzielne przez $60$"
      },
      {
        "step": 13,
        "hint": "Jak obliczyć ostateczną odpowiedź używając zasady włączeń i wyłączeń?",
        "expression": "$|A \\cup B| = |A| + |B| - |A \\cap B| = 75 + 60 - 15 = 120$",
        "explanation": "Stosujemy wzór: dodajemy liczby podzielne przez $12$ i $15$, odejmujemy te policzone dwukrotnie"
      }
    ],
    "solutions": [
      "$120$"
    ],
    "parameters": {
      "range": "liczby trzycyfrowe: $[100, 999]$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 13,
        "stepsWithWhy": 2,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 2
      }
    },
    "timestamp": "2025-10-03T06:37:23.874Z"
  },
  {
    "id": "four_digit_divisible_4_and_9",
    "topic": "Podzielność liczb i kombinatoryka",
    "difficulty": 3,
    "statement": "Oblicz, ile jest wszystkich liczb czterocyfrowych podzielnych przez $4$ i $9$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jaki jest zakres liczb czterocyfrowych?",
        "expression": "Liczby czterocyfrowe: od $1000$ do $9999$",
        "explanation": "Najmniejsza liczba czterocyfrowa to $1000$, największa to $9999$"
      },
      {
        "step": 2,
        "hint": "Przez jaką liczbę musi być podzielna liczba, aby była podzielna jednocześnie przez $4$ i $9$?",
        "expression": "$NWW(4, 9) = 36$",
        "explanation": "Szukamy liczb podzielnych przez $36$",
        "why": "Gdy dwie liczby są względnie pierwsze (nie mają wspólnych dzielników oprócz 1), ich NWW to po prostu ich iloczyn. Tutaj $NWD(4,9) = 1$, więc $NWW(4,9) = 36$.",
        "interactive_choice": {
          "prompt": "Jeśli liczba jest podzielna przez $4$ i przez $9$, to przez co jeszcze jest podzielna?",
          "options": [
            {
              "id": "A",
              "text": "Przez $4 + 9 = 13$",
              "feedback": "Nie - suma nie daje podzielności. Jeśli $n$ dzieli się przez $a$ i $b$, to dzieli się przez ich NWW.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Przez $4 \\cdot 9 = 36$",
              "feedback": "Prawie! To działa gdy liczby są względnie pierwsze. Tutaj $NWD(4,9) = 1$, więc $NWW(4,9) = 36$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Przez $NWD(4,9) = 1$",
              "feedback": "NWD to największy wspólny dzielnik, ale szukamy najmniejszej wspólnej wielokrotności - NWW.",
              "is_correct": false
            }
          ],
          "explanation_after": "Liczba podzielna przez $a$ i $b$ jest podzielna przez $NWW(a,b)$. Ponieważ $4 = 2^2$ i $9 = 3^2$ są względnie pierwsze, $NWW(4,9) = 4 \\cdot 9 = 36$."
        }
      },
      {
        "step": 3,
        "hint": "Jaka jest najmniejsza liczba czterocyfrowa podzielna przez $36$?",
        "expression": "$\\lceil \\frac{1000}{36} \\rceil \\cdot 36 = 28 \\cdot 36 = 1008$",
        "explanation": "Dzielimy $1000$ przez $36$ i zaokrąglamy w górę: $\\frac{1000}{36} \\approx 27.78$, więc bierzemy $28$"
      },
      {
        "step": 4,
        "hint": "Jaka jest największa liczba czterocyfrowa podzielna przez $36$?",
        "expression": "$\\lfloor \\frac{9999}{36} \\rfloor \\cdot 36 = 277 \\cdot 36 = 9972$",
        "explanation": "Dzielimy $9999$ przez $36$ i zaokrąglamy w dół: $\\frac{9999}{36} \\approx 277.75$, więc bierzemy $277$"
      },
      {
        "step": 5,
        "hint": "Jak obliczyć ile jest wielokrotności $36$ od $1008$ do $9972$?",
        "expression": "$\\frac{9972 - 1008}{36} + 1 = \\frac{8964}{36} + 1 = 249 + 1 = 250$",
        "explanation": "Liczba wielokrotności $36$ w przedziale",
        "why": "Alternatywnie: wielokrotności to $28 \\cdot 36, 29 \\cdot 36, ..., 277 \\cdot 36$, czyli liczby od $28$ do $277$, co daje $277 - 28 + 1 = 250$ liczb.",
        "interactive_choice": {
          "prompt": "Mamy ciąg arytmetyczny: $1008, 1044, 1080, ..., 9972$. Jak policzyć ile jest wyrazów?",
          "options": [
            {
              "id": "A",
              "text": "Odjąć: $9972 - 1008 = 8964$",
              "feedback": "To daje różnicę między pierwszym a ostatnim wyrazem, ale nie liczbę wyrazów.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Podzielić: $\\frac{9972 - 1008}{36}$ i dodać $1$",
              "feedback": "Świetnie! To wzór na liczbę wyrazów ciągu arytmetycznego: $\\frac{a_n - a_1}{r} + 1$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć wzoru: $\\frac{277 - 28}{36}$",
              "feedback": "Nie - dzielisz przez niewłaściwą liczbę. Mamy $277 - 28 + 1$ wyrazów bezpośrednio.",
              "is_correct": false
            }
          ],
          "explanation_after": "W ciągu arytmetycznym od $a_1$ do $a_n$ z różnicą $r$ jest $\\frac{a_n - a_1}{r} + 1$ wyrazów. Możemy też policzyć: od $28$ do $277$ jest $277 - 28 + 1 = 250$ liczb."
        }
      },
      {
        "step": 6,
        "hint": "Ile jest liczb czterocyfrowych podzielnych przez $4$ i $9$?",
        "expression": "Odpowiedź: $250$ liczb",
        "explanation": "Jest dokładnie $250$ liczb czterocyfrowych podzielnych jednocześnie przez $4$ i $9$"
      }
    ],
    "solutions": [
      "$250$"
    ],
    "parameters": {
      "range": "liczby czterocyfrowe: $[1000, 9999]$",
      "divisors": "podzielne przez $4$ i $9$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 2
      }
    },
    "timestamp": "2025-10-03T06:37:54.532Z"
  },
  {
    "id": "counting_divisible_4_or_9",
    "topic": "Kombinatoryka i podzielność",
    "difficulty": 4,
    "statement": "Oblicz, ile jest wszystkich liczb czterocyfrowych podzielnych przez $4$ lub $9$.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile w ogóle jest liczb czterocyfrowych?",
        "expression": "Liczby czterocyfrowe: od $1000$ do $9999$",
        "explanation": "Zakres liczb czterocyfrowych",
        "why": "To podstawa do dalszych obliczeń. Liczb czterocyfrowych jest $9999 - 1000 + 1 = 9000$."
      },
      {
        "step": 2,
        "hint": "Którą metodę zastosować do zliczenia liczb podzielnych przez $4$ lub $9$?",
        "expression": "$|A \\cup B| = |A| + |B| - |A \\cap B|$",
        "explanation": "Stosujemy zasadę włączeń i wyłączeń dla zbiorów",
        "interactive_choice": {
          "prompt": "Jak policzyć liczby podzielne przez $4$ LUB $9$?",
          "options": [
            {
              "id": "A",
              "text": "Dodać: $(podzielne przez 4) + (podzielne przez 9)$",
              "feedback": "Uwaga! To policzy dwukrotnie liczby podzielne przez oba - trzeba użyć zasady włączeń i wyłączeń.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Użyć zasady włączeń-wyłączeń: $|A \\cup B| = |A| + |B| - |A \\cap B|$",
              "feedback": "Doskonale! To uwzględni liczby podzielne przez oba, liczone dwukrotnie.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Policzyć bezpośrednio wszystkie liczby spełniające warunek",
              "feedback": "Możliwe, ale bardzo pracochłonne dla $9000$ liczb.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zasada włączeń-wyłączeń: liczby podzielne przez $4$ PLUS przez $9$ MINUS te podzielne przez oba (aby nie liczyć dwukrotnie)."
        }
      },
      {
        "step": 3,
        "hint": "Ile jest liczb czterocyfrowych podzielnych przez 4?",
        "expression": "Najmniejsza: $1000$, największa: $9996$",
        "explanation": "Znajdujemy zakres liczb podzielnych przez $4$"
      },
      {
        "step": 4,
        "hint": "Jak obliczyć liczbę wyrazów ciągu arytmetycznego?",
        "expression": "$|A| = \\frac{9996 - 1000}{4} + 1 = \\frac{8996}{4} + 1 = 2249 + 1 = 2250$",
        "explanation": "Liczba wyrazów ciągu: $\\frac{ostatni - pierwszy}{różnica} + 1$",
        "why": "To standardowy wzór na liczbę elementów ciągu arytmetycznego o różnicy $d$."
      },
      {
        "step": 5,
        "hint": "Ile jest liczb czterocyfrowych podzielnych przez 9?",
        "expression": "Najmniejsza: $1008$, największa: $9999$",
        "explanation": "Znajdujemy zakres liczb podzielnych przez $9$"
      },
      {
        "step": 6,
        "hint": "Ile wynosi liczba liczb podzielnych przez 9?",
        "expression": "$|B| = \\frac{9999 - 1008}{9} + 1 = \\frac{8991}{9} + 1 = 999 + 1 = 1000$",
        "explanation": "Obliczamy liczbę wyrazów dla podzielnych przez $9$"
      },
      {
        "step": 7,
        "hint": "Przez co są podzielne liczby należące do obu zbiorów?",
        "expression": "$NWW(4, 9) = 36$",
        "explanation": "Liczby z części wspólnej są podzielne przez $36$",
        "interactive_choice": {
          "prompt": "Liczby podzielne ZARÓWNO przez $4$ JAK I przez $9$ są podzielne przez:",
          "options": [
            {
              "id": "A",
              "text": "Przez $4 + 9 = 13$",
              "feedback": "Nie - suma nie daje wspólnej podzielności.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Przez $4 \\cdot 9 = 36$",
              "feedback": "Prawie! Ale $NWW(4,9) = 36$ bo $4$ i $9$ są względnie pierwsze.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Przez $NWD(4,9) = 1$",
              "feedback": "NWD to największy wspólny dzielnik - tu potrzebujemy najmniejszej wspólnej wielokrotności.",
              "is_correct": false
            }
          ],
          "explanation_after": "Liczby podzielne przez $4$ i $9$ są podzielne przez $NWW(4,9) = 36$, bo $NWD(4,9) = 1$."
        }
      },
      {
        "step": 8,
        "hint": "Ile jest liczb czterocyfrowych podzielnych przez $36$?",
        "expression": "Najmniejsza: $1008$, największa: $9972$",
        "explanation": "Znajdujemy zakres liczb podzielnych przez $36$"
      },
      {
        "step": 9,
        "hint": "Ile wynosi liczba liczb podzielnych przez $36$?",
        "expression": "$|A \\cap B| = \\frac{9972 - 1008}{36} + 1 = \\frac{8964}{36} + 1 = 249 + 1 = 250$",
        "explanation": "Obliczamy liczbę wyrazów dla podzielnych przez $36$"
      },
      {
        "step": 10,
        "hint": "Jak teraz zastosować zasadę włączeń-wyłączeń?",
        "expression": "$|A \\cup B| = 2250 + 1000 - 250 = 3000$",
        "explanation": "Stosujemy wzór zasady włączeń-wyłączeń",
        "interactive_choice": {
          "prompt": "Jak obliczyć ostateczny wynik używając $|A| = 2250$, $|B| = 1000$, $|A \\cap B| = 250$?",
          "options": [
            {
              "id": "A",
              "text": "$2250 + 1000 = 3250$",
              "feedback": "To policzy dwukrotnie liczby podzielne przez oba!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$2250 + 1000 - 250 = 3000$",
              "feedback": "Świetnie! Odejmujemy część wspólną policzoną dwukrotnie.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$2250 - 250 + 1000 = 3000$",
              "feedback": "Wynik poprawny, ale kolejność działań nietypowa - lepiej: suma minus część wspólna.",
              "is_correct": true
            }
          ],
          "explanation_after": "Dodajemy oba zbiory i odejmujemy część wspólną, która została policzona dwukrotnie."
        }
      },
      {
        "step": 11,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "Liczb czterocyfrowych podzielnych przez $4$ lub $9$ jest $3000$",
        "explanation": "Otrzymujemy końcowy wynik"
      }
    ],
    "solutions": [
      "$3000$"
    ],
    "parameters": {
      "range": "liczby czterocyfrowe: $1000$ do $9999$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 11,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-10-03T06:38:35.521Z"
  },
  {
    "id": "combinatorics_three_letter_codes",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 2,
    "statement": "Dane są zbiory $A=\\{a, b, c, d, e\\}$, $B=\\{i, n, k\\}$ oraz $C=\\{o, p, r\\}$. Tworzymy trzyliterowe kody, w których pierwsza litera należy do zbioru $A$, druga do zbioru $B$, a trzecia do zbioru $C$. Oblicz, ile kodów trzyliterowych można utworzyć w ten sposób.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile elementów ma każdy ze zbiorów?",
        "expression": "$|A| = 5$, $|B| = 3$, $|C| = 3$",
        "explanation": "Liczymy elementy w każdym zbiorze"
      },
      {
        "step": 2,
        "hint": "Jak wygląda struktura tworzonego kodu?",
        "expression": "Kod ma postać: (litera z $A$)(litera z $B$)(litera z $C$)",
        "explanation": "Każdy kod składa się z trzech pozycji, każda z innego zbioru"
      },
      {
        "step": 3,
        "hint": "Którą metodę kombinatoryczną zastosować do tego problemu?",
        "expression": "Stosujemy zasadę mnożenia",
        "explanation": "Dla każdego wyboru pierwszej litery mamy wszystkie możliwości drugiej i trzeciej",
        "why": "Zasada mnożenia: gdy wykonujemy kilka niezależnych wyborów po kolei, całkowitą liczbę możliwości otrzymujemy mnożąc liczby możliwości na każdym etapie.",
        "interactive_choice": {
          "prompt": "Jak obliczyć liczbę możliwych kodów trzyliterowych?",
          "options": [
            {
              "id": "A",
              "text": "Dodać liczby elementów: $5 + 3 + 3$",
              "feedback": "Nie - dodawanie używamy gdy wybieramy ALBO z jednego ALBO z drugiego zbioru. Tu wybieramy z każdego!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pomnożyć liczby elementów: $5 \\cdot 3 \\cdot 3$",
              "feedback": "Doskonale! To zasada mnożenia - dla każdego wyboru z pierwszego zbioru mamy wszystkie możliwości z kolejnych.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć wzoru na permutacje: $\\frac{11!}{5! \\cdot 3! \\cdot 3!}$",
              "feedback": "Nie - permutacje używamy gdy zależy nam na kolejności wszystkich elementów. Tu wybieramy po jednym z każdego zbioru.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zasada mnożenia: jeśli wybór składa się z kilku niezależnych etapów, mnożymy liczby możliwości na każdym etapie."
        }
      },
      {
        "step": 4,
        "hint": "Ile mamy możliwości wyboru pierwszej litery?",
        "expression": "Pierwsza pozycja: $5$ możliwości (litery ze zbioru $A$)",
        "explanation": "Możemy wybrać dowolną z 5 liter: $a$, $b$, $c$, $d$ lub $e$"
      },
      {
        "step": 5,
        "hint": "Ile mamy możliwości wyboru drugiej litery dla każdej pierwszej?",
        "expression": "Druga pozycja: $3$ możliwości (litery ze zbioru $B$)",
        "explanation": "Dla każdej pierwszej litery możemy wybrać $i$, $n$ lub $k$"
      },
      {
        "step": 6,
        "hint": "Ile mamy możliwości wyboru trzeciej litery dla każdej pary pierwszych dwóch?",
        "expression": "Trzecia pozycja: $3$ możliwości (litery ze zbioru $C$)",
        "explanation": "Dla każdej pary pierwszych liter możemy wybrać $o$, $p$ lub $r$"
      },
      {
        "step": 7,
        "hint": "Jak obliczyć całkowitą liczbę kodów?",
        "expression": "$5 \\cdot 3 \\cdot 3 = 45$",
        "explanation": "Mnożymy liczby możliwości na każdej pozycji",
        "interactive_choice": {
          "prompt": "Czy kolejność wyboru liter ma znaczenie dla wyniku?",
          "options": [
            {
              "id": "A",
              "text": "Tak, musimy uwzględnić różne kolejności",
              "feedback": "Nie - kolejność jest już ustalona (pierwsza z $A$, druga z $B$, trzecia z $C$). Po prostu mnożymy!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Nie, po prostu mnożymy liczby możliwości",
              "feedback": "Zgadza się! Struktura kodu jest ustalona, więc wystarczy pomnożyć $5 \\cdot 3 \\cdot 3$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Musimy podzielić przez liczbę powtórzeń",
              "feedback": "Nie - nie ma tu powtórzeń do wyeliminowania. Każdy kod jest unikalny.",
              "is_correct": false
            }
          ],
          "explanation_after": "Struktura kodu jest sztywna (pozycja 1: $A$, pozycja 2: $B$, pozycja 3: $C$), więc bezpośrednio mnożymy liczby możliwości."
        }
      },
      {
        "step": 8,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "Można utworzyć $45$ różnych kodów trzyliterowych",
        "explanation": "Otrzymujemy $45$ unikalnych kombinacji"
      }
    ],
    "solutions": [
      "$45$"
    ],
    "parameters": {
      "sets": "$A=\\{a, b, c, d, e\\}$, $B=\\{i, n, k\\}$, $C=\\{o, p, r\\}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 1,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 2
      }
    },
    "timestamp": "2025-10-03T06:39:02.133Z"
  },
  {
    "id": "combinatorics_three_letter_codes",
    "topic": "Kombinatoryka - reguła mnożenia",
    "difficulty": 2,
    "statement": "Dane są zbiory $A=\\{a, b, c, d, e\\}$, $B=\\{i, n, k\\}$ oraz $C=\\{o, p, r\\}$. Tworzymy trzyliterowe kody, w których pierwsza litera należy do zbioru $A$, druga do zbioru $B$, a trzecia do zbioru $C$. Oblicz, ile trzyliterowych kodów można utworzyć w ten sposób, wykorzystując tylko spółgłoski.",
    "steps": [
      {
        "step": 1,
        "hint": "Które litery w zbiorze $A=\\{a, b, c, d, e\\}$ są spółgłoskami?",
        "expression": "Spółgłoski w zbiorze $A$: $\\{b, c, d\\}$",
        "explanation": "Litera $a$ i $e$ to samogłoski, więc zostają $b, c, d$"
      },
      {
        "step": 2,
        "hint": "Które litery w zbiorze $B=\\{i, n, k\\}$ są spółgłoskami?",
        "expression": "Spółgłoski w zbiorze $B$: $\\{n, k\\}$",
        "explanation": "Litera 'i' to samogłoska, więc zostają $n$, $k$"
      },
      {
        "step": 3,
        "hint": "Które litery w zbiorze $C=\\{o, p, r\\}$ są spółgłoskami?",
        "expression": "Spółgłoski w zbiorze $C$: $\\{p, r\\}$",
        "explanation": "Litera 'o' to samogłoska, więc zostają $p$, $r$"
      },
      {
        "step": 4,
        "hint": "Ile spółgłosek możemy wybrać na każdą pozycję w kodzie?",
        "expression": "Pozycja 1: $3$ spółgłoski, Pozycja 2: $2$ spółgłoski, Pozycja 3: $2$ spółgłoski",
        "explanation": "Zliczamy dostępne spółgłoski na każdej pozycji",
        "why": "Stosujemy regułę mnożenia, ponieważ wybory na poszczególnych pozycjach są niezależne - dla każdego wyboru pierwszej litery mamy wszystkie możliwości wyboru drugiej i trzeciej.",
        "interactive_choice": {
          "prompt": "Jak obliczyć liczbę możliwych kodów złożonych z trzech pozycji?",
          "options": [
            {
              "id": "A",
              "text": "Dodać liczby spółgłosek: $3 + 2 + 2$",
              "feedback": "Nie - dodawanie używamy gdy wybieramy ALBO jedno ALBO drugie. Tu wybieramy wszystkie pozycje naraz.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pomnożyć liczby spółgłosek: $3 \\cdot 2 \\cdot 2$",
              "feedback": "Doskonale! To reguła mnożenia - dla każdego wyboru z pierwszej pozycji mamy wszystkie możliwości z drugiej, itd.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć wzoru na permutacje: $\\frac{7!}{(7-3)!}$",
              "feedback": "Nie - permutacje używamy gdy wybieramy z jednego zbioru. Tu mamy trzy różne zbiory.",
              "is_correct": false
            }
          ],
          "explanation_after": "Reguła mnożenia: jeśli mamy $n_1$ możliwości na pierwszej pozycji, $n_2$ na drugiej i $n_3$ na trzeciej, to łącznie mamy $n_1 \\cdot n_2 \\cdot n_3$ możliwości."
        }
      },
      {
        "step": 5,
        "hint": "Ile wynosi iloczyn $3 \\cdot 2 \\cdot 2$?",
        "expression": "$3 \\cdot 2 \\cdot 2 = 12$",
        "explanation": "Obliczamy liczbę wszystkich możliwych kodów"
      },
      {
        "step": 6,
        "hint": "Czy możemy sprawdzić wynik na przykładzie?",
        "expression": "Przykładowe kody: $bnp$, $bnr$, $bkp$, $bkr$, $cnp$, $cnr$, $ckp$, $ckr$, $dnp$, $dnr$, $dkp$, $dkr$",
        "explanation": "Weryfikujemy wynik wypisując wszystkie możliwe kody",
        "interactive_choice": {
          "prompt": "Jak zweryfikować, że wynik $12$ jest poprawny?",
          "options": [
            {
              "id": "A",
              "text": "Wypisać kilka przykładowych kodów: $bnp$, $bkp$, $bnr$...",
              "feedback": "Dobry pomysł! Możesz sprawdzić czy da się utworzyć $12$ różnych kodów.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Policzyć kody dla jednej litery z $A$ i pomnożyć przez $3$",
              "feedback": "Świetnie! Dla $b$ mamy $2 \\cdot 2 = 4$ kody, więc $3 \\cdot 4 = 12$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Nie trzeba sprawdzać - reguła mnożenia zawsze działa",
              "feedback": "Choć reguła jest poprawna, weryfikacja pomaga zrozumieć problem i uniknąć błędów.",
              "is_correct": false
            }
          ],
          "explanation_after": "Weryfikacja wyniku to dobra praktyka. Dla $b$: $bnp$, $bnr$, $bkp$, $bkr$ (4 kody). Analogicznie dla $c$ i $d$, razem $3 \\cdot 4 = 12$."
        }
      }
    ],
    "solutions": [
      "$12$"
    ],
    "parameters": {
      "sets": "$A=\\{a, b, c, d, e\\}$, $B=\\{i, n, k\\}$, $C=\\{o, p, r\\}$",
      "consonants_A": "$\\{b, c, d\\}$",
      "consonants_B": "$\\{n, k\\}$",
      "consonants_C": "$\\{p, r\\}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 1,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:39:29.487Z"
  },
  {
    "id": "parity_counting_problem",
    "topic": "Kombinatoryka - parzystość sum",
    "difficulty": 4,
    "statement": "Dane są zbiory $A=\\{0,1,2\\}$, $B=\\{3,4,5,6,7,8,9\\}$ oraz $C=\\{10,11,12,13,14,15\\}$. Niech $a \\in A$, $b \\in B$, $c \\in C$. Oblicz, na ile sposobów można wybrać trójkę liczb $(a, b, c)$ taką, że suma $a+b+c$ jest liczbą parzystą.",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy suma trzech liczb jest parzysta?",
        "expression": "Suma parzysta $\\Leftrightarrow$ $0$ lub $2$ nieparzyste składniki",
        "explanation": "Analizujemy parzystość sumy trzech liczb",
        "why": "To kluczowa obserwacja - zamiast sprawdzać wszystkie kombinacje, dzielimy problem na przypadki według parzystości.",
        "interactive_choice": {
          "prompt": "Jakie kombinacje parzystości trzech liczb dają sumę parzystą?",
          "options": [
            {
              "id": "A",
              "text": "Wszystkie trzy parzyste LUB wszystkie trzy nieparzyste",
              "feedback": "Nie do końca - sprawdź: $2+2+1=5$ (nieparzyste!). Liczy się liczba nieparzystych.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Parzysta liczba nieparzystych składników ($0$ lub $2$ nieparzyste)",
              "feedback": "Dokładnie! $0$ nieparzystych: $P+P+P=P$, $2$ nieparzyste: $N+N+P=P$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Co najmniej dwa składniki parzyste",
              "feedback": "Nie - $N+N+N=N$ (trzy nieparzyste dają nieparzystą), a to też ma dwa nieparzyste.",
              "is_correct": false
            }
          ],
          "explanation_after": "Suma jest parzysta gdy mamy parzystą liczbę nieparzystych składników: PPP lub NNP (w dowolnej kolejności)."
        }
      },
      {
        "step": 2,
        "hint": "Które liczby w zbiorze $A$ są parzyste, a które nieparzyste?",
        "expression": "$A = \\{0, 1, 2\\}$: parzyste $\\{0, 2\\}$, nieparzyste $\\{1\\}$",
        "explanation": "W zbiorze $A$ mamy $2$ liczby parzyste i $1$ nieparzystą"
      },
      {
        "step": 3,
        "hint": "Które liczby w zbiorze $B$ są parzyste, a które nieparzyste?",
        "expression": "$B = \\{3, 4, 5, 6, 7, 8, 9\\}$: parzyste $\\{4, 6, 8\\}$, nieparzyste $\\{3, 5, 7, 9\\}$",
        "explanation": "W zbiorze $B$ mamy $3$ liczby parzyste i $4$ nieparzyste"
      },
      {
        "step": 4,
        "hint": "Które liczby w zbiorze $\\mathbb{C}$ są parzyste, a które nieparzyste?",
        "expression": "$C = \\{10, 11, 12, 13, 14, 15\\}$: parzyste $\\{10, 12, 14\\}$, nieparzyste $\\{11, 13, 15\\}$",
        "explanation": "W zbiorze $C$ mamy $3$ liczby parzyste i $3$ nieparzyste"
      },
      {
        "step": 5,
        "hint": "Jakie przypadki dają sumę parzystą?",
        "expression": "Przypadki: I) $PPP$, II) $NNP$, III) $NPN$, IV) $PNN$",
        "explanation": "Rozbijamy na 4 rozłączne przypadki",
        "interactive_choice": {
          "prompt": "Które kombinacje parzystości $a$, $b$, $c$ dają sumę parzystą?",
          "options": [
            {
              "id": "A",
              "text": "Przypadek I: $PPP$ (wszystkie parzyste)",
              "feedback": "Tak! To daje $0$ nieparzystych składników.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Przypadek II: $NNP$, $NPN$, $PNN$ (dokładnie $2$ nieparzyste)",
              "feedback": "Świetnie! To wszystkie możliwości z $2$ nieparzystymi.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Przypadek III: $NNN$ (wszystkie nieparzyste)",
              "feedback": "Nie - to daje $3$ nieparzyste składniki, więc sumę nieparzystą!",
              "is_correct": false
            }
          ],
          "explanation_after": "Musimy rozpatrzyć: PPP ($0$ nieparzystych) oraz wszystkie układy z dokładnie $2$ nieparzystymi."
        }
      },
      {
        "step": 6,
        "hint": "Ile jest trójek ($a$, $b$, $c$) typu PPP?",
        "expression": "Przypadek I (PPP): $2 \\cdot 3 \\cdot 3 = 18$",
        "explanation": "Wybieramy: parzystą z $A$ ($2$ możliwości), parzystą z $B$ ($3$ możliwości), parzystą z $C$ ($3$ możliwości)"
      },
      {
        "step": 7,
        "hint": "Ile jest trójek ($a$, $b$, $c$) typu NNP?",
        "expression": "Przypadek II (NNP): $1 \\cdot 4 \\cdot 3 = 12$",
        "explanation": "Nieparzysta z $A$ ($1$), nieparzysta z $B$ ($4$), parzysta z $C$ ($3$)"
      },
      {
        "step": 8,
        "hint": "Ile jest trójek ($a$, $b$, $c$) typu NPN?",
        "expression": "Przypadek III (NPN): $1 \\cdot 3 \\cdot 3 = 9$",
        "explanation": "Nieparzysta z $A$ ($1$), parzysta z $B$ ($3$), nieparzysta z $C$ ($3$)"
      },
      {
        "step": 9,
        "hint": "Ile jest trójek $a$, $b$, $c$ typu PNN?",
        "expression": "Przypadek IV (PNN): $2 \\cdot 4 \\cdot 3 = 24$",
        "explanation": "Parzysta z $A$ ($2$), nieparzysta z $B$ ($4$), nieparzysta z $C$ ($3$)"
      },
      {
        "step": 10,
        "hint": "Jak obliczyć całkowitą liczbę trójek o parzystej sumie?",
        "expression": "$18 + 12 + 9 + 24 = 63$",
        "explanation": "Sumujemy wszystkie rozłączne przypadki",
        "interactive_choice": {
          "prompt": "Dlaczego możemy dodać wyniki z poszczególnych przypadków?",
          "options": [
            {
              "id": "A",
              "text": "Bo przypadki się wykluczają - każda trójka należy do dokładnie jednego przypadku",
              "feedback": "Dokładnie! Zasada sumy: gdy zdarzenia są rozłączne, prawdopodobieństwa/liczności się dodają.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Bo wszystkie przypadki są jednakowo prawdopodobne",
              "feedback": "To nie jest powód - dodajemy bo przypadki są rozłączne, nie bo są równoprawdopodobne.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Bo używamy reguły mnożenia",
              "feedback": "Reguła mnożenia była w każdym przypadku osobno. Tu używamy reguły dodawania dla zdarzeń rozłącznych.",
              "is_correct": false
            }
          ],
          "explanation_after": "Przypadki są rozłączne (żadna trójka nie należy do dwóch przypadków jednocześnie), więc stosujemy regułę sumy."
        }
      }
    ],
    "solutions": [
      "$63$"
    ],
    "parameters": {
      "sets": "$A=\\{0,1,2\\}$, $B=\\{3,4,5,6,7,8,9\\}$, $C=\\{10,11,12,13,14,15\\}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-10-03T06:40:15.292Z"
  },
  {
    "id": "combinatorics_seven_digit",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 2,
    "statement": "Oblicz, ile liczb siedmiocyfrowych można utworzyć z cyfr należących do zbioru $\\{2,3,4,5,6,7,8,9\\}$ jeżeli cyfry w tej liczbie mogą się powtarzać.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr mamy do dyspozycji w zbiorze?",
        "expression": "Zbiór $\\{2,3,4,5,6,7,8,9\\}$ zawiera $8$ cyfr",
        "explanation": "Liczymy elementy zbioru"
      },
      {
        "step": 2,
        "hint": "Ile pozycji musimy zapełnić w liczbie siedmiocyfrowej?",
        "expression": "Liczba siedmiocyfrowa ma $7$ pozycji do zapełnienia",
        "explanation": "Każda pozycja to miejsce na jedną cyfrę"
      },
      {
        "step": 3,
        "hint": "Którą metodę kombinatoryczną zastosować do tego problemu?",
        "expression": "Zasada mnożenia: dla każdej z $7$ pozycji liczymy możliwości",
        "explanation": "Każda pozycja jest niezależna, cyfry mogą się powtarzać",
        "why": "Zasada mnożenia mówi: jeśli mamy $k$ niezależnych wyborów z odpowiednio $n_1$, $n_2$, ..., $n_k$ możliwościami, to łączna liczba sposobów to $n_1 \\cdot n_2 \\cdot ... \\cdot n_k$",
        "interactive_choice": {
          "prompt": "Jak obliczyć liczbę możliwych liczb siedmiocyfrowych z powtórzeniami?",
          "options": [
            {
              "id": "A",
              "text": "Użyć permutacji bez powtórzeń $P_8$",
              "feedback": "Nie - permutacje bez powtórzeń to gdy każda cyfra może wystąpić tylko raz",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Użyć zasady mnożenia: dla każdej pozycji policzyć możliwości",
              "feedback": "Doskonale! Cyfry mogą się powtarzać, więc dla każdej pozycji mamy tyle samo wyborów",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć kombinacji $\\binom{8}{7}$",
              "feedback": "Nie - kombinacje to wybór podzbioru, a tu tworzymy ciąg z powtórzeniami",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy cyfry mogą się powtarzać, stosujemy zasadę mnożenia - mnożymy liczbę możliwości dla każdej pozycji."
        }
      },
      {
        "step": 4,
        "hint": "Ile cyfr możemy wybrać na pierwszą pozycję?",
        "expression": "Na pierwszą pozycję: $8$ możliwości",
        "explanation": "Możemy wybrać dowolną z $8$ cyfr ze zbioru"
      },
      {
        "step": 5,
        "hint": "Czy na drugą pozycję mamy więcej, mniej czy tyle samo możliwości?",
        "expression": "Na drugą pozycję: $8$ możliwości",
        "explanation": "Cyfry mogą się powtarzać, więc znów $8$ wyborów",
        "interactive_choice": {
          "prompt": "Ile cyfr możemy wybrać na drugą pozycję?",
          "options": [
            {
              "id": "A",
              "text": "$7$ cyfr - bo jedna została już użyta",
              "feedback": "Nie - cyfry MOGĄ SIĘ POWTARZAĆ! Możemy użyć tej samej cyfry ponownie",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$8$ cyfr - cyfry mogą się powtarzać",
              "feedback": "Tak! Powtórzenia są dozwolone, więc znów mamy wszystkie $8$ cyfr do wyboru",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "9 cyfr - bo możemy też użyć $0$ lub $1$",
              "feedback": "Nie - możemy używać tylko cyfr ze zbioru $\\{2,3,4,5,6,7,8,9\\}$",
              "is_correct": false
            }
          ],
          "explanation_after": "Kluczowe słowo w zadaniu: 'cyfry mogą się powtarzać' - oznacza to, że na każdej pozycji mamy pełny wybór wszystkich $8$ cyfr."
        }
      },
      {
        "step": 6,
        "hint": "Ile możliwości jest na każdej z pozostałych pozycji?",
        "expression": "Na każdą z $7$ pozycji: $8$ możliwości",
        "explanation": "Dla każdej pozycji mamy te same $8$ cyfr do wyboru"
      },
      {
        "step": 7,
        "hint": "Jak obliczyć całkowitą liczbę możliwości?",
        "expression": "$8 \\cdot 8 \\cdot 8 \\cdot 8 \\cdot 8 \\cdot 8 \\cdot 8 = 8^7$",
        "explanation": "Mnożymy liczbę możliwości dla każdej z $7$ pozycji"
      },
      {
        "step": 8,
        "hint": "Ile wynosi $8^7$?",
        "expression": "$8^7 = 2097152$",
        "explanation": "Obliczamy potęgę"
      }
    ],
    "solutions": [
      "$8^7 = 2097152$"
    ],
    "parameters": {
      "set": "$\\{2,3,4,5,6,7,8,9\\}$",
      "repetitions": "dozwolone"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 1,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 2
      }
    },
    "timestamp": "2025-10-03T06:40:50.710Z"
  },
  {
    "id": "permutations_fixed_position",
    "topic": "Permutacje z warunkiem",
    "difficulty": 3,
    "statement": "Oblicz, ile liczb siedmiocyfrowych można utworzyć z cyfr należących do zbioru $\\{2,3,4,5,6,7,8,9\\}$ jeżeli cyfry w liczbie nie powtarzają się, a siódemka jest trzecią cyfrą w tej liczbie.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr mamy do dyspozycji i ile miejsc do zapełnienia?",
        "expression": "Mamy 8 cyfr: $\\{2,3,4,5,6,7,8,9\\}$ i $7$ pozycji do zapełnienia",
        "explanation": "Identyfikujemy dane: $8$ różnych cyfr, liczba siedmiocyfrowa ($7$ pozycji)"
      },
      {
        "step": 2,
        "hint": "Co oznacza warunek, że siódemka jest trzecią cyfrą?",
        "expression": "Pozycja $3$ jest zajęta przez cyfrę $7$: _ _ $7$ _ _ _ _",
        "explanation": "Trzecia pozycja jest ustalona, pozostaje $6$ wolnych pozycji"
      },
      {
        "step": 3,
        "hint": "Którą metodę zastosujemy do rozwiązania tego problemu?",
        "expression": "Cyfra $7$ zajmuje pozycję $3$, zostaje $7$ cyfr: $\\{2,3,4,5,6,8,9\\}$",
        "explanation": "Po ustaleniu cyfry $7$ na pozycji $3$, mamy $7$ pozostałych cyfr do rozmieszczenia",
        "interactive_choice": {
          "prompt": "Jak podejść do problemu z ustaloną pozycją jednej cyfry?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw ustalić cyfrę $7$, potem rozmieścić pozostałe",
              "feedback": "Świetnie! To najprostsze podejście - cyfra $7$ jest już na miejscu, zostaje rozmieścić $7$ cyfr na $6$ pozycjach.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Obliczyć wszystkie permutacje i odjąć te bez $7$ na pozycji $3$",
              "feedback": "Możliwe, ale bardzo skomplikowane - musielibyśmy odejmować wiele przypadków.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru na permutacje z powtórzeniami",
              "feedback": "Nie - cyfry się nie powtarzają, więc to nie jest odpowiedni wzór.",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy jedna pozycja jest ustalona, najłatwiej jest ją zignorować i skupić się na pozostałych."
        }
      },
      {
        "step": 4,
        "hint": "Ile mamy wolnych pozycji do zapełnienia?",
        "expression": "Mamy $6$ wolnych pozycji: pozycje $1$, $2$, $4$, $5$, $6$, $7$",
        "explanation": "Pozycja $3$ jest zajęta, więc pozostaje $6$ miejsc",
        "why": "To kluczowy moment - musimy wybrać $6$ cyfr z $7$ dostępnych i je uporządkować. To jest permutacja bez powtórzeń."
      },
      {
        "step": 5,
        "hint": "Jak obliczyć liczbę sposobów wyboru i uporządkowania $6$ cyfr z $7$?",
        "expression": "$V_7^6 = \\frac{7!}{(7-6)!} = \\frac{7!}{1!} = 7!$",
        "explanation": "Stosujemy wzór na wariacje bez powtórzeń",
        "interactive_choice": {
          "prompt": "Który wzór zastosować do wyboru i uporządkowania $6$ cyfr z $7$?",
          "options": [
            {
              "id": "A",
              "text": "Permutacje: $P(7) = 7!$",
              "feedback": "Nie - to byłoby gdybyśmy używali wszystkich $7$ cyfr.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Wariacje: $V_7^6 = \\frac{7!}{(7-6)!} = \\frac{7!}{1!}$",
              "feedback": "Dokładnie! Wybieramy $6$ z $7$ cyfr i kolejność ma znaczenie.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Kombinacje: $C_7^6 = \\binom{7}{6}$",
              "feedback": "Nie - kombinacje nie uwzględniają kolejności, a tu kolejność cyfr jest istotna.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wariacje bez powtórzeń $V_n^k$ używamy gdy wybieramy $k$ elementów z $n$ i kolejność ma znaczenie."
        }
      },
      {
        "step": 6,
        "hint": "Jak obliczyć wartość $7!$?",
        "expression": "$7! = 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1$",
        "explanation": "Rozpisujemy silnię"
      },
      {
        "step": 7,
        "hint": "Jaki jest wynik mnożenia?",
        "expression": "$7! = 5040$",
        "explanation": "Obliczamy: $7 \\cdot 6 = 42$, $42 \\cdot 5 = 210$, $210 \\cdot 4 = 840$, $840 \\cdot 3 = 2520$, $2520 \\cdot 2 = 5040$"
      },
      {
        "step": 8,
        "hint": "Ile liczb siedmiocyfrowych spełnia warunki zadania?",
        "expression": "Można utworzyć $5040$ liczb siedmiocyfrowych",
        "explanation": "Odpowiedź: $5040$ liczb z cyfrą $7$ na trzeciej pozycji"
      }
    ],
    "solutions": [
      "$5040$"
    ],
    "parameters": {
      "available_digits": "$\\{2,3,4,5,6,7,8,9\\}$",
      "fixed_position": "cyfra $7$ na pozycji $3$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 1,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 2
      }
    },
    "timestamp": "2025-10-03T06:41:21.137Z"
  },
  {
    "id": "phone_code_last_digit_8",
    "topic": "Kombinatoryka - reguła mnożenia",
    "difficulty": 2,
    "statement": "Kod do telefonu złożony jest z czterech cyfr. Oblicz, ile jest takich kodów, w których na ostatnim miejscu stoi cyfra $8$.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr możemy użyć do tworzenia kodu?",
        "expression": "Cyfry: $0, 1, 2, 3, 4, 5, 6, 7, 8, 9$ - razem $10$ cyfr",
        "explanation": "Mamy do dyspozycji wszystkie cyfry od $0$ do $9$"
      },
      {
        "step": 2,
        "hint": "Jaką strukturę ma kod czterocyfrowy?",
        "expression": "Kod: _ _ _ $8$ (ostatnie miejsce ustalone)",
        "explanation": "Ostatnie miejsce jest już zajęte przez cyfrę $8$",
        "interactive_choice": {
          "prompt": "Jak najlepiej myśleć o kodzie czterocyfrowym?",
          "options": [
            {
              "id": "A",
              "text": "Jako cztery miejsca do wypełnienia: $\\_$ $\\_$ $\\_$ $\\_$",
              "feedback": "Świetnie! To pozwala zastosować regułę mnożenia - każde miejsce niezależnie.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Jako jedną liczbę od $0000$ do $9999$",
              "feedback": "Można tak myśleć, ale trudniej uwzględnić warunek o ostatniej cyfrze.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Jako permutację czterech cyfr",
              "feedback": "Nie - cyfry mogą się powtarzać, więc to nie jest permutacja.",
              "is_correct": false
            }
          ],
          "explanation_after": "Myślenie o miejscach do wypełnienia pozwala zastosować regułę mnożenia."
        }
      },
      {
        "step": 3,
        "hint": "Ile możliwości mamy dla pierwszego miejsca?",
        "expression": "Pierwsze miejsce: $10$ możliwości (dowolna cyfra od $0$ do $9$)",
        "explanation": "Na pierwszym miejscu może być dowolna z $10$ cyfr"
      },
      {
        "step": 4,
        "hint": "Ile możliwości mamy dla drugiego miejsca?",
        "expression": "Drugie miejsce: $10$ możliwości (dowolna cyfra od $0$ do $9$)",
        "explanation": "Na drugim miejscu również może być dowolna z $10$ cyfr"
      },
      {
        "step": 5,
        "hint": "Ile możliwości mamy dla trzeciego miejsca?",
        "expression": "Trzecie miejsce: $10$ możliwości (dowolna cyfra od $0$ do $9$)",
        "explanation": "Na trzecim miejscu również może być dowolna z $10$ cyfr"
      },
      {
        "step": 6,
        "hint": "Ile możliwości mamy dla czwartego miejsca?",
        "expression": "Czwarte miejsce: $1$ możliwość (tylko cyfra $8$)",
        "explanation": "Ostatnie miejsce jest ustalone - musi być cyfra $8$"
      },
      {
        "step": 7,
        "hint": "Jak obliczyć całkowitą liczbę kodów?",
        "expression": "$10 \\cdot 10 \\cdot 10 \\cdot 1 = 1000$",
        "explanation": "Mnożymy liczby możliwości dla każdego miejsca",
        "why": "Reguła mnożenia: jeśli mamy $n_1$ możliwości dla pierwszego wyboru, $n_2$ dla drugiego itd., to łącznie mamy $n_1 \\cdot n_2 \\cdot ... \\cdot n_k$ możliwości.",
        "interactive_choice": {
          "prompt": "Którą regułę zastosować do obliczenia liczby wszystkich kodów?",
          "options": [
            {
              "id": "A",
              "text": "Reguła mnożenia: $10 \\cdot 10 \\cdot 10 \\cdot 1$",
              "feedback": "Doskonale! Mnożymy liczby możliwości dla każdego miejsca.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Reguła dodawania: $10 + 10 + 10 + 1$",
              "feedback": "Nie - dodawanie używamy gdy wybieramy ALBO jedno ALBO drugie. Tu wybieramy wszystkie miejsca jednocześnie.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Permutacje: $\\frac{10!}{(10-4)!}$",
              "feedback": "Nie - to byłoby gdyby cyfry się nie powtarzały. Tu mogą się powtarzać.",
              "is_correct": false
            }
          ],
          "explanation_after": "Reguła mnożenia: gdy wybieramy kolejno i niezależnie, mnożymy liczby możliwości."
        }
      }
    ],
    "solutions": [
      "$1000$"
    ],
    "parameters": {
      "code_length": 4,
      "last_digit": 8
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 1,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 2
      }
    },
    "timestamp": "2025-10-03T06:41:46.038Z"
  },
  {
    "id": "combinatorics_phone_code_with_seven",
    "topic": "Kombinatoryka - rozmieszczenia z powtórzeniami",
    "difficulty": 4,
    "statement": "Kod do telefonu złożony jest z czterech cyfr. Oblicz, ile jest wszystkich takich kodów, w których dokładnie $2$ razy występuje cyfra $7$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie są kluczowe elementy tego problemu?",
        "expression": "Kod: $4$ pozycje, dokładnie $2$ siódemki, pozostałe cyfry: dowolne z $\\{0,1,2,3,4,5,6,8,9\\}$",
        "explanation": "Identyfikujemy strukturę problemu: $4$ miejsca, $2$ muszą być siódemkami, $2$ inne cyframi"
      },
      {
        "step": 2,
        "hint": "Jak podejść do rozwiązania tego problemu?",
        "expression": "Metoda: wybór $2$ pozycji z $4$ dla siódemek, potem wypełnienie $2$ pozostałych",
        "explanation": "Rozbijamy problem na dwa niezależne zadania",
        "interactive_choice": {
          "prompt": "Którą metodę zastosować do policzenia kodów z dokładnie dwiema siódemkami?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw wybrać miejsca dla siódemek, potem wypełnić pozostałe pozycje",
              "feedback": "Świetnie! To klasyczne podejście: wybór pozycji ($\\binom{4}{2}$), potem uzupełnienie.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Policzyć wszystkie kody i odjąć te bez siódemek",
              "feedback": "To by dało kody z co najmniej jedną siódemką, nie dokładnie dwiema.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Rozpatrzyć wszystkie możliwe ustawienia cyfr po kolei",
              "feedback": "Możliwe, ale bardzo pracochłonne - jest $10^4 = 10000$ kodów do sprawdzenia!",
              "is_correct": false
            }
          ],
          "explanation_after": "Dzielimy problem na etapy: wybór miejsc dla siódemek, potem wypełnienie pozostałych pozycji."
        }
      },
      {
        "step": 3,
        "hint": "Na ile sposobów możemy wybrać $2$ pozycje z $4$ dla cyfry $7$?",
        "expression": "$\\binom{4}{2} = \\frac{4!}{2! \\cdot 2!} = \\frac{4 \\cdot 3}{2 \\cdot 1} = 6$",
        "explanation": "Liczba kombinacji $2$ pozycji z $4$ dostępnych",
        "why": "Symbol Newtona $\\binom{n}{k}$ liczy wybory $k$ elementów z $n$, gdy kolejność nie ma znaczenia. Tu wybieramy które $2$ z $4$ pozycji zajmą siódemki."
      },
      {
        "step": 4,
        "hint": "Jakie cyfry mogą być na pozostałych dwóch pozycjach?",
        "expression": "Na każdej z $2$ pozostałych pozycji: $9$ możliwości (cyfry $0,1,2,3,4,5,6,8,9$)",
        "explanation": "Wykluczamy tylko cyfrę $7$, pozostałe mogą się powtarzać",
        "interactive_choice": {
          "prompt": "Które cyfry mogą wystąpić na dwóch pozostałych pozycjach kodu?",
          "options": [
            {
              "id": "A",
              "text": "Dowolne cyfry od $0$ do $9$",
              "feedback": "Nie - cyfra $7$ już występuje dwa razy, więcej nie może być!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Tylko cyfry różne od 7, czyli $\\{0,1,2,3,4,5,6,8,9\\}$",
              "feedback": "Dokładnie! Mamy $9$ możliwości na każdą z pozostałych pozycji.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Tylko cyfry różne od $7$ i różne między sobą",
              "feedback": "Nie - cyfry na pozostałych pozycjach mogą się powtarzać, np. kod $7733$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Warunek 'dokładnie dwie siódemki' oznacza, że pozostałe pozycje muszą być cyframi innymi niż $7$."
        }
      },
      {
        "step": 5,
        "hint": "Na ile sposobów możemy wypełnić dwie pozostałe pozycje?",
        "expression": "$9 \\cdot 9 = 81$",
        "explanation": "Dla każdej z dwóch pozycji mamy $9$ niezależnych wyborów",
        "why": "Zasada mnożenia: jeśli pierwsze zadanie można wykonać na $m$ sposobów, a drugie na $n$ sposobów, to oba razem na $m \\cdot n$ sposobów."
      },
      {
        "step": 6,
        "hint": "Jak połączyć wybór pozycji dla siódemek z wypełnieniem pozostałych miejsc?",
        "expression": "$6 \\cdot 81 = 486$",
        "explanation": "Mnożymy liczbę sposobów wyboru pozycji przez liczbę sposobów wypełnienia",
        "interactive_choice": {
          "prompt": "Jak obliczyć całkowitą liczbę kodów?",
          "options": [
            {
              "id": "A",
              "text": "Dodać: $6 + 81 = 87$",
              "feedback": "Nie - dodawanie używamy gdy mamy alternatywę (lub). Tu mamy kolejne etapy.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pomnożyć: $6 \\cdot 81 = 486$",
              "feedback": "Tak! Zasada mnożenia - każdy wybór pozycji daje $81$ możliwości wypełnienia.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Podnieść do potęgi: $6^{81}$",
              "feedback": "Nie - potęgowanie to wielokrotne mnożenie tej samej liczby, tu mamy dwa różne etapy.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zasada mnożenia: wybór pozycji ($6$ sposobów) i wypełnienie ($81$ sposobów) to niezależne etapy."
        }
      },
      {
        "step": 7,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "Liczba kodów z dokładnie dwiema siódemkami: $486$",
        "explanation": "Otrzymujemy $486$ różnych kodów spełniających warunek zadania"
      }
    ],
    "solutions": [
      "$486$"
    ],
    "parameters": {
      "code_length": 4,
      "target_digit": 7,
      "occurrences": 2
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:42:33.636Z"
  },
  {
    "id": "tablet_code_sequence",
    "topic": "Kombinatoryka - ciągi rosnące",
    "difficulty": 3,
    "statement": "Kod do tabletu złożony jest z $6$ cyfr. Oblicz, ile jest takich kodów, w których pierwsza cyfra jest parzysta, a każda następna jest o $1$ większa od poprzedniej.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą być na pierwszej pozycji kodu?",
        "expression": "Pierwsza cyfra może być: $0$, $2$ lub $4$",
        "explanation": "Tylko te cyfry parzyste pozwalają zbudować $6$-cyfrowy ciąg rosnący o $1$",
        "why": "Od cyfry $6$ dostalibyśmy ciąg $6,7,8,9,10,11$ - ale $10$ i $11$ to nie są pojedyncze cyfry! Od $8$ byłoby jeszcze gorzej.",
        "interactive_choice": {
          "prompt": "Które cyfry parzyste mogą rozpoczynać 6-cyfrowy kod rosnący?",
          "options": [
            {
              "id": "A",
              "text": "Wszystkie parzyste: $0$, $2$, $4$, $6$, $8$",
              "feedback": "Nie wszystkie! Pamiętaj, że każda następna cyfra musi być o $1$ większa. Sprawdź, czy od $8$ można zbudować $6$-cyfrowy ciąg.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Tylko $0$, $2$, $4$",
              "feedback": "Świetnie! Od $0$ mamy ciąg $0,1,2,3,4,5$; od $2$: $2,3,4,5,6,7$; od $4$: $4,5,6,7,8,9$. Dalsze są za duże.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Tylko $2$, $4$, $6$, $8$ (bez zera)",
              "feedback": "Zero też może być pierwszą cyfrą! A cyfry $6$ i $8$ są za duże - sprawdź co by było dalej.",
              "is_correct": false
            }
          ],
          "explanation_after": "Musimy sprawdzić, które cyfry parzyste pozwolą zbudować $6$-cyfrowy ciąg kończący się maksymalnie na $9$."
        }
      },
      {
        "step": 2,
        "hint": "Jak wygląda kod zaczynający się od $0$?",
        "expression": "Kod: $0, 1, 2, 3, 4, 5$",
        "explanation": "Każda cyfra o $1$ większa od poprzedniej"
      },
      {
        "step": 3,
        "hint": "Jak wygląda kod zaczynający się od $2$?",
        "expression": "Kod: $2, 3, 4, 5, 6, 7$",
        "explanation": "Każda cyfra o $1$ większa od poprzedniej"
      },
      {
        "step": 4,
        "hint": "Jak wygląda kod zaczynający się od $4$?",
        "expression": "Kod: $4$, $5$, $6$, $7$, $8$, $9$",
        "explanation": "Każda cyfra o $1$ większa od poprzedniej"
      },
      {
        "step": 5,
        "hint": "Czy dla każdej pierwszej cyfry mamy więcej możliwości?",
        "expression": "Dla każdej pierwszej cyfry istnieje dokładnie $1$ kod",
        "explanation": "Wybór pierwszej cyfry jednoznacznie określa wszystkie pozostałe",
        "why": "Warunek rosnięcia o 1 nie daje nam swobody wyboru - to nie jest wybór z powtórzeniami ani permutacja!",
        "interactive_choice": {
          "prompt": "Ile różnych kodów możemy utworzyć dla każdej wybranej pierwszej cyfry?",
          "options": [
            {
              "id": "A",
              "text": "Wiele - możemy wybierać kolejne cyfry na różne sposoby",
              "feedback": "Nie! Gdy ustaliliśmy pierwszą cyfrę, cały kod jest już zdeterminowany - każda następna to poprzednia $+ 1$.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Dokładnie jeden kod dla każdej pierwszej cyfry",
              "feedback": "Dokładnie! Pierwsza cyfra jednoznacznie określa cały kod. Nie mamy wyboru dla pozostałych pozycji.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "6 kodów - po jednym dla każdej pozycji",
              "feedback": "Nie - nie wybieramy pozycji. Gdy znamy pierwszą cyfrę, reszta jest ustalona automatycznie.",
              "is_correct": false
            }
          ],
          "explanation_after": "To kluczowa obserwacja: warunek 'każda następna o $1$ większa' oznacza, że wybór pierwszej cyfry determinuje cały kod."
        }
      },
      {
        "step": 6,
        "hint": "Ile mamy możliwych pierwszych cyfr?",
        "expression": "Liczba możliwych pierwszych cyfr: $3$",
        "explanation": "Cyfry $0$, $2$, $4$"
      },
      {
        "step": 7,
        "hint": "Jak obliczyć całkowitą liczbę kodów?",
        "expression": "Całkowita liczba kodów: $3 \\times 1 = 3$",
        "explanation": "Trzy możliwe pierwsze cyfry, każda daje dokładnie jeden kod",
        "interactive_choice": {
          "prompt": "Jak połączyć liczbę możliwych pierwszych cyfr z liczbą kodów dla każdej?",
          "options": [
            {
              "id": "A",
              "text": "Dodać: $3 + 1 = 4$ kody",
              "feedback": "Nie - dodawanie używamy gdy mamy rozłączne przypadki do zsumowania. Tu mnożymy!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pomnożyć: $3 \\times 1 = 3$ kody",
              "feedback": "Tak! Reguła mnożenia: $3$ wybory pierwszej cyfry, każdy daje $1$ kod. Razem $3 \\times 1 = 3$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Podnieść do potęgi: $3^1 = 3$ kody",
              "feedback": "Wynik przypadkiem się zgadza, ale potęgowanie używamy gdy mamy niezależne wybory na każdej pozycji. Tu tak nie jest.",
              "is_correct": false
            }
          ],
          "explanation_after": "Reguła mnożenia w kombinatoryce: gdy mamy $k$-etapowy proces, mnożymy liczby możliwości na każdym etapie."
        }
      },
      {
        "step": 8,
        "hint": "Jakie są wszystkie możliwe kody?",
        "expression": "Kody: $012345$, $234567$, $456789$",
        "explanation": "To wszystkie możliwe $6$-cyfrowe kody spełniające warunki zadania"
      }
    ],
    "solutions": [
      "$3$"
    ],
    "parameters": {
      "codes": [
        "012345",
        "234567",
        "456789"
      ]
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:43:12.345Z"
  },
  {
    "id": "combinatorics_passengers_wagons",
    "topic": "Kombinatoryka - wariacje z powtórzeniami",
    "difficulty": 2,
    "statement": "Osiem osób wsiada do pociągu. Każda osoba losowo wybiera jeden z $10$ wagonów. Oblicz, na ile sposobów pasażerowie mogą zająć miejsca w wagonach tego pociągu, jeżeli każdy pasażer może wybrać dowolny wagon.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile wyborów ma pierwsza osoba wsiadająca do pociągu?",
        "expression": "Pierwsza osoba może wybrać jeden z $10$ wagonów",
        "explanation": "Każda osoba ma do wyboru wszystkie $10$ wagonów"
      },
      {
        "step": 2,
        "hint": "Czy wybór pierwszej osoby wpływa na liczbę możliwości drugiej osoby?",
        "expression": "Druga osoba również ma $10$ wyborów",
        "explanation": "Wagony nie są 'zajmowane' - każda osoba ma pełen wybór",
        "why": "To jest sytuacja z powtórzeniami - kluczowa różnica od permutacji bez powtórzeń. Gdyby każda osoba musiała wybrać inny wagon, byłoby to $10 \\cdot 9 \\cdot 8 \\cdot ...$",
        "interactive_choice": {
          "prompt": "Ile wyborów ma druga osoba po wyborze pierwszej?",
          "options": [
            {
              "id": "A",
              "text": "9 wagonów - bo jeden jest już zajęty",
              "feedback": "Nie! Zadanie mówi, że każdy może wybrać dowolny wagon. Wagony nie są 'zajmowane' - wiele osób może być w tym samym wagonie.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$10$ wagonów - każdy może wybrać dowolny",
              "feedback": "Dokładnie! Pasażerowie mogą być w tym samym wagonie. To kluczowa informacja - mamy powtórzenia.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Zależy od tego, który wagon wybrała pierwsza osoba",
              "feedback": "Nie - liczba dostępnych wagonów nie zmienia się. Każda osoba zawsze ma $10$ możliwości.",
              "is_correct": false
            }
          ],
          "explanation_after": "Ponieważ wiele osób może być w tym samym wagonie, każda z $8$ osób ma niezależnie $10$ wyborów."
        }
      },
      {
        "step": 3,
        "hint": "Jaki wzór kombinatoryczny pasuje do tej sytuacji?",
        "expression": "Stosujemy wzór na wariacje z powtórzeniami: $n^k$",
        "explanation": "Gdzie $n = 10$ (liczba wagonów), $k = 8$ (liczba osób)",
        "interactive_choice": {
          "prompt": "Którą regułę kombinatoryczną zastosować do tego problemu?",
          "options": [
            {
              "id": "A",
              "text": "Permutacje: $P_n = n!$",
              "feedback": "Nie - permutacje to ustawienia $n$ różnych elementów. Tu mamy wybory z powtórzeniami.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Wariacje z powtórzeniami: $n^k$",
              "feedback": "Świetnie! Mamy $n=10$ możliwości (wagonów) dla każdej z $k=8$ osób. To daje $10^8$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Kombinacje: $\\binom{n}{k}$",
              "feedback": "Nie - kombinacje to wybór bez kolejności. Tu kolejność osób ma znaczenie (inna osoba = inny wybór).",
              "is_correct": false
            }
          ],
          "explanation_after": "Wariacje z powtórzeniami: każda z $k$ osób wybiera niezależnie jeden z $n$ obiektów. Wzór: $n^k$."
        }
      },
      {
        "step": 4,
        "hint": "Jak zastosować regułę mnożenia do wszystkich ośmiu osób?",
        "expression": "Liczba sposobów = $10 \\cdot 10 \\cdot 10 \\cdot 10 \\cdot 10 \\cdot 10 \\cdot 10 \\cdot 10$",
        "explanation": "Każda z $8$ osób ma $10$ niezależnych wyborów"
      },
      {
        "step": 5,
        "hint": "Jak zapisać to wyrażenie w zwartej formie?",
        "expression": "Liczba sposobów = $10^8$",
        "explanation": "Iloczyn ośmiu dziesiątek zapisujemy jako potęgę"
      },
      {
        "step": 6,
        "hint": "Ile to wynosi?",
        "expression": "$10^8 = 100\\,000\\,000$",
        "explanation": "Obliczamy wartość potęgi"
      }
    ],
    "solutions": [
      "$10^8 = 100\\,000\\,000$"
    ],
    "parameters": {
      "passengers": 8,
      "wagons": 10
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 1,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 2
      }
    },
    "timestamp": "2025-10-03T06:43:40.605Z"
  },
  {
    "id": "permutations_wagons",
    "topic": "Permutacje",
    "difficulty": 3,
    "statement": "Osiem osób wsiada do pociągu. Każda osoba losowo wybiera jeden z $10$ wagonów. Oblicz, na ile sposobów pasażerowie mogą zająć miejsca w wagonach tego pociągu, jeżeli każdy pasażer wybrał inny wagon.",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza warunek, że każdy pasażer wybrał inny wagon?",
        "expression": "Mamy $8$ osób i $10$ wagonów, każda osoba w innym wagonie",
        "explanation": "To oznacza, że wybieramy $8$ różnych wagonów spośród $10$ dostępnych i przypisujemy do nich osoby"
      },
      {
        "step": 2,
        "hint": "Czy kolejność wyboru wagonów ma znaczenie?",
        "expression": "Stosujemy wzór na wariacje bez powtórzeń: $V^k_n = \\frac{n!}{(n-k)!}$",
        "explanation": "Wariacje bez powtórzeń - wybieramy $k$ elementów z $n$, kolejność ma znaczenie",
        "why": "Wariacje używamy gdy: (1) wybieramy część elementów ze zbioru, (2) kolejność ma znaczenie, (3) bez powtórzeń. Tu wszystkie warunki są spełnione.",
        "interactive_choice": {
          "prompt": "Jak podejść do tego problemu kombinatorycznego?",
          "options": [
            {
              "id": "A",
              "text": "Użyć kombinacji $\\binom{10}{8}$ - wybieramy $8$ wagonów z $10$",
              "feedback": "Nie do końca - kombinacje nie uwzględniają, która osoba do którego wagonu wsiada. Kolejność ma znaczenie!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Użyć wariacji $V^8_{10}$ - wybieramy 8 wagonów z 10 z uwzględnieniem kolejności",
              "feedback": "Doskonale! Pierwsza osoba wybiera z $10$ wagonów, druga z $9$, trzecia z $8$ itd. Kolejność ma znaczenie.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć permutacji $8!$ - ustawiamy 8 osób",
              "feedback": "To by działało gdyby było dokładnie $8$ wagonów. Ale mamy $10$ wagonów do wyboru!",
              "is_correct": false
            }
          ],
          "explanation_after": "To problem wariacji - wybieramy i ustawiamy $8$ elementów z $10$. Kolejność ma znaczenie, bo inna osoba w wagonie $1$ niż w wagonie $2$ to inna sytuacja."
        }
      },
      {
        "step": 3,
        "hint": "Jakie wartości podstawić do wzoru na wariacje?",
        "expression": "$V^8_{10} = \\frac{10!}{(10-8)!} = \\frac{10!}{2!}$",
        "explanation": "Podstawiamy $n = 10$ (liczba wagonów) i $k = 8$ (liczba osób)"
      },
      {
        "step": 4,
        "hint": "Jak można inaczej zapisać ten wzór bez pełnych silni?",
        "expression": "$\\frac{10!}{2!} = 10 \\cdot 9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3$",
        "explanation": "Skracamy silnię w mianowniku z częścią silni w liczniku",
        "interactive_choice": {
          "prompt": "Jak najefektywniej obliczyć $\\frac{10!}{2!}$?",
          "options": [
            {
              "id": "A",
              "text": "Obliczyć $10! = 3628800$ i podzielić przez $2! = 2$",
              "feedback": "Możliwe, ale niepotrzebnie obliczamy ogromną liczbę. Jest prostszy sposób!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$\\frac{10!}{2!} = 10 \\cdot 9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3$",
              "feedback": "Świetnie! Skracamy $\\frac{10 \\cdot 9 \\cdot 8 \\cdot ... \\cdot 3 \\cdot 2!}{2!}$ i zostaje iloczyn $8$ kolejnych liczb.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć wzoru $10^8$ - każda osoba ma $10$ wyborów",
              "feedback": "Nie - to by uwzględniało powtórzenia wagonów. Mamy warunek że każdy wagon jest inny!",
              "is_correct": false
            }
          ],
          "explanation_after": "Przy wariacjach zawsze warto skracać silnie - zostaje iloczyn $k$ kolejnych liczb od $n$ w dół."
        }
      },
      {
        "step": 5,
        "hint": "Jak obliczyć ten iloczyn krok po kroku?",
        "expression": "$10 \\cdot 9 = 90$, $90 \\cdot 8 = 720$, $720 \\cdot 7 = 5040$",
        "explanation": "Mnożymy kolejno pierwsze liczby"
      },
      {
        "step": 6,
        "hint": "Kontynuuj obliczenia dla pozostałych czynników",
        "expression": "$5040 \\cdot 6 = 30240$, $30240 \\cdot 5 = 151200$",
        "explanation": "Mnożymy dalej"
      },
      {
        "step": 7,
        "hint": "Dokończ obliczenia",
        "expression": "$151200 \\cdot 4 = 604800$, $604800 \\cdot 3 = 1814400$",
        "explanation": "Ostatnie mnożenia"
      },
      {
        "step": 8,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "$V^8_{10} = 1814400$",
        "explanation": "Pasażerowie mogą zająć miejsca w wagonach na $1\\,814\\,400$ sposobów"
      }
    ],
    "solutions": [
      "$1814400$"
    ],
    "parameters": {
      "passengers": 8,
      "wagons": 10
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 1,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 2
      }
    },
    "timestamp": "2025-10-03T06:44:12.451Z"
  },
  {
    "id": "lottery_combinatorics_at_least_two",
    "topic": "Kombinatoryka - kombinacje z warunkiem",
    "difficulty": 4,
    "statement": "W pudełku jest $100$ losów, w tym $11$ wygrywających. Oblicz, na ile sposobów można wyciągnąć trzy losy w taki sposób, żeby wśród nich były co najmniej dwa wygrywające.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile mamy losów wygrywających i ile przegrywających?",
        "expression": "Losy wygrywające: $11$, losy przegrywające: $100 - 11 = 89$",
        "explanation": "Identyfikujemy dwa rodzaje losów w pudełku"
      },
      {
        "step": 2,
        "hint": "Co oznacza warunek 'co najmniej dwa wygrywające'?",
        "expression": "Przypadek 1: dokładnie $2$ wygrywające i $1$ przegrywający\nPrzypadek 2: dokładnie $3$ wygrywające",
        "explanation": "Rozbijamy problem na dwa rozłączne przypadki",
        "why": "To kluczowa strategia w kombinatoryce: warunek 'co najmniej' rozbijamy na sumę rozłącznych przypadków. Dzięki temu możemy użyć reguły sumy.",
        "interactive_choice": {
          "prompt": "Jak rozumieć warunek 'co najmniej dwa wygrywające losy'?",
          "options": [
            {
              "id": "A",
              "text": "Dokładnie dwa wygrywające",
              "feedback": "Nie - 'co najmniej' oznacza dwa LUB więcej, nie tylko dokładnie dwa",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Dwa wygrywające LUB trzy wygrywające",
              "feedback": "Doskonale! To są wszystkie możliwe przypadki spełniające warunek",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wszystkie trzy losy wygrywające",
              "feedback": "To tylko jeden z przypadków - zapominasz o sytuacji z dokładnie dwoma wygrywającymi",
              "is_correct": false
            }
          ],
          "explanation_after": "Warunek 'co najmniej dwa' dzieli się na dwa rozłączne przypadki: dokładnie $2$ wygrywające + $1$ przegrywający ORAZ dokładnie $3$ wygrywające."
        }
      },
      {
        "step": 3,
        "hint": "Jak obliczyć liczbę sposobów dla przypadku 1?",
        "expression": "Przypadek 1: $\\binom{11}{2} \\cdot \\binom{89}{1}$",
        "explanation": "Wybieramy $2$ wygrywające z $11$ ORAZ $1$ przegrywający z $89$",
        "interactive_choice": {
          "prompt": "Jak obliczyć liczbę sposobów wybrania $2$ wygrywających i $1$ przegrywającego?",
          "options": [
            {
              "id": "A",
              "text": "Dodać: $\\binom{11}{2} + \\binom{89}{1}$",
              "feedback": "Nie - dodawanie użyjemy później. Tu wybieramy JEDNOCZEŚNIE z dwóch grup",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pomnożyć: $\\binom{11}{2} \\cdot \\binom{89}{1}$",
              "feedback": "Świetnie! Reguła iloczynu - wybieramy $2$ z $11$ ORAZ $1$ z $89$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć wzoru: $\\binom{100}{3}$",
              "feedback": "To dałoby wszystkie możliwe trójki, bez uwzględnienia warunku",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy wybieramy z różnych grup jednocześnie, używamy reguły iloczynu (mnożymy liczby możliwości)."
        }
      },
      {
        "step": 4,
        "hint": "Ile wynosi $\\binom{11}{2}$?",
        "expression": "$\\binom{11}{2} = \\frac{11!}{2!(11-2)!} = \\frac{11 \\cdot 10}{2 \\cdot 1} = \\frac{110}{2} = 55$",
        "explanation": "Obliczamy liczbę sposobów wyboru $2$ losów z $11$"
      },
      {
        "step": 5,
        "hint": "Ile wynosi $\\binom{89}{1}$?",
        "expression": "$\\binom{89}{1} = 89$",
        "explanation": "Wybór $1$ elementu z $89$ to po prostu $89$ możliwości"
      },
      {
        "step": 6,
        "hint": "Ile sposobów jest w przypadku $1$?",
        "expression": "Przypadek 1: $55 \\cdot 89 = 4895$",
        "explanation": "Mnożymy liczby możliwości dla obu wyborów"
      },
      {
        "step": 7,
        "hint": "Jak obliczyć liczbę sposobów dla przypadku $2$?",
        "expression": "Przypadek 2: $\\binom{11}{3}$",
        "explanation": "Wybieramy $3$ wygrywające losy z $11$ dostępnych"
      },
      {
        "step": 8,
        "hint": "Ile wynosi $\\binom{11}{3}$?",
        "expression": "$\\binom{11}{3} = \\frac{11!}{3!(11-3)!} = \\frac{11 \\cdot 10 \\cdot 9}{3 \\cdot 2 \\cdot 1} = \\frac{990}{6} = 165$",
        "explanation": "Obliczamy liczbę sposobów wyboru $3$ losów z $11$"
      },
      {
        "step": 9,
        "hint": "Jak połączyć wyniki z obu przypadków?",
        "expression": "$4895 + 165 = 5060$",
        "explanation": "Sumujemy wyniki z obu rozłącznych przypadków",
        "why": "Reguła sumy: gdy zdarzenia są rozłączne (wykluczają się wzajemnie), całkowitą liczbę możliwości otrzymujemy przez dodanie. Nie można jednocześnie mieć dokładnie $2$ i dokładnie $3$ wygrywające losy.",
        "interactive_choice": {
          "prompt": "Jak obliczyć całkowitą liczbę sposobów spełniających warunek?",
          "options": [
            {
              "id": "A",
              "text": "Pomnożyć: $4895 \\cdot 165$",
              "feedback": "Nie - mnożenie użylibyśmy gdyby oba przypadki musiały zajść jednocześnie",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Dodać: $4895 + 165$",
              "feedback": "Dokładnie! Reguła sumy - przypadki są rozłączne, więc dodajemy",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wybrać większą: $4895$",
              "feedback": "Nie - oba przypadki spełniają warunek, musimy je uwzględnić",
              "is_correct": false
            }
          ],
          "explanation_after": "Przypadki są rozłączne (nie mogą zajść jednocześnie), więc używamy reguły sumy - dodajemy liczby możliwości."
        }
      }
    ],
    "solutions": [
      "$5060$"
    ],
    "parameters": {
      "total_tickets": 100,
      "winning_tickets": 11,
      "losing_tickets": 89,
      "drawn_tickets": 3,
      "condition": "co najmniej $2$ wygrywające"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:44:54.143Z"
  },
  {
    "id": "combinatorics_balls_same_color",
    "topic": "Kombinatoryka - kombinacje",
    "difficulty": 3,
    "statement": "W pojemniku znajduje się $20$ piłek różnej wielkości, w tym $8$ czerwonych, $7$ niebieskich i pozostałe białe. Oblicz, na ile sposobów można wylosować trzy piłki wszystkie w jednym kolorze.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile jest piłek białych?",
        "expression": "$20 - 8 - 7 = 5$ piłek białych",
        "explanation": "Obliczamy liczbę białych piłek odejmując czerwone i niebieskie od całości"
      },
      {
        "step": 2,
        "hint": "Jakie mamy możliwości wylosowania trzech piłek tego samego koloru?",
        "expression": "Przypadki: $3$ czerwone, $3$ niebieskie lub $3$ białe",
        "explanation": "Identyfikujemy wszystkie możliwe przypadki",
        "interactive_choice": {
          "prompt": "Które kombinacje kolorów są możliwe przy losowaniu 3 piłek jednego koloru?",
          "options": [
            {
              "id": "A",
              "text": "Tylko czerwone i niebieskie (białych jest za mało)",
              "feedback": "Nie - białych jest $5$, więc można wylosować $3$ białe piłki!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Czerwone, niebieskie i białe (wszystkie kolory)",
              "feedback": "Dokładnie! Każdego koloru jest co najmniej 3, więc wszystkie kombinacje są możliwe.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Tylko czerwone (ich jest najwięcej)",
              "feedback": "Nie - niebieskich jest $7$ ($\\geq 3$) i białych $5$ ($\\geq 3$), więc też można wylosować po $3$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Mamy $3$ rozłączne przypadki: $3$ czerwone LUB $3$ niebieskie LUB $3$ białe. Liczby sposobów dodajemy."
        }
      },
      {
        "step": 3,
        "hint": "Czy kolejność losowania piłek ma znaczenie?",
        "expression": "Używamy wzoru na kombinacje: $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$",
        "explanation": "Kolejność nie ma znaczenia, więc stosujemy kombinacje",
        "why": "Symbol Newtona $\\binom{n}{k}$ oznacza liczbę sposobów wyboru $k$ elementów z $n$ elementów, gdy kolejność nie ma znaczenia.",
        "interactive_choice": {
          "prompt": "Jak obliczyć liczbę sposobów wylosowania $3$ piłek z $8$ czerwonych?",
          "options": [
            {
              "id": "A",
              "text": "Użyć permutacji $P(8,3) = \\frac{8!}{5!}$",
              "feedback": "Nie - permutacje stosujemy gdy kolejność ma znaczenie. Tu liczy się tylko zbiór wylosowanych piłek.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Użyć kombinacji $\\binom{8}{3} = \\frac{8!}{3! \\cdot 5!}$",
              "feedback": "Świetnie! Kombinacje stosujemy gdy kolejność nie ma znaczenia - wybieramy podzbiór.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Po prostu $8 \\cdot 7 \\cdot 6$",
              "feedback": "To uwzględnia kolejność. Musisz podzielić przez $3!$ aby usunąć powtórzenia.",
              "is_correct": false
            }
          ],
          "explanation_after": "Losujemy zbiór piłek bez kolejności, więc używamy symbolu Newtona (kombinacji)."
        }
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można wylosować $3$ czerwone piłki z $8$?",
        "expression": "$\\binom{8}{3} = \\frac{8!}{3! \\cdot 5!} = \\frac{8 \\cdot 7 \\cdot 6}{3 \\cdot 2 \\cdot 1} = \\frac{336}{6} = 56$",
        "explanation": "Obliczamy liczbę kombinacji $3$ piłek z $8$ czerwonych"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można wylosować $3$ niebieskie piłki z $7$?",
        "expression": "$\\binom{7}{3} = \\frac{7!}{3! \\cdot 4!} = \\frac{7 \\cdot 6 \\cdot 5}{3 \\cdot 2 \\cdot 1} = \\frac{210}{6} = 35$",
        "explanation": "Obliczamy liczbę kombinacji $3$ piłek z $7$ niebieskich"
      },
      {
        "step": 6,
        "hint": "Na ile sposobów można wylosować $3$ białe piłki z $5$?",
        "expression": "$\\binom{5}{3} = \\frac{5!}{3! \\cdot 2!} = \\frac{5 \\cdot 4}{2 \\cdot 1} = \\frac{20}{2} = 10$",
        "explanation": "Obliczamy liczbę kombinacji $3$ piłek z $5$ białych"
      },
      {
        "step": 7,
        "hint": "Jak połączyć wyniki z trzech rozłącznych przypadków?",
        "expression": "$56 + 35 + 10 = 101$",
        "explanation": "Sumujemy liczby sposobów dla wszystkich trzech kolorów",
        "why": "Stosujemy regułę sumy w kombinatoryce: jeśli zdarzenia $A$, $B$, $C$ są rozłączne, to liczba sposobów na $A$ lub $B$ lub $C$ równa się sumie liczb sposobów.",
        "interactive_choice": {
          "prompt": "Jak obliczyć całkowitą liczbę sposobów dla wszystkich kolorów?",
          "options": [
            {
              "id": "A",
              "text": "Pomnożyć: $56 \\cdot 35 \\cdot 10$",
              "feedback": "Nie - mnożymy gdy zdarzenia zachodzą JEDNOCZEŚNIE. Tu wybieramy JEDEN kolor.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Dodać: $56 + 35 + 10$",
              "feedback": "Dokładnie! Dodajemy bo przypadki są rozłączne - albo czerwone, albo niebieskie, albo białe.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wybrać największą: $56$",
              "feedback": "Nie - wszystkie przypadki są możliwe, więc musimy je zsumować.",
              "is_correct": false
            }
          ],
          "explanation_after": "Reguła sumy: gdy zdarzenia są rozłączne (nie mogą zajść jednocześnie), dodajemy liczby możliwości."
        }
      }
    ],
    "solutions": [
      "$101$"
    ],
    "parameters": {
      "czerwone": 8,
      "niebieskie": 7,
      "białe": 5,
      "losowane": 3
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:45:28.692Z"
  },
  {
    "id": "combinatorics_balls_selection",
    "topic": "Kombinatoryka - wybór z podziałem na grupy",
    "difficulty": 4,
    "statement": "W pojemniku znajduje się $20$ piłek różnej wielkości, w tym $8$ czerwonych, $7$ niebieskich i pozostałe białe. Oblicz, na ile sposobów można wylosować trzy piłki z których tylko jedna jest biała.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile piłek białych znajduje się w pojemniku?",
        "expression": "$20 - 8 - 7 = 5$ piłek białych",
        "explanation": "Obliczamy liczbę białych piłek odejmując czerwone i niebieskie od całkowitej liczby"
      },
      {
        "step": 2,
        "hint": "Co oznacza warunek 'tylko jedna piłka jest biała'?",
        "expression": "Losujemy: $1$ białą i $2$ niebiałe (czerwone lub niebieskie)",
        "explanation": "Rozkładamy problem na wybór piłek według kolorów",
        "why": "Warunek 'tylko jedna biała' oznacza dokładnie $1$ białą, więc pozostałe $2$ muszą być z grupy czerwonych i niebieskich."
      },
      {
        "step": 3,
        "hint": "Jaką metodę zastosować do obliczenia liczby sposobów?",
        "expression": "Liczba sposobów = $\\binom{5}{1} \\cdot \\binom{15}{2}$",
        "explanation": "Wybieramy $1$ białą z $5$ i $2$ niebiałe z pozostałych $15$ piłek",
        "interactive_choice": {
          "prompt": "Jak obliczyć liczbę sposobów wylosowania 1 białej i 2 niebiałych piłek?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru na permutacje $P(n) = n!$",
              "feedback": "Nie - permutacje dotyczą uporządkowania, a tu kolejność losowania nie ma znaczenia.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Użyć kombinacji i zasady mnożenia: $\\binom{5}{1} \\cdot \\binom{15}{2}$",
              "feedback": "Świetnie! Wybieramy $1$ z $5$ białych, potem $2$ z $15$ niebiałych i mnożymy.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Dodać wszystkie możliwe kombinacje: $\\binom{5}{1} + \\binom{15}{2}$",
              "feedback": "Nie - dodawanie używamy gdy zdarzenia się wykluczają. Tu wybory są jednoczesne, więc mnożymy.",
              "is_correct": false
            }
          ],
          "explanation_after": "Używamy zasady mnożenia: wybieramy białą ORAZ niebiałe, więc liczby sposobów mnożymy."
        }
      },
      {
        "step": 4,
        "hint": "Ile jest niebiałych piłek?",
        "expression": "$8 + 7 = 15$ piłek niebiałych (czerwone i niebieskie)",
        "explanation": "Sumujemy czerwone i niebieskie piłki"
      },
      {
        "step": 5,
        "hint": "Ile wynosi $\\binom{5}{1}$?",
        "expression": "$\\binom{5}{1} = 5$",
        "explanation": "Liczba sposobów wyboru $1$ piłki z $5$"
      },
      {
        "step": 6,
        "hint": "Jak obliczyć $\\binom{15}{2}$?",
        "expression": "$\\binom{15}{2} = \\frac{15!}{2! \\cdot 13!} = \\frac{15 \\cdot 14}{2 \\cdot 1} = \\frac{210}{2} = 105$",
        "explanation": "Stosujemy wzór na symbol Newtona i upraszczamy"
      },
      {
        "step": 7,
        "hint": "Czy możemy rozważyć inny sposób podziału $2$ niebiałych piłek?",
        "expression": "Alternatywnie: $\\binom{5}{1} \\cdot [\\binom{8}{2} + \\binom{7}{2} + \\binom{8}{1} \\cdot \\binom{7}{1}]$",
        "explanation": "Rozbijamy na przypadki: $2$ czerwone, $2$ niebieskie, lub $1$ czerwona i $1$ niebieska",
        "interactive_choice": {
          "prompt": "Czy warto rozpatrzyć osobno przypadki: $2$ czerwone, $2$ niebieskie, $1$ czerwona i $1$ niebieska?",
          "options": [
            {
              "id": "A",
              "text": "Tak, to da dokładniejszy wynik",
              "feedback": "Można tak zrobić jako alternatywną metodę, ale wynik będzie taki sam. Spróbujmy!",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Nie, już mamy poprawny wynik $5 \\cdot 105$",
              "feedback": "Zgadza się! Wynik $5 \\cdot 105 = 525$ jest poprawny. Ale sprawdźmy alternatywnie.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Nie, to by zmieniło warunki zadania",
              "feedback": "Nie zmienia warunków - to tylko inna metoda liczenia tych samych przypadków.",
              "is_correct": false
            }
          ],
          "explanation_after": "Obie metody są poprawne. Sprawdźmy alternatywne podejście dla pewności."
        }
      },
      {
        "step": 8,
        "hint": "Ile wynoszą poszczególne kombinacje?",
        "expression": "$\\binom{8}{2} = 28$, $\\binom{7}{2} = 21$, $\\binom{8}{1} \\cdot \\binom{7}{1} = 8 \\cdot 7 = 56$",
        "explanation": "Obliczamy każdy przypadek osobno"
      },
      {
        "step": 9,
        "hint": "Jaka jest suma wszystkich przypadków dla niebiałych piłek?",
        "expression": "$28 + 21 + 56 = 105$",
        "explanation": "Sumujemy wszystkie możliwości wyboru $2$ niebiałych piłek",
        "why": "Otrzymaliśmy ten sam wynik co wcześniej $\\binom{15}{2} = 105$, co potwierdza poprawność obu metod."
      },
      {
        "step": 10,
        "hint": "Jaki jest końcowy wynik?",
        "expression": "$5 \\cdot 105 = 525$",
        "explanation": "Mnożymy liczbę sposobów wyboru białej piłki przez liczbę sposobów wyboru niebiałych"
      }
    ],
    "solutions": [
      "$525$"
    ],
    "parameters": {
      "total_balls": 20,
      "red_balls": 8,
      "blue_balls": 7,
      "white_balls": 5,
      "balls_to_draw": 3,
      "white_required": 1
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 2,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:46:01.608Z"
  },
  {
    "id": "combinatorics_three_colors",
    "topic": "Kombinatoryka - reguła mnożenia",
    "difficulty": 2,
    "statement": "W pojemniku znajduje się $20$ piłek różnej wielkości, w tym $8$ czerwonych, $7$ niebieskich i pozostałe białe. Oblicz, na ile sposobów można wylosować trzy piłki każdą w innym kolorze.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile piłek białych znajduje się w pojemniku?",
        "expression": "$20 - 8 - 7 = 5$ piłek białych",
        "explanation": "Obliczamy liczbę białych piłek odejmując czerwone i niebieskie od całości"
      },
      {
        "step": 2,
        "hint": "Jakie kolory piłek musimy wylosować?",
        "expression": "Musimy wylosować: $1$ czerwoną, $1$ niebieską i $1$ białą",
        "explanation": "Warunek zadania - każda piłka w innym kolorze"
      },
      {
        "step": 3,
        "hint": "Którą zasadę kombinatoryki zastosować do tego problemu?",
        "expression": "Liczba sposobów = ($liczba$ czerwonych) $\\cdot$ ($liczba$ niebieskich) $\\cdot$ ($liczba$ białych)",
        "explanation": "Stosujemy regułę mnożenia dla niezależnych wyborów",
        "why": "Reguła mnożenia: gdy wybieramy kolejno z różnych grup, mnożymy liczby możliwości. Każdy wybór czerwonej można połączyć z każdym wyborem niebieskiej i każdym wyborem białej.",
        "interactive_choice": {
          "prompt": "Jak obliczyć liczbę sposobów wylosowania trzech piłek w różnych kolorach?",
          "options": [
            {
              "id": "A",
              "text": "Dodać liczby piłek: $8 + 7 + 5$",
              "feedback": "Nie - dodawanie używamy gdy wybieramy ALBO jeden ALBO drugi wariant. Tu wybieramy wszystkie kolory jednocześnie.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pomnożyć liczby piłek: $8 \\cdot 7 \\cdot 5$",
              "feedback": "Doskonale! Reguła mnożenia - wybieramy $I$ czerwoną $I$ niebieską $I$ białą.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć wzoru na kombinacje $\\binom{20}{3}$",
              "feedback": "Nie - ten wzór liczyłby wszystkie trójki piłek bez warunku o kolorach.",
              "is_correct": false
            }
          ],
          "explanation_after": "Reguła mnożenia: gdy wykonujemy kilka niezależnych wyborów, mnożymy liczby możliwości."
        }
      },
      {
        "step": 4,
        "hint": "Ile mamy możliwości wyboru czerwonej piłki?",
        "expression": "$8$ sposobów wyboru czerwonej piłki",
        "explanation": "Możemy wybrać dowolną z $8$ czerwonych piłek"
      },
      {
        "step": 5,
        "hint": "Ile mamy możliwości wyboru niebieskiej piłki?",
        "expression": "$7$ sposobów wyboru niebieskiej piłki",
        "explanation": "Możemy wybrać dowolną z $7$ niebieskich piłek"
      },
      {
        "step": 6,
        "hint": "Ile mamy możliwości wyboru białej piłki?",
        "expression": "$5$ sposobów wyboru białej piłki",
        "explanation": "Możemy wybrać dowolną z $5$ białych piłek"
      },
      {
        "step": 7,
        "hint": "Jaki jest całkowity wynik mnożenia?",
        "expression": "$8 \\cdot 7 \\cdot 5 = 280$",
        "explanation": "Mnożymy liczby możliwości dla każdego koloru"
      }
    ],
    "solutions": [
      "$280$ sposobów"
    ],
    "parameters": {
      "total_balls": 20,
      "red_balls": 8,
      "blue_balls": 7,
      "white_balls": 5
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 1,
        "stepsWithChoice": 1,
        "totalOptions": 3,
        "correctOptions": 1
      }
    },
    "timestamp": "2025-10-03T06:46:19.432Z"
  },
  {
    "id": "combinatorics_even_product",
    "topic": "Kombinatoryka - prawdopodobieństwo",
    "difficulty": 3,
    "statement": "Ze zbioru piętnastu liczb $\\{1,2,3,4,5,6,7,8,9,10,11,12,13,14,15\\}$ losujemy jednocześnie dwie liczby. Oblicz, ile jest możliwości wylosowania z tego zbioru dwóch liczb, tak aby ich iloczyn był parzysty.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile w ogóle jest sposobów wylosowania dwóch liczb z piętnastu?",
        "expression": "Liczba wszystkich możliwości: $\\binom{15}{2} = \\frac{15 \\cdot 14}{2} = 105$",
        "explanation": "Obliczamy liczbę kombinacji $2$-elementowych z $15$-elementowego zbioru"
      },
      {
        "step": 2,
        "hint": "Kiedy iloczyn dwóch liczb jest parzysty?",
        "expression": "Iloczyn parzysty $\\Leftrightarrow$ przynajmniej jedna liczba parzysta",
        "explanation": "Ustalamy warunek dla parzystości iloczynu",
        "why": "To kluczowa obserwacja. Zamiast liczyć bezpośrednio pary z liczbą parzystą, łatwiej policzyć dopełnienie - pary dwóch nieparzystych.",
        "interactive_choice": {
          "prompt": "Kiedy iloczyn dwóch liczb jest liczbą parzystą?",
          "options": [
            {
              "id": "A",
              "text": "Gdy obie liczby są parzyste",
              "feedback": "To prawda, ale to nie jedyny przypadek! Iloczyn jest parzysty także gdy jedna liczba jest parzysta.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Gdy przynajmniej jedna liczba jest parzysta",
              "feedback": "Dokładnie! Wystarczy jedna parzysta liczba, aby iloczyn był parzysty.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Gdy obie liczby są nieparzyste",
              "feedback": "Nie - iloczyn dwóch nieparzystych jest nieparzysty (np. $3 \\cdot 5 = 15$).",
              "is_correct": false
            }
          ],
          "explanation_after": "Iloczyn jest parzysty gdy przynajmniej jedna liczba jest parzysta. Iloczyn jest nieparzysty tylko gdy obie liczby są nieparzyste."
        }
      },
      {
        "step": 3,
        "hint": "Jak najefektywniej policzyć pary dające parzysty iloczyn?",
        "expression": "Strategia: pary z parzystym iloczynem = wszystkie pary - pary z nieparzystym iloczynem",
        "explanation": "Wybieramy metodę dopełnienia jako najefektywniejszą",
        "interactive_choice": {
          "prompt": "Którą strategię zastosować do obliczenia liczby par o parzystym iloczynie?",
          "options": [
            {
              "id": "A",
              "text": "Policzyć bezpośrednio: $(parzysta, parzysta) + (parzysta, nieparzysta)$",
              "feedback": "Możliwe, ale wymaga liczenia dwóch przypadków osobno - więcej pracy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć dopełnienia: wszystkie pary minus pary $(nieparzysta, nieparzysta)$",
              "feedback": "Świetnie! To najprostsza metoda - jeden przypadek do policzenia.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Policzyć tylko pary $(parzysta, parzysta)$",
              "feedback": "To za mało - pomijasz pary (parzysta, nieparzysta), które też dają parzysty iloczyn.",
              "is_correct": false
            }
          ],
          "explanation_after": "Metoda dopełnienia jest najszybsza: wszystkie możliwości minus te z nieparzystym iloczynem."
        }
      },
      {
        "step": 4,
        "hint": "Ile jest liczb nieparzystych w zbiorze $\\{1,2,3,...,15\\}$?",
        "expression": "Liczby nieparzyste: $\\{1,3,5,7,9,11,13,15\\}$, czyli $8$ liczb",
        "explanation": "Identyfikujemy liczby nieparzyste w zbiorze"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można wylosować dwie liczby nieparzyste?",
        "expression": "Liczba par (nieparzysta, nieparzysta): $\\binom{8}{2} = \\frac{8 \\cdot 7}{2} = 28$",
        "explanation": "Obliczamy liczbę kombinacji $2$-elementowych z $8$ liczb nieparzystych"
      },
      {
        "step": 6,
        "hint": "Ile jest par dających parzysty iloczyn?",
        "expression": "Pary z parzystym iloczynem: $105 - 28 = 77$",
        "explanation": "Odejmujemy od wszystkich możliwości te z nieparzystym iloczynem"
      },
      {
        "step": 7,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "Odpowiedź: $77$ możliwości",
        "explanation": "Istnieje $77$ sposobów wylosowania dwóch liczb tak, aby ich iloczyn był parzysty"
      }
    ],
    "solutions": [
      "$77$"
    ],
    "parameters": {
      "total_numbers": 15,
      "odd_numbers": 8,
      "even_numbers": 7
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 1,
        "stepsWithChoice": 2,
        "totalOptions": 6,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:46:43.696Z"
  },
  {
    "id": "combinatorics_even_sum_three",
    "topic": "Kombinatoryka - sumy parzyste",
    "difficulty": 4,
    "statement": "Oblicz, na ile sposobów ze zbioru $\\{1,2,3, \\ldots, 99\\}$ można wybrać trzy różne liczby, tak, aby suma tych liczb była parzysta.",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy suma trzech liczb jest parzysta?",
        "expression": "Suma parzysta $\\Leftrightarrow$ ($3$ parzyste) lub ($1$ parzysta i $2$ nieparzyste)",
        "explanation": "Analizujemy parzystość sumy trzech liczb",
        "why": "To kluczowy krok - dzielimy problem na dwa rozłączne przypadki, które możemy policzyć osobno.",
        "interactive_choice": {
          "prompt": "Jakie kombinacje parzystości trzech liczb dają sumę parzystą?",
          "options": [
            {
              "id": "A",
              "text": "Trzy liczby parzyste LUB trzy liczby nieparzyste",
              "feedback": "Nie do końca! Sprawdź: $P+P+P=P$ (tak), ale $N+N+N=N$ (nie).",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Trzy liczby parzyste LUB jedna parzysta i dwie nieparzyste",
              "feedback": "Świetnie! $P+P+P=P$ oraz $P+N+N=P$. To jedyne przypadki dające sumę parzystą.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Dowolne trzy liczby, jeśli ich suma jest podzielna przez $2$",
              "feedback": "To prawda, ale nie pomaga w zliczaniu. Potrzebujemy konkretnych przypadków parzystości.",
              "is_correct": false
            }
          ],
          "explanation_after": "Suma jest parzysta gdy: $(P+P+P)$ lub $(P+N+N)$. Przypadki $(N+N+N)$ i $(P+P+N)$ dają sumę nieparzystą."
        }
      },
      {
        "step": 2,
        "hint": "Ile jest liczb parzystych i nieparzystych w zbiorze $\\{1,2,3,\\ldots,99\\}$?",
        "expression": "Parzyste: $\\{2,4,6,\\ldots,98\\}$ - jest ich $49$. Nieparzyste: $\\{1,3,5,\\ldots,99\\}$ - jest ich $50$",
        "explanation": "Liczymy elementy każdego typu w zbiorze"
      },
      {
        "step": 3,
        "hint": "Jak obliczyć liczbę sposobów wyboru trzech liczb parzystych?",
        "expression": "Przypadek 1: $\\binom{49}{3} = \\frac{49 \\cdot 48 \\cdot 47}{3 \\cdot 2 \\cdot 1}$",
        "explanation": "Liczba sposobów wyboru $3$ liczb parzystych z $49$",
        "interactive_choice": {
          "prompt": "Którą formułę zastosować do wyboru $3$ liczb z $49$ parzystych?",
          "options": [
            {
              "id": "A",
              "text": "Permutacje: $P(49,3) = \\frac{49!}{46!}$",
              "feedback": "Nie - permutacje uwzględniają kolejność, a my wybieramy zbiór bez kolejności.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Kombinacje: $\\binom{49}{3} = \\frac{49!}{3! \\cdot 46!}$",
              "feedback": "Doskonale! Kombinacje to wybór bez kolejności - dokładnie to, czego potrzebujemy.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wariacje: $V(49,3) = 49 \\cdot 48 \\cdot 47$",
              "feedback": "Wariacje też uwzględniają kolejność. Potrzebujemy kombinacji.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wybieramy podzbiór $3$-elementowy z $49$ elementów bez względu na kolejność - to kombinacje."
        }
      },
      {
        "step": 4,
        "hint": "Ile wynosi $\\binom{49}{3}$?",
        "expression": "$\\binom{49}{3} = \\frac{49 \\cdot 48 \\cdot 47}{6} = \\frac{110544}{6} = 18424$",
        "explanation": "Obliczamy wartość kombinacji dla pierwszego przypadku"
      },
      {
        "step": 5,
        "hint": "Jak obliczyć liczbę sposobów wyboru $1$ parzystej i $2$ nieparzystych?",
        "expression": "Przypadek 2: $\\binom{49}{1} \\cdot \\binom{50}{2} = 49 \\cdot \\frac{50 \\cdot 49}{2}$",
        "explanation": "Wybieramy $1$ parzystą i niezależnie $2$ nieparzyste",
        "why": "Stosujemy regułę iloczynu, bo wybory są niezależne - najpierw wybieramy parzystą, potem dwie nieparzyste.",
        "interactive_choice": {
          "prompt": "Jak połączyć wybór $1$ liczby z $49$ parzystych i $2$ z $50$ nieparzystych?",
          "options": [
            {
              "id": "A",
              "text": "Dodać: $\\binom{49}{1} + \\binom{50}{2}$",
              "feedback": "Nie - dodawanie byłoby dla przypadków rozłącznych. Tu wybieramy JEDNOCZEŚNIE z obu zbiorów.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Mnożyć: $\\binom{49}{1} \\cdot \\binom{50}{2}$",
              "feedback": "Tak! Reguła iloczynu: dla każdego wyboru parzystej mamy $\\binom{50}{2}$ wyborów nieparzystych.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć $\\binom{99}{3}$ i odjąć złe przypadki",
              "feedback": "Możliwe, ale bardzo skomplikowane. Mnożenie jest prostsze i bezpośrednie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Reguła iloczynu: gdy wykonujemy dwa niezależne wybory, mnożymy liczby możliwości."
        }
      },
      {
        "step": 6,
        "hint": "Ile wynosi $\\binom{49}{1} \\cdot \\binom{50}{2}$?",
        "expression": "$49 \\cdot \\frac{50 \\cdot 49}{2} = 49 \\cdot \\frac{2450}{2} = 49 \\cdot 1225 = 60025$",
        "explanation": "Obliczamy wartość dla drugiego przypadku"
      },
      {
        "step": 7,
        "hint": "Jak połączyć oba przypadki?",
        "expression": "$18424 + 60025 = 78449$",
        "explanation": "Dodajemy oba rozłączne przypadki (reguła sumy)",
        "why": "Przypadki są rozłączne (nie możemy jednocześnie wybrać $3$ parzystych i $1$ parzystą z $2$ nieparzystymi), więc dodajemy."
      },
      {
        "step": 8,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "Liczba sposobów = $78449$",
        "explanation": "Otrzymujemy całkowitą liczbę sposobów wyboru trzech liczb o sumie parzystej"
      }
    ],
    "solutions": [
      "$78449$"
    ],
    "parameters": {
      "set": "$\\{1,2,3,\\ldots,99\\}$",
      "even_count": "$49$",
      "odd_count": "$50$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 3,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:47:17.523Z"
  },
  {
    "id": "combinatorics_odd_product",
    "topic": "Kombinatoryka - wybór z warunkiem",
    "difficulty": 4,
    "statement": "Oblicz, na ile sposobów ze zbioru $\\{1,2,3, \\ldots, 99\\}$ można wybrać trzy różne liczby, tak, aby iloczyn tych liczb był nieparzysty.",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy iloczyn trzech liczb jest nieparzysty?",
        "expression": "Iloczyn jest nieparzysty $\\Leftrightarrow$ wszystkie trzy liczby są nieparzyste",
        "explanation": "Ustalamy warunek konieczny i wystarczający",
        "why": "To kluczowa obserwacja: iloczyn dziedziczy parzystość. Jeśli choć jeden czynnik jest parzysty (zawiera $2$), to cały iloczyn jest parzysty.",
        "interactive_choice": {
          "prompt": "Jaki warunek muszą spełniać trzy liczby, aby ich iloczyn był nieparzysty?",
          "options": [
            {
              "id": "A",
              "text": "Co najmniej jedna z nich musi być nieparzysta",
              "feedback": "Nie - jeśli jedna jest nieparzysta, a dwie parzyste, to iloczyn będzie parzysty (zawiera czynnik $2$).",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Wszystkie trzy muszą być nieparzyste",
              "feedback": "Dokładnie! Iloczyn jest nieparzysty tylko gdy żaden czynnik nie zawiera $2$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Co najmniej dwie muszą być nieparzyste",
              "feedback": "Nie wystarczy - jeśli trzecia jest parzysta, cały iloczyn będzie parzysty.",
              "is_correct": false
            }
          ],
          "explanation_after": "Iloczyn jest nieparzysty wtedy i tylko wtedy, gdy wszystkie czynniki są nieparzyste. Wystarczy jeden parzysty czynnik, aby iloczyn był parzysty."
        }
      },
      {
        "step": 2,
        "hint": "Ile liczb nieparzystych jest w zbiorze $\\{1,2,3, \\ldots, 99\\}$?",
        "expression": "Liczby nieparzyste: $1, 3, 5, 7, \\ldots, 97, 99$",
        "explanation": "To ciąg arytmetyczny o pierwszym wyrazie $a_1 = 1$ i różnicy $r = 2$"
      },
      {
        "step": 3,
        "hint": "Jak obliczyć liczbę wyrazów ciągu $1, 3, 5, \\ldots, 99$?",
        "expression": "Wzór na n-ty wyraz: $a_n = a_1 + (n-1) \\cdot r$",
        "explanation": "Podstawiamy $a_n = 99$, $a_1 = 1$, $r = 2$"
      },
      {
        "step": 4,
        "hint": "Rozwiąż równanie $99 = 1 + (n-1) \\cdot 2$",
        "expression": "$99 = 1 + 2(n-1)$\n$98 = 2(n-1)$\n$49 = n-1$\n$n = 50$",
        "explanation": "W zbiorze $\\{1,2,3, \\ldots, 99\\}$ jest dokładnie $50$ liczb nieparzystych"
      },
      {
        "step": 5,
        "hint": "Jak wybrać $3$ różne liczby z $50$ liczb nieparzystych?",
        "expression": "Liczba sposobów = $\\binom{50}{3}$",
        "explanation": "Wybieramy $3$-elementowy podzbiór z $50$-elementowego zbioru",
        "why": "Kombinacja to wybór bez zwracania uwagi na kolejność. Wzór: $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$",
        "interactive_choice": {
          "prompt": "Czy kolejność wyboru trzech liczb ma znaczenie dla obliczenia iloczynu?",
          "options": [
            {
              "id": "A",
              "text": "Tak, kolejność ma znaczenie - użyj wariacji $V_{50}^3$",
              "feedback": "Nie - iloczyn nie zależy od kolejności: $3 \\cdot 5 \\cdot 7 = 7 \\cdot 3 \\cdot 5$",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Nie, kolejność nie ma znaczenia - użyj kombinacji $\\binom{50}{3}$",
              "feedback": "Świetnie! Wybieramy zbiór trzech liczb, a mnożenie jest przemienne.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Trzeba rozważyć oba przypadki",
              "feedback": "Nie - to jedno zadanie z jednoznaczną interpretacją. Liczy się tylko zbiór wybranych liczb.",
              "is_correct": false
            }
          ],
          "explanation_after": "Ponieważ mnożenie jest przemienne, wybieramy kombinacje (zbiory), nie wariacje (ciągi uporządkowane)."
        }
      },
      {
        "step": 6,
        "hint": "Jak obliczyć $\\binom{50}{3}$?",
        "expression": "$\\binom{50}{3} = \\frac{50 \\cdot 49 \\cdot 48}{3 \\cdot 2 \\cdot 1}$",
        "explanation": "Rozwijamy wzór na symbol Newtona",
        "interactive_choice": {
          "prompt": "Którą formę wzoru na $\\binom{50}{3}$ najłatwiej obliczyć?",
          "options": [
            {
              "id": "A",
              "text": "$\\frac{50!}{3! \\cdot 47!}$ - pełne silnie",
              "feedback": "Możliwe, ale bardzo pracochłonne - silnie są ogromne!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$\\frac{50 \\cdot 49 \\cdot 48}{3 \\cdot 2 \\cdot 1}$ - skrócona forma",
              "feedback": "Doskonale! Skracamy silnie i zostają tylko potrzebne czynniki.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$\\binom{50}{47}$ - symetria symbolu Newtona",
              "feedback": "To prawda, że $\\binom{50}{3} = \\binom{50}{47}$, ale nie ułatwia obliczeń.",
              "is_correct": false
            }
          ],
          "explanation_after": "Skrócona forma wykorzystuje fakt, że $\\frac{50!}{47!} = 50 \\cdot 49 \\cdot 48$, co znaczy znacznie upraszcza obliczenia."
        }
      },
      {
        "step": 7,
        "hint": "Oblicz licznik: $50 \\cdot 49 \\cdot 48$",
        "expression": "$50 \\cdot 49 = 2450$\n$2450 \\cdot 48 = 117600$",
        "explanation": "Mnożymy kolejno liczby w liczniku"
      },
      {
        "step": 8,
        "hint": "Oblicz mianownik: $3 \\cdot 2 \\cdot 1$",
        "expression": "$3! = 6$",
        "explanation": "Silnia z $3$"
      },
      {
        "step": 9,
        "hint": "Podziel licznik przez mianownik",
        "expression": "$\\frac{117600}{6} = 19600$",
        "explanation": "Wykonujemy dzielenie"
      },
      {
        "step": 10,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "Liczba sposobów = $19600$",
        "explanation": "Ze zbioru $\\{1,2,3, \\ldots, 99\\}$ można na $19600$ sposobów wybrać trzy różne liczby o nieparzystym iloczynie"
      }
    ],
    "solutions": [
      "$19600$"
    ],
    "parameters": {
      "set": "$\\{1,2,3, \\ldots, 99\\}$",
      "condition": "iloczyn nieparzysty"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:47:57.014Z"
  },
  {
    "id": "combinatorics_four_digit_odd",
    "topic": "Kombinatoryka - permutacje z warunkami",
    "difficulty": 3,
    "statement": "Oblicz, ile liczb czterocyfrowych nieparzystych można utworzyć z cyfr liczby $9643$ bez powtarzania żadnej z nich.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mamy do dyspozycji i co o nich wiemy?",
        "expression": "Cyfry: $9, 6, 4, 3$ - wszystkie różne",
        "explanation": "Identyfikujemy dostępne cyfry z liczby $9643$"
      },
      {
        "step": 2,
        "hint": "Które cyfry mogą stać na końcu liczby nieparzystej?",
        "expression": "Ostatnia cyfra: $9$ lub $3$ (2 możliwości)",
        "explanation": "Mamy $2$ cyfry nieparzyste do wyboru na ostatnie miejsce",
        "why": "To kluczowy warunek - najpierw ustalamy ostatnią cyfrę, bo jest ograniczenie.",
        "interactive_choice": {
          "prompt": "Która cyfra MUSI być na ostatnim miejscu, aby liczba była nieparzysta?",
          "options": [
            {
              "id": "A",
              "text": "Cyfra $9$ lub $3$ (nieparzyste)",
              "feedback": "Doskonale! Liczba jest nieparzysta gdy kończy się cyfrą nieparzystą.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Cyfra $6$ lub $4$ (parzyste)",
              "feedback": "Nie - te cyfry dają liczby parzyste. Potrzebujemy cyfr nieparzystych.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Dowolna cyfra",
              "feedback": "Nie - tylko cyfry nieparzyste ($9$ lub $3$) dają liczby nieparzyste.",
              "is_correct": false
            }
          ],
          "explanation_after": "Liczba jest nieparzysta wtedy i tylko wtedy, gdy jej ostatnia cyfra jest nieparzysta."
        }
      },
      {
        "step": 3,
        "hint": "Jak podejść do liczenia wszystkich możliwości?",
        "expression": "Przypadek 1: ostatnia cyfra = $9$, Przypadek 2: ostatnia cyfra = $3$",
        "explanation": "Rozpatrujemy oba przypadki osobno",
        "interactive_choice": {
          "prompt": "Jaką strategię zastosować do policzenia wszystkich liczb?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć osobno przypadki: ostatnia cyfra = $9$ i ostatnia cyfra = $3$",
              "feedback": "Świetnie! To systematyczne podejście - liczymy każdy przypadek osobno, potem sumujemy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Policzyć wszystkie permutacje $4$ cyfr i podzielić przez $2$",
              "feedback": "Nie - to nie zadziała, bo nie wszystkie permutacje dają liczby nieparzyste.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru na permutacje z powtórzeniami",
              "feedback": "Nie - wszystkie cyfry są różne, więc nie ma powtórzeń.",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy mamy warunek na konkretną pozycję, najlepiej rozpatrzyć przypadki osobno."
        }
      },
      {
        "step": 4,
        "hint": "Jeśli ostatnia cyfra to $9$, ile cyfr zostaje na pozostałe miejsca?",
        "expression": "Przypadek 1: _ _ _ $9$, pozostałe cyfry: $6$, $4$, $3$",
        "explanation": "Po wyborze $9$ na koniec, zostają $3$ cyfry na $3$ pierwsze miejsca"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można ustawić $3$ cyfry na $3$ miejscach?",
        "expression": "$3! = 3 \\cdot 2 \\cdot 1 = 6$ sposobów",
        "explanation": "Permutacje $3$ cyfr bez powtórzeń",
        "why": "Dla pierwszego miejsca mamy $3$ wybory, dla drugiego $2$, dla trzeciego $1$. Mnożymy: $3 \\cdot 2 \\cdot 1 = 6$."
      },
      {
        "step": 6,
        "hint": "Ile liczb otrzymamy gdy ostatnia cyfra to $3$?",
        "expression": "Przypadek 2: _ _ _ $3$, pozostałe cyfry: $9$, $6$, $4$",
        "explanation": "Po wyborze $3$ na koniec, zostają $3$ cyfry na $3$ pierwsze miejsca"
      },
      {
        "step": 7,
        "hint": "Czy liczba permutacji będzie taka sama jak w przypadku $1$?",
        "expression": "$3!$ = $3 \\cdot 2 \\cdot 1 = 6$ sposobów",
        "explanation": "Znowu permutacje $3$ cyfr bez powtórzeń"
      },
      {
        "step": 8,
        "hint": "Jak połączyć wyniki z obu przypadków?",
        "expression": "$6 + 6 = 12$",
        "explanation": "Sumujemy liczby z obu rozłącznych przypadków",
        "interactive_choice": {
          "prompt": "Jak obliczyć całkowitą liczbę liczb nieparzystych?",
          "options": [
            {
              "id": "A",
              "text": "Dodać wyniki: $6 + 6$",
              "feedback": "Dokładnie! Przypadki się wykluczają (ostatnia cyfra to $9$ LUB $3$), więc dodajemy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Pomnożyć wyniki: $6 \\cdot 6$",
              "feedback": "Nie - mnożymy gdy wybory są niezależne. Tu mamy rozłączne przypadki.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wybrać większy wynik: $\\max(6, 6)$",
              "feedback": "Nie - musimy policzyć wszystkie możliwe liczby z obu przypadków.",
              "is_correct": false
            }
          ],
          "explanation_after": "Reguła sumy: gdy przypadki się wykluczają (LUB), dodajemy liczby możliwości."
        }
      },
      {
        "step": 9,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "Można utworzyć $12$ liczb czterocyfrowych nieparzystych",
        "explanation": "Otrzymujemy końcowy wynik"
      }
    ],
    "solutions": [
      "$12$"
    ],
    "parameters": {
      "cyfry": "$9, 6, 4, 3$",
      "warunek": "liczba nieparzysta, bez powtórzeń cyfr"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:48:28.040Z"
  },
  {
    "id": "permutations_divisibility_by_5",
    "topic": "Permutacje z powtórzeniami i podzielność",
    "difficulty": 4,
    "statement": "Oblicz, ile liczb siedmiocyfrowych podzielnych przez 5 można utworzyć, jeśli przestawimy cyfry w liczbie $1052534$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry występują w liczbie $1052534$ i ile razy każda?",
        "expression": "Cyfry: $0$, $1$, $2$, $3$, $4$, $5$, $5$ (cyfra $5$ występuje $2$ razy, pozostałe po $1$ razie)",
        "explanation": "Identyfikujemy dostępne cyfry - mamy $7$ cyfr, w tym dwie piątki"
      },
      {
        "step": 2,
        "hint": "Jaki warunek musi spełniać liczba, aby była podzielna przez $5$?",
        "expression": "Ostatnia cyfra: $0$ lub $5$",
        "explanation": "Rozpatrujemy dwa przypadki osobno",
        "why": "Podzielność przez $5$ zależy wyłącznie od ostatniej cyfry. Musimy rozważyć oba możliwe zakończenia.",
        "interactive_choice": {
          "prompt": "Co musi być prawdą dla liczby podzielnej przez $5$?",
          "options": [
            {
              "id": "A",
              "text": "Ostatnia cyfra musi być $0$ lub $5$",
              "feedback": "Dokładnie! To kluczowa cecha podzielności przez $5$.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Suma cyfr musi być podzielna przez $5$",
              "feedback": "To warunek dla podzielności przez $3$ lub $9$, nie przez $5$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Pierwsza cyfra musi być $5$",
              "feedback": "Nie - podzielność przez $5$ zależy tylko od ostatniej cyfry.",
              "is_correct": false
            }
          ],
          "explanation_after": "Liczba jest podzielna przez $5$ wtedy i tylko wtedy, gdy kończy się na $0$ lub $5$."
        }
      },
      {
        "step": 3,
        "hint": "Jak podejść do problemu z dwoma możliwymi zakończeniami?",
        "expression": "Przypadek 1: ostatnia cyfra = $0$, Przypadek 2: ostatnia cyfra = $5$",
        "explanation": "Dzielimy problem na dwa rozłączne przypadki",
        "interactive_choice": {
          "prompt": "Jak najlepiej policzyć liczby kończące się na $0$ lub $5$?",
          "options": [
            {
              "id": "A",
              "text": "Policzyć osobno dla końcówki $0$ i dla końcówki $5$, potem dodać",
              "feedback": "Świetnie! To standardowa metoda - przypadki rozłączne sumujemy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Policzyć wszystkie permutacje i podzielić przez $2$",
              "feedback": "Nie - to nie uwzględnia ograniczeń (np. $0$ na początku).",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru na permutacje z powtórzeniami bez dodatkowych warunków",
              "feedback": "Za proste - musimy uwzględnić warunek na ostatnią cyfrę i pierwszą.",
              "is_correct": false
            }
          ],
          "explanation_after": "Przypadki są rozłączne (liczba nie może kończyć się jednocześnie na $0$ i $5$), więc liczymy osobno i dodajemy."
        }
      },
      {
        "step": 4,
        "hint": "Jeśli ostatnia cyfra to $0$, jakie cyfry zostają do rozmieszczenia?",
        "expression": "Pozostałe cyfry: $1$, $2$, $3$, $4$, $5$, $5$ ($6$ cyfr, w tym dwie piątki)",
        "explanation": "Po ustaleniu $0$ na końcu, zostaje $6$ pozycji do wypełnienia"
      },
      {
        "step": 5,
        "hint": "Czy wszystkie permutacje tych $6$ cyfr dają liczby siedmiocyfrowe?",
        "expression": "TAK - żadna z pozostałych cyfr ($1$, $2$, $3$, $4$, $5$, $5$) nie jest zerem",
        "explanation": "Pierwsza pozycja może być dowolną z tych cyfr, więc nie ma problemu z zerem na początku",
        "why": "Liczba siedmiocyfrowa nie może zaczynać się od $0$. Tu $0$ jest na końcu, więc wszystkie permutacje są poprawne."
      },
      {
        "step": 6,
        "hint": "Ile jest permutacji $6$ cyfr, gdy dwie są identyczne?",
        "expression": "$\\frac{6!}{2!} = \\frac{720}{2} = 360$",
        "explanation": "Permutacje z powtórzeniami: dzielimy przez $2!$ bo dwie piątki są identyczne"
      },
      {
        "step": 7,
        "hint": "Jeśli ostatnia cyfra to $5$, jakie cyfry zostają?",
        "expression": "Pozostałe cyfry: $0$, $1$, $2$, $3$, $4$, $5$ ($6$ cyfr, w tym jedna piątka i jedno zero)",
        "explanation": "Po ustaleniu jednej piątki na końcu, zostaje druga piątka i pozostałe cyfry"
      },
      {
        "step": 8,
        "hint": "Czy teraz wszystkie permutacje dają liczby siedmiocyfrowe?",
        "expression": "Problem: $0$ nie może być na pierwszej pozycji",
        "explanation": "Liczba siedmiocyfrowa nie może zaczynać się od $0$",
        "interactive_choice": {
          "prompt": "Jaki problem pojawia się przy permutacjach cyfr $0$, $1$, $2$, $3$, $4$, $5$?",
          "options": [
            {
              "id": "A",
              "text": "Zero może być na pierwszej pozycji - trzeba odjąć takie przypadki",
              "feedback": "Dokładnie! Musimy wykluczyć permutacje zaczynające się od $0$.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Nie ma problemu - wszystkie permutacje są dobre",
              "feedback": "Nie - liczba $0123455$ nie jest siedmiocyfrowa!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Mamy powtórzenia cyfr, więc trzeba dzielić przez $2!$",
              "feedback": "Nie - w tym przypadku wszystkie cyfry są różne (jedna piątka została na końcu).",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy $0$ jest wśród permutowanych cyfr, musimy wykluczyć przypadki gdzie $0$ jest na pierwszej pozycji."
        }
      },
      {
        "step": 9,
        "hint": "Ile jest wszystkich permutacji $6$ różnych cyfr?",
        "expression": "$6! = 720$",
        "explanation": "Wszystkie permutacje cyfr $0$, $1$, $2$, $3$, $4$, $5$ (wszystkie różne)"
      },
      {
        "step": 10,
        "hint": "Ile permutacji zaczyna się od $0$?",
        "expression": "Jeśli $0$ jest na początku, permutujemy pozostałe $5$ cyfr: $5! = 120$",
        "explanation": "Ustalamy $0$ na pierwszej pozycji i permutujemy resztę"
      },
      {
        "step": 11,
        "hint": "Ile poprawnych liczb siedmiocyfrowych kończy się na $5$?",
        "expression": "$6! - 5! = 720 - 120 = 600$",
        "explanation": "Odejmujemy niepoprawne przypadki (zaczynające się od $0$)"
      },
      {
        "step": 12,
        "hint": "Jaka jest całkowita liczba siedmiocyfrowych liczb podzielnych przez $5$?",
        "expression": "$360 + 600 = 960$",
        "explanation": "Sumujemy oba przypadki: końcówka $0$ i końcówka $5$"
      }
    ],
    "solutions": [
      "$960$"
    ],
    "parameters": {
      "original_number": "$1052534$",
      "digits": "$0$, $1$, $2$, $3$, $4$, $5$, $5$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:49:09.486Z"
  },
  {
    "id": "combinatorics_five_digit_identical",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 3,
    "statement": "Ile można utworzyć liczb pięciocyfrowych, w których pierwsza, trzecia i piąta cyfra (i tylko te) są identyczne?",
    "steps": [
      {
        "step": 1,
        "hint": "Jak wygląda struktura takiej liczby pięciocyfrowej?",
        "expression": "Liczba ma postać: $abada$, gdzie $a$ to cyfra powtarzająca się",
        "explanation": "Pierwsza, trzecia i piąta pozycja mają tę samą cyfrę $a$"
      },
      {
        "step": 2,
        "hint": "Którą metodę zastosujemy do policzenia wszystkich możliwości?",
        "expression": "Liczba wszystkich liczb = (wybory dla $a$) $\\times$ (wybory dla $b$) $\\times$ (wybory dla $d$)",
        "explanation": "Stosujemy zasadę mnożenia dla niezależnych wyborów",
        "why": "Zasada mnożenia: jeśli mamy $n_1$ sposobów na pierwszy wybór, $n_2$ na drugi itd., to łącznie mamy $n_1 \\times n_2 \\times ...$ możliwości.",
        "interactive_choice": {
          "prompt": "Jak najlepiej policzyć liczbę takich liczb pięciocyfrowych?",
          "options": [
            {
              "id": "A",
              "text": "Zasada mnożenia - osobno dla każdej pozycji",
              "feedback": "Świetnie! Liczymy ile możliwości jest dla każdej pozycji, potem mnożymy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Permutacje z powtórzeniami",
              "feedback": "Nie - permutacje dotyczą przestawiania, a tu wybieramy cyfry na konkretne pozycje.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Kombinacje - wybieramy cyfry ze zbioru",
              "feedback": "Nie - kombinacje nie uwzględniają kolejności, a tu pozycje są ustalone.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zasada mnożenia: gdy wybory są niezależne, mnożymy liczby możliwości."
        }
      },
      {
        "step": 3,
        "hint": "Ile możliwości mamy dla cyfry $a$ na pierwszej pozycji?",
        "expression": "Cyfra $a$ może być jedną z: $1, 2, 3, 4, 5, 6, 7, 8, 9$ - czyli $9$ możliwości",
        "explanation": "Pierwsza cyfra liczby pięciocyfrowej nie może być $0$",
        "interactive_choice": {
          "prompt": "Jakie cyfry może przyjąć $a$ (pierwsza pozycja liczby pięciocyfrowej)?",
          "options": [
            {
              "id": "A",
              "text": "Cyfry od $0$ do $9$ ($10$ możliwości)",
              "feedback": "Nie - liczba pięciocyfrowa nie może zaczynać się od $0$!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Cyfry od $1$ do $9$ ($9$ możliwości)",
              "feedback": "Dokładnie! Pierwsza cyfra nie może być zerem.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Cyfry od $1$ do $8$ ($8$ możliwości)",
              "feedback": "Nie - cyfra $9$ też może być na pierwszej pozycji.",
              "is_correct": false
            }
          ],
          "explanation_after": "Liczba pięciocyfrowa to liczba od $10000$ do $99999$, więc pierwsza cyfra musi być niezerowa."
        }
      },
      {
        "step": 4,
        "hint": "Ile możliwości mamy dla cyfry $b$ na drugiej pozycji?",
        "expression": "Cyfra $b$ może być dowolną cyfrą od $0$ do $9$ - czyli $10$ możliwości",
        "explanation": "Druga pozycja nie ma ograniczeń, może być dowolna cyfra"
      },
      {
        "step": 5,
        "hint": "Czy trzecia pozycja daje nam nowe możliwości?",
        "expression": "Trzecia pozycja to znowu cyfra $a$ - już wybrana, $0$ nowych wyborów",
        "explanation": "Trzecia pozycja jest zdeterminowana przez wybór $a$"
      },
      {
        "step": 6,
        "hint": "Ile możliwości mamy dla cyfry $d$ na czwartej pozycji?",
        "expression": "Cyfra $d$ może być dowolną cyfrą od $0$ do $9$ - czyli $10$ możliwości",
        "explanation": "Czwarta pozycja nie ma ograniczeń",
        "interactive_choice": {
          "prompt": "Jakie cyfry może przyjąć $d$ na czwartej pozycji?",
          "options": [
            {
              "id": "A",
              "text": "Dowolną cyfrę od $0$ do $9$ ($10$ możliwości)",
              "feedback": "Dokładnie! Czwarta pozycja nie ma żadnych ograniczeń.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Tylko cyfry różne od $a$ ($9$ możliwości)",
              "feedback": "Nie - zadanie nie wymaga, żeby $d$ było różne od $a$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Tylko cyfry różne od $a$ i $b$ ($8$ możliwości)",
              "feedback": "Nie - zadanie nie nakłada takich ograniczeń na $d$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Cyfra $d$ jest niezależna - może być taka sama jak $a$ lub $b$, lub inna."
        }
      },
      {
        "step": 7,
        "hint": "Czy piąta pozycja daje nam nowe możliwości?",
        "expression": "Piąta pozycja to znowu cyfra $a$ - już wybrana, $0$ nowych wyborów",
        "explanation": "Piąta pozycja jest zdeterminowana przez wybór $a$"
      },
      {
        "step": 8,
        "hint": "Jak obliczyć całkowitą liczbę możliwości?",
        "expression": "Liczba wszystkich liczb = $9 \\times 10 \\times 10$",
        "explanation": "Mnożymy liczby możliwości dla każdej niezależnej pozycji",
        "why": "Pozycje $1$, $2$, $4$ dają niezależne wybory. Pozycje $3$ i $5$ są zdeterminowane przez pozycję $1$."
      },
      {
        "step": 9,
        "hint": "Jaki jest wynik końcowy?",
        "expression": "$9 \\times 10 \\times 10 = 900$",
        "explanation": "Obliczamy iloczyn"
      }
    ],
    "solutions": [
      "$900$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:49:39.369Z"
  },
  {
    "id": "five_digit_two_nonzero_digits",
    "topic": "Kombinatoryka - liczby z ograniczeniami",
    "difficulty": 4,
    "statement": "Oblicz, ile jest liczb pięciocyfrowych, w zapisie których użyto tylko dwóch cyfr i żadna z nich nie jest zerem.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry możemy użyć w zapisie liczby pięciocyfrowej?",
        "expression": "Cyfry od $1$ do $9$ (bez zera)",
        "explanation": "Mamy do dyspozycji cyfry: $1$, $2$, $3$, $4$, $5$, $6$, $7$, $8$, $9$",
        "why": "Zero jest wykluczone z warunków zadania. Liczba pięciocyfrowa nie może zaczynać się od $0$."
      },
      {
        "step": 2,
        "hint": "Jak podejść do problemu wyboru dwóch cyfr i ich rozmieszczenia?",
        "expression": "Liczba sposobów = $\\binom{10}{2}$ × $\\binom{5}{2}$",
        "explanation": "Stosujemy regułę mnożenia dla zdarzeń niezależnych",
        "interactive_choice": {
          "prompt": "Jak najlepiej rozwiązać ten problem kombinatoryczny?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw wybrać $2$ cyfry, potem rozłożyć je na $5$ pozycji",
              "feedback": "Świetnie! To systematyczne podejście: wybór cyfr $\\times$ rozmieszczenie",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Dla każdej pozycji wybrać cyfrę z dostępnych",
              "feedback": "To skomplikuje sprawę - trudno kontrolować warunek 'dokładnie 2 cyfry'",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie liczby i odjąć te z więcej niż $2$ cyframi",
              "feedback": "Możliwe, ale bardzo pracochłonne - lepiej liczyć bezpośrednio",
              "is_correct": false
            }
          ],
          "explanation_after": "Dzielimy problem: wybór pary cyfr, następnie ich rozmieszczenie na pozycjach."
        }
      },
      {
        "step": 3,
        "hint": "Na ile sposobów możemy wybrać $2$ różne cyfry spośród $9$?",
        "expression": "$\\binom{9}{2} = \\frac{9!}{2! \\cdot 7!} = \\frac{9 \\cdot 8}{2} = 36$",
        "explanation": "Wybieramy $2$-elementowy podzbiór z $9$-elementowego zbioru",
        "why": "Używamy symbolu Newtona (kombinacji), bo kolejność wyboru cyfr nie ma znaczenia - pary $\\{3,7\\}$ i $\\{7,3\\}$ to to samo."
      },
      {
        "step": 4,
        "hint": "Mając ustalone dwie cyfry, jak je rozmieścić na 5 pozycjach?",
        "expression": "$2^5 = 32$ sposoby rozmieszczenia",
        "explanation": "Każda pozycja: $2$ wybory, więc $2 \\cdot 2 \\cdot 2 \\cdot 2 \\cdot 2 = 32$",
        "interactive_choice": {
          "prompt": "Jak policzyć rozmieszczenia dwóch cyfr na $5$ pozycjach?",
          "options": [
            {
              "id": "A",
              "text": "Każda pozycja ma $2$ możliwości, więc $2^5$",
              "feedback": "Świetnie! Każda z $5$ pozycji może mieć pierwszą lub drugą cyfrę",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "To permutacje: $5!$",
              "feedback": "Nie - permutacje byłyby gdyby wszystkie cyfry były różne",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Kombinacje: $\\binom{5}{2}$",
              "feedback": "To policzyłoby tylko wybór pozycji dla jednej cyfry, bez uwzględnienia drugiej",
              "is_correct": false
            }
          ],
          "explanation_after": "Dla każdej z $5$ pozycji mamy niezależny wybór: pierwsza lub druga cyfra."
        }
      },
      {
        "step": 5,
        "hint": "Czy wszystkie te $32$ rozmieszczenia są poprawne?",
        "expression": "$32 - 2 = 30$ poprawnych rozmieszczeni",
        "explanation": "Odejmujemy 2 przypadki: $11111$ i $22222$ (dla przykładowej pary {$1$,$2$})",
        "why": "Z $2^5$ odejmujemy przypadki gdzie wszystkie pozycje mają tę samą cyfrę ($2$ takie przypadki).",
        "interactive_choice": {
          "prompt": "Które rozmieszczenia musimy wykluczyć z $32$ możliwości?",
          "options": [
            {
              "id": "A",
              "text": "Żadne - wszystkie są dobre",
              "feedback": "Nie! Warunek mówi 'użyto TYLKO dwóch cyfr' - obie muszą wystąpić",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Te gdzie użyto tylko jednej cyfry (np. $33333$ lub $77777$)",
              "feedback": "Dokładnie! Musimy odjąć $2$ przypadki: wszystkie pierwsza cyfra i wszystkie druga cyfra",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Te gdzie cyfry się powtarzają",
              "feedback": "Nie - powtórzenia są dozwolone, byleby użyto obu cyfr",
              "is_correct": false
            }
          ],
          "explanation_after": "Warunek 'użyto dwóch cyfr' oznacza, że obie muszą wystąpić przynajmniej raz."
        }
      },
      {
        "step": 6,
        "hint": "Ile łącznie jest liczb spełniających warunki zadania?",
        "expression": "$36 \\cdot 30 = 1080$",
        "explanation": "Mnożymy liczbę par cyfr przez liczbę poprawnych rozmieszczeni każdej pary"
      },
      {
        "step": 7,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "Liczb pięciocyfrowych z dokładnie dwoma różnymi cyframi niezerowymi jest $1080$",
        "explanation": "Otrzymujemy wynik końcowy"
      }
    ],
    "solutions": [
      "$1080$"
    ],
    "parameters": {
      "type": "liczby pięciocyfrowe",
      "constraint": "dokładnie $2$ różne cyfry, obie niezerowe"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:50:18.324Z"
  },
  {
    "id": "counting_digits_7_9_million",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 3,
    "statement": "Oblicz, ile liczb mniejszych od $1000000$ można utworzyć z cyfr $7$ lub $9$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie liczby są mniejsze od miliona?",
        "expression": "Liczby mniejsze od $1\\,000\\,000$ to liczby od $1$ do $999\\,999$",
        "explanation": "Milion to liczba siedmiocyfrowa, więc szukamy liczb od jednocyfrowych do sześciocyfrowych"
      },
      {
        "step": 2,
        "hint": "Jak podejść do zliczania liczb o różnej liczbie cyfr?",
        "expression": "Rozpatrzymy osobno: $1$-cyfrowe, $2$-cyfrowe, $3$-cyfrowe, $4$-cyfrowe, $5$-cyfrowe, $6$-cyfrowe",
        "explanation": "Dla każdej długości zastosujemy zasadę mnożenia",
        "interactive_choice": {
          "prompt": "Jak najlepiej policzyć wszystkie liczby utworzone z cyfr $7$ i $9$?",
          "options": [
            {
              "id": "A",
              "text": "Policzyć osobno liczby jedno-, dwu-, trzy-, cztero-, pięcio- i sześciocyfrowe",
              "feedback": "Świetnie! To systematyczne podejście - policzysz każdą grupę osobno i zsumujemy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć wzoru na permutacje z powtórzeniami",
              "feedback": "Nie - permutacje dotyczą przestawiania elementów, a tu tworzymy liczby o różnej długości.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie liczby sześciocyfrowe i odjąć te większe od $1000000$",
              "feedback": "Skomplikowane - łatwiej policzyć każdą długość osobno, bo nie ma ograniczeń na pierwszą cyfrę.",
              "is_correct": false
            }
          ],
          "explanation_after": "Podzielimy problem na przypadki według liczby cyfr i użyjemy zasady mnożenia dla każdego."
        }
      },
      {
        "step": 3,
        "hint": "Ile jest liczb jednocyfrowych złożonych z cyfr $7$ lub $9$?",
        "expression": "Liczby 1-cyfrowe: $2$ możliwości $(7$ lub $9)$",
        "explanation": "Mamy dokładnie dwie liczby jednocyfrowe: $7$ i $9$",
        "why": "Każda pozycja cyfry może być wypełniona na $2$ sposoby (cyfrą $7$ lub $9$). To podstawa zasady mnożenia."
      },
      {
        "step": 4,
        "hint": "Ile jest liczb dwucyfrowych, jeśli każda cyfra może być $7$ lub $9$?",
        "expression": "Liczby 2-cyfrowe: $2 \\cdot 2 = 4$ możliwości",
        "explanation": "Pierwsza cyfra: $2$ wybory, druga cyfra: $2$ wybory, razem $2 \\cdot 2 = 4$"
      },
      {
        "step": 5,
        "hint": "Czy widzisz wzór dla liczb o większej liczbie cyfr?",
        "expression": "Liczby n-cyfrowe: $2^n$ możliwości",
        "explanation": "Dla każdej z $n$ pozycji mamy $2$ wybory, więc $2 \\cdot 2 \\cdot ... \\cdot 2 = 2^n$",
        "interactive_choice": {
          "prompt": "Jaki wzór opisuje liczbę $n$-cyfrowych liczb z cyfr $7$ i $9$?",
          "options": [
            {
              "id": "A",
              "text": "$2^n$ - każda z $n$ pozycji ma $2$ możliwości",
              "feedback": "Doskonale! Zasada mnożenia: $2 \\cdot 2 \\cdot ... \\cdot 2$ (n razy) = $2^n$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$2n$ - dwie cyfry razy liczba pozycji",
              "feedback": "Nie - to byłoby dodawanie. Tu mnożymy możliwości dla każdej pozycji.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$n^2$ - liczba pozycji do kwadratu",
              "feedback": "Nie - to nie uwzględnia liczby dostępnych cyfr $2$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zasada mnożenia: jeśli mamy $n$ pozycji i każda ma $2$ możliwości, to razem $2^n$ kombinacji."
        }
      },
      {
        "step": 6,
        "hint": "Ile jest liczb dla każdej długości od $1$ do $6$ cyfr?",
        "expression": "1-cyfrowe: $2^1 = 2$, 2-cyfrowe: $2^2 = 4$, 3-cyfrowe: $2^3 = 8$, 4-cyfrowe: $2^4 = 16$, 5-cyfrowe: $2^5 = 32$, 6-cyfrowe: $2^6 = 64$",
        "explanation": "Obliczamy potęgi dwójki dla każdej długości"
      },
      {
        "step": 7,
        "hint": "Jak otrzymać całkowitą liczbę wszystkich możliwych liczb?",
        "expression": "$2 + 4 + 8 + 16 + 32 + 64 = 126$",
        "explanation": "Sumujemy liczby dla wszystkich długości"
      },
      {
        "step": 8,
        "hint": "Czy można to zapisać krócej używając wzoru na sumę ciągu geometrycznego?",
        "expression": "Alternatywnie: $2^1 + 2^2 + 2^3 + 2^4 + 2^5 + 2^6 = 2^7 - 2 = 128 - 2 = 126$",
        "explanation": "Używając wzoru na sumę ciągu geometrycznego otrzymujemy ten sam wynik",
        "interactive_choice": {
          "prompt": "Jak można zapisać sumę $2 + 4 + 8 + 16 + 32 + 64$?",
          "options": [
            {
              "id": "A",
              "text": "Jako sumę ciągu geometrycznego: $2(2^6 - 1)/(2-1) = 2^7 - 2$",
              "feedback": "Świetnie! Wzór na sumę: $S_n = a_1(q^n - 1)/(q-1)$, tu daje $2^7 - 2 = 126$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Jako $6 \\cdot 2^3 = 48$",
              "feedback": "Nie - to nie uwzględnia struktury potęg dwójki.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Nie da się krócej, trzeba dodać wszystkie składniki",
              "feedback": "Da się! To ciąg geometryczny o pierwszym wyrazie $2$ i ilorazie $2$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Suma $2^1 + 2^2 + ... + 2^6 = 2(1 + 2 + 4 + ... + 32) = 2 \\cdot \\frac{2^6-1}{2-1} = 2(64-1) = 126$"
        }
      }
    ],
    "solutions": [
      "$126$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:50:56.626Z"
  },
  {
    "id": "combinatorics_four_digit_numbers",
    "topic": "Kombinatoryka - permutacje z powtórzeniami",
    "difficulty": 4,
    "statement": "Oblicz, ile różnych liczb czterocyfrowych można utworzyć z cyfr $1$, $2$, $3$ przy założeniu, że cyfry $1$ i $2$ mogą być użyte jednokrotnie.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mamy do dyspozycji i ile razy możemy ich użyć?",
        "expression": "Cyfry: $1$ (raz), $2$ (raz), $3$ (dowolnie wiele razy)",
        "explanation": "Identyfikujemy dostępne cyfry i ograniczenia ich użycia"
      },
      {
        "step": 2,
        "hint": "Jak podejść do problemu liczenia czterocyfrowych liczb z ograniczeniami?",
        "expression": "Przypadki: (I) bez $1$ i $2$, (II) tylko $1$, (III) tylko $2$, (IV) $1$ i $2$",
        "explanation": "Dzielimy problem na rozłączne przypadki",
        "why": "Cyfry $1$ i $2$ mogą wystąpić $0$ lub $1$ raz, więc mamy $4$ rozłączne sytuacje. Zsumujemy wyniki z każdego przypadku.",
        "interactive_choice": {
          "prompt": "Którą metodę zastosować do zliczenia liczb czterocyfrowych?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć przypadki według liczby użytych cyfr $1$ i $2$",
              "feedback": "Świetnie! To systematyczne podejście - podzielimy na przypadki: bez $1$ i $2$, tylko z $1$, tylko z $2$, z $1$ i $2$.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć wzoru na permutacje z powtórzeniami $\\frac{n!}{n_1! \\cdot n_2! \\cdot n_3!}$",
              "feedback": "Ten wzór działa gdy mamy ustaloną liczbę każdej cyfry, ale tu cyfra $3$ może wystąpić różną liczbę razy.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie możliwości dla każdej pozycji: $3 \\cdot 3 \\cdot 3 \\cdot 3$",
              "feedback": "To by działało gdyby wszystkie cyfry mogły być użyte dowolnie, ale $1$ i $2$ mają ograniczenia.",
              "is_correct": false
            }
          ],
          "explanation_after": "Podział na przypadki według użycia cyfr $1$ i $2$ pozwala systematycznie uwzględnić wszystkie ograniczenia."
        }
      },
      {
        "step": 3,
        "hint": "Ile liczb możemy utworzyć używając tylko cyfry $3$?",
        "expression": "Przypadek I: tylko cyfra $3$ → $3333$ → 1 liczba",
        "explanation": "Gdy nie używamy $1$ ani $2$, wszystkie pozycje zajmuje cyfra $3$"
      },
      {
        "step": 4,
        "hint": "Ile liczb powstanie gdy użyjemy cyfry $1$ dokładnie raz (reszta to $3$)?",
        "expression": "Przypadek II: jedna $1$, trzy $3$ → $\\frac{4!}{1! \\cdot 3!} = 4$ liczby",
        "explanation": "Cyfra $1$ może być na $4$ różnych pozycjach",
        "interactive_choice": {
          "prompt": "Jak policzyć liczby z jedną cyfrą $1$ i trzema cyframi $3$?",
          "options": [
            {
              "id": "A",
              "text": "Cyfra $1$ może być na $4$ pozycjach, więc $4$ liczby",
              "feedback": "Dokładnie! Liczby: $1333$, $3133$, $3313$, $3331$. Cyfra $1$ wybiera swoją pozycję.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć wzoru $\\frac{4!}{1! \\cdot 3!} = 4$",
              "feedback": "Poprawny wynik! To permutacje z powtórzeniami: $1$ raz cyfra $1$, $3$ razy cyfra $3$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "To $4 \\cdot 3 = 12$ liczb",
              "feedback": "Nie - nie mnożymy pozycji. Cyfra $1$ po prostu wybiera jedną z $4$ pozycji.",
              "is_correct": false
            }
          ],
          "explanation_after": "Cyfra $1$ może zajmować dowolną z $4$ pozycji, reszta to cyfry $3$. Wzór na permutacje potwierdza: $\\frac{4!}{3!} = 4$."
        }
      },
      {
        "step": 5,
        "hint": "Ile liczb powstanie gdy użyjemy cyfry $2$ dokładnie raz (reszta to $3$)?",
        "expression": "Przypadek III: jedna $2$, trzy $3$ → $\\frac{4!}{1! \\cdot 3!} = 4$ liczby",
        "explanation": "Analogicznie jak dla cyfry $1$ - cyfra $2$ może być na $4$ pozycjach"
      },
      {
        "step": 6,
        "hint": "Ile liczb powstanie gdy użyjemy obu cyfr $1$ i $2$ (reszta to $3$)?",
        "expression": "Przypadek IV: $1$, $2$ i dwie $3$ → $\\frac{4!}{2!} = \\frac{24}{2} = 12$ liczb",
        "explanation": "Permutacje czterech cyfr z dwoma powtórzeniami cyfry $3$",
        "why": "Wzór $\\frac{n!}{n_1! \\cdot n_2! \\cdot ... \\cdot n_k!}$ stosujemy gdy mamy $n$ pozycji i cyfry powtarzające się odpowiednio $n_1, n_2, ..., n_k$ razy.",
        "interactive_choice": {
          "prompt": "Jak ułożyć cyfry $1$, $2$, $3$, $3$ w liczbie czterocyfrowej?",
          "options": [
            {
              "id": "A",
              "text": "Permutacje z powtórzeniami: $\\frac{4!}{2!} = 12$",
              "feedback": "Świetnie! Mamy $4$ cyfry, z czego dwie $3$ się powtarzają: $\\frac{4!}{2!} = \\frac{24}{2} = 12$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wybieramy 2 pozycje z 4 dla cyfr 1 i 2: $\\binom{4}{2} \\cdot 2! = 12$",
              "feedback": "Poprawnie! Wybieramy pozycje dla $1$ i $2$ ($\\binom{4}{2} = 6$), potem je ustawiamy ($2! = 2$): $6 \\cdot 2 = 12$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "To $4! = 24$ liczby",
              "feedback": "Nie - zapominasz że dwie cyfry $3$ są identyczne, więc część permutacji się powtarza.",
              "is_correct": false
            }
          ],
          "explanation_after": "Mamy $4$ pozycje dla cyfr $1$, $2$, $3$, $3$. Ponieważ dwie $3$ są identyczne, dzielimy przez $2!$"
        }
      },
      {
        "step": 7,
        "hint": "Jak połączyć wyniki ze wszystkich przypadków?",
        "expression": "$1 + 4 + 4 + 12 = 21$",
        "explanation": "Sumujemy liczby z rozłącznych przypadków"
      },
      {
        "step": 8,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "Można utworzyć $21$ różnych liczb czterocyfrowych",
        "explanation": "Suma wszystkich możliwości z uwzględnieniem ograniczeń"
      }
    ],
    "solutions": [
      "$21$"
    ],
    "parameters": {
      "available_digits": "$1$ (raz), $2$ (raz), $3$ (dowolnie)",
      "number_length": 4
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-10-03T06:51:35.583Z"
  },
  {
    "id": "combinatorics_seven_digit_numbers",
    "topic": "Kombinatoryka - rozmieszczenia cyfr",
    "difficulty": 4,
    "statement": "Oblicz, ile jest wszystkich liczb naturalnych siedmiocyfrowych, w zapisie których występują dokładnie dwie cyfry $1$ i dokładnie trzy cyfry $9$, zakładając, że nie występuje cyfra $0$.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr musimy rozmieścić w siedmiocyfrowej liczbie?",
        "expression": "Liczba ma $7$ cyfr: dwie cyfry $1$, trzy cyfry $9$, oraz $7 - 2 - 3 = 2$ pozostałe cyfry",
        "explanation": "Identyfikujemy strukturę problemu - mamy $7$ pozycji do wypełnienia"
      },
      {
        "step": 2,
        "hint": "Jakie cyfry mogą być na dwóch pozostałych pozycjach?",
        "expression": "Pozostałe cyfry: $\\{2, 3, 4, 5, 6, 7, 8\\}$ - jest ich $7$",
        "explanation": "Dwie pozostałe pozycje wypełniamy cyframi z tego zbioru",
        "interactive_choice": {
          "prompt": "Które cyfry możemy użyć na dwóch pozostałych pozycjach?",
          "options": [
            {
              "id": "A",
              "text": "Cyfry od $2$ do $8$ (bez $0$, $1$, $9$)",
              "feedback": "Dokładnie! Mamy 7 możliwych cyfr: $2$, $3$, $4$, $5$, $6$, $7$, $8$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Cyfry od $1$ do $9$ (bez $0$)",
              "feedback": "Nie - cyfry $1$ i $9$ już występują w wymaganej liczbie!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Dowolne cyfry od $0$ do $9$",
              "feedback": "Nie - cyfra $0$ nie występuje, a $1$ i $9$ już są użyte",
              "is_correct": false
            }
          ],
          "explanation_after": "Wykluczamy $0$ (z założenia), $1$ i $9$ (już występują w wymaganej liczbie). Zostaje $7$ cyfr."
        }
      },
      {
        "step": 3,
        "hint": "Jak podejść do problemu rozmieszczenia cyfr?",
        "expression": "Strategia: wybieramy pozycje dla cyfr $1$, potem dla $9$, na końcu wypełniamy pozostałe",
        "explanation": "Dzielimy problem na kolejne decyzje",
        "why": "To standardowa metoda w kombinatoryce - rozbijamy złożony problem na prostsze kroki i mnożymy liczby możliwości.",
        "interactive_choice": {
          "prompt": "Jaką strategię zastosować do policzenia wszystkich możliwości?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw wybrać pozycje dla cyfr, potem wypełnić pozostałe",
              "feedback": "Świetnie! To klasyczne podejście: wybieramy miejsca dla $1$, potem dla $9$, potem wypełniamy resztę",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Policzyć wszystkie permutacje $7$ cyfr",
              "feedback": "Nie do końca - mamy powtarzające się cyfry (dwie $1$ i trzy $9$), więc zwykła permutacja nie zadziała",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru na wariacje z powtórzeniami",
              "feedback": "Nie - wariacje z powtórzeniami to gdy każda pozycja może mieć dowolną wartość. Tu mamy ograniczenia",
              "is_correct": false
            }
          ],
          "explanation_after": "Rozbijamy problem na etapy: wybór pozycji dla jedynek, dla dziewiątek, wypełnienie reszty."
        }
      },
      {
        "step": 4,
        "hint": "Na ile sposobów możemy wybrać $2$ pozycje spośród $7$ dla cyfr $1$?",
        "expression": "$\\binom{7}{2} = \\frac{7!}{2! \\cdot 5!} = \\frac{7 \\cdot 6}{2} = 21$",
        "explanation": "Wybieramy $2$ pozycje z $7$ dla cyfr $1$ - to kombinacja bez względu na kolejność"
      },
      {
        "step": 5,
        "hint": "Po umieszczeniu dwóch jedynek, ile pozycji zostało dla cyfr $9$?",
        "expression": "Zostało $7 - 2 = 5$ pozycji, wybieramy 3 dla cyfr 9: $\\binom{5}{3} = \\frac{5!}{3! \\cdot 2!} = \\frac{5 \\cdot 4}{2} = 10$",
        "explanation": "Z pozostałych $5$ pozycji wybieramy $3$ dla cyfr $9$"
      },
      {
        "step": 6,
        "hint": "Ile pozycji pozostało do wypełnienia i czym je wypełnimy?",
        "expression": "Pozostały $7 - 2 - 3 = 2$ pozycje, każdą wypełniamy jedną z $7$ cyfr $\\{2, 3, 4, 5, 6, 7, 8\\}$",
        "explanation": "Mamy $2$ wolne pozycje do wypełnienia"
      },
      {
        "step": 7,
        "hint": "Czy cyfry na pozostałych pozycjach mogą się powtarzać?",
        "expression": "Pierwsza pozycja: $7$ możliwości, druga pozycja: $7$ możliwości, razem $7 \\cdot 7 = 49$ sposobów",
        "explanation": "Cyfry mogą się powtarzać, więc mnożymy liczbę możliwości",
        "why": "To zasada mnożenia - gdy mamy niezależne wybory, mnożymy liczby możliwości.",
        "interactive_choice": {
          "prompt": "Jak wypełnić dwie pozostałe pozycje cyframi z $\\{2, 3, 4, 5, 6, 7, 8\\}$?",
          "options": [
            {
              "id": "A",
              "text": "Każda pozycja niezależnie - cyfry mogą się powtarzać",
              "feedback": "Tak! Zadanie nie zabrania powtórzeń, więc każda z $2$ pozycji ma $7$ możliwości",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Bez powtórzeń - pierwsza pozycja $7$ możliwości, druga $6$",
              "feedback": "Nie - zadanie nie wymaga różnych cyfr na tych pozycjach",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Muszą być takie same cyfry na obu pozycjach",
              "feedback": "Nie - nie ma takiego wymagania w zadaniu",
              "is_correct": false
            }
          ],
          "explanation_after": "Brak ograniczeń oznacza, że cyfry mogą się powtarzać. Każda pozycja ma $7$ niezależnych wyborów."
        }
      },
      {
        "step": 8,
        "hint": "Jak połączyć wszystkie etapy w końcowy wynik?",
        "expression": "$21 \\cdot 10 \\cdot 49 = 10290$",
        "explanation": "Mnożymy liczby możliwości z każdego etapu zgodnie z zasadą mnożenia"
      },
      {
        "step": 9,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "Liczba wszystkich takich liczb siedmiocyfrowych wynosi $10290$",
        "explanation": "Otrzymujemy końcowy wynik"
      }
    ],
    "solutions": [
      "$10290$"
    ],
    "parameters": {
      "digits": "$7$ cyfr",
      "ones": "dokładnie $2$ cyfry $1$",
      "nines": "dokładnie $3$ cyfry $9$",
      "constraint": "bez cyfry $0$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:52:18.974Z"
  },
  {
    "id": "combinatorics_seven_digit_numbers",
    "topic": "Kombinatoryka - rozmieszczenie cyfr",
    "difficulty": 4,
    "statement": "Oblicz, ile jest wszystkich liczb naturalnych siedmiocyfrowych, w zapisie których występują dokładnie dwie cyfry $1$ i dokładnie trzy cyfry $9$, zakładając, że może występować cyfra $0$.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr musimy rozmieścić w liczbie siedmiocyfrowej?",
        "expression": "Liczba ma 7 cyfr: $2$ jedynki, $3$ dziewiątki i $7 - 2 - 3 = 2$ pozostałe cyfry",
        "explanation": "Identyfikujemy strukturę liczby - mamy $7$ pozycji do wypełnienia"
      },
      {
        "step": 2,
        "hint": "Czy wszystkie pozycje w liczbie są równoważne?",
        "expression": "Warunek: pierwsza cyfra $\\neq 0$",
        "explanation": "To kluczowe ograniczenie dla liczb naturalnych siedmiocyfrowych",
        "why": "Musimy podzielić problem na przypadki: gdy $0$ jest na pierwszej pozycji (niemożliwe) i gdy nie jest.",
        "interactive_choice": {
          "prompt": "Jakie ograniczenie musimy uwzględnić dla liczby siedmiocyfrowej?",
          "options": [
            {
              "id": "A",
              "text": "Pierwsza cyfra nie może być zerem",
              "feedback": "Dokładnie! Liczba siedmiocyfrowa musi zaczynać się od cyfry $1$-$9$, inaczej byłaby krótsza.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wszystkie pozycje są równoważne",
              "feedback": "Nie - jeśli pierwsza cyfra to $0$, liczba nie będzie siedmiocyfrowa.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Ostatnia cyfra nie może być zerem",
              "feedback": "Nie - ostatnia cyfra może być dowolna, to pierwsza ma ograniczenie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Pierwsza cyfra nie może być zerem, więc musimy rozpatrzyć przypadki osobno."
        }
      },
      {
        "step": 3,
        "hint": "Jak podejść do problemu z ograniczeniem na pierwszą cyfrę?",
        "expression": "Strategia: Wszystkie rozmieszczenia - rozmieszczenia z $0$ na początku",
        "explanation": "Metoda dopełnienia upraszcza obliczenia",
        "interactive_choice": {
          "prompt": "Jaką strategię zastosować do zliczania z ograniczeniem na pierwszą pozycję?",
          "options": [
            {
              "id": "A",
              "text": "Policzyć wszystkie możliwości, potem odjąć te z $0$ na początku",
              "feedback": "Świetnie! To metoda dopełnienia - często najefektywniejsza.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Rozpatrzyć osobno przypadki: $1$ na początku, $9$ na początku, inna cyfra na początku",
              "feedback": "Możliwe, ale bardzo pracochłonne - trzeba rozpatrzyć wiele przypadków.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Najpierw wybrać pierwszą cyfrę spośród $1$-$9$, potem resztę",
              "feedback": "To skomplikuje sprawę - cyfry $1$ i $9$ już są 'zarezerwowane' w zadaniu.",
              "is_correct": false
            }
          ],
          "explanation_after": "Użyjemy metody dopełnienia: wszystkie rozmieszczenia minus te z zerem na początku."
        }
      },
      {
        "step": 4,
        "hint": "Ile jest wszystkich sposobów rozmieszczenia $2$ jedynek, $3$ dziewiątek i $2$ innych cyfr na $7$ pozycjach?",
        "expression": "Wybieramy pozycje dla cyfr: $\\binom{7}{2}$ dla jedynek, $\\binom{5}{3}$ dla dziewiątek, $\\binom{2}{2}$ dla pozostałych",
        "explanation": "Używamy kombinacji do wyboru pozycji dla każdej grupy cyfr",
        "why": "To wzór na permutacje z powtórzeniami: $\\frac{7!}{2! \\cdot 3! \\cdot 2!}$ lub równoważnie iloczyn dwumianów Newtona."
      },
      {
        "step": 5,
        "hint": "Ile wynosi $\\binom{7}{2} \\cdot \\binom{5}{3}$?",
        "expression": "$\\binom{7}{2} = \\frac{7 \\cdot 6}{2} = 21$, $\\binom{5}{3} = \\frac{5 \\cdot 4}{2} = 10$",
        "explanation": "Obliczamy współczynniki dwumianowe"
      },
      {
        "step": 6,
        "hint": "Ile jest sposobów rozmieszczenia cyfr na $7$ pozycjach?",
        "expression": "$21 \\cdot 10 = 210$ sposobów rozmieszczenia $2$ jedynek i $3$ dziewiątek",
        "explanation": "To liczba sposobów wyboru pozycji dla ustalonych cyfr $1$ i $9$"
      },
      {
        "step": 7,
        "hint": "Jakie cyfry mogą być na dwóch pozostałych pozycjach?",
        "expression": "Dla $2$ pozostałych pozycji: $8 \\cdot 8 = 64$ możliwości",
        "explanation": "Każda z $2$ pozycji może mieć jedną z $8$ cyfr (z powtórzeniami)",
        "interactive_choice": {
          "prompt": "Które cyfry mogą wypełnić 2 pozostałe pozycje?",
          "options": [
            {
              "id": "A",
              "text": "Dowolne cyfry $0$-$9$ oprócz $1$ i $9$",
              "feedback": "Dokładnie! Mamy $8$ możliwości: {$0$, $2$, $3$, $4$, $5$, $6$, $7$, $8$}, cyfry mogą się powtarzać.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Tylko cyfry $2$-$8$ (bez $0$, $1$, $9$)",
              "feedback": "Nie - cyfra $0$ może występować, tylko nie na pierwszej pozycji.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Dowolne cyfry $0$-$9$",
              "feedback": "Nie - cyfry $1$ i $9$ są już użyte (dokładnie $2$ i $3$ razy).",
              "is_correct": false
            }
          ],
          "explanation_after": "Pozostałe $2$ pozycje wypełniamy cyframi z $\\{0, 2, 3, 4, 5, 6, 7, 8\\}$ - z powtórzeniami."
        }
      },
      {
        "step": 8,
        "hint": "Ile jest wszystkich siedmiocyfrowych ciągów z $2$ jedynkami, $3$ dziewiątkami i $2$ innymi cyframi?",
        "expression": "$210 \\cdot 64 = 13\\,440$ wszystkich ciągów",
        "explanation": "Mnożymy liczbę rozmieszczeń przez liczbę możliwości dla pozostałych cyfr"
      },
      {
        "step": 9,
        "hint": "Ile z tych ciągów ma zero na pierwszej pozycji?",
        "expression": "Jeśli pierwsza pozycja = $0$, zostaje $6$ pozycji: $\\binom{6}{2}$ dla jedynek, $\\binom{4}{3}$ dla dziewiątek",
        "explanation": "Rozpatrujemy przypadek z zerem na początku"
      },
      {
        "step": 10,
        "hint": "Oblicz liczbę nieprawidłowych ciągów z zerem na początku",
        "expression": "$\\binom{6}{2} = 15$, $\\binom{4}{3} = 4$, więc $15 \\cdot 4 = 60$ rozmieszczeń",
        "explanation": "Liczba sposobów rozmieszczenia $1$ i $9$ na pozostałych $6$ pozycjach"
      },
      {
        "step": 11,
        "hint": "Ile możliwości dla drugiej pozostałej cyfry gdy pierwsza to $0$?",
        "expression": "Druga pozostała pozycja: $8$ możliwości, razem $60 \\cdot 8 = 480$ ciągów z zerem na początku",
        "explanation": "Jedna pozycja zajęta przez $0$, druga może mieć $8$ wartości"
      },
      {
        "step": 12,
        "hint": "Ile jest prawidłowych liczb siedmiocyfrowych?",
        "expression": "$13\\,440 - 480 = 12\\,960$",
        "explanation": "Odejmujemy nieprawidłowe ciągi od wszystkich możliwych"
      }
    ],
    "solutions": [
      "$12\\,960$"
    ],
    "parameters": {
      "digits": "$7$ cyfr",
      "ones": "dokładnie $2$",
      "nines": "dokładnie $3$",
      "constraint": "pierwsza cyfra $\\neq 0$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-10-03T06:53:00.934Z"
  },
  {
    "id": "combinatorics_seven_digit_numbers",
    "topic": "Kombinatoryka - liczby z powtórzeniami cyfr",
    "difficulty": 4,
    "statement": "Oblicz, ile jest liczb siedmiocyfrowych, w których zapisie dziesiętnym występuje dokładnie trzy razy cyfra $1$ i dokładnie dwa razy występuje cyfra $0$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry muszą wystąpić w tej liczbie siedmiocyfrowej?",
        "expression": "Liczba ma $7$ cyfr: trzy jedynki ($1$, $1$, $1$), dwa zera ($0$, $0$) i dwie inne cyfry",
        "explanation": "Identyfikujemy strukturę liczby - mamy $5$ cyfr określonych, pozostałe $2$ miejsca do wypełnienia"
      },
      {
        "step": 2,
        "hint": "Czy wszystkie siedem pozycji w liczbie jest równoważnych?",
        "expression": "Pierwsza cyfra $\\neq 0$, pozostałe $6$ pozycji bez ograniczeń",
        "explanation": "Ustalamy podstawowe ograniczenie dla liczby siedmiocyfrowej",
        "why": "To ograniczenie wymusza podział na przypadki: liczby z zerem na pierwszej pozycji (niemożliwe) i bez zera na pierwszej pozycji.",
        "interactive_choice": {
          "prompt": "Jakie ograniczenie musimy uwzględnić dla liczby siedmiocyfrowej?",
          "options": [
            {
              "id": "A",
              "text": "Pierwsza cyfra nie może być zerem",
              "feedback": "Dokładnie! Liczba siedmiocyfrowa musi zaczynać się od cyfry $1$-$9$, nie może być wiodącego zera.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wszystkie pozycje są równoważne",
              "feedback": "Nie - gdyby pierwsza cyfra była zerem, mielibyśmy liczbę sześciocyfrową, nie siedmiocyfrową.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Ostatnia cyfra nie może być zerem",
              "feedback": "Nie - ostatnia cyfra może być zerem. Problem dotyczy tylko pierwszej pozycji.",
              "is_correct": false
            }
          ],
          "explanation_after": "W liczbach wielocyfrowych pierwsza cyfra nie może być zerem. To kluczowe ograniczenie w tym zadaniu."
        }
      },
      {
        "step": 3,
        "hint": "Jak najlepiej podejść do tego problemu kombinatorycznego?",
        "expression": "Strategia: (wszystkie rozmieszczenia) - (rozmieszczenia z zerem na początku)",
        "explanation": "Wybieramy metodę dopełnienia jako najbardziej efektywną",
        "interactive_choice": {
          "prompt": "Którą strategię zastosować do zliczania takich liczb?",
          "options": [
            {
              "id": "A",
              "text": "Policzyć wszystkie rozmieszczenia, potem odjąć te z zerem na początku",
              "feedback": "Świetnie! To metoda dopełnienia - najpierw liczymy bez ograniczeń, potem odejmujemy niedozwolone przypadki.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Najpierw ustalić pierwszą cyfrę, potem rozmieścić pozostałe",
              "feedback": "Możliwe, ale bardziej skomplikowane - trzeba rozpatrywać wiele podprzypadków.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru na permutacje z powtórzeniami bezpośrednio",
              "feedback": "Nie wystarczy - wzór nie uwzględnia ograniczenia na pierwszą cyfrę.",
              "is_correct": false
            }
          ],
          "explanation_after": "Metoda dopełnienia: liczymy wszystkie możliwości, potem odejmujemy te, które łamią warunki."
        }
      },
      {
        "step": 4,
        "hint": "Ile cyfr mamy do rozmieszczenia na $7$ pozycjach?",
        "expression": "Mamy 7 cyfr: $1$, $1$, $1$, $0$, $0$, $c_1$, $c_2$ gdzie $c_1, c_2 \\in \\{2,3,4,5,6,7,8,9\\}$",
        "explanation": "Dwie pozostałe cyfry muszą być różne od $0$ i $1$, czyli z zestawu $\\{2,3,4,5,6,7,8,9\\}$"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów możemy wybrać dwie pozostałe cyfry?",
        "expression": "Liczba sposobów wyboru $c_1$ i $c_2$: $8 \\times 8 = 64$",
        "explanation": "Każda z dwóch cyfr może być dowolną z $8$ cyfr $(2-9)$, niezależnie",
        "interactive_choice": {
          "prompt": "Jak wybrać dwie cyfry $c_1$ i $c_2$ z zestawu $\\{2,3,4,5,6,7,8,9\\}$?",
          "options": [
            {
              "id": "A",
              "text": "Cyfry mogą się powtarzać: $8 \\times 8 = 64$ możliwości",
              "feedback": "Tak! Cyfry $c_1$ i $c_2$ mogą być takie same (np. obie mogą być $5$).",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Cyfry muszą być różne: $\\binom{8}{2} = 28$ możliwości",
              "feedback": "Nie - zadanie nie wymaga, by $c_1$ i $c_2$ były różne. Mogą się powtarzać.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Cyfry muszą być różne: $8 \\times 7 = 56$ możliwości",
              "feedback": "Nie - cyfry mogą się powtarzać. Nie ma zakazu używania tej samej cyfry dwa razy.",
              "is_correct": false
            }
          ],
          "explanation_after": "Zadanie nie zabrania powtórzeń cyfr innych niż $0$ i $1$, więc każda z dwóch pozycji ma $8$ możliwości."
        }
      },
      {
        "step": 6,
        "hint": "Dla ustalonego zestawu 7 cyfr, na ile sposobów można je rozmieścić?",
        "expression": "Permutacje z powtórzeniami: $\\frac{7!}{3! \\cdot 2! \\cdot n_1! \\cdot n_2!}$",
        "explanation": "Dzielimy przez liczby powtórzeń: $3$ jedynki, $2$ zera, ewentualnie powtórzenia $c_1$ i $c_2$",
        "why": "Wzór na permutacje z powtórzeniami: $\\frac{n!}{n_1! \\cdot n_2! \\cdot ... \\cdot n_k!}$ gdzie $n_i$ to liczby powtórzeń poszczególnych elementów."
      },
      {
        "step": 7,
        "hint": "Jak podzielić $64$ przypadki wyboru cyfr $c_1, c_2$ ze względu na powtórzenia?",
        "expression": "Przypadek 1: $c_1 = c_2$ (8 możliwości), Przypadek 2: $c_1 \\neq c_2$ (56 możliwości)",
        "explanation": "Gdy $c_1 = c_2$, mamy dodatkowe powtórzenie w permutacjach"
      },
      {
        "step": 8,
        "hint": "Ile permutacji daje przypadek gdy $c_1 = c_2$?",
        "expression": "Dla $c_1 = c_2$: $\\frac{7!}{3! \\cdot 2! \\cdot 2!} = \\frac{5040}{6 \\cdot 2 \\cdot 2} = \\frac{5040}{24} = 210$",
        "explanation": "Dzielimy przez $3!$ (trzy $1$), $2!$ (dwa $0$) i $2!$ (dwa $c_1$)"
      },
      {
        "step": 9,
        "hint": "Ile permutacji daje przypadek gdy $c_1 \\neq c_2$?",
        "expression": "Dla $c_1 \\neq c_2$: $\\frac{7!}{3! \\cdot 2!} = \\frac{5040}{6 \\cdot 2} = \\frac{5040}{12} = 420$",
        "explanation": "Dzielimy tylko przez $3!$ (trzy 1) i $2!$ (dwa 0), bo $c_1$ i $c_2$ są różne"
      },
      {
        "step": 10,
        "hint": "Ile jest wszystkich siedmiocyfrowych ciągów cyfr spełniających warunki?",
        "expression": "Razem: $8 \\cdot 210 + 56 \\cdot 420 = 1680 + 23520 = 25200$",
        "explanation": "Sumujemy: $8$ przypadków z powtórzeniem (po $210$) + $56$ przypadków bez powtórzenia (po $420$)"
      },
      {
        "step": 11,
        "hint": "Ile z tych ciągów ma zero na pierwszej pozycji (są niedozwolone)?",
        "expression": "Ciągi z zerem na początku: ustalamy $0$ na pozycji $1$, rozmieszczamy pozostałe $6$ cyfr",
        "explanation": "Teraz mamy $6$ pozycji dla: $1$, $1$, $1$, $0$, $c_1$, $c_2$"
      },
      {
        "step": 12,
        "hint": "Ile permutacji pozostałych $6$ cyfr dla przypadku $c_1 = c_2$?",
        "expression": "Dla $c_1 = c_2$: $\\frac{6!}{3! \\cdot 1! \\cdot 2!} = \\frac{720}{6 \\cdot 1 \\cdot 2} = \\frac{720}{12} = 60$",
        "explanation": "Dzielimy przez $3!$ (trzy $1$), $1!$ (jedno $0$) i $2!$ (dwa $c_1$)"
      },
      {
        "step": 13,
        "hint": "Ile permutacji pozostałych $6$ cyfr dla przypadku $c_1 \\neq c_2$?",
        "expression": "Dla $c_1 \\neq c_2$: $\\frac{6!}{3! \\cdot 1!} = \\frac{720}{6 \\cdot 1} = \\frac{720}{6} = 120$",
        "explanation": "Dzielimy przez $3!$ (trzy $1$) i $1!$ (jedno $0$)"
      },
      {
        "step": 14,
        "hint": "Ile jest niedozwolonych ciągów (z zerem na początku)?",
        "expression": "Niedozwolone: $8 \\cdot 60 + 56 \\cdot 120 = 480 + 6720 = 7200$",
        "explanation": "Sumujemy przypadki z zerem na pierwszej pozycji"
      },
      {
        "step": 15,
        "hint": "Jaki jest ostateczny wynik?",
        "expression": "Liczby siedmiocyfrowe: $25200 - 7200 = 18000$",
        "explanation": "Odejmujemy niedozwolone przypadki od wszystkich możliwości"
      }
    ],
    "solutions": [
      "$18000$"
    ],
    "parameters": {
      "digits": "$7$ cyfr",
      "ones": "dokładnie $3$ razy cyfra $1$",
      "zeros": "dokładnie $2$ razy cyfra $0$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 15,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:53:52.242Z"
  },
  {
    "id": "combinatorics_digits_89",
    "topic": "Kombinatoryka - rozmieszczenie cyfr",
    "difficulty": 4,
    "statement": "Oblicz, ile jest liczb ośmiocyfrowych, w których zapisie dziesiętnym występuje dokładnie trzy razy cyfra $9$ i dokładnie dwa razy występuje cyfra $8$.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr w liczbie ośmiocyfrowej jest już 'zajętych' przez cyfry $9$ i $8$?",
        "expression": "Mamy $8$ pozycji cyfr, z czego: $3$ pozycje dla cyfry $9$, $2$ pozycje dla cyfry $8$",
        "explanation": "Cyfry $9$ i $8$ zajmują razem $3 + 2 = 5$ pozycji"
      },
      {
        "step": 2,
        "hint": "Ile pozycji pozostaje do wypełnienia innymi cyframi?",
        "expression": "$8 - 5 = 3$ pozycje pozostają wolne",
        "explanation": "Na pozostałych 3 pozycjach mogą być cyfry różne od $8$ i $9$"
      },
      {
        "step": 3,
        "hint": "Jakie cyfry mogą wystąpić na pozostałych trzech pozycjach?",
        "expression": "Pozostałe $3$ pozycje: cyfry z zbioru $\\{0, 1, 2, 3, 4, 5, 6, 7\\}$",
        "explanation": "Każda z $3$ wolnych pozycji może mieć jedną z $8$ cyfr",
        "interactive_choice": {
          "prompt": "Które cyfry mogą wystąpić na pozostałych 3 pozycjach?",
          "options": [
            {
              "id": "A",
              "text": "Cyfry $0$, $1$, $2$, $3$, $4$, $5$, $6$, $7$ ($8$ możliwości)",
              "feedback": "Świetnie! To wszystkie cyfry oprócz $8$ i $9$, czyli $8$ możliwości na każdą pozycję.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Cyfry $1$, $2$, $3$, $4$, $5$, $6$, $7$ ($7$ możliwości)",
              "feedback": "Nie - zapominasz o cyfrze $0$, która też może wystąpić (ale nie na pierwszej pozycji).",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Dowolne cyfry $0$-$9$ ($10$ możliwości)",
              "feedback": "Nie - cyfry $8$ i $9$ już występują określoną liczbę razy, nie mogą się powtórzyć.",
              "is_correct": false
            }
          ],
          "explanation_after": "Na pozostałych pozycjach mogą być cyfry $0$-$7$, czyli $8$ różnych cyfr."
        }
      },
      {
        "step": 4,
        "hint": "Jak podejść do problemu rozmieszczenia cyfr $9$, $8$ i pozostałych?",
        "expression": "Plan: rozmieścić cyfry $9$ i $8$ → wypełnić pozostałe pozycje → uwzględnić warunek pierwszej cyfry",
        "explanation": "Dzielimy problem na etapy",
        "interactive_choice": {
          "prompt": "Jaką strategię zastosować do obliczenia liczby takich liczb?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw wybrać pozycje dla cyfr $9$ i $8$, potem wypełnić resztę",
              "feedback": "Doskonały plan! To systematyczne podejście: rozmieszczenie → wypełnienie → korekta dla zera.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Policzyć wszystkie permutacje $8$ cyfr",
              "feedback": "To nie zadziała - cyfry się powtarzają i mamy ograniczenia na pierwszą pozycję.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Rozpatrzyć osobno przypadki gdzie $0$ jest/nie jest na pierwszej pozycji",
              "feedback": "Możliwe, ale bardziej skomplikowane - lepiej najpierw rozmieścić $9$ i $8$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Strategia: wybieramy pozycje dla $9$ i $8$, wypełniamy resztę, odejmujemy przypadki z zerem na początku."
        }
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można wybrać $3$ pozycje spośród $8$ dla cyfry $9$?",
        "expression": "$\\binom{8}{3} = \\frac{8!}{3! \\cdot 5!} = \\frac{8 \\cdot 7 \\cdot 6}{3 \\cdot 2 \\cdot 1} = 56$",
        "explanation": "Wybieramy $3$ pozycje z $8$ dla cyfry $9$",
        "why": "Symbol Newtona $\\binom{n}{k}$ liczy liczbę sposobów wyboru $k$ elementów z $n$, gdy kolejność nie ma znaczenia."
      },
      {
        "step": 6,
        "hint": "Po wybraniu pozycji dla $9$, ile pozycji pozostaje dla cyfry $8$?",
        "expression": "Pozostaje $8 - 3 = 5$ pozycji, wybieramy 2 dla cyfry 8: $\\binom{5}{2} = \\frac{5 \\cdot 4}{2} = 10$",
        "explanation": "Z pozostałych $5$ pozycji wybieramy $2$ dla cyfry $8$"
      },
      {
        "step": 7,
        "hint": "Na ile sposobów można wypełnić pozostałe $3$ pozycje cyframi $0$-$7$?",
        "expression": "$8^3 = 512$",
        "explanation": "Każda z $3$ pozycji ma $8$ możliwości (cyfry $0$-$7$), z powtórzeniami"
      },
      {
        "step": 8,
        "hint": "Ile wynosi iloczyn wszystkich możliwości bez ograniczeń?",
        "expression": "$56 \\cdot 10 \\cdot 512 = 286720$",
        "explanation": "Mnożymy liczbę sposobów dla każdego etapu"
      },
      {
        "step": 9,
        "hint": "Czy wszystkie te liczby są ośmiocyfrowe?",
        "expression": "Problem: liczby zaczynające się od $0$ nie są ośmiocyfrowe",
        "explanation": "Musimy odjąć przypadki gdzie pierwsza pozycja ma cyfrę $0$",
        "why": "Liczba ośmiocyfrowa to liczba z przedziału $[10000000, 99999999]$, więc pierwsza cyfra musi być z $\\{1,2,...,9\\}$.",
        "interactive_choice": {
          "prompt": "Co może być problemem z otrzymanym wynikiem $286720$?",
          "options": [
            {
              "id": "A",
              "text": "Niektóre liczby zaczynają się od $0$, więc nie są ośmiocyfrowe",
              "feedback": "Dokładnie! Musimy odjąć przypadki gdzie pierwsza cyfra to $0$.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Policzyliśmy niektóre liczby wielokrotnie",
              "feedback": "Nie - każdy wybór pozycji i cyfr daje inną liczbę.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wynik jest poprawny, nie ma problemu",
              "feedback": "Nie - liczba ośmiocyfrowa nie może zaczynać się od $0$!",
              "is_correct": false
            }
          ],
          "explanation_after": "Liczba ośmiocyfrowa musi mieć pierwszą cyfrę różną od $0$. Musimy odjąć 'złe' przypadki."
        }
      },
      {
        "step": 10,
        "hint": "Ile jest liczb gdzie pierwsza pozycja to $0$?",
        "expression": "Pierwsza pozycja = $0$ (ustalona), pozostałe 7 pozycji: $3$ dla cyfry $9$, $2$ dla cyfry $8$, $2$ dowolne",
        "explanation": "Liczymy przypadki z zerem na początku"
      },
      {
        "step": 11,
        "hint": "Na ile sposobów rozmieścić cyfry $9$ i $8$ na pozostałych $7$ pozycjach?",
        "expression": "$\\binom{7}{3} \\cdot \\binom{4}{2} = 35 \\cdot 6 = 210$",
        "explanation": "Wybieramy $\\binom{3}{7}$ dla $9$, potem $\\binom{2}{4}$ dla $8$"
      },
      {
        "step": 12,
        "hint": "Na ile sposobów wypełnić $2$ pozostałe pozycje?",
        "expression": "$8^2 = 64$",
        "explanation": "Każda z $2$ pozycji: cyfry $0$-$7$"
      },
      {
        "step": 13,
        "hint": "Ile jest 'złych' liczb zaczynających się od $0$?",
        "expression": "$210 \\cdot 64 = 13440$",
        "explanation": "Liczba przypadków z zerem na pierwszej pozycji"
      },
      {
        "step": 14,
        "hint": "Jaki jest końcowy wynik?",
        "expression": "$286720 - 13440 = 273280$",
        "explanation": "Odejmujemy przypadki z zerem na początku od wszystkich możliwości"
      }
    ],
    "solutions": [
      "$273280$"
    ],
    "parameters": {
      "digit_length": 8,
      "count_9": 3,
      "count_8": 2
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 14,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:54:36.028Z"
  },
  {
    "id": "combinatorics_seven_digit_constraints",
    "topic": "Kombinatoryka z ograniczeniami",
    "difficulty": 5,
    "statement": "Oblicz, ile jest wszystkich liczb naturalnych siedmiocyfrowych, w których zapisie dziesiętnym występują dokładnie trzy cyfry $7$, dokładnie jedna cyfra $5$, nie występuje cyfra $0$ i suma wszystkich cyfr jest równa $32$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry już znamy i ile miejsca zajmują?",
        "expression": "Mamy: trzy cyfry $7$, jedna cyfra $5$, czyli $4$ cyfry już ustalone",
        "explanation": "Z $7$ pozycji, $4$ są już określone: trzy siódemki i jedna piątka"
      },
      {
        "step": 2,
        "hint": "Ile cyfr pozostało do ustalenia?",
        "expression": "$7 - 4 = 3$ cyfry pozostałe do ustalenia",
        "explanation": "Musimy znaleźć $3$ pozostałe cyfry"
      },
      {
        "step": 3,
        "hint": "Jaka jest suma trzech cyfr $7$ i jednej cyfry $5$?",
        "expression": "$3 \\cdot 7 + 1 \\cdot 5 = 21 + 5 = 26$",
        "explanation": "Suma ustalonych cyfr wynosi $26$"
      },
      {
        "step": 4,
        "hint": "Jaka musi być suma trzech pozostałych cyfr?",
        "expression": "$32 - 26 = 6$",
        "explanation": "Trzy pozostałe cyfry muszą sumować się do $6$",
        "why": "To kluczowe ograniczenie - musimy znaleźć wszystkie trójki cyfr (bez zera) sumujące się do $6$"
      },
      {
        "step": 5,
        "hint": "Jak znaleźć wszystkie możliwe trójki cyfr sumujące się do $6$?",
        "expression": "Rozpatrujemy przypadki: $a \\in \\{1, 2, 3, 4\\}$",
        "explanation": "Dla $a \\geq 5$ nie da się uzyskać sumy 6 z trzech cyfr (minimum byłoby $5+1+1=7$)",
        "interactive_choice": {
          "prompt": "Jak systematycznie znaleźć wszystkie trójki cyfr $(a, b, c)$ gdzie $a + b + c = 6$ i cyfry są z zakresu $1$-$9$?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć przypadki według wartości pierwszej cyfry: $a = 1, 2, 3, 4$",
              "feedback": "Świetnie! To systematyczne podejście - dla każdego $a$ znajdziemy pary $(b, c)$ takie że $b + c = 6 - a$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć wzoru na liczbę rozwiązań równania $x_1 + x_2 + x_3 = 6$",
              "feedback": "Uwaga - standardowy wzór nie uwzględnia ograniczenia 'bez zera' i 'maksymalnie 9'. Trzeba korygować.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wypisać losowo wszystkie możliwości",
              "feedback": "Ryzykowne - łatwo coś pominąć. Lepiej systematycznie według pierwszej cyfry.",
              "is_correct": false
            }
          ],
          "explanation_after": "Systematyczne rozpatrywanie przypadków według pierwszej cyfry gwarantuje, że nic nie pominiemy."
        }
      },
      {
        "step": 6,
        "hint": "Jakie są możliwe trójki cyfr dla każdego przypadku?",
        "expression": "Przypadek $a=1$: $b+c=5$ → $(1,1,4), (1,2,3), (1,3,2), (1,4,1)$\nPrzypadek $a=2$: $b+c=4$ → $(2,1,3), (2,2,2), (2,3,1)$\nPrzypadek $a=3$: $b+c=3$ → $(3,1,2), (3,2,1)$\nPrzypadek $a=4$: $b+c=2$ → $(4,1,1)$",
        "explanation": "Wypisujemy wszystkie uporządkowane trójki (kolejność ma znaczenie)"
      },
      {
        "step": 7,
        "hint": "Które trójki są różne jako zbiory cyfr?",
        "expression": "Unikalne zestawy:\n- $\\{1,1,4\\}$ - dwie jedynki\n- $\\{1,2,3\\}$ - wszystkie różne\n- $\\{2,2,2\\}$ - trzy dwójki",
        "explanation": "Mamy $3$ różne zestawy cyfr (bez względu na kolejność)",
        "interactive_choice": {
          "prompt": "Dlaczego musimy grupować trójki według unikalnych zestawów cyfr?",
          "options": [
            {
              "id": "A",
              "text": "Bo liczba permutacji zależy od tego, czy cyfry się powtarzają",
              "feedback": "Dokładnie! Trójka $(1,1,4)$ ma $3$ permutacje, a $(1,2,3)$ ma $6$ permutacji.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Bo chcemy policzyć tylko różne liczby",
              "feedback": "Nie do końca - chcemy policzyć wszystkie liczby, ale musimy uwzględnić powtórzenia cyfr przy permutacjach.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Bo kolejność cyfr nie ma znaczenia",
              "feedback": "Przeciwnie - kolejność ma znaczenie! Ale liczba permutacji zależy od powtórzeń.",
              "is_correct": false
            }
          ],
          "explanation_after": "Grupujemy według unikalnych zestawów, bo dla każdego zestawu osobno liczymy permutacje z uwzględnieniem powtórzeń."
        }
      },
      {
        "step": 8,
        "hint": "Ile permutacji ma każdy zestaw cyfr?",
        "expression": "$\\{1,1,4\\}$: $\\frac{3!}{2!} = 3$ permutacje\n$\\{1,2,3\\}$: $3! = 6$ permutacji\n$\\{2,2,2\\}$: $\\frac{3!}{3!} = 1$ permutacja",
        "explanation": "Używamy wzoru na permutacje z powtórzeniami: $\\frac{n!}{n_1! \\cdot n_2! \\cdot ...}$",
        "why": "Gdy cyfry się powtarzają, dzielimy przez silnie liczby powtórzeń, bo zamiany identycznych cyfr nie tworzą nowych permutacji"
      },
      {
        "step": 9,
        "hint": "Ile jest łącznie uporządkowanych trójek cyfr?",
        "expression": "$3 + 6 + 1 = 10$ różnych uporządkowanych trójek",
        "explanation": "Sumujemy permutacje wszystkich zestawów"
      },
      {
        "step": 10,
        "hint": "Jak rozmieścić $7$ cyfr: trzy $7$, jedną $5$ i trzy cyfry z wybranej trójki?",
        "expression": "Dla każdej trójki cyfr liczymy permutacje $7$ cyfr z powtórzeniami",
        "explanation": "Musimy uwzględnić powtórzenia: trzy $7$, jedna $5$, oraz powtórzenia w trójce",
        "interactive_choice": {
          "prompt": "Jak policzyć liczbę sposobów rozmieszczenia $7$ cyfr (trzy $7$, jedna $5$, trzy z trójki)?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru na permutacje z powtórzeniami: $\\frac{7!}{3! \\cdot 1! \\cdot n_1! \\cdot n_2! \\cdot n_3!}$",
              "feedback": "Świetnie! To uwzględnia powtórzenia zarówno siódemek, jak i cyfr z trójki.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Po prostu $7!$ bo mamy 7 pozycji",
              "feedback": "Nie - to nie uwzględnia powtórzeń cyfr (trzy $7$ i ewentualne powtórzenia w trójce).",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Najpierw rozmieścić $7$ i $5$, potem resztę",
              "feedback": "Możliwe, ale bardziej skomplikowane. Wzór na permutacje z powtórzeniami jest prostszy.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wzór na permutacje z powtórzeniami automatycznie uwzględnia wszystkie identyczne cyfry."
        }
      },
      {
        "step": 11,
        "hint": "Ile permutacji daje trójka $\\{1,1,4\\}$ z trzema $7$ i jedną $5$?",
        "expression": "Cyfry: $7,7,7,5,1,1,4$ → $\\frac{7!}{3! \\cdot 2!} = \\frac{5040}{6 \\cdot 2} = \\frac{5040}{12} = 420$",
        "explanation": "Dzielimy przez $3!$ dla trzech $7$ i przez $2!$ dla dwóch $1$"
      },
      {
        "step": 12,
        "hint": "Ile permutacji daje trójka $\\{1,2,3\\}$ z trzema $7$ i jedną $5$?",
        "expression": "Cyfry: $7,7,7,5,1,2,3$ → $\\frac{7!}{3!} = \\frac{5040}{6} = 840$",
        "explanation": "Dzielimy tylko przez $3!$ dla trzech $7$ (wszystkie inne cyfry są różne)"
      },
      {
        "step": 13,
        "hint": "Ile permutacji daje trójka $\\{2,2,2\\}$ z trzema $7$ i jedną $5$?",
        "expression": "Cyfry: $7,7,7,5,2,2,2$ → $\\frac{7!}{3! \\cdot 3!} = \\frac{5040}{6 \\cdot 6} = \\frac{5040}{36} = 140$",
        "explanation": "Dzielimy przez $3!$ dla trzech $7$ i przez $3!$ dla trzech $2$"
      },
      {
        "step": 14,
        "hint": "Jaka jest całkowita liczba siedmiocyfrowych liczb spełniających warunki?",
        "expression": "$420 + 840 + 140 = 1400$",
        "explanation": "Sumujemy liczby permutacji dla wszystkich możliwych trójek cyfr"
      }
    ],
    "solutions": [
      "$1400$"
    ],
    "parameters": {
      "constraints": "siedmiocyfrowe, trzy cyfry $7$, jedna cyfra $5$, bez $0$, suma cyfr = $32$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 14,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:55:41.601Z"
  },
  {
    "id": "four_digit_numbers_with_zero",
    "topic": "Kombinatoryka - liczby czterocyfrowe z warunkami",
    "difficulty": 4,
    "statement": "Oblicz, ile jest liczb czterocyfrowych, w zapisie których jedynie cyfra $0$ może się powtórzyć i nie występuje na pierwszym miejscu.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą stać na pierwszym miejscu liczby czterocyfrowej?",
        "expression": "Pierwsza cyfra: $1, 2, 3, 4, 5, 6, 7, 8, 9$ (9 możliwości)",
        "explanation": "Liczba czterocyfrowa nie może zaczynać się od $0$, więc mamy $9$ wyborów",
        "why": "To kluczowy warunek - zero nie może być na pierwszym miejscu, co ogranicza nasze wybory."
      },
      {
        "step": 2,
        "hint": "Jak rozumiesz warunek 'jedynie cyfra $0$ może się powtórzyć'?",
        "expression": "Cyfry $1-9$: każda max 1 raz; cyfra $0$: może się powtarzać",
        "explanation": "Interpretujemy warunek zadania",
        "interactive_choice": {
          "prompt": "Co oznacza warunek 'jedynie cyfra $0$ może się powtórzyć'?",
          "options": [
            {
              "id": "A",
              "text": "Cyfra $0$ MUSI wystąpić co najmniej dwa razy",
              "feedback": "Nie - warunek mówi że $0$ MOŻE się powtórzyć, nie że MUSI. Zero może w ogóle nie wystąpić!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Wszystkie cyfry różne od $0$ muszą być różne, a $0$ może wystąpić wielokrotnie",
              "feedback": "Dokładnie! Cyfry $1$-$9$ nie mogą się powtarzać, ale $0$ może wystąpić $0$, $1$, $2$ lub $3$ razy.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Tylko jedna cyfra w liczbie może się powtórzyć i musi to być $0$",
              "feedback": "Częściowo tak, ale zero nie musi wystąpić - może być liczba bez zer, np. $1234$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Warunek oznacza: cyfry $1$-$9$ występują maksymalnie raz każda, a $0$ może wystąpić dowolną liczbę razy (lub wcale)."
        }
      },
      {
        "step": 3,
        "hint": "Jak najlepiej podzielić problem na przypadki?",
        "expression": "Rozpatrujemy przypadki: $0$ zer, $1$ zero, $2$ zera, $3$ zera",
        "explanation": "Dzielimy problem na $4$ przypadki według liczby wystąpień cyfry $0$",
        "interactive_choice": {
          "prompt": "Jak rozbić ten problem na prostsze przypadki?",
          "options": [
            {
              "id": "A",
              "text": "Według liczby zer w liczbie: $0$ zer, $1$ zero, $2$ zera, $3$ zera",
              "feedback": "Świetny pomysł! To naturalny podział - każdy przypadek ma inną strukturę.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Według pierwszej cyfry: zaczynające się od $1$, od $2$, ..., od $9$",
              "feedback": "Możliwe, ale bardzo pracochłonne - musisz rozpatrzyć $9$ przypadków!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Według parzystości: liczby parzyste i nieparzyste",
              "feedback": "To nie pomoże - warunek dotyczy powtarzania cyfr, nie parzystości.",
              "is_correct": false
            }
          ],
          "explanation_after": "Podział według liczby zer jest naturalny, bo zero to jedyna cyfra która może się powtarzać."
        }
      },
      {
        "step": 4,
        "hint": "Ile jest liczb czterocyfrowych bez cyfry $0$?",
        "expression": "Przypadek 1 (0 zer): $9 \\cdot 8 \\cdot 7 \\cdot 6 = 3024$",
        "explanation": "Wszystkie $4$ cyfry z $\\{1,2,...,9\\}$, każda różna: $9$ wyborów na I miejsce, $8$ na II, $7$ na III, $6$ na IV",
        "why": "Bez zera mamy tylko cyfry $1$-$9$, które muszą być wszystkie różne. To permutacja bez powtórzeń."
      },
      {
        "step": 5,
        "hint": "Ile jest liczb z dokładnie jednym zerem?",
        "expression": "Przypadek 2 (1 zero): $\\binom{3}{1} \\cdot 9 \\cdot 8 \\cdot 7 = 3 \\cdot 504 = 1512$",
        "explanation": "Wybieramy $1$ z $3$ miejsc na zero (nie pierwsze!), potem $3$ różne cyfry z {$1$-$9$}",
        "why": "Zero może być na pozycji $2$, $3$ lub $4$ ($3$ możliwości). Pozostałe $3$ miejsca: $9 \\cdot 8 \\cdot 7$ permutacji cyfr $1$-$9$."
      },
      {
        "step": 6,
        "hint": "Ile jest liczb z dokładnie dwoma zerami?",
        "expression": "Przypadek 3 (2 zera): $\\binom{3}{2} \\cdot 9 \\cdot 8 = 3 \\cdot 72 = 216$",
        "explanation": "Wybieramy $2$ z $3$ miejsc (pozycje $2$, $3$, $4$) na zera, potem $2$ różne cyfry z $\\{1-9\\}$ na pozostałe miejsca",
        "interactive_choice": {
          "prompt": "Jak obliczyć liczbę liczb z dwoma zerami?",
          "options": [
            {
              "id": "A",
              "text": "Wybieramy $2$ z $3$ miejsc na zera, potem $2$ różne cyfry z $\\{1-9\\}$",
              "feedback": "Dokładnie! $\\binom{3}{2} \\cdot 9 \\cdot 8 = 3 \\cdot 72 = 216$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wybieramy $2$ z $4$ miejsc na zera, potem $2$ różne cyfry z $\\{1-9\\}$",
              "feedback": "Nie - pierwsze miejsce nie może być zerem! Mamy tylko $3$ miejsca do wyboru.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Po prostu $9 \\cdot 8 = 72$ bo dwa miejsca na cyfry niezerowe",
              "feedback": "Zapomniałeś o wyborze pozycji dla zer! Trzeba uwzględnić $\\binom{3}{2}$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dwa zera mogą być na pozycjach $(2,3)$, $(2,4)$ lub $(3,4)$. To $\\binom{3}{2}=3$ możliwości."
        }
      },
      {
        "step": 7,
        "hint": "Ile jest liczb z trzema zerami?",
        "expression": "Przypadek 4 (3 zera): $9 \\cdot 1 \\cdot 1 \\cdot 1 = 9$",
        "explanation": "Trzy zera na pozycjach $2$, $3$, $4$; pierwsza cyfra z {$1$-$9$}: $9$ możliwości",
        "why": "Gdy mamy $3$ zera, wszystkie muszą być na pozycjach $2$, $3$, $4$. Tylko pierwsza cyfra jest do wyboru."
      },
      {
        "step": 8,
        "hint": "Jak połączyć wszystkie przypadki?",
        "expression": "$3024 + 1512 + 216 + 9 = 4761$",
        "explanation": "Sumujemy wszystkie rozłączne przypadki"
      },
      {
        "step": 9,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "Liczba szukanych liczb czterocyfrowych: $4761$",
        "explanation": "Otrzymujemy wynik końcowy"
      }
    ],
    "solutions": [
      "$4761$"
    ],
    "parameters": {
      "breakdown": "$0$ zer: $3024$, $1$ zero: $1512$, $2$ zera: $216$, $3$ zera: $9$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 4,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:56:20.000Z"
  },
  {
    "id": "combinatorics_five_digit_odd_even",
    "topic": "Kombinatoryka - permutacje z powtórzeniami",
    "difficulty": 4,
    "statement": "Oblicz, ile można utworzyć liczb pięciocyfrowych, składających się z trzech różnych cyfr nieparzystych oraz dwóch różnych cyfr parzystych, w których nie występuje cyfra $0$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry nieparzyste możemy użyć (bez zera)?",
        "expression": "Cyfry nieparzyste: $1, 3, 5, 7, 9$ - mamy $5$ cyfr",
        "explanation": "Identyfikujemy dostępne cyfry nieparzyste"
      },
      {
        "step": 2,
        "hint": "Jakie cyfry parzyste możemy użyć (bez zera)?",
        "expression": "Cyfry parzyste bez zera: $2, 4, 6, 8$ - mamy $4$ cyfry",
        "explanation": "Identyfikujemy dostępne cyfry parzyste (zero jest wykluczone)"
      },
      {
        "step": 3,
        "hint": "Jak podejść do tego problemu kombinatorycznego?",
        "expression": "Etap 1: Wybór cyfr, Etap 2: Ustawienie cyfr",
        "explanation": "Rozbijamy problem na dwa niezależne etapy",
        "why": "W kombinatoryce często dzielimy złożone problemy na prostsze etapy, które mnożymy (reguła iloczynu).",
        "interactive_choice": {
          "prompt": "Jak najlepiej rozwiązać to zadanie?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw wybrać cyfry, potem je ustawić",
              "feedback": "Świetnie! To klasyczne podejście: wybór + permutacja. Dzielimy problem na etapy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Od razu ustawiać cyfry na pozycjach",
              "feedback": "Możliwe, ale trudniejsze - łatwo popełnić błąd przy zliczaniu.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie liczby i odjąć te z $0$",
              "feedback": "Nie - zero już wykluczyliśmy, a to nie upraszcza problemu.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dzielimy na etapy: $(1)$ wybór cyfr, $(2)$ ich ustawienie. To standard w kombinatoryce."
        }
      },
      {
        "step": 4,
        "hint": "Na ile sposobów możemy wybrać $3$ różne cyfry nieparzyste z $5$ dostępnych?",
        "expression": "$\\binom{5}{3} = \\frac{5!}{3! \\cdot 2!} = \\frac{5 \\cdot 4}{2 \\cdot 1} = 10$",
        "explanation": "Używamy kombinacji - kolejność wyboru nie ma znaczenia"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów możemy wybrać $2$ różne cyfry parzyste z $4$ dostępnych?",
        "expression": "$\\binom{4}{2} = \\frac{4!}{2! \\cdot 2!} = \\frac{4 \\cdot 3}{2 \\cdot 1} = 6$",
        "explanation": "Ponownie kombinacje - wybieramy bez uwzględniania kolejności"
      },
      {
        "step": 6,
        "hint": "Ile mamy łącznie sposobów wyboru zestawu 5 cyfr?",
        "expression": "$10 \\cdot 6 = 60$",
        "explanation": "Mnożymy niezależne wybory (reguła iloczynu)",
        "why": "Każdy wybór cyfr nieparzystych można połączyć z każdym wyborem cyfr parzystych - stąd mnożenie."
      },
      {
        "step": 7,
        "hint": "Co teraz musimy zrobić z wybranym zestawem $5$ cyfr?",
        "expression": "Dla każdego zestawu cyfr: permutacja $5$ elementów",
        "explanation": "Każdy zestaw $5$ cyfr można ustawić na wiele sposobów",
        "interactive_choice": {
          "prompt": "Mamy $5$ różnych cyfr ($3$ nieparzyste + $2$ parzyste). Co dalej?",
          "options": [
            {
              "id": "A",
              "text": "Ustawić je na $5$ pozycjach - to permutacja",
              "feedback": "Dokładnie! Mamy $5$ różnych cyfr do ustawienia na $5$ pozycjach.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Osobno ustawić nieparzyste i parzyste",
              "feedback": "Nie - wszystkie $5$ cyfr traktujemy razem przy tworzeniu liczby.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć kombinacji $\\binom{5}{5}$",
              "feedback": "Nie - kombinacje ignorują kolejność, a tu kolejność cyfr tworzy różne liczby!",
              "is_correct": false
            }
          ],
          "explanation_after": "Kolejność cyfr ma znaczenie ($12345 \\neq 54321$), więc używamy permutacji, nie kombinacji."
        }
      },
      {
        "step": 8,
        "hint": "Na ile sposobów można ustawić $5$ różnych cyfr?",
        "expression": "$5! = 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 120$",
        "explanation": "Permutacja $5$ elementów - każda pozycja ma coraz mniej możliwości",
        "why": "Pierwsza pozycja: $5$ wyborów, druga: $4$ wybory, trzecia: $3$ wybory, itd. Mnożymy: $5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1$."
      },
      {
        "step": 9,
        "hint": "Jak połączyć liczbę zestawów cyfr z liczbą ich ustawień?",
        "expression": "$60 \\cdot 120 = 7200$",
        "explanation": "Każdy z $60$ zestawów cyfr można ustawić na $120$ sposobów",
        "interactive_choice": {
          "prompt": "Mamy $60$ zestawów cyfr i $120$ ustawień każdego. Co robić?",
          "options": [
            {
              "id": "A",
              "text": "Dodać: $60 + 120$",
              "feedback": "Nie - dodajemy gdy mamy alternatywy (lub). Tu mamy etapy (i).",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pomnożyć: $60 \\cdot 120$",
              "feedback": "Tak! Każdy z $60$ zestawów daje $120$ liczb. Reguła iloczynu.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Podzielić: $\\frac{120}{60}$",
              "feedback": "Nie - dzielenie nie ma tu sensu kombinatorycznego.",
              "is_correct": false
            }
          ],
          "explanation_after": "Reguła iloczynu: jeśli proces ma $n$ etapy, mnożymy liczby możliwości. Reguła sumy: jeśli mamy alternatywy, dodajemy."
        }
      },
      {
        "step": 10,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "Można utworzyć $7200$ takich liczb pięciocyfrowych",
        "explanation": "Łączna liczba liczb spełniających warunki zadania"
      }
    ],
    "solutions": [
      "$7200$"
    ],
    "parameters": {
      "cyfry_nieparzyste": "$1, 3, 5, 7, 9$",
      "cyfry_parzyste": "$2, 4, 6, 8$",
      "struktura": "$3$ różne nieparzyste + $2$ różne parzyste"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 3,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:57:15.505Z"
  },
  {
    "id": "combinatorics_five_digit_odd_even",
    "topic": "Kombinatoryka - permutacje i kombinacje",
    "difficulty": 4,
    "statement": "Oblicz, ile można utworzyć liczb pięciocyfrowych, składających się z trzech różnych cyfr nieparzystych oraz dwóch różnych cyfr parzystych, w których może występować cyfra $0$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry nieparzyste i parzyste mamy do dyspozycji?",
        "expression": "Cyfry nieparzyste: $\\{1, 3, 5, 7, 9\\}$ - $5$ cyfr, Cyfry parzyste: $\\{0, 2, 4, 6, 8\\}$ - $5$ cyfr",
        "explanation": "Identyfikujemy zbiory cyfr, z których będziemy wybierać"
      },
      {
        "step": 2,
        "hint": "Czy cyfra $0$ na pierwszej pozycji tworzy liczbę pięciocyfrową?",
        "expression": "Strategia: obliczamy wszystkie liczby, potem odejmujemy te zaczynające się od $0$",
        "explanation": "Wybieramy metodę dopełnienia do rozwiązania problemu z zerem",
        "why": "Cyfra $0$ na pierwszej pozycji daje liczbę czterocyfrową, nie pięciocyfrową. Metoda dopełnienia jest tu najefektywniejsza.",
        "interactive_choice": {
          "prompt": "Jak podejść do problemu z cyfrą $0$ na pierwszej pozycji?",
          "options": [
            {
              "id": "A",
              "text": "Obliczyć wszystkie możliwości, potem odjąć te z $0$ na początku",
              "feedback": "Świetnie! To klasyczna metoda - liczymy wszystko, potem odejmujemy nieprawidłowe przypadki.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Rozpatrzyć osobno przypadki: zero na początku i zero nie na początku",
              "feedback": "Możliwe, ale bardziej skomplikowane - łatwiej użyć metody dopełnienia.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wykluczyć zero z cyfr parzystych",
              "feedback": "Nie - zadanie wyraźnie mówi, że cyfra $0$ może występować w liczbie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Użyjemy metody: wszystkie możliwości minus te z zerem na początku."
        }
      },
      {
        "step": 3,
        "hint": "Na ile sposobów możemy wybrać $3$ różne cyfry nieparzyste z $5$ dostępnych?",
        "expression": "$\\binom{5}{3} = \\frac{5!}{3! \\cdot 2!} = \\frac{5 \\cdot 4}{2} = 10$",
        "explanation": "Wybieramy $3$ cyfry nieparzyste z $5$ dostępnych (kolejność nie ma znaczenia)"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów możemy wybrać $2$ różne cyfry parzyste z $5$ dostępnych?",
        "expression": "$\\binom{5}{2} = \\frac{5!}{2! \\cdot 3!} = \\frac{5 \\cdot 4}{2} = 10$",
        "explanation": "Wybieramy $2$ cyfry parzyste z $5$ dostępnych (kolejność nie ma znaczenia)"
      },
      {
        "step": 5,
        "hint": "Ile mamy łącznie sposobów wyboru zestawu 5 cyfr?",
        "expression": "$10 \\cdot 10 = 100$",
        "explanation": "Mnożymy liczbę sposobów wyboru cyfr nieparzystych i parzystych"
      },
      {
        "step": 6,
        "hint": "Na ile sposobów możemy ustawić $5$ wybranych cyfr w liczbie?",
        "expression": "$5! = 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 120$",
        "explanation": "Każdy zestaw $5$ cyfr można ustawić na $120$ sposobów",
        "interactive_choice": {
          "prompt": "Jak obliczyć liczbę permutacji $5$ różnych cyfr?",
          "options": [
            {
              "id": "A",
              "text": "Użyć wzoru $5!$ (silnia)",
              "feedback": "Doskonale! Mamy $5$ pozycji i $5$ różnych cyfr - to permutacja bez powtórzeń.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Obliczyć $5^5$ (potęga)",
              "feedback": "Nie - to byłoby gdyby cyfry mogły się powtarzać. Tu mamy różne cyfry.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru $\\binom{5}{5}$",
              "feedback": "Nie - kombinacja nie uwzględnia kolejności, a tu kolejność ma znaczenie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Permutacja $5$ różnych elementów to $5! = 120$ sposobów."
        }
      },
      {
        "step": 7,
        "hint": "Ile jest wszystkich możliwych liczb (włącznie z tymi zaczynającymi się od $0$)?",
        "expression": "$100 \\cdot 120 = 12000$",
        "explanation": "Mnożymy liczbę zestawów cyfr przez liczbę ich $permutacji$"
      },
      {
        "step": 8,
        "hint": "W ilu przypadkach cyfra $0$ znajduje się w wybranym zestawie cyfr parzystych?",
        "expression": "$\\binom{4}{1} = 4$",
        "explanation": "Jeśli $0$ jest w zestawie, to drugą cyfrę parzystą wybieramy z pozostałych $4$",
        "why": "Musimy policzyć przypadki, gdzie $0$ może być na pierwszej pozycji. To możliwe tylko gdy $0$ jest w wybranym zestawie cyfr parzystych."
      },
      {
        "step": 9,
        "hint": "Ile jest zestawów zawierających cyfrę $0$?",
        "expression": "$10 \\cdot 4 = 40$",
        "explanation": "$10$ sposobów wyboru cyfr nieparzystych razy $4$ sposoby wyboru drugiej cyfry parzystej (gdy $0$ jest wybrane)"
      },
      {
        "step": 10,
        "hint": "Na ile sposobów można ustawić $5$ cyfr gdy $0$ jest na pierwszej pozycji?",
        "expression": "$4! = 4 \\cdot 3 \\cdot 2 \\cdot 1 = 24$",
        "explanation": "Permutacja $4$ pozostałych cyfr ($0$ jest już na pierwszej pozycji)",
        "interactive_choice": {
          "prompt": "Jeśli $0$ jest na pierwszej pozycji, ile pozostaje możliwości dla pozostałych $4$ cyfr?",
          "options": [
            {
              "id": "A",
              "text": "$4!$ - permutacja pozostałych $4$ cyfr",
              "feedback": "Dokładnie! Pierwsza pozycja zajęta przez $0$, pozostałe $4$ cyfry permutujemy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$5!$ - wszystkie permutacje",
              "feedback": "Nie - $0$ jest już ustalone na pierwszej pozycji, nie permutujemy go.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$\\binom{4}{4}$ - kombinacja $4$ cyfr",
              "feedback": "Nie - kombinacja nie uwzględnia kolejności, a tu kolejność ma znaczenie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Gdy $0$ jest na pierwszej pozycji, pozostałe $4$ cyfry permutujemy: $4! = 24$."
        }
      },
      {
        "step": 11,
        "hint": "Ile jest liczb zaczynających się od $0$ (nieprawidłowych)?",
        "expression": "$40 \\cdot 24 = 960$",
        "explanation": "Mnożymy liczbę zestawów z $0$ przez liczbę permutacji z $0$ na początku"
      },
      {
        "step": 12,
        "hint": "Ile jest prawidłowych liczb pięciocyfrowych?",
        "expression": "$12000 - 960 = 11040$",
        "explanation": "Od wszystkich możliwości odejmujemy te zaczynające się od $0$"
      }
    ],
    "solutions": [
      "$11040$"
    ],
    "parameters": {
      "cyfry_nieparzyste": "$\\{1, 3, 5, 7, 9\\}$",
      "cyfry_parzyste": "$\\{0, 2, 4, 6, 8\\}$",
      "liczba_cyfr": "$5$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:57:55.435Z"
  },
  {
    "id": "combinatorics_six_digit_parity",
    "topic": "Kombinatoryka - permutacje z warunkami",
    "difficulty": 4,
    "statement": "Oblicz, ile można utworzyć liczb sześciocyfrowych o różnych cyfrach, w których występują trzy cyfry parzyste oraz trzy cyfry nieparzyste.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry parzyste i nieparzyste mamy do dyspozycji?",
        "expression": "Cyfry parzyste: $\\{0, 2, 4, 6, 8\\}$ - $5$ cyfr, Cyfry nieparzyste: $\\{1, 3, 5, 7, 9\\}$ - $5$ cyfr",
        "explanation": "Identyfikujemy zbiory cyfr parzystych i nieparzystych",
        "why": "Musimy pamiętać, że $0$ jest cyfrą parzystą, ale nie może być pierwszą cyfrą liczby sześciocyfrowej."
      },
      {
        "step": 2,
        "hint": "Jak podejść do tego problemu kombinatorycznego?",
        "expression": "Strategia: wybieramy $3$ parzyste i $3$ nieparzyste, potem permutujemy z uwzględnieniem warunku na pierwszą cyfrę",
        "explanation": "Dzielimy problem na etapy: wybór cyfr, następnie ich rozmieszczenie",
        "interactive_choice": {
          "prompt": "Którą strategię zastosować do zliczania liczb sześciocyfrowych z warunkami parzystości?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw wybrać cyfry, potem je ustawić",
              "feedback": "Świetnie! To klasyczne podejście: wybór + permutacja. Pamiętaj o warunku z zerem na początku.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Od razu ustawiać cyfry pozycja po pozycji",
              "feedback": "Możliwe, ale bardzo skomplikowane - trzeba śledzić ile parzystych/nieparzystych już użyto.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie permutacje i odjąć złe",
              "feedback": "Nieefektywne - trudno wyliczyć ile jest 'złych' kombinacji parzystości.",
              "is_correct": false
            }
          ],
          "explanation_after": "Strategia 'wybór + permutacja' jest najczystsza: wybieramy które cyfry, potem je rozmieszczamy."
        }
      },
      {
        "step": 3,
        "hint": "Na ile sposobów możemy wybrać $3$ cyfry parzyste z $5$ dostępnych?",
        "expression": "$\\binom{5}{3} = \\frac{5!}{3! \\cdot 2!} = 10$",
        "explanation": "Liczba kombinacji $3$ elementów z $5$"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów możemy wybrać $3$ cyfry nieparzyste z $5$ dostępnych?",
        "expression": "$\\binom{5}{3} = \\frac{5!}{3! \\cdot 2!} = 10$",
        "explanation": "Liczba kombinacji $3$ elementów z $5$"
      },
      {
        "step": 5,
        "hint": "Ile mamy łącznie sposobów wyboru zestawu 6 cyfr?",
        "expression": "$10 \\cdot 10 = 100$ sposobów wyboru zestawu cyfr",
        "explanation": "Mnożymy niezależne wybory: parzyste i nieparzyste"
      },
      {
        "step": 6,
        "hint": "Jak uwzględnić warunek, że liczba nie może zaczynać się od zera?",
        "expression": "Rozpatrzymy dwa przypadki: zestawy zawierające $0$ i zestawy bez $0$",
        "explanation": "Dzielimy na przypadki ze względu na obecność zera w zestawie",
        "interactive_choice": {
          "prompt": "Jak policzyć permutacje $6$ cyfr z warunkiem, że pierwsza cyfra nie może być zerem?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć osobno przypadki: gdy $0$ jest w zestawie i gdy go nie ma",
              "feedback": "Doskonale! To najprostsze podejście - dzielimy na dwa rozłączne przypadki.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Policzyć wszystkie permutacje i odjąć te zaczynające się od $0$",
              "feedback": "Też działa! Metoda dopełnienia: $6! - 5!$ dla każdego zestawu z zerem.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Najpierw ustalić pierwszą cyfrę (nie-zero), potem resztę",
              "feedback": "Możliwe, ale trzeba śledzić czy $0$ jest w zestawie - komplikuje obliczenia.",
              "is_correct": false
            }
          ],
          "explanation_after": "Oba podejścia A i B są poprawne. Wybierzemy metodę przypadków jako bardziej przejrzystą."
        }
      },
      {
        "step": 7,
        "hint": "Ile jest zestawów 3 cyfr parzystych zawierających $0$?",
        "expression": "Jeśli $0$ jest w zestawie, wybieramy $2$ pozostałe parzyste z $\\{2, 4, 6, 8\\}$: $\\binom{4}{2} = 6$",
        "explanation": "Zero jest wybrane, dobieramy $2$ z $4$ pozostałych parzystych"
      },
      {
        "step": 8,
        "hint": "Ile jest zestawów 3 cyfr parzystych niezawierających zera?",
        "expression": "Jeśli $0$ nie jest w zestawie, wybieramy $3$ z $\\{2, 4, 6, 8\\}$: $\\binom{4}{3} = 4$",
        "explanation": "Wybieramy wszystkie $3$ parzyste z $4$ cyfr (bez zera)"
      },
      {
        "step": 9,
        "hint": "Ile permutacji daje każdy zestaw zawierający $0$?",
        "expression": "Dla zestawu z zerem: $5 \\cdot 5! = 5 \\cdot 120 = 600$ permutacji",
        "explanation": "Zero na jednej z 5 pozycji (nie pierwszej), pozostałe $5$ cyfr dowolnie",
        "interactive_choice": {
          "prompt": "Jak policzyć permutacje $6$ cyfr, gdy jedna z nich to $0$ (nie może być pierwsze)?",
          "options": [
            {
              "id": "A",
              "text": "Zero może być na 5 pozycjach (2-6), reszta dowolnie: $5 \\cdot 5!$",
              "feedback": "Świetnie! Zero na jednej z $5$ pozycji, pozostałe $5$ cyfr permutujemy: $5 \\cdot 5! = 600$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wszystkie permutacje minus te z zerem na początku: $6! - 5!$",
              "feedback": "Też poprawne! $720 - 120 = 600$. Oba sposoby dają ten sam wynik.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Po prostu $6!$ bo to $6$ cyfr",
              "feedback": "Nie - zapominasz o warunku! Zero nie może być pierwsze, więc nie wszystkie $6!$ permutacji są dozwolone.",
              "is_correct": false
            }
          ],
          "explanation_after": "Oba podejścia $A$ i $B$ są równoważne i dają $600$ permutacji dla każdego zestawu z zerem."
        }
      },
      {
        "step": 10,
        "hint": "Ile permutacji daje każdy zestaw niezawierający zera?",
        "expression": "Dla zestawu bez zera: $6! = 720$ permutacji",
        "explanation": "Wszystkie $6$ cyfr można dowolnie permutować (żadna nie jest zerem)"
      },
      {
        "step": 11,
        "hint": "Ile liczb powstaje z zestawów zawierających zero?",
        "expression": "Zestawy z zerem: $6 \\cdot 10 \\cdot 600 = 36000$",
        "explanation": "6 sposobów wyboru parzystych (z zerem), $10$ sposobów wyboru nieparzystych, $600$ permutacji każdego zestawu"
      },
      {
        "step": 12,
        "hint": "Ile liczb powstaje z zestawów niezawierających zera?",
        "expression": "Zestawy bez zera: $4 \\cdot 10 \\cdot 720 = 28800$",
        "explanation": "4 sposoby wyboru parzystych (bez zera), $10$ sposobów wyboru nieparzystych, $720$ permutacji każdego zestawu"
      },
      {
        "step": 13,
        "hint": "Jaka jest całkowita liczba szukanych liczb sześciocyfrowych?",
        "expression": "$36000 + 28800 = 64800$",
        "explanation": "Sumujemy liczby z obu rozłącznych przypadków"
      }
    ],
    "solutions": [
      "$64800$"
    ],
    "parameters": {
      "constraints": "Cyfry różne, $3$ parzyste i $3$ nieparzyste, liczba sześciocyfrowa"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 13,
        "stepsWithWhy": 1,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-10-03T06:58:45.747Z"
  },
  {
    "id": "combinatorics_four_digit_even",
    "topic": "Kombinatoryka - zasada mnożenia i dodawania",
    "difficulty": 4,
    "statement": "Oblicz, ile jest liczb czterocyfrowych parzystych, w których zapisie cyfra $8$ występuje co najwyżej dwa razy i nie występuje cyfra $0$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie warunki musi spełniać szukana liczba czterocyfrowa?",
        "expression": "Liczba postaci $\\overline{abcd}$ gdzie: parzysta ($d$ parzyste), bez cyfry $0$, cyfra $8$ występuje $0$, $1$ lub $2$ razy",
        "explanation": "Identyfikujemy wszystkie ograniczenia zadania"
      },
      {
        "step": 2,
        "hint": "Jak najlepiej podzielić problem na przypadki?",
        "expression": "Przypadki: (I) bez cyfry $8$, (II) dokładnie jedna $8$, (III) dokładnie dwie $8$",
        "explanation": "Dzielimy na rozłączne przypadki według liczby wystąpień cyfry $8$",
        "interactive_choice": {
          "prompt": "Według czego podzielić liczby na rozłączne przypadki?",
          "options": [
            {
              "id": "A",
              "text": "Według pozycji cyfry $8$ w liczbie",
              "feedback": "Możliwe, ale skomplikowane - będzie wiele nakładających się przypadków",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Według liczby wystąpień cyfry $8$ ($0$, $1$ lub $2$ razy)",
              "feedback": "Doskonale! To daje rozłączne przypadki: bez $8$, z jedną $8$, z dwiema $8$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Według ostatniej cyfry $2$, $4$, $6$, $8$",
              "feedback": "Skomplikuje sprawę - cyfra $8$ na końcu wymaga osobnego traktowania",
              "is_correct": false
            }
          ],
          "explanation_after": "Podział według liczby ósemek daje $3$ rozłączne przypadki, które łatwo policzyć osobno."
        }
      },
      {
        "step": 3,
        "hint": "Ile liczb parzystych bez cyfry $8$ i bez $0$ możemy utworzyć?",
        "expression": "Przypadek I: cyfry z $\\{1,2,3,4,5,6,7,9\\}$, ostatnia z $\\{2,4,6\\}$",
        "explanation": "Bez $8$ i bez $0$ mamy $8$ cyfr, ale ostatnia musi być parzysta (nie $8$)",
        "why": "Liczba parzysta kończy się cyfrą parzystą. Bez $0$ i $8$ parzyste to: $2$, $4$, $6$."
      },
      {
        "step": 4,
        "hint": "Ile możliwości dla każdej pozycji w przypadku $I$?",
        "expression": "$a$: 8 cyfr, $b$: 8 cyfr, $c$: 8 cyfr, $d$: 3 cyfry $(2,4,6)$",
        "explanation": "Pierwsze trzy pozycje dowolne z $8$ cyfr, ostatnia z $3$ parzystych"
      },
      {
        "step": 5,
        "hint": "Ile wynosi iloczyn możliwości dla przypadku I?",
        "expression": "$8 \\cdot 8 \\cdot 8 \\cdot 3 = 1536$",
        "explanation": "Zasada mnożenia: mnożymy liczby możliwości dla każdej pozycji"
      },
      {
        "step": 6,
        "hint": "Jak policzyć liczby z dokładnie jedną cyfrą $8$?",
        "expression": "Przypadek II: $8$ na pozycji $a$, $b$, $c$ lub $d$",
        "explanation": "Rozpatrujemy 4 podprzypadki według pozycji jedynej ósemki",
        "interactive_choice": {
          "prompt": "Jak rozpatrzyć przypadek z dokładnie jedną ósemką?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć 4 podprzypadki: $8$ na $1$., $2$., $3$. lub $4$. pozycji",
              "feedback": "Świetnie! Pozycja 8 ma znaczenie - szczególnie gdy jest na końcu",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wybrać pozycję dla $8$ na $4$ sposoby, resztę dowolnie",
              "feedback": "Nie - gdy $8$ jest na końcu, liczba jest parzysta automatycznie, a gdy nie - musimy wybrać inną cyfrę parzystą",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie z $8$, odjąć te z dwiema lub więcej",
              "feedback": "Zbyt skomplikowane - lepiej bezpośrednio policzyć podprzypadki",
              "is_correct": false
            }
          ],
          "explanation_after": "Pozycja cyfry $8$ ma znaczenie: jeśli jest na końcu, liczba jest parzysta; jeśli nie - musimy zapewnić parzystość inaczej."
        }
      },
      {
        "step": 7,
        "hint": "Ile liczb gdy $8$ jest na pierwszej pozycji?",
        "expression": "Podprzypadek IIa: $8bcd$, gdzie $b,c \\in \\{1,2,3,4,5,6,7,9\\}$, $d \\in \\{2,4,6\\}$",
        "explanation": "Pierwsza pozycja: $8$, środkowe: $7$ cyfr (bez $0$ i $8$), ostatnia: $3$ parzyste (bez $8$)"
      },
      {
        "step": 8,
        "hint": "Ile to daje możliwości dla podprzypadku IIa?",
        "expression": "$1 \\cdot 7 \\cdot 7 \\cdot 3 = 147$",
        "explanation": "Mnożymy możliwości: $1$ dla pierwszej, $7$ dla drugiej, $7$ dla trzeciej, $3$ dla czwartej"
      },
      {
        "step": 9,
        "hint": "Ile liczb gdy $8$ jest na drugiej lub trzeciej pozycji?",
        "expression": "Podprzypadki IIb i IIc: $a8cd$ lub $ab8d$, analogicznie po $1 \\cdot 7 \\cdot 7 \\cdot 3 = 147$ każdy",
        "explanation": "Symetria: gdy $8$ jest na środkowej pozycji, mamy taką samą liczbę możliwości"
      },
      {
        "step": 10,
        "hint": "Co się zmienia gdy $8$ jest na ostatniej pozycji?",
        "expression": "Podprzypadek IId: $abc8$, liczba automatycznie parzysta, $a,b,c \\in \\{1,2,3,4,5,6,7,9\\}$",
        "explanation": "Gdy ostatnia cyfra to $8$, warunek parzystości spełniony, pozostałe $3$ pozycje dowolne",
        "why": "8 jest parzyste, więc liczba kończąca się na $8$ jest parzysta. Nie musimy ograniczać ostatniej cyfry."
      },
      {
        "step": 11,
        "hint": "Ile możliwości dla podprzypadku IId?",
        "expression": "$7 \\cdot 7 \\cdot 7 \\cdot 1 = 343$",
        "explanation": "Każda z trzech pierwszych pozycji: $7$ cyfr, ostatnia: tylko $8$"
      },
      {
        "step": 12,
        "hint": "Ile łącznie liczb z dokładnie jedną ósemką?",
        "expression": "$147 + 147 + 147 + 343 = 784$",
        "explanation": "Sumujemy wszystkie podprzypadki dla przypadku II"
      },
      {
        "step": 13,
        "hint": "Jak rozpatrzyć liczby z dokładnie dwiema ósemkami?",
        "expression": "Przypadek III: dwie 8, rozpatrujemy czy jedna jest na pozycji $d$",
        "explanation": "Dzielimy na podprzypadki: $8$ na końcu lub nie na końcu",
        "interactive_choice": {
          "prompt": "Jak podzielić przypadek z dwiema ósemkami?",
          "options": [
            {
              "id": "A",
              "text": "Według tego, czy $8$ jest na ostatniej pozycji",
              "feedback": "Doskonale! To kluczowy podział: $8$ na końcu (parzysta) vs $8$ nie na końcu (potrzebna inna parzysta)",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wybrać 2 pozycje z 4 na ${4 \\choose 2}$ sposobów",
              "feedback": "Nie uwzględnia różnicy: gdy $8$ jest na końcu vs nie jest - to wpływa na parzystość",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Rozpatrzyć wszystkie $6$ par pozycji osobno",
              "feedback": "Możliwe, ale pracochłonne - lepiej pogrupować według ostatniej pozycji",
              "is_correct": false
            }
          ],
          "explanation_after": "Kluczowe: czy jedna z dwóch ósemek jest na końcu (zapewnia parzystość) czy nie (trzeba dodać cyfrę parzystą)."
        }
      },
      {
        "step": 14,
        "hint": "Ile liczb gdy jedna z dwóch ósemek jest na końcu?",
        "expression": "Podprzypadek IIIa: $**8$ gdzie jedna z pierwszych trzech pozycji to $8$, reszta z $\\{1,2,3,4,5,6,7,9\\}$",
        "explanation": "Ostatnia pozycja: $8$, jedna z trzech pierwszych: $8$, dwie pozostałe: $7$ cyfr każda"
      },
      {
        "step": 15,
        "hint": "Na ile sposobów wybrać pozycję dla drugiej $8$?",
        "expression": "Druga $8$ na pozycji $a$, $b$ lub $c$: $3$ możliwości, pozostałe $2$ pozycje: $7 \\cdot 7$",
        "explanation": "Wybieramy $1$ z $3$ pozycji dla drugiej ósemki, resztę wypełniamy $7$ cyframi"
      },
      {
        "step": 16,
        "hint": "Ile wynosi iloczyn dla podprzypadku IIIa?",
        "expression": "$3 \\cdot 7 \\cdot 7 = 147$",
        "explanation": "3 pozycje dla drugiej $8$, potem $7 \\cdot 7$ dla pozostałych dwóch pozycji"
      },
      {
        "step": 17,
        "hint": "Co gdy obie ósemki są na pierwszych trzech pozycjach?",
        "expression": "Podprzypadek IIIb: dwie $8$ wśród $a,b,c$, ostatnia $d \\in \\{2,4,6\\}$, jedna pozostała z $7$ cyfr",
        "explanation": "Wybieramy $2$ z $3$ pozycji dla ósemek, jedna pozycja zostaje dla cyfry z $7$, ostatnia parzysta (bez $8$)"
      },
      {
        "step": 18,
        "hint": "Ile sposobów wyboru pozycji dla dwóch ósemek z trzech miejsc?",
        "expression": "${3 \\choose 2} = 3$ sposoby, pozostała pozycja: $7$ cyfr, ostatnia: $3$ cyfry",
        "explanation": "Kombinacja $2$ z $3$ pozycji, potem $7$ możliwości dla środkowej, $3$ dla ostatniej"
      },
      {
        "step": 19,
        "hint": "Ile wynosi iloczyn dla podprzypadku IIIb?",
        "expression": "$3 \\cdot 7 \\cdot 3 = 63$",
        "explanation": "Mnożymy: $3$ wybory pozycji, $7$ cyfr dla pozostałej środkowej, $3$ parzyste dla końcowej"
      },
      {
        "step": 20,
        "hint": "Ile łącznie liczb z dokładnie dwiema ósemkami?",
        "expression": "$147 + 63 = 210$",
        "explanation": "Sumujemy oba podprzypadki dla przypadku III"
      },
      {
        "step": 21,
        "hint": "Ile łącznie jest liczb spełniających wszystkie warunki?",
        "expression": "$1536 + 784 + 210 = 2530$",
        "explanation": "Sumujemy wszystkie trzy rozłączne przypadki: bez $8$, z jedną $8$, z dwiema $8$"
      }
    ],
    "solutions": [
      "$2530$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 21,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T06:59:48.586Z"
  },
  {
    "id": "seven_digit_sum_4",
    "topic": "Kombinatoryka - rozmieszczenia z ograniczeniami",
    "difficulty": 4,
    "statement": "Oblicz, ile jest wszystkich liczb siedmiocyfrowych, w których suma cyfr jest równa $4$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry może mieć liczba siedmiocyfrowa na pierwszej pozycji?",
        "expression": "Pierwsza cyfra: $c_1 \\in \\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}$, pozostałe: $c_2, c_3, ..., c_7 \\in \\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\\}$",
        "explanation": "Liczba siedmiocyfrowa nie może zaczynać się od zera",
        "why": "To kluczowe ograniczenie - musimy osobno rozpatrzyć pierwszą cyfrę i pozostałe pozycje."
      },
      {
        "step": 2,
        "hint": "Jak zapisać warunek na sumę cyfr matematycznie?",
        "expression": "$c_1 + c_2 + c_3 + c_4 + c_5 + c_6 + c_7 = 4$, gdzie $c_1 \\geq 1$ i $c_i \\geq 0$ dla $i = 2, 3, ..., 7$",
        "explanation": "Szukamy liczby rozwiązań tego równania w liczbach całkowitych nieujemnych"
      },
      {
        "step": 3,
        "hint": "Którą metodę kombinatoryczną zastosować do tego problemu?",
        "expression": "Zastosujemy wzór na liczbę rozwiązań równania w liczbach całkowitych nieujemnych",
        "explanation": "Metoda 'stars and bars' z modyfikacją dla pierwszej cyfry",
        "interactive_choice": {
          "prompt": "Jak najlepiej policzyć rozmieszczenia cyfr o sumie $4$?",
          "options": [
            {
              "id": "A",
              "text": "Bezpośrednie wyliczenie wszystkich możliwości",
              "feedback": "Możliwe, ale bardzo pracochłonne - jest wiele przypadków do rozpatrzenia.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Wzór na liczbę rozwiązań równania $x_1 + x_2 + ... + x_n = k$ (stars and bars)",
              "feedback": "Świetnie! To klasyczne zastosowanie metody 'kule i przegrody', ale pamiętaj o warunku $c_1 \\geq 1$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Zasada włączeń i wyłączeń",
              "feedback": "Zbyt skomplikowane dla tego problemu - metoda 'kule i przegrody' jest prostsza.",
              "is_correct": false
            }
          ],
          "explanation_after": "Użyjemy metody 'kule i przegrody' z uwzględnieniem warunku $c_1 \\geq 1$."
        }
      },
      {
        "step": 4,
        "hint": "Jak pozbyć się warunku $c_1 \\geq 1$?",
        "expression": "Podstawienie: $c_1 = 1 + d_1$, gdzie $d_1 \\geq 0$",
        "explanation": "Zamieniamy warunek $c_1 \\geq 1$ na $d_1 \\geq 0$",
        "why": "To standardowy trik - podstawienie redukuje problem do standardowej postaci, gdzie wszystkie zmienne są nieujemne."
      },
      {
        "step": 5,
        "hint": "Jak wygląda równanie po podstawieniu?",
        "expression": "$(1 + d_1) + c_2 + c_3 + c_4 + c_5 + c_6 + c_7 = 4$",
        "explanation": "Podstawiamy $c_1 = 1 + d_1$ do równania"
      },
      {
        "step": 6,
        "hint": "Jak uprościć to równanie?",
        "expression": "$d_1 + c_2 + c_3 + c_4 + c_5 + c_6 + c_7 = 3$",
        "explanation": "Odejmujemy $1$ od obu stron, teraz wszystkie zmienne $\\geq 0$"
      },
      {
        "step": 7,
        "hint": "Jaki wzór zastosować do policzenia rozwiązań równania $x_1 + x_2 + ... + x_n = k$?",
        "expression": "Liczba rozwiązań = $\\binom{7+3-1}{3} = \\binom{9}{3}$",
        "explanation": "Mamy $7$ zmiennych i sumę równą $3$",
        "interactive_choice": {
          "prompt": "Ile jest rozwiązań równania $d_1 + c_2 + ... + c_7 = 3$ w liczbach całkowitych nieujemnych?",
          "options": [
            {
              "id": "A",
              "text": "Wzór: $\\binom{n+k-1}{k}$ gdzie $n=7$, $k=3$",
              "feedback": "Dokładnie! To daje $\\binom{7+3-1}{3} = \\binom{9}{3}$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wzór: $\\binom{n}{k}$ gdzie $n=7$, $k=3$",
              "feedback": "Nie - to byłby wybór $3$ elementów z $7$, a nie rozmieszczenie sumy.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wzór: $n^k$ gdzie $n=7$, $k=3$",
              "feedback": "Nie - to liczba ciągów długości $3$ z alfabetu $7$-elementowego, nie rozmieszczenie sumy.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wzór 'stars and bars': liczba rozwiązań $x_1 + ... + x_n = k$ to $\\binom{n+k-1}{k} = \\binom{n+k-1}{n-1}$."
        }
      },
      {
        "step": 8,
        "hint": "Czy wszystkie te rozwiązania są dopuszczalne dla cyfr?",
        "expression": "Wszystkie rozwiązania są dopuszczalne, bo maksymalna wartość cyfry to $3$",
        "explanation": "Nie musimy wykluczać żadnych przypadków",
        "interactive_choice": {
          "prompt": "Czy musimy sprawdzić dodatkowe ograniczenia na cyfry?",
          "options": [
            {
              "id": "A",
              "text": "Tak - cyfry muszą być $\\leq 9$",
              "feedback": "Dobra intuicja! Ale przy sumie $3$ żadna cyfra nie przekroczy $9$, więc to ograniczenie jest automatycznie spełnione.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Nie - przy sumie $3$ wszystkie cyfry są automatycznie $\\leq 9$",
              "feedback": "Świetnie! Maksymalna wartość pojedynczej cyfry to $3$, więc wszystkie rozwiązania są dopuszczalne.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Tak - musimy wykluczyć przypadki z $0$",
              "feedback": "Nie - zera są dozwolone na wszystkich pozycjach oprócz pierwszej, co już uwzględniliśmy.",
              "is_correct": false
            }
          ],
          "explanation_after": "Ponieważ suma wynosi tylko $3$, żadna cyfra nie może przekroczyć $9$. Wszystkie rozwiązania kombinatoryczne są dopuszczalne."
        }
      },
      {
        "step": 9,
        "hint": "Ile wynosi $\\binom{9}{3}$?",
        "expression": "$\\binom{9}{3} = \\frac{9!}{3! \\cdot 6!} = \\frac{9 \\cdot 8 \\cdot 7}{3 \\cdot 2 \\cdot 1} = \\frac{504}{6} = 84$",
        "explanation": "Obliczamy wartość symbolu Newtona"
      },
      {
        "step": 10,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "Liczba siedmiocyfrowych liczb o sumie cyfr równej $4$ wynosi $84$",
        "explanation": "To liczba wszystkich dopuszczalnych rozmieszczeń cyfr"
      }
    ],
    "solutions": [
      "$84$"
    ],
    "parameters": {
      "digits": 7,
      "sum": 4
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T07:00:29.343Z"
  },
  {
    "id": "seven_digit_sum_six",
    "topic": "Kombinatoryka - rozmieszczenia z ograniczeniami",
    "difficulty": 5,
    "statement": "Oblicz, ile jest wszystkich liczb siedmiocyfrowych, w których suma cyfr jest równa $6$.",
    "steps": [
      {
        "step": 1,
        "hint": "Czym różni się liczba siedmiocyfrowa od dowolnego ciągu siedmiu cyfr?",
        "expression": "Liczba siedmiocyfrowa: pierwsza cyfra $\\neq 0$, pozostałe cyfry mogą być $0$, $1$, $2$, ..., $9$",
        "explanation": "Liczba siedmiocyfrowa ma cyfry od pozycji $1$ do $7$, gdzie pierwsza cyfra musi być niezerowa",
        "why": "To kluczowe ograniczenie - nie możemy po prostu rozłożyć $6$ na $7$ cyfr, bo pierwsza nie może być zerem."
      },
      {
        "step": 2,
        "hint": "Jak możemy podejść do tego problemu z ograniczeniem na pierwszą cyfrę?",
        "expression": "Strategia: dla każdej pierwszej cyfry $a_1 \\in \\{1, 2, 3, 4, 5, 6\\}$ zliczamy rozkłady pozostałych $6$ cyfr",
        "explanation": "Rozbijamy problem na przypadki według wartości pierwszej cyfry",
        "interactive_choice": {
          "prompt": "Którą strategię zastosować do zliczenia liczb z sumą cyfr równą $6$?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć wszystkie możliwe wartości pierwszej cyfry ($1$-$6$) osobno",
              "feedback": "Świetnie! To pozwoli kontrolować warunek, że pierwsza cyfra jest niezerowa.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Obliczyć wszystkie rozkłady $6$ na $7$ cyfr, potem odjąć te z zerem na początku",
              "feedback": "Dobra idea! To metoda dopełnienia - też prowadzi do celu.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć permutacji z powtórzeniami dla cyfr sumujących się do $6$",
              "feedback": "To nie wystarczy - permutacje nie uwzględniają, że cyfry mogą się powtarzać w różnych konfiguracjach.",
              "is_correct": false
            }
          ],
          "explanation_after": "Obie metody $A$ i $B$ działają. Wybierzemy metodę $A$ - rozpatrywanie przypadków według pierwszej cyfry."
        }
      },
      {
        "step": 3,
        "hint": "Jeśli pierwsza cyfra to $a_1$, ile musi wynosić suma pozostałych sześciu cyfr?",
        "expression": "Suma pozostałych cyfr: $a_2 + a_3 + a_4 + a_5 + a_6 + a_7 = 6 - a_1$",
        "explanation": "Pozostałe cyfry muszą sumować się do $6 - a_1$, gdzie każda cyfra $\\in \\{0, 1, ..., 9\\}$"
      },
      {
        "step": 4,
        "hint": "Jak zliczyć liczbę sposobów rozłożenia liczby $k$ na sumę $6$ cyfr (każda od $0$ do $9$)?",
        "expression": "Liczba rozwiązań $x_1 + ... + x_6 = k$ w liczbach całkowitych nieujemnych: $\\binom{k+5}{5}$",
        "explanation": "Wzór stars and bars: rozmieszczamy $k$ identycznych kulek w $6$ pudełkach",
        "why": "To klasyczny wzór kombinatoryczny: $\\binom{n+k-1}{k-1}$ dla $n$ niewiadomych. Tu $n=6$, więc $\\binom{k+5}{5}$.",
        "interactive_choice": {
          "prompt": "Którą metodę kombinatoryczną użyć do zliczenia rozwiązań równania $x_1 + x_2 + ... + x_6 = k$ gdzie $x_i \\in \\{0,1,...,9\\}$?",
          "options": [
            {
              "id": "A",
              "text": "Wzór na kombinacje z powtórzeniami (stars and bars)",
              "feedback": "Dobry start, ale uwaga - musimy odjąć przypadki gdzie cyfra > $9$!",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Zasada włączeń i wyłączeń dla ograniczenia $x_i \\leq 9$",
              "feedback": "Dokładnie! To uwzględni górne ograniczenie na cyfry.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Bezpośrednie wyliczenie wszystkich możliwych kombinacji cyfr",
              "feedback": "Możliwe dla małych $k$, ale nieefektywne i podatne na błędy.",
              "is_correct": false
            }
          ],
          "explanation_after": "Użyjemy kombinacji z powtórzeniami, ale dla małych wartości $k \\leq 6$ ograniczenie $x_i \\leq 9$ nie ma znaczenia."
        }
      },
      {
        "step": 5,
        "hint": "Czy dla $k \\leq 6$ musimy martwić się ograniczeniem $x_i \\leq 9$?",
        "expression": "Dla $k \\leq 6$: każda cyfra $\\leq k \\leq 6 < 9$, więc ograniczenie automatycznie spełnione",
        "explanation": "Gdy suma wynosi maksymalnie $6$, żadna pojedyncza cyfra nie może przekroczyć $9$"
      },
      {
        "step": 6,
        "hint": "Ile jest liczb dla każdej wartości pierwszej cyfry?",
        "expression": "Dla $a_1 = 1$: $\\binom{5+5}{5} = \\binom{10}{5} = 252$\n\nDla $a_1 = 2$: $\\binom{4+5}{5} = \\binom{9}{5} = 126$\n\nDla $a_1 = 3$: $\\binom{3+5}{5} = \\binom{8}{5} = 56$\n\nDla $a_1 = 4$: $\\binom{2+5}{5} = \\binom{7}{5} = 21$\n\nDla $a_1 = 5$: $\\binom{1+5}{5} = \\binom{6}{5} = 6$\n\nDla $a_1 = 6$: $\\binom{0+5}{5} = \\binom{5}{5} = 1$",
        "explanation": "Obliczamy liczbę rozwiązań dla każdego przypadku osobno"
      },
      {
        "step": 7,
        "hint": "Jak otrzymać całkowitą liczbę siedmiocyfrowych liczb z sumą cyfr równą $6$?",
        "expression": "Suma: $252 + 126 + 56 + 21 + 6 + 1$",
        "explanation": "Dodajemy wyniki ze wszystkich przypadków",
        "interactive_choice": {
          "prompt": "Co zrobić z wynikami dla poszczególnych wartości pierwszej cyfry?",
          "options": [
            {
              "id": "A",
              "text": "Zsumować wszystkie przypadki",
              "feedback": "Tak! Przypadki się wykluczają (pierwsza cyfra ma dokładnie jedną wartość), więc sumujemy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Pomnożyć przez $6$ (liczba możliwych pierwszych cyfr)",
              "feedback": "Nie - każdy przypadek ma inną liczbę rozwiązań, nie możemy po prostu mnożyć.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wybrać maksimum z obliczonych wartości",
              "feedback": "Nie - chcemy wszystkie liczby, nie tylko te z najczęstszą pierwszą cyfrą.",
              "is_correct": false
            }
          ],
          "explanation_after": "Przypadki są rozłączne (każda liczba ma dokładnie jedną pierwszą cyfrę), więc stosujemy regułę sumy."
        }
      },
      {
        "step": 8,
        "hint": "Jaki jest wynik końcowy?",
        "expression": "$252 + 126 + 56 + 21 + 6 + 1 = 462$",
        "explanation": "Obliczamy sumę wszystkich przypadków"
      }
    ],
    "solutions": [
      "$462$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-10-03T07:01:27.301Z"
  },
  {
    "id": "nine_digit_product_six",
    "topic": "Kombinatoryka - rozkłady liczb",
    "difficulty": 4,
    "statement": "Oblicz, ile jest wszystkich liczb dziewięciocyfrowych, w których iloczyn cyfr jest równy $6$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą wystąpić w liczbie, aby ich iloczyn wynosił $6$?",
        "expression": "Możliwe cyfry: $\\{1, 2, 3, 6\\}$",
        "explanation": "Tylko dzielniki $6$ mogą wystąpić w liczbie",
        "why": "Iloczyn cyfr równy $6$ oznacza, że każda cyfra musi być dzielnikiem $6$. Cyfra $1$ służy jako wypełniacz (nie zmienia iloczynu).",
        "interactive_choice": {
          "prompt": "Które cyfry mogą wystąpić w liczbie dziewięciocyfrowej z iloczynem cyfr równym $6$?",
          "options": [
            {
              "id": "A",
              "text": "Tylko cyfry będące dzielnikami $6$: $1$, $2$, $3$, $6$",
              "feedback": "Świetnie! Iloczyn cyfr to $6$, więc każda cyfra musi być dzielnikiem $6$. Dodatkowo potrzebujemy cyfr $1$ jako wypełniaczy.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wszystkie cyfry od $0$ do $9$",
              "feedback": "Nie - cyfra $0$ dałaby iloczyn $0$, a cyfry większe niż $6$ (np. $7$, $8$, $9$) nie są dzielnikami $6$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Cyfry $1$, $2$, $3$, $6$ oraz $0$ jako wypełniacz",
              "feedback": "Nie - cyfra $0$ w iloczynie daje $0$, nie $6$. Nie możemy jej użyć.",
              "is_correct": false
            }
          ],
          "explanation_after": "Możliwe cyfry to tylko $1$, $2$, $3$, $6$. Cyfra $1$ nie zmienia iloczynu, pozostałe są dzielnikami $6$."
        }
      },
      {
        "step": 2,
        "hint": "Na ile sposobów można rozłożyć $6$ na iloczyn cyfr z zestawu $\\{1, 2, 3, 6\\}$?",
        "expression": "Rozkłady: (1) $6$, (2) $2 \\cdot 3$, (3) $1 \\cdot 6$, (4) $1 \\cdot 2 \\cdot 3$",
        "explanation": "Wszystkie możliwe rozkłady liczby $6$ na iloczyn dostępnych cyfr",
        "interactive_choice": {
          "prompt": "Jakie są możliwe rozkłady liczby $6$ na iloczyn cyfr?",
          "options": [
            {
              "id": "A",
              "text": "Tylko $6 = 6$ i $6 = 2 \\cdot 3$",
              "feedback": "Brakuje przypadku $6 = 1 \\cdot 6$ oraz $6 = 1 \\cdot 2 \\cdot 3$ - jedynki możemy dodawać!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$6 = 6$, $6 = 2 \\cdot 3$, $6 = 1 \\cdot 6$, $6 = 1 \\cdot 2 \\cdot 3$",
              "feedback": "Dokładnie! To wszystkie możliwe rozkłady używając cyfr $1$, $2$, $3$, $6$. Resztę pozycji wypełnimy jedynkami.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$6 = 6$, $6 = 2 \\cdot 3$, $6 = 1 \\cdot 1 \\cdot 6$, $6 = 1 \\cdot 1 \\cdot 2 \\cdot 3$",
              "feedback": "Prawie! Ale $1 \\cdot 6$ i $1 \\cdot 1 \\cdot 6$ to ten sam rozkład - jedynki dodamy później.",
              "is_correct": false
            }
          ],
          "explanation_after": "Mamy $4$ podstawowe rozkłady. Pozostałe pozycje (do $9$ cyfr) wypełnimy jedynkami."
        }
      },
      {
        "step": 3,
        "hint": "Ile cyfr $1$ potrzebujemy w każdym rozkładzie, aby uzyskać $9$ cyfr?",
        "expression": "(1) $8$ jedynek + cyfra $6$; (2) $7$ jedynek + cyfry $2$, $3$; (3) $7$ jedynek + cyfry $1$, $6$; (4) $6$ jedynek + cyfry $1$, $2$, $3$",
        "explanation": "Uzupełniamy każdy rozkład jedynkami do $9$ cyfr",
        "why": "Liczba jest dziewięciocyfrowa, więc musimy mieć dokładnie $9$ cyfr. Jedynki nie zmieniają iloczynu."
      },
      {
        "step": 4,
        "hint": "Ile jest permutacji dla rozkładu $(1)$: osiem jedynek i jedna szóstka?",
        "expression": "Rozkład (1): $\\frac{9!}{8! \\cdot 1!} = 9$",
        "explanation": "Permutacje z powtórzeniami - szóstka może być na $9$ pozycjach"
      },
      {
        "step": 5,
        "hint": "Czy wszystkie te permutacje dają liczby dziewięciocyfrowe?",
        "expression": "Rozkład $(1)$: $9$ liczb",
        "explanation": "Wszystkie permutacje są poprawne, bo nie ma cyfry $0$",
        "interactive_choice": {
          "prompt": "Czy w rozkładzie $(1)$ wszystkie $9$ permutacji są poprawne?",
          "options": [
            {
              "id": "A",
              "text": "Tak, wszystkie $9$ permutacji są poprawne",
              "feedback": "Nie! Jeśli szóstka jest na pierwszej pozycji, to mamy liczbę dziewięciocyfrową. Ale jeśli jedynka jest pierwsza, liczba zaczyna się od $1$, co też jest OK. Wszystkie są poprawne!",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Nie, musimy odrzucić przypadki gdy $1$ jest pierwsza",
              "feedback": "Błąd! Liczba zaczynająca się od $1$ (np. $111111116$) też jest dziewięciocyfrowa.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Nie, musimy odrzucić przypadki gdy $6$ jest pierwsza",
              "feedback": "Nie - liczba zaczynająca się od $6$ (np. $611111111$) jest poprawną liczbą dziewięciocyfrową.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wszystkie cyfry ($1$ i $6$) są niezerowe, więc każda permutacja daje liczbę dziewięciocyfrową."
        }
      },
      {
        "step": 6,
        "hint": "Ile jest permutacji dla rozkładu $(2)$: siedem jedynek, jedna dwójka i jedna trójka?",
        "expression": "Rozkład (2): $\\frac{9!}{7! \\cdot 1! \\cdot 1!} = \\frac{9 \\cdot 8 \\cdot 7!}{7!} = 72$",
        "explanation": "Permutacje z powtórzeniami - cyfry $2$ i $3$ na różnych pozycjach"
      },
      {
        "step": 7,
        "hint": "Ile jest permutacji dla rozkładu $(3)$: siedem jedynek, jedna jedynka (razem $8$) i jedna szóstka?",
        "expression": "Rozkład $(3)$: $\\frac{9!}{8! \\cdot 1!} = 9$",
        "explanation": "Mamy $8$ jedynek i $1$ szóstkę - szóstka może być na $9$ pozycjach"
      },
      {
        "step": 8,
        "hint": "Ile jest permutacji dla rozkładu $(4)$: sześć jedynek, jedna jedynka (razem $7$), jedna dwójka i jedna trójka?",
        "expression": "Rozkład $(4)$: $\\frac{9!}{7! \\cdot 1! \\cdot 1!} = 72$",
        "explanation": "Mamy $7$ jedynek, $1$ dwójkę i $1$ trójkę"
      },
      {
        "step": 9,
        "hint": "Ile wynosi suma wszystkich możliwości?",
        "expression": "$9 + 72 + 9 + 72 = 162$",
        "explanation": "Sumujemy liczby z wszystkich czterech rozkładów"
      }
    ],
    "solutions": [
      "$162$"
    ],
    "parameters": {
      "note": "Liczba dziewięciocyfrowa nie może zaczynać się od $0$, ale w tym zadaniu cyfra $0$ nie występuje"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T07:02:23.191Z"
  },
  {
    "id": "nine_digit_product_12",
    "topic": "Kombinatoryka - rozkłady liczb",
    "difficulty": 5,
    "statement": "Oblicz, ile jest wszystkich liczb dziewięciocyfrowych, w których iloczyn cyfr jest równy $12$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą wystąpić w liczbie dziewięciocyfrowej?",
        "expression": "Cyfry od $1$ do $9$ (pierwsza cyfra nie może być $0$), pozostałe cyfry od $0$ do $9$",
        "explanation": "Liczba dziewięciocyfrowa ma cyfry $c_1c_2c_3c_4c_5c_6c_7c_8c_9$ gdzie $c_1 \\neq 0$",
        "why": "Jeśli iloczyn cyfr ma być równy $12$, to żadna cyfra nie może być zerem (bo $0 \\cdot x = 0$). Wszystkie cyfry muszą być z zakresu $1$-$9$."
      },
      {
        "step": 2,
        "hint": "Jak podejść do problemu iloczynu cyfr równego $12$?",
        "expression": "$12 = 2^2 \\cdot 3$",
        "explanation": "Rozkład liczby $12$ na czynniki pierwsze",
        "interactive_choice": {
          "prompt": "Jaka strategia będzie najlepsza do rozwiązania tego problemu?",
          "options": [
            {
              "id": "A",
              "text": "Znaleźć wszystkie rozkłady liczby $12$ na czynniki pierwsze i rozważyć permutacje",
              "feedback": "Świetnie! To systematyczne podejście - rozkładamy $12$ na czynniki i liczymy ustawienia.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Sprawdzić wszystkie możliwe kombinacje cyfr metodą prób i błędów",
              "feedback": "Zbyt pracochłonne - przy $9$ cyfrach to miliony możliwości do sprawdzenia.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru na permutacje z powtórzeniami bez analizy rozkładów",
              "feedback": "Nie wystarczy - najpierw musimy wiedzieć JAKIE cyfry użyć, potem liczyć permutacje.",
              "is_correct": false
            }
          ],
          "explanation_after": "Kluczem jest rozkład $12$ na czynniki, które są cyframi ($1$-$9$), a potem liczenie permutacji."
        }
      },
      {
        "step": 3,
        "hint": "Jakie cyfry (od $1$ do $9$) mogą być czynnikami w iloczynie równym $12$?",
        "expression": "Możliwe cyfry: $1$, $2$, $3$, $4$, $6$ (bo $4 = 2^2$, $6 = 2 \\cdot 3$)",
        "explanation": "Cyfry $5$, $7$, $8$, $9$ nie mogą wystąpić, bo nie dzielą $12$",
        "why": "Jeśli cyfra $c$ występuje w liczbie, to $c$ musi dzielić $12$. Cyfry $5$, $7$, $8$, $9$ nie dzielą $12$, więc ich użycie uniemożliwi otrzymanie iloczynu $12$."
      },
      {
        "step": 4,
        "hint": "Ile jedynek musimy użyć, aby uzupełnić do 9 cyfr?",
        "expression": "Szukamy rozkładów $12$ na cyfry (bez jedynek), potem dodajemy jedynki",
        "explanation": "Strategia: znajdź rozkłady $12$, resztę miejsc wypełnij jedynkami",
        "interactive_choice": {
          "prompt": "Jak traktować jedynki w rozkładzie na 9 cyfr?",
          "options": [
            {
              "id": "A",
              "text": "Jedynki nie wpływają na iloczyn, więc uzupełniamy nimi do $9$ cyfr",
              "feedback": "Dokładnie! Jedynki są neutralne dla iloczynu ($1 \\cdot x = x$), więc wypełniamy nimi pozostałe miejsca.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Nie możemy używać jedynek, bo zmieniają one $iloczyn$",
              "feedback": "Nieprawda - jedynka jest elementem neutralnym mnożenia, nie zmienia iloczynu.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Jedynki możemy zastąpić innymi cyframi dającymi ten sam iloczyn",
              "feedback": "Nie - inne cyfry zmienią iloczyn. Tylko jedynki zachowują iloczyn $12$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Jedynki są kluczowe - pozwalają uzupełnić liczbę do $9$ cyfr bez zmiany iloczynu."
        }
      },
      {
        "step": 5,
        "hint": "Jakie są wszystkie możliwe rozkłady liczby $12$ na cyfry od $2$ do $9$?",
        "expression": "Rozkłady: (1) $12 = 2 \\cdot 6$, (2) $12 = 3 \\cdot 4$, (3) $12 = 2 \\cdot 2 \\cdot 3$",
        "explanation": "Znajdujemy wszystkie sposoby zapisania $12$ jako iloczyn cyfr $2$-$9$",
        "why": "To wszystkie możliwe rozkłady, bo: $12 = 12$ (cyfra $12$ nie istnieje), $12 = 2 \\cdot 6 = 3 \\cdot 4 = 2 \\cdot 2 \\cdot 3$. Inne kombinacje jak $1 \\cdot 12$ lub $1 \\cdot 2 \\cdot 6$ sprowadzają się do tych samych po usunięciu jedynek."
      },
      {
        "step": 6,
        "hint": "Ile cyfr użyjemy w każdym rozkładzie i ile jedynek potrzebujemy?",
        "expression": "Rozkład $(1)$: $2$ cyfry + $7$ jedynek, Rozkład $(2)$: $2$ cyfry + $7$ jedynek, Rozkład $(3)$: $3$ cyfry + $6$ jedynek",
        "explanation": "Każdy rozkład wymaga uzupełnienia jedynkami do $9$ cyfr"
      },
      {
        "step": 7,
        "hint": "Jak obliczyć liczbę permutacji dla rozkładu $2, 6, 1, 1, 1, 1, 1, 1, 1$?",
        "expression": "Rozkład (1): $\\frac{9!}{1! \\cdot 1! \\cdot 7!} = \\frac{9!}{7!} = 9 \\cdot 8 = 72$",
        "explanation": "Dla cyfr $2$, $6$, $1^7$ mamy $9$ pozycji, cyfra $2$ raz, cyfra $6$ raz, cyfra $1$ siedem razy",
        "interactive_choice": {
          "prompt": "Którym wzorem obliczyć permutacje z powtórzeniami?",
          "options": [
            {
              "id": "A",
              "text": "Wzór $\\frac{n!}{n_1! \\cdot n_2! \\cdot ... \\cdot n_k!}$ gdzie $n_i$ to liczby powtórzeń",
              "feedback": "Perfekcyjnie! To wzór na permutacje z powtórzeniami - dzielimy przez silnie liczb powtórzeń.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Zwykłe permutacje $n!$ bo wszystkie cyfry są różne",
              "feedback": "Nie - mamy $7$ jedynek, które się powtarzają, więc musimy podzielić przez $7!$",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Kombinacje $\\binom{n}{k}$ bo wybieramy pozycje dla cyfr",
              "feedback": "Kombinacje nie uwzględniają kolejności wszystkich elementów - potrzebujemy permutacji.",
              "is_correct": false
            }
          ],
          "explanation_after": "Permutacje z powtórzeniami: dzielimy $n!$ przez silnie liczb powtórzeń każdej cyfry."
        }
      },
      {
        "step": 8,
        "hint": "Ile permutacji daje rozkład $3, 4, 1, 1, 1, 1, 1, 1, 1$?",
        "expression": "Rozkład (2): $\\frac{9!}{1! \\cdot 1! \\cdot 7!} = \\frac{9!}{7!} = 9 \\cdot 8 = 72$",
        "explanation": "Analogicznie jak rozkład $(1)$ - dwie różne cyfry i $7$ jedynek"
      },
      {
        "step": 9,
        "hint": "Ile permutacji daje rozkład $2, 2, 3, 1, 1, 1, 1, 1, 1$?",
        "expression": "Rozkład $(3)$: $\\frac{9!}{2! \\cdot 1! \\cdot 6!} = \\frac{9!}{2! \\cdot 6!} = \\frac{9 \\cdot 8 \\cdot 7}{2} = \\frac{504}{2} = 252$",
        "explanation": "Cyfra $2$ występuje dwa razy, cyfra $3$ raz, cyfra $1$ sześć razy",
        "why": "Dzielimy przez $2!$ bo mamy dwie dwójki (są nierozróżnialne) i przez $6!$ bo mamy sześć jedynek."
      },
      {
        "step": 10,
        "hint": "Jaka jest suma wszystkich możliwości?",
        "expression": "$72 + 72 + 252 = 396$",
        "explanation": "Sumujemy liczby permutacji ze wszystkich trzech rozkładów"
      },
      {
        "step": 11,
        "hint": "Czy to już ostateczna odpowiedź?",
        "expression": "Liczba wszystkich liczb dziewięciocyfrowych z iloczynem cyfr równym $12$ wynosi $396$",
        "explanation": "Uwzględniliśmy wszystkie możliwe rozkłady i wszystkie permutacje"
      }
    ],
    "solutions": [
      "$396$"
    ],
    "parameters": {
      "rozkłady": "$12 = 2 \\cdot 6 = 3 \\cdot 4 = 2 \\cdot 2 \\cdot 3$",
      "permutacje": "Rozkład (1): $72$, Rozkład (2): $72$, Rozkład (3): $252$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 11,
        "stepsWithWhy": 4,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T07:03:10.035Z"
  },
  {
    "id": "nine_digit_product_20",
    "topic": "Kombinatoryka - rozkład liczby na czynniki",
    "difficulty": 4,
    "statement": "Oblicz, ile jest wszystkich liczb dziewięciocyfrowych, w których iloczyn cyfr jest równy $20$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą występować w liczbie dziewięciocyfrowej?",
        "expression": "Cyfry od $0$ do $9$, ale pierwsza cyfra nie może być $0$",
        "explanation": "Liczba dziewięciocyfrowa ma cyfry z zakresu $0$-$9$, przy czym pierwsza cyfra musi być różna od zera",
        "why": "Jeśli pierwsza cyfra byłaby $0$, liczba miałaby mniej niż $9$ cyfr. Dodatkowo, jeśli którakolwiek cyfra to $0$, iloczyn wszystkich cyfr wyniesie $0$, nie $20$."
      },
      {
        "step": 2,
        "hint": "Czy w naszej liczbie może wystąpić cyfra $0$?",
        "expression": "NIE - gdyby była cyfra $0$, to iloczyn cyfr wynosiłby $0$, nie $20$",
        "explanation": "Wykluczamy cyfrę $0$ z możliwych cyfr"
      },
      {
        "step": 3,
        "hint": "Jak rozłożyć liczbę $20$ na czynniki pierwsze?",
        "expression": "$20 = 2^2 \\cdot 5 = 4 \\cdot 5$",
        "explanation": "Rozkładamy $20$ na czynniki pierwsze",
        "interactive_choice": {
          "prompt": "Jaki jest rozkład liczby $20$ na czynniki pierwsze?",
          "options": [
            {
              "id": "A",
              "text": "$20 = 2 \\cdot 10$",
              "feedback": "To rozkład, ale nie na czynniki pierwsze - $10$ nie jest liczbą pierwszą",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$20 = 2^2 \\cdot 5$",
              "feedback": "Doskonale! To kanoniczny rozkład na czynniki pierwsze",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$20 = 4 \\cdot 5$",
              "feedback": "To rozkład, ale nie na czynniki pierwsze - $4$ nie jest liczbą pierwszą",
              "is_correct": false
            }
          ],
          "explanation_after": "Rozkład na czynniki pierwsze to $20 = 2^2 \\cdot 5$. Teraz musimy te czynniki rozdzielić na $9$ cyfr (każda od $1$ do $9$)."
        }
      },
      {
        "step": 4,
        "hint": "Jakie cyfry (od $1$ do $9$) możemy użyć, aby ich iloczyn dał $20$?",
        "expression": "Przypadek 1: {$4$, $5$, $1$, $1$, $1$, $1$, $1$, $1$, $1$} lub Przypadek 2: {$2$, $2$, $5$, $1$, $1$, $1$, $1$, $1$, $1$}",
        "explanation": "Znajdujemy wszystkie możliwe zestawy cyfr",
        "interactive_choice": {
          "prompt": "Jak rozdzielić czynniki $2^2 \\cdot 5$ na cyfry od 1 do 9?",
          "options": [
            {
              "id": "A",
              "text": "Użyć cyfr $4$ i $5$, resztę wypełnić jedynkami",
              "feedback": "Świetnie! $4 \\cdot 5 \\cdot 1 \\cdot 1 \\cdot 1 \\cdot 1 \\cdot 1 \\cdot 1 \\cdot 1 = 20$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć cyfr $2$, $2$, $5$, resztę wypełnić jedynkami",
              "feedback": "Doskonale! $2 \\cdot 2 \\cdot 5 \\cdot 1 \\cdot 1 \\cdot 1 \\cdot 1 \\cdot 1 \\cdot 1 = 20$",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć cyfr $2$, $10$, resztę wypełnić jedynkami",
              "feedback": "Nie - $-10$ nie jest cyfrą! Cyfry to liczby od $0$ do $9$",
              "is_correct": false
            }
          ],
          "explanation_after": "Mamy dwa sposoby: (1) cyfry $\\{4, 5, 1, 1, 1, 1, 1, 1, 1\\}$ lub (2) cyfry $\\{2, 2, 5, 1, 1, 1, 1, 1, 1\\}$"
        }
      },
      {
        "step": 5,
        "hint": "Ile permutacji ma zestaw cyfr {$4$, $5$, $1$, $1$, $1$, $1$, $1$, $1$, $1$}?",
        "expression": "Permutacje z powtórzeniami: $\\frac{9!}{7!} = \\frac{9!}{7! \\cdot 1! \\cdot 1!}$",
        "explanation": "Mamy $9$ pozycji, $7$ jedynek (nierozróżnialne), $1$ czwórkę, $1$ piątkę",
        "why": "Wzór na permutacje z powtórzeniami: $\\frac{n!}{n_1! \\cdot n_2! \\cdot ... \\cdot n_k!}$, gdzie $n_i$ to liczba powtórzeń $i$-tego elementu"
      },
      {
        "step": 6,
        "hint": "Ile wynosi $\\frac{9!}{7!}$?",
        "expression": "$\\frac{9!}{7!} = 9 \\cdot 8 = 72$",
        "explanation": "Obliczamy liczbę permutacji dla pierwszego przypadku"
      },
      {
        "step": 7,
        "hint": "Ile permutacji ma zestaw cyfr $\\{2, 2, 5, 1, 1, 1, 1, 1, 1\\}$?",
        "expression": "Permutacje z powtórzeniami: $\\frac{9!}{2! \\cdot 6!}$",
        "explanation": "Mamy $9$ pozycji, $2$ dwójki (nierozróżnialne), $6$ jedynek (nierozróżnialne), $1$ piątkę"
      },
      {
        "step": 8,
        "hint": "Ile wynosi $\\frac{9!}{2! \\cdot 6!}$?",
        "expression": "$\\frac{9!}{2! \\cdot 6!} = \\frac{9 \\cdot 8 \\cdot 7 \\cdot 6!}{2 \\cdot 6!} = \\frac{9 \\cdot 8 \\cdot 7}{2} = \\frac{504}{2} = 252$",
        "explanation": "Obliczamy liczbę permutacji dla drugiego przypadku"
      },
      {
        "step": 9,
        "hint": "Czy wszystkie te permutacje dają liczby dziewięciocyfrowe?",
        "expression": "Wszystkie $72 + 252$ permutacji są poprawne",
        "explanation": "Żadna permutacja nie zaczyna się od zera",
        "interactive_choice": {
          "prompt": "Czy musimy wykluczyć jakieś permutacje?",
          "options": [
            {
              "id": "A",
              "text": "Nie - wszystkie cyfry są różne od zera",
              "feedback": "Dokładnie! Skoro nie ma cyfry $0$, każda permutacja daje liczbę dziewięciocyfrową",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Tak - musimy wykluczyć te zaczynające się od $1$",
              "feedback": "Nie - cyfra $1$ na początku też daje liczbę dziewięciocyfrową",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Tak - musimy wykluczyć te z cyfrą $0$",
              "feedback": "Nie ma cyfry $0$ w naszych zestawach, więc nie ma co wykluczać",
              "is_correct": false
            }
          ],
          "explanation_after": "Wszystkie nasze cyfry są od $1$ do $9$, więc każda permutacja daje poprawną liczbę dziewięciocyfrową"
        }
      },
      {
        "step": 10,
        "hint": "Jaka jest całkowita liczba liczb dziewięciocyfrowych spełniających warunek?",
        "expression": "$72 + 252 = 324$",
        "explanation": "Sumujemy permutacje z obu przypadków"
      }
    ],
    "solutions": [
      "$324$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-10-03T07:03:43.827Z"
  },
  {
    "id": "divisibility_15_combinatorics",
    "topic": "Kombinatoryka i podzielność",
    "difficulty": 4,
    "statement": "Dany jest zbiór składający się z trzech cyfr $\\{1,3,5\\}$. Oblicz, ile liczb naturalnych pięciocyfrowych podzielnych przez $15$ można utworzyć, wybierając tylko cyfry z tego zbioru.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie warunki musi spełniać liczba, aby była podzielna przez $15$?",
        "expression": "Liczba podzielna przez $15 \\Leftrightarrow$ podzielna przez $3$ i przez $5$",
        "explanation": "Rozkładamy warunek na dwa prostsze warunki",
        "why": "To kluczowa obserwacja - zamiast jednego trudnego warunku mamy dwa łatwiejsze do sprawdzenia.",
        "interactive_choice": {
          "prompt": "Liczba podzielna przez $15$ musi być podzielna przez:",
          "options": [
            {
              "id": "A",
              "text": "Przez $3$ i przez $5$ jednocześnie",
              "feedback": "Doskonale! $15 = 3 \\cdot 5$, więc liczba musi spełniać oba warunki.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Przez $3$ lub przez $5$",
              "feedback": "Nie - musi być podzielna przez OBA, nie przez jedno z nich.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Tylko przez $15$",
              "feedback": "To prawda, ale nie pomaga - lepiej rozłożyć na czynniki pierwsze.",
              "is_correct": false
            }
          ],
          "explanation_after": "Podzielność przez $15$ oznacza podzielność przez $3$ AND przez $5$. Sprawdzimy oba warunki osobno."
        }
      },
      {
        "step": 2,
        "hint": "Jaki warunek musi spełniać ostatnia cyfra liczby podzielnej przez $5$?",
        "expression": "Ostatnia cyfra musi być $0$ lub $5$",
        "explanation": "Warunek podzielności przez $5$"
      },
      {
        "step": 3,
        "hint": "Która cyfra ze zbioru $\\{1,3,5\\}$ może być ostatnią cyfrą?",
        "expression": "Ostatnia cyfra = $5$ (jedyna możliwość ze zbioru)",
        "explanation": "Ze zbioru $\\{1,3,5\\}$ tylko cyfra $5$ spełnia warunek podzielności przez $5$"
      },
      {
        "step": 4,
        "hint": "Jaki warunek musi spełniać suma cyfr liczby podzielnej przez $3$?",
        "expression": "Suma wszystkich cyfr musi być podzielna przez $3$",
        "explanation": "Warunek podzielności przez 3",
        "why": "Liczba jest podzielna przez 3 wtedy i tylko wtedy, gdy suma jej cyfr jest podzielna przez 3."
      },
      {
        "step": 5,
        "hint": "Ile wynosi suma cyfr w liczbie postaci $\\overline{abcd5}$?",
        "expression": "Suma cyfr = $a + b + c + d + 5$, gdzie $a,b,c,d \\in \\{1,3,5\\}$",
        "explanation": "Ostatnia cyfra to 5, pozostałe cztery cyfry wybieramy ze zbioru"
      },
      {
        "step": 6,
        "hint": "Jakie wartości może przyjąć suma $a + b + c + d$?",
        "expression": "Suma $a+b+c+d$ może wynosić: $4, 6, 8, 10, 12, 14, 16, 18, 20$",
        "explanation": "Wszystkie parzyste wartości od $4$ do $20$",
        "interactive_choice": {
          "prompt": "Jaki jest zakres możliwych wartości sumy $a + b + c + d$?",
          "options": [
            {
              "id": "A",
              "text": "Od $4$ do $20$ (każda cyfra od $1$ do $5$)",
              "feedback": "Nie - cyfry mogą być tylko z $\\{1,3,5\\}$, nie wszystkie od $1$ do $5$.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Od $4$ do $20$, ale tylko wartości nieparzyste",
              "feedback": "Świetnie! Minimum: $1+1+1+1=4$, maksimum: $5+5+5+5=20$. Suma nieparzystych jest parzysta lub nieparzysta w zależności od ich liczby.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Tylko wartości nieparzyste od $5$ do $19$",
              "feedback": "Nie - suma czterech liczb nieparzystych jest zawsze parzysta! Np. $1+1+1+1=4$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Suma czterech liczb nieparzystych jest zawsze parzysta. Minimum to $4$, maksimum to $20$."
        }
      },
      {
        "step": 7,
        "hint": "Dla jakich wartości $a+b+c+d$ suma $a+b+c+d+5$ będzie podzielna przez $3$?",
        "expression": "$a+b+c+d+5 \\equiv 0 \\pmod{3}$, czyli $a+b+c+d \\equiv -5 \\equiv 1 \\pmod{3}$",
        "explanation": "Przekształcamy warunek podzielności"
      },
      {
        "step": 8,
        "hint": "Które z wartości $\\{4,6,8,10,12,14,16,18,20\\}$ dają resztę $1$ przy dzieleniu przez $3$?",
        "expression": "Sprawdzamy reszty: $4 \\equiv 1$, $6 \\equiv 0$, $8 \\equiv 2$, $10 \\equiv 1$, $12 \\equiv 0$, $14 \\equiv 2$, $16 \\equiv 1$, $18 \\equiv 0$, $20 \\equiv 2$",
        "explanation": "Obliczamy reszty z dzielenia przez 3"
      },
      {
        "step": 9,
        "hint": "Jakie sumy $a+b+c+d$ spełniają warunek?",
        "expression": "$a+b+c+d \\in \\{4, 10, 16\\}$",
        "explanation": "Tylko te trzy wartości dają resztę $1$ przy dzieleniu przez $3$"
      },
      {
        "step": 10,
        "hint": "Ile jest sposobów uzyskania sumy $4$ z czterech cyfr ze zbioru $\\{1,3,5\\}$?",
        "expression": "Suma $4$: tylko $(1,1,1,1)$ - jedna kompozycja",
        "explanation": "Jedyny sposób: cztery jedynki",
        "interactive_choice": {
          "prompt": "Jak obliczyć liczbę sposobów uzyskania konkretnej sumy?",
          "options": [
            {
              "id": "A",
              "text": "Policzyć wszystkie możliwe kombinacje cyfr",
              "feedback": "Możliwe, ale pracochłonne - trzeba systematycznie rozpatrzyć przypadki.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć wzoru na permutacje z powtórzeniami",
              "feedback": "Dobry kierunek! Dla każdej kompozycji sumy użyjemy tego wzoru.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Po prostu $3^4 = 81$ możliwości",
              "feedback": "To wszystkie liczby, nie tylko te o konkretnej sumie cyfr.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dla każdej sumy znajdziemy kompozycje (rozkłady na składniki), potem policzymy permutacje."
        }
      },
      {
        "step": 11,
        "hint": "Ile permutacji ma ciąg $(1,1,1,1)$?",
        "expression": "Liczba permutacji: $\\frac{4!}{4!} = 1$",
        "explanation": "Wszystkie cyfry identyczne, więc tylko jedna permutacja"
      },
      {
        "step": 12,
        "hint": "Jakie kompozycje dają sumę $10$?",
        "expression": "Suma $10$: $(1,1,3,5)$, $(1,3,3,3)$, $(5,5,0,0)$ - ale $0 \\notin \\{1,3,5\\}$",
        "explanation": "Szukamy wszystkich rozkładów liczby $10$ na cztery składniki z $\\{1,3,5\\}$"
      },
      {
        "step": 13,
        "hint": "Ile permutacji mają ciągi $$(1,1,3,5)$$ i $$(1,3,3,3)$$?",
        "expression": "$(1,1,3,5)$: $\\frac{4!}{2!} = 12$ permutacji; $(1,3,3,3)$: $\\frac{4!}{3!} = 4$ permutacje",
        "explanation": "Używamy wzoru na permutacje z powtórzeniami: $\\frac{n!}{n_1! \\cdot n_2! \\cdot ...}$"
      },
      {
        "step": 14,
        "hint": "Ile łącznie permutacji dla sumy $10$?",
        "expression": "Suma $10$: $12 + 4 = 16$ permutacji",
        "explanation": "Sumujemy permutacje wszystkich kompozycji"
      },
      {
        "step": 15,
        "hint": "Jakie kompozycje dają sumę $16$?",
        "expression": "Suma $16$: $(1,5,5,5)$, $(3,3,5,5)$",
        "explanation": "Rozkłady liczby $16$ na cztery składniki z $\\{1,3,5\\}$"
      },
      {
        "step": 16,
        "hint": "Ile permutacji mają te ciągi?",
        "expression": "$(1,5,5,5)$: $\\frac{4!}{3!} = 4$ permutacje; $(3,3,5,5)$: $\\frac{4!}{2! \\cdot 2!} = 6$ permutacji",
        "explanation": "Obliczamy permutacje z powtórzeniami"
      },
      {
        "step": 17,
        "hint": "Ile łącznie permutacji dla sumy $16$?",
        "expression": "Suma $16$: $4 + 6 = 10$ permutacji",
        "explanation": "Sumujemy permutacje wszystkich kompozycji"
      },
      {
        "step": 18,
        "hint": "Ile jest wszystkich liczb pięciocyfrowych podzielnych przez $15$?",
        "expression": "Łącznie: $1 + 16 + 10 = 27$ liczb",
        "explanation": "Sumujemy liczby dla wszystkich dopuszczalnych sum cyfr: $4$, $10$ i $16$"
      }
    ],
    "solutions": [
      "$27$"
    ],
    "parameters": {
      "digit_set": "$\\{1, 3, 5\\}$",
      "number_length": "$5$ cyfr",
      "divisibility": "przez $15$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 18,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-10-03T07:04:38.013Z"
  },
  {
    "id": "combinatorics_divisibility_4",
    "topic": "Kombinatoryka z warunkiem podzielności",
    "difficulty": 4,
    "statement": "Oblicz, ile różnych liczb czterocyfrowych podzielnych przez $4$ można utworzyć z cyfr $1$, $2$, $3$, $4$, $5$, jeżeli cyfry mogą się powtarzać.",
    "steps": [
      {
        "step": 1,
        "hint": "Od czego zależy podzielność liczby przez $4$?",
        "expression": "Liczba $\\overline{abcd}$ jest podzielna przez $4$ $\\Leftrightarrow$ liczba $\\overline{cd}$ jest podzielna przez $4$",
        "explanation": "Ustalamy kryterium podzielności",
        "why": "To kluczowa cecha podzielności przez $4$. Pozwala nam skupić się tylko na dwóch ostatnich cyfrach, a pierwsze dwie mogą być dowolne.",
        "interactive_choice": {
          "prompt": "Która cecha liczby decyduje o jej podzielności przez $4$?",
          "options": [
            {
              "id": "A",
              "text": "Suma wszystkich cyfr musi być podzielna przez $4$",
              "feedback": "Nie - to cecha podzielności przez $3$ i $9$. Dla $4$ liczy się coś innego.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Ostatnia cyfra musi być parzysta",
              "feedback": "To za mało - liczba $14$ ma parzystą ostatnią cyfrę, ale nie dzieli się przez $4$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Dwie ostatnie cyfry tworzą liczbę podzielną przez $4$",
              "feedback": "Dokładnie! Liczba jest podzielna przez $4$ wtedy i tylko wtedy, gdy liczba utworzona z dwóch ostatnich cyfr dzieli się przez $4$.",
              "is_correct": true
            }
          ],
          "explanation_after": "Cecha podzielności przez 4: sprawdzamy tylko dwie ostatnie cyfry. Np. $3124$ dzieli się przez $4$, bo $24$ dzieli się przez $4$."
        }
      },
      {
        "step": 2,
        "hint": "Jakie dwucyfrowe liczby można utworzyć z cyfr $1$, $2$, $3$, $4$, $5$?",
        "expression": "Cyfry: $1$, $2$, $3$, $4$, $5$. Dwucyfrowe liczby: $11$, $12$, $13$, ..., $54$, $55$",
        "explanation": "Mamy $5$ możliwości na pierwszą cyfrę i $5$ na drugą, czyli $5 \\cdot 5 = 25$ liczb dwucyfrowych"
      },
      {
        "step": 3,
        "hint": "Które z tych liczb dwucyfrowych dzielą się przez $4$?",
        "expression": "Ostatnia cyfra: $2$ lub $4$ (parzysta). Sprawdzamy: $12$, $22$, $32$, $42$, $52$, $14$, $24$, $34$, $44$, $54$",
        "explanation": "Zawężamy do liczb z parzystą ostatnią cyfrą",
        "interactive_choice": {
          "prompt": "Jak najefektywniej znaleźć wszystkie dwucyfrowe liczby z cyfr $1$, $2$, $3$, $4$, $5$ podzielne przez $4$?",
          "options": [
            {
              "id": "A",
              "text": "Sprawdzić wszystkie $25$ możliwości dzieląc przez $4$",
              "feedback": "Możliwe, ale pracochłonne. Można mądrzej wykorzystać cechy podzielności.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wybrać tylko te z parzystą ostatnią cyfrą ($2$ lub $4$)",
              "feedback": "Dobry początek! To zawęża do $10$ liczb. Teraz trzeba sprawdzić które z nich dzielą się przez $4$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wziąć tylko liczby z cyfrą $4$",
              "feedback": "Nie - obecność cyfry $4$ nie gwarantuje podzielności przez $4$. Np. $14$ nie dzieli się przez $4$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Najlepiej zawęzić do parzystych ostatnich cyfr $2$, $4$, a potem sprawdzić podzielność."
        }
      },
      {
        "step": 4,
        "hint": "Które z liczb $12$, $22$, $32$, $42$, $52$, $14$, $24$, $34$, $44$, $54$ dzielą się przez $4$?",
        "expression": "$12 \\div 4 = 3$ ✓, $22 \\div 4 = 5.5$ ✗, $32 \\div 4 = 8$ ✓, $42 \\div 4 = 10.5$ ✗, $52 \\div 4 = 13$ ✓",
        "explanation": "Sprawdzamy liczby kończące się na $2$"
      },
      {
        "step": 5,
        "hint": "A które z liczb kończących się na $4$?",
        "expression": "$14 \\div 4 = 3.5$ ✗, $24 \\div 4 = 6$ ✓, $34 \\div 4 = 8.5$ ✗, $44 \\div 4 = 11$ ✓, $54 \\div 4 = 13.5$ ✗",
        "explanation": "Sprawdzamy liczby kończące się na $4$"
      },
      {
        "step": 6,
        "hint": "Ile jest liczb dwucyfrowych podzielnych przez $4$?",
        "expression": "Podzielne przez 4: $12$, $24$, $32$, $44$, $52$. Razem: $5$ liczb",
        "explanation": "Mamy $5$ możliwości na dwie ostatnie cyfry liczby czterocyfrowej",
        "why": "Te $5$ par cyfr to jedyne możliwości zakończenia naszej liczby czterocyfrowej, aby była podzielna przez $4$."
      },
      {
        "step": 7,
        "hint": "Jak teraz policzyć wszystkie liczby czterocyfrowe?",
        "expression": "Pierwsza cyfra: $5$ możliwości, druga cyfra: $5$ możliwości, ostatnie dwie: $5$ par",
        "explanation": "Rozbijamy problem na niezależne wybory",
        "interactive_choice": {
          "prompt": "Mamy ustalone 5 możliwości na dwie ostatnie cyfry. Jak policzyć wszystkie liczby czterocyfrowe?",
          "options": [
            {
              "id": "A",
              "text": "Dla każdej z $5$ par ostatnich cyfr, pierwsze dwie mogą być dowolne",
              "feedback": "Świetnie! Pierwsze dwie cyfry wybieramy niezależnie - każda może być $1$, $2$, $3$, $4$ lub $5$.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Pomnożyć $5$ możliwości przez $4$ (bo czterocyfrowa)",
              "feedback": "Nie - cyfry mogą się powtarzać, więc każda pozycja ma $5$ możliwości, nie $4$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Dodać do siebie wszystkie możliwe kombinacje",
              "feedback": "Nie trzeba - użyjemy reguły mnożenia, bo wybory są niezależne.",
              "is_correct": false
            }
          ],
          "explanation_after": "Reguła mnożenia: pierwsze dwie cyfry wybieramy niezależnie (po $5$ możliwości każda), ostatnie dwie mają $5$ ustalonych par."
        }
      },
      {
        "step": 8,
        "hint": "Ile wynosi iloczyn wszystkich możliwości?",
        "expression": "$5 \\cdot 5 \\cdot 5 = 125$",
        "explanation": "Mnożymy liczbę możliwości dla każdej pozycji",
        "why": "Używamy reguły mnożenia w kombinatoryce: gdy mamy niezależne wybory, mnożymy liczby możliwości."
      },
      {
        "step": 9,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "Można utworzyć $125$ różnych liczb czterocyfrowych podzielnych przez $4$",
        "explanation": "Otrzymujemy końcowy wynik"
      }
    ],
    "solutions": [
      "$125$"
    ],
    "parameters": {
      "cyfry": "$1$, $2$, $3$, $4$, $5$",
      "warunek": "cyfry mogą się powtarzać",
      "podzielnosc": "przez $4$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 3,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-10-03T07:05:21.741Z"
  },
  {
    "id": "combinatorics_divisibility_by_4",
    "topic": "Kombinatoryka z warunkami podzielności",
    "difficulty": 5,
    "statement": "Oblicz, ile jest liczb ośmiocyfrowych podzielnych przez $4$ o niepowtarzających się cyfrach należących do zbioru $\\{0,1,3,4,5,6,7,9\\}$.",
    "steps": [
      {
        "step": 1,
        "hint": "Od czego zależy podzielność liczby przez $4$?",
        "expression": "Liczba podzielna przez 4 $\\Leftrightarrow$ ostatnie dwie cyfry tworzą liczbę podzielną przez 4",
        "explanation": "Stosujemy kryterium podzielności przez $4$",
        "why": "To kluczowe kryterium pozwala nam skupić się tylko na dwóch ostatnich cyfrach zamiast analizować całą liczbę ośmiocyfrową.\n\n(No mathematical expressions were found in this text, so no changes were made.)",
        "interactive_choice": {
          "prompt": "Jak sprawdzić czy liczba jest podzielna przez 4?",
          "options": [
            {
              "id": "A",
              "text": "Suma wszystkich cyfr musi być podzielna przez $4$",
              "feedback": "Nie - to kryterium dla podzielności przez $3$ lub $9$, nie przez $4$",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Ostatnie dwie cyfry muszą tworzyć liczbę podzielną przez $4$",
              "feedback": "Dokładnie! Podzielność przez $4$ zależy tylko od dwóch ostatnich cyfr",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Ostatnia cyfra musi być parzysta",
              "feedback": "To za mało - to kryterium dla podzielności przez $2$, nie przez $4$",
              "is_correct": false
            }
          ],
          "explanation_after": "Liczba jest podzielna przez $4$ wtedy i tylko wtedy, gdy liczba utworzona z dwóch ostatnich cyfr jest podzielna przez $4$."
        }
      },
      {
        "step": 2,
        "hint": "Które cyfry ze zbioru $\\{0,1,3,4,5,6,7,9\\}$ są parzyste?",
        "expression": "Cyfry parzyste: $\\{0, 4, 6\\}$",
        "explanation": "Ostatnia cyfra musi być parzysta (warunek konieczny dla podzielności przez $4$)"
      },
      {
        "step": 3,
        "hint": "Jakie dwucyfrowe liczby z naszych cyfr są podzielne przez $4$?",
        "expression": "Sprawdzamy wszystkie możliwe zakończenia: $04$, $16$, $36$, $40$, $56$, $60$, $64$, $76$, $96$",
        "explanation": "Systematycznie sprawdzamy pary cyfr gdzie ostatnia jest parzysta",
        "why": "Musimy znaleźć wszystkie możliwe zakończenia liczby. Sprawdzamy: czy $10a + b$ jest podzielne przez $4$ dla $a \\in \\{0,1,3,4,5,6,7,9\\}$ i $b \\in \\{0,4,6\\}$."
      },
      {
        "step": 4,
        "hint": "Ile mamy możliwych zakończeń spełniających warunek podzielności?",
        "expression": "Mamy 9 par cyfr: $(0,4), (1,6), (3,6), (4,0), (5,6), (6,0), (6,4), (7,6), (9,6)$",
        "explanation": "Każda para to możliwe zakończenie naszej liczby ośmiocyfrowej"
      },
      {
        "step": 5,
        "hint": "Jak podejść do liczenia pozostałych 6 cyfr?",
        "expression": "Dla każdej pary $(a,b)$ liczymy permutacje $6$ pozostałych cyfr z warunkiem: pierwsza $\\neq 0$",
        "explanation": "Ustalamy strategię: dla każdej z $9$ par osobno policzymy możliwości",
        "interactive_choice": {
          "prompt": "Jak najlepiej policzyć liczby ośmiocyfrowe z ustalonymi dwoma ostatnimi cyframi?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć osobno przypadki gdy pierwsza cyfra to $0$ i gdy nie jest zerem",
              "feedback": "Świetnie! Pierwsza cyfra nie może być zerem, więc musimy to uwzględnić",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Po prostu pomnożyć $6! \\cdot 9$ (6 pozostałych pozycji razy 9 par)",
              "feedback": "Nie - zapominasz że pierwsza cyfra nie może być zerem!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru na permutacje z powtórzeniami",
              "feedback": "Nie - cyfry się nie powtarzają, a problem jest w zerze na pierwszej pozycji",
              "is_correct": false
            }
          ],
          "explanation_after": "Kluczowy problem: liczba ośmiocyfrowa nie może zaczynać się od zera. Musimy rozpatrzyć przypadki."
        }
      },
      {
        "step": 6,
        "hint": "Jak podzielić $9$ par na przypadki ze względu na obecność zera?",
        "expression": "Przypadek 1: pary z zerem: $(0,4), (4,0), (6,0)$ - $3$ pary\nPrzypadek 2: pary bez zera: $(1,6), (3,6), (5,6), (6,4), (7,6), (9,6)$ - $6$ par",
        "explanation": "Dzielimy na dwa przypadki ze względu na obecność zera w parze",
        "interactive_choice": {
          "prompt": "Jak najlepiej pogrupować $9$ par zakończeń?",
          "options": [
            {
              "id": "A",
              "text": "Pary zawierające zero: $(0,4), (4,0), (6,0)$ i pozostałe bez zera",
              "feedback": "Doskonale! Gdy zero jest w parze, nie może być na pierwszej pozycji",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Pary z cyfrą $6$ i pary bez cyfry $6$",
              "feedback": "To nie jest istotny podział - problem dotyczy zera, nie szóstki",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wszystkie pary traktować jednakowo",
              "feedback": "Nie można - pary z zerem wymagają specjalnego traktowania",
              "is_correct": false
            }
          ],
          "explanation_after": "Podział ze względu na zero jest kluczowy, bo $0$ nie może być pierwszą cyfrą."
        }
      },
      {
        "step": 7,
        "hint": "Ile cyfr pozostaje do wykorzystania gdy para zawiera zero?",
        "expression": "Gdy para zawiera $0$: pozostaje $6$ cyfr do rozmieszczenia na $6$ pozycjach",
        "explanation": "Z $8$ cyfr użyliśmy $2$ (w parze), zostaje $6$ cyfr"
      },
      {
        "step": 8,
        "hint": "Ile sposobów rozmieszczenia $6$ cyfr na $6$ pozycjach gdy zero jest już użyte?",
        "expression": "Dla par z zerem: $6! = 720$ permutacji",
        "explanation": "Wszystkie $6$ cyfr są niezerowe, więc dowolna może być pierwsza",
        "why": "Gdy zero jest już w parze końcowej, nie musimy się martwić o pierwszą pozycję - wszystkie pozostałe cyfry są niezerowe."
      },
      {
        "step": 9,
        "hint": "Ile liczb dają 3 pary zawierające $0$?",
        "expression": "$3 \\cdot 720 = 2160$",
        "explanation": "Mnożymy liczbę par $(3)$ przez liczbę permutacji dla każdej pary $(720)$"
      },
      {
        "step": 10,
        "hint": "Co się zmienia dla par bez zera?",
        "expression": "Gdy para nie zawiera $0$: zero jest wśród $6$ pozostałych cyfr i nie może być pierwsze",
        "explanation": "Teraz zero jest dostępne do użycia, ale nie na pierwszej pozycji"
      },
      {
        "step": 11,
        "hint": "Jak policzyć permutacje $6$ cyfr gdy jedna z nich to $0$ i nie może być pierwsza?",
        "expression": "Pierwsza pozycja: $5$ wyborów (bez zera)\nPozostałe 5 pozycji: $5!$ permutacji pozostałych cyfr",
        "explanation": "Wybieramy niezerową cyfrę na początek, resztę permutujemy"
      },
      {
        "step": 12,
        "hint": "Ile to daje permutacji dla jednej pary bez zera?",
        "expression": "$5 \\cdot 5! = 5 \\cdot 120 = 600$",
        "explanation": "Dla każdej pary bez zera mamy $600$ możliwych liczb"
      },
      {
        "step": 13,
        "hint": "Ile liczb dają $6$ par bez zera?",
        "expression": "$6 \\cdot 600 = 3600$",
        "explanation": "Mnożymy liczbę par $6$ przez liczbę permutacji dla każdej pary $600$"
      },
      {
        "step": 14,
        "hint": "Jaka jest całkowita liczba liczb ośmiocyfrowych spełniających warunki?",
        "expression": "$2160 + 3600 = 5760$",
        "explanation": "Sumujemy oba przypadki: pary z zerem i pary bez zera"
      }
    ],
    "solutions": [
      "$5760$"
    ],
    "parameters": {
      "digit_set": "$\\{0,1,3,4,5,6,7,9\\}$",
      "number_length": "$8$ cyfr",
      "condition": "podzielność przez $4$, cyfry się nie powtarzają"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 14,
        "stepsWithWhy": 3,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T07:06:16.209Z"
  },
  {
    "id": "six_digit_divisible_25",
    "topic": "Kombinatoryka i podzielność",
    "difficulty": 4,
    "statement": "Oblicz, ile jest liczb sześciocyfrowych podzielnych przez $25$ o różnych cyfrach.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie warunki musi spełniać liczba sześciocyfrowa podzielna przez $25$?",
        "expression": "Liczba sześciocyfrowa: $\\overline{abcdef}$ gdzie $a \\neq 0$ i wszystkie cyfry różne. Podzielność przez 25: $\\overline{ef} \\in \\{00, 25, 50, 75\\}$",
        "explanation": "Identyfikujemy warunki: liczba sześciocyfrowa (pierwsza cyfra $\\neq 0$), różne cyfry, końcówka podzielna przez $25$",
        "why": "Podzielność przez $25$ zależy tylko od dwóch ostatnich cyfr. To kluczowe - możemy rozpatrywać przypadki dla końcówek.",
        "interactive_choice": {
          "prompt": "Co decyduje o podzielności liczby przez $25$?",
          "options": [
            {
              "id": "A",
              "text": "Suma wszystkich cyfr musi być podzielna przez $25$",
              "feedback": "Nie - to kryterium dla podzielności przez $3$ lub $9$, nie przez $25$.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Dwie ostatnie cyfry muszą tworzyć liczbę podzielną przez $25$",
              "feedback": "Dokładnie! Liczba jest podzielna przez $25$ wtedy i tylko wtedy, gdy jej dwie ostatnie cyfry tworzą liczbę podzielną przez $25$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Ostatnia cyfra musi być $5$",
              "feedback": "To za mało - liczby kończące się na $05$, $15$, $35$, $45$, $55$, $65$, $85$, $95$ nie są podzielne przez $25$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Kryterium podzielności przez $25$: dwie ostatnie cyfry muszą tworzyć $00$, $25$, $50$ lub $75$."
        }
      },
      {
        "step": 2,
        "hint": "Które końcówki możemy użyć przy warunku różnych cyfr?",
        "expression": "Możliwe końcówki: $\\overline{ef} \\in \\{25, 50, 75\\}$",
        "explanation": "Eliminujemy $00$ ze względu na warunek różnych cyfr",
        "interactive_choice": {
          "prompt": "Która końcówka NIE spełnia warunku różnych cyfr?",
          "options": [
            {
              "id": "A",
              "text": "Końcówka $00$",
              "feedback": "Świetnie zauważone! W $00$ obie cyfry są takie same, więc nie możemy jej użyć.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Końcówka $25$",
              "feedback": "Ta końcówka jest OK - cyfry $2$ i $5$ są różne.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Końcówka $50$",
              "feedback": "Ta końcówka jest OK - cyfry $5$ i $0$ są różne.",
              "is_correct": false
            }
          ],
          "explanation_after": "Końcówka $00$ odpada, zostają nam trzy przypadki: $25$, $50$, $75$."
        }
      },
      {
        "step": 3,
        "hint": "Jak podejść do liczenia - osobno dla każdej końcówki czy razem?",
        "expression": "Przypadek 1: końcówka $25$, Przypadek 2: końcówka $50$, Przypadek 3: końcówka $75$",
        "explanation": "Dzielimy problem na trzy niezależne przypadki",
        "interactive_choice": {
          "prompt": "Jak najlepiej policzyć wszystkie liczby?",
          "options": [
            {
              "id": "A",
              "text": "Rozpatrzyć każdą końcówkę osobno i zsumować wyniki",
              "feedback": "Doskonale! Każda końcówka daje inne ograniczenia na pozostałe cyfry.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Policzyć wszystkie naraz mnożąc przez $3$ końcówki",
              "feedback": "Nie - każda końcówka ma inne cyfry zajęte, więc trzeba liczyć osobno.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Użyć wzoru na permutacje z powtórzeniami",
              "feedback": "Nie - cyfry są różne, więc nie ma powtórzeń. Poza tym końcówki są ustalone.",
              "is_correct": false
            }
          ],
          "explanation_after": "Rozpatrujemy trzy przypadki osobno, bo każda końcówka 'zajmuje' inne cyfry."
        }
      },
      {
        "step": 4,
        "hint": "Ile liczb możemy utworzyć z końcówką $25$?",
        "expression": "Końcówka 25: cyfry $2$ i $5$ zajęte. Pozostałe cyfry: $\\{0, 1, 3, 4, 6, 7, 8, 9\\}$ - $8$ cyfr",
        "explanation": "Dla końcówki 25 musimy wybrać 4 cyfry z 8 pozostałych na pozycje $abcd$"
      },
      {
        "step": 5,
        "hint": "Czy pierwsza cyfra może być zerem?",
        "expression": "Pierwsza cyfra $a$: $7$ możliwości (nie może być $0$, $2$, $5$). Druga cyfra $b$: $7$ możliwości (z $8$ pozostałych minus wybrana na $a$). Trzecia cyfra $c$: $6$ możliwości. Czwarta cyfra $d$: $5$ możliwości",
        "explanation": "Liczymy pozycje od lewej: $a$ nie może być $0$, kolejne cyfry wybieramy z malejącej puli",
        "why": "Pierwsza cyfra ma specjalne ograniczenie (nie może być $0$). Każda kolejna cyfra ma o jedną możliwość mniej."
      },
      {
        "step": 6,
        "hint": "Ile liczb daje końcówka $25$?",
        "expression": "$7 \\times 7 \\times 6 \\times 5 = 1470$",
        "explanation": "Dla końcówki $25$ mamy $1470$ liczb"
      },
      {
        "step": 7,
        "hint": "Ile liczb możemy utworzyć z końcówką $50$?",
        "expression": "Końcówka 50: cyfry $5$ i $0$ zajęte. Pozostałe cyfry: $\\{1, 2, 3, 4, 6, 7, 8, 9\\}$ - $8$ cyfr",
        "explanation": "Dla końcówki $50$ musimy wybrać $4$ cyfry z $8$ pozostałych"
      },
      {
        "step": 8,
        "hint": "Czy tutaj też pierwsza cyfra ma ograniczenie?",
        "expression": "Pierwsza cyfra $a$: $8$ możliwości (wszystkie z $\\{1, 2, 3, 4, 6, 7, 8, 9\\}$, bo $0$ już zajęte). Druga cyfra $b$: $7$ możliwości. Trzecia cyfra $c$: $6$ możliwości. Czwarta cyfra $d$: $5$ możliwości",
        "explanation": "Tutaj $0$ jest już zajęte w końcówce, więc $a$ może być dowolną z $8$ pozostałych cyfr"
      },
      {
        "step": 9,
        "hint": "Ile liczb daje końcówka $50$?",
        "expression": "$8 \\times 7 \\times 6 \\times 5 = 1680$",
        "explanation": "Dla końcówki $50$ mamy $1680$ liczb"
      },
      {
        "step": 10,
        "hint": "Ile liczb możemy utworzyć z końcówką $75$?",
        "expression": "Końcówka 75: cyfry $7$ i $5$ zajęte. Pozostałe cyfry: $\\{0, 1, 2, 3, 4, 6, 8, 9\\}$ - $8$ cyfr",
        "explanation": "Dla końcówki $75$ musimy wybrać $4$ cyfry z $8$ pozostałych"
      },
      {
        "step": 11,
        "hint": "Jak policzyć dla końcówki $75$?",
        "expression": "Pierwsza cyfra $a$: $7$ możliwości (nie może być $0$, $7$, $5$). Druga cyfra $b$: $7$ możliwości. Trzecia cyfra $c$: $6$ możliwości. Czwarta cyfra $d$: $5$ możliwości",
        "explanation": "Podobnie jak dla $25$ - pierwsza cyfra nie może być $0$"
      },
      {
        "step": 12,
        "hint": "Ile liczb daje końcówka 75?",
        "expression": "$7 \\times 7 \\times 6 \\times 5 = 1470$",
        "explanation": "Dla końcówki $75$ mamy $1470$ liczb"
      },
      {
        "step": 13,
        "hint": "Jak otrzymać całkowitą liczbę szukanych liczb?",
        "expression": "$1470 + 1680 + 1470 = 4620$",
        "explanation": "Sumujemy wyniki ze wszystkich trzech przypadków"
      }
    ],
    "solutions": [
      "$4620$"
    ],
    "parameters": {
      "note": "Liczby sześciocyfrowe o różnych cyfrach podzielne przez $25$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 13,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T07:07:09.354Z"
  },
  {
    "id": "eight_digit_arithmetic_sequence",
    "topic": "Kombinatoryka - ciągi arytmetyczne i permutacje",
    "difficulty": 4,
    "statement": "Oblicz, ile jest liczb ośmiocyfrowych o różnych cyfrach, w których trzy pierwsze cyfry tworzą ciąg arytmetyczny o różnicy równej $3$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie warunki musi spełniać liczba ośmiocyfrowa?",
        "expression": "Liczba ma $8$ cyfr, wszystkie różne, pierwsza cyfra $\\neq 0$",
        "explanation": "Ustalamy podstawowe ograniczenia dla liczby ośmiocyfrowej",
        "why": "W liczbie ośmiocyfrowej pierwsza cyfra nie może być zerem (bo wtedy byłaby to liczba siedmiocyfrowa). Dodatkowo wszystkie cyfry muszą być różne."
      },
      {
        "step": 2,
        "hint": "Co oznacza, że trzy pierwsze cyfry tworzą ciąg arytmetyczny o różnicy $3$?",
        "expression": "Jeśli oznaczmy cyfry jako $a$, $b$, $c$, to $b = a + 3$ oraz $c = a + 6$",
        "explanation": "W ciągu arytmetycznym każdy kolejny wyraz powstaje przez dodanie różnicy do poprzedniego"
      },
      {
        "step": 3,
        "hint": "Jakie wartości może przyjąć pierwsza cyfra $a$?",
        "expression": "$a \\in \\{1, 2, 3\\}$",
        "explanation": "Mamy $3$ możliwe wartości dla pierwszej cyfry",
        "interactive_choice": {
          "prompt": "Jakie ograniczenia ma pierwsza cyfra $a$ ciągu arytmetycznego?",
          "options": [
            {
              "id": "A",
              "text": "$a \\in \\{1, 2, 3\\}$ - bo $a \\neq 0$ i $a + 6 \\leq 9$",
              "feedback": "Doskonale! Musimy zapewnić że $a \\geq 1$ (pierwsza cyfra) i $a + 6 \\leq 9$ (trzecia cyfra to cyfra)",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$a \\in \\{0, 1, 2, 3\\}$ - bo $a + 6 \\leq 9$",
              "feedback": "Nie - zapominasz że pierwsza cyfra liczby nie może być zerem!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$a \\in \\{1, 2, 3, 4, 5, 6\\}$ - bo $a \\neq 0$",
              "feedback": "Nie - dla $a \\geq 4$ trzecia cyfra $c = a + 6$ przekroczyłaby $9$",
              "is_correct": false
            }
          ],
          "explanation_after": "Pierwsza cyfra musi być $\\geq 1$ (liczba ośmiocyfrowa) i $\\leq 3$ (żeby $a + 6 \\leq 9$)"
        }
      },
      {
        "step": 4,
        "hint": "Jakie trójki cyfr otrzymujemy dla każdego $a$?",
        "expression": "Dla $a=1$: $(1,4,7)$, dla $a=2$: $(2,5,8)$, dla $a=3$: $(3,6,9)$",
        "explanation": "Każda wartość $a$ wyznacza jednoznacznie trójkę pierwszych cyfr"
      },
      {
        "step": 5,
        "hint": "Ile cyfr zostało do wykorzystania na pozostałe $5$ pozycji?",
        "expression": "Pozostało $7$ cyfr na $5$ pozycji",
        "explanation": "Z $10$ cyfr wykorzystaliśmy $3$, zostało $7$ cyfr",
        "interactive_choice": {
          "prompt": "Ile cyfr mamy do wyboru na pozycje $4$-$8$?",
          "options": [
            {
              "id": "A",
              "text": "7 cyfr - bo użyliśmy już $3$ cyfry",
              "feedback": "Dokładnie! Z $10$ cyfr $(0-9)$ wykorzystaliśmy $3$, zostało $7$ różnych cyfr",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "6 cyfr - bo nie możemy użyć zera",
              "feedback": "Nie - zero możemy użyć na pozycjach $4$-$8$, tylko nie na pierwszej!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "5 cyfr - bo mamy $5$ pozostałych pozycji",
              "feedback": "Mylisz liczbę pozycji z liczbą dostępnych cyfr. Mamy $7$ cyfr na $5$ pozycji",
              "is_correct": false
            }
          ],
          "explanation_after": "Po ustaleniu $3$ pierwszych cyfr, zostaje nam $7$ cyfr do rozmieszczenia na $5$ pozostałych pozycjach"
        }
      },
      {
        "step": 6,
        "hint": "Jak obliczyć liczbę sposobów ustawienia $7$ cyfr na $5$ pozycjach?",
        "expression": "$P(7,5) = \\frac{7!}{(7-5)!} = \\frac{7!}{2!}$",
        "explanation": "Permutacje $5$-elementowe ze zbioru $7$-elementowego",
        "why": "Permutacje $P(n,k)$ liczą sposoby wyboru i ustawienia $k$ elementów z $n$ elementów, gdy kolejność ma znaczenie",
        "interactive_choice": {
          "prompt": "Którą formułę zastosować do wyboru i ustawienia $5$ cyfr z $7$?",
          "options": [
            {
              "id": "A",
              "text": "Permutacje: $P(7,5) = \\frac{7!}{(7-5)!}$",
              "feedback": "Świetnie! Wybieramy $5$ z $7$ cyfr i kolejność ma znaczenie - to permutacje",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Kombinacje: $C(7,5) = \\frac{7!}{5! \\cdot 2!}$",
              "feedback": "Nie - kombinacje ignorują kolejność, a tu kolejność cyfr ma znaczenie!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Po prostu: $7^5$",
              "feedback": "Nie - cyfry muszą być różne, więc nie możemy powtarzać wyborów",
              "is_correct": false
            }
          ],
          "explanation_after": "Używamy permutacji bez powtórzeń, bo kolejność ma znaczenie i cyfry są różne"
        }
      },
      {
        "step": 7,
        "hint": "Ile wynosi $P(7,5)$?",
        "expression": "$P(7,5) = 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3 = 2520$",
        "explanation": "Obliczamy iloczyn kolejnych liczb: na pierwszą pozycję $7$ możliwości, na drugą $6$, itd."
      },
      {
        "step": 8,
        "hint": "Jak połączyć liczbę możliwości dla pierwszych trzech cyfr z pozostałymi pięcioma?",
        "expression": "Całkowita liczba = $3 \\cdot 2520 = 7560$",
        "explanation": "Mnożymy liczbę możliwości dla trójki początkowej $3$ przez liczbę możliwości dla pozostałych cyfr $2520$",
        "why": "Stosujemy regułę mnożenia: dla każdej z $3$ trójek początkowych mamy $2520$ sposobów uzupełnienia pozostałych cyfr"
      }
    ],
    "solutions": [
      "$7560$"
    ],
    "parameters": {
      "digit_count": 8,
      "arithmetic_difference": 3,
      "distinct_digits": true
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 3,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T07:07:48.584Z"
  },
  {
    "id": "geometric_sequence_digits",
    "topic": "Kombinatoryka - ciągi geometryczne w liczbach",
    "difficulty": 5,
    "statement": "Oblicz, ile jest wszystkich liczb dziesięciocyfrowych o różnych cyfrach, w których zapisie pierwsze trzy cyfry tworzą rosnący ciąg geometryczny.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie warunki musi spełniać liczba dziesięciocyfrowa?",
        "expression": "Liczba ma $10$ cyfr, wszystkie różne, pierwsza cyfra $\\neq 0$",
        "explanation": "Ustalamy podstawowe ograniczenia dla liczby dziesięciocyfrowej",
        "why": "Liczba dziesięciocyfrowa używa wszystkich cyfr $0$-$9$ dokładnie raz (bo ma być $10$ różnych cyfr). Pierwsza cyfra nie może być zerem."
      },
      {
        "step": 2,
        "hint": "Co oznacza, że trzy cyfry tworzą rosnący ciąg geometryczny?",
        "expression": "Szukamy cyfr $a$, $b$, $c$ gdzie $1 \\leq a < b < c \\leq 9$ oraz $b^2 = ac$",
        "explanation": "Pierwsza cyfra $a \\geq 1$ (nie może być $0$), wszystkie różne i rosnące",
        "interactive_choice": {
          "prompt": "Jakie warunki muszą spełniać pierwsze trzy cyfry $a$, $b$, $c$ tworzące rosnący ciąg geometryczny?",
          "options": [
            {
              "id": "A",
              "text": "$a < b < c$ oraz $\\frac{b}{a} = \\frac{c}{b}$ (czyli $b^2 = ac$)",
              "feedback": "Doskonale! To definicja rosnącego ciągu geometrycznego - stały iloraz i rosnące wartości.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Tylko $b^2 = ac$, bez warunku rosnięcia",
              "feedback": "Nie - warunek 'rosnący' jest kluczowy! Musimy mieć $a < b < c$.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$a + c = 2b$ (ciąg arytmetyczny)",
              "feedback": "To warunek dla ciągu arytmetycznego, nie geometrycznego!",
              "is_correct": false
            }
          ],
          "explanation_after": "Ciąg geometryczny ma stały iloraz: $q = \\frac{b}{a} = \\frac{c}{b}$, co daje $b^2 = ac$. Warunek rosnący oznacza $a < b < c$."
        }
      },
      {
        "step": 3,
        "hint": "Jak systematycznie znaleźć wszystkie trójki cyfr spełniające $b^2 = ac$?",
        "expression": "Dla każdego $b \\in \\{2,3,4,5,6,7,8,9\\}$ szukamy $a,c$ takich że $ac = b^2$",
        "explanation": "Systematyczne przeszukiwanie - $b$ musi być $\\geq 2$ (bo $a \\geq 1$ i $a < b$)",
        "interactive_choice": {
          "prompt": "Którą strategię wybierzesz do znalezienia wszystkich trójek $$(a,b,c)$$?",
          "options": [
            {
              "id": "A",
              "text": "Sprawdzić wszystkie możliwe trójki cyfr (brute force)",
              "feedback": "Możliwe, ale nieefektywne - to $84$ trójki do sprawdzenia!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Dla każdego $b$ znaleźć pary $(a,c)$ takie że $ac = b^2$",
              "feedback": "Świetnie! To systematyczne - dla każdego $b$ szukamy dzielników $b^2$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć wzoru na $n$-ty wyraz ciągu geometrycznego",
              "feedback": "To nie pomoże - nie znamy ani pierwszego wyrazu ani ilorazu.",
              "is_correct": false
            }
          ],
          "explanation_after": "Najefektywniej: dla $b = 2, 3, ..., 9$ szukamy par $(a,c)$ gdzie $a$ dzieli $b^2$ i $a < b < c \\leq 9$."
        }
      },
      {
        "step": 4,
        "hint": "Jakie trójki otrzymamy sprawdzając kolejne wartości $b$?",
        "expression": "$b=2$: $ac=4$ daje $(1,2,4)$\n$b=3$: $ac=9$ daje $(1,3,9)$\n$b=4$: $ac=16$ daje $(2,4,8)$\n$b=6$: $ac=36$ daje $(4,6,9)$",
        "explanation": "Sprawdzamy $b = 2,3,4,5,6,7,8,9$ i znajdujemy $4$ trójki spełniające wszystkie warunki",
        "why": "Dla $b=5,7,8,9$ nie ma odpowiednich par $(a,c)$ spełniających $a < b < c \\leq 9$ oraz $ac=b^2$. Na przykład dla $b=5$: $ac=25$ wymaga $a=5, c=5$ (nie różne) lub wykracza poza cyfry."
      },
      {
        "step": 5,
        "hint": "Ile mamy możliwych początków liczby (pierwszych trzech cyfr)?",
        "expression": "Mamy dokładnie $4$ możliwe trójki: $(1,2,4)$, $(1,3,9)$, $(2,4,8)$, $(4,6,9)$",
        "explanation": "To wszystkie rosnące ciągi geometryczne z cyfr"
      },
      {
        "step": 6,
        "hint": "Po ustaleniu pierwszych trzech cyfr, ile cyfr pozostało do rozmieszczenia?",
        "expression": "Pozostałe $7$ cyfr rozmieszczamy na pozycjach $4$, $5$, $6$, $7$, $8$, $9$, $10$",
        "explanation": "Dla każdej z $4$ trójek musimy ułożyć pozostałe $7$ cyfr",
        "interactive_choice": {
          "prompt": "Ile cyfr i na ilu pozycjach musimy jeszcze rozmieścić?",
          "options": [
            {
              "id": "A",
              "text": "$7$ cyfr na $7$ pozycjach",
              "feedback": "Dokładnie! Użyliśmy $3$ z $10$ cyfr, zostało $7$ cyfr na $7$ pozostałych pozycjach.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$7$ cyfr na $10$ pozycjach",
              "feedback": "Nie - pozycje $1$, $2$, $3$ są już zajęte przez ciąg geometryczny!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$10$ cyfr na $7$ pozycjach",
              "feedback": "Nie - mamy tylko $7$ niewykorzystanych cyfr ($10$ minus $3$ użyte).",
              "is_correct": false
            }
          ],
          "explanation_after": "Po wyborze $3$ cyfr na początku, pozostaje $7$ cyfr do rozmieszczenia na pozycjach $4$-$10$."
        }
      },
      {
        "step": 7,
        "hint": "Na ile sposobów można ustawić $7$ różnych cyfr na $7$ pozycjach?",
        "expression": "Liczba permutacji $7$ cyfr: $7!$",
        "explanation": "To standardowa permutacja bez powtórzeń"
      },
      {
        "step": 8,
        "hint": "Ile wynosi $7!$?",
        "expression": "$7! = 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 5040$",
        "explanation": "Obliczamy silnię"
      },
      {
        "step": 9,
        "hint": "Jak obliczyć całkowitą liczbę liczb dziesięciocyfrowych?",
        "expression": "Liczba liczb = (liczba trójek) $\\times$ (permutacje pozostałych cyfr) = $4 \\times 5040$",
        "explanation": "Dla każdej z $4$ trójek mamy $5040$ sposobów ułożenia reszty",
        "why": "Stosujemy regułę mnożenia: wybieramy jedną z $4$ trójek (niezależnie), a potem dla każdej permutujemy $7$ pozostałych cyfr."
      },
      {
        "step": 10,
        "hint": "Jaki jest końcowy wynik?",
        "expression": "$4 \\times 5040 = 20160$",
        "explanation": "Otrzymujemy ostateczną odpowiedź"
      }
    ],
    "solutions": [
      "$20160$"
    ],
    "parameters": {
      "geometric_triples": "$(1,2,4)$, $(1,3,9)$, $(2,4,8)$, $(4,6,9)$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 3,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T07:08:30.666Z"
  },
  {
    "id": "permutation_digit_sum",
    "topic": "Kombinatoryka - permutacje i sumy",
    "difficulty": 4,
    "statement": "Oblicz, ile wynosi suma wszystkich liczb otrzymanych przez przestawienie cyfr liczby $123567$.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile różnych liczb możemy utworzyć przestawiając cyfry $1$, $2$, $3$, $5$, $6$, $7$?",
        "expression": "Liczba permutacji $6$ różnych cyfr: $6! = 720$",
        "explanation": "Mamy $6$ różnych cyfr, więc liczba wszystkich permutacji to $6! = 720$",
        "why": "Każda permutacja daje inną $6$-cyfrową liczbę. To podstawa do obliczenia sumy."
      },
      {
        "step": 2,
        "hint": "Jak podejść do obliczenia sumy wszystkich tych $720$ liczb?",
        "expression": "Analizujemy ile razy każda cyfra pojawia się na danej pozycji",
        "explanation": "Wykorzystamy fakt, że permutacje są symetryczne względem pozycji",
        "interactive_choice": {
          "prompt": "Jaka strategia będzie najefektywniejsza do obliczenia sumy?",
          "options": [
            {
              "id": "A",
              "text": "Wypisać wszystkie $720$ liczb i je zsumować",
              "feedback": "To byłoby bardzo pracochłonne i podatne na błędy. Szukamy mądrzejszego sposobu!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Policzyć ile razy każda cyfra występuje na każdej pozycji",
              "feedback": "Świetnie! To kluczowa obserwacja - wykorzystamy symetrię permutacji.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Obliczyć średnią liczbę i pomnożyć przez $720$",
              "feedback": "Ciekawy pomysł, ale trudno obliczyć średnią bez znajomości sumy. Metoda B jest lepsza.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dzięki symetrii permutacji każda cyfra występuje równie często na każdej pozycji."
        }
      },
      {
        "step": 3,
        "hint": "Ile razy cyfra $1$ występuje na pozycji setek tysięcy?",
        "expression": "Cyfra 1 na pierwszej pozycji: pozostałe 5 cyfr można ustawić na $5! = 120$ sposobów",
        "explanation": "Gdy ustalamy cyfrę na jednej pozycji, pozostałe $5$ cyfr permutujemy",
        "why": "To kluczowa obserwacja: każda z 6 cyfr występuje na każdej pozycji dokładnie $\\frac{720}{6} = 120$ razy."
      },
      {
        "step": 4,
        "hint": "Czy inne cyfry też występują $120$ razy na każdej pozycji?",
        "expression": "Każda z cyfr $1$, $2$, $3$, $5$, $6$, $7$ występuje na każdej pozycji dokładnie $120$ razy",
        "explanation": "Ze względu na symetrię permutacji wszystkie cyfry są równouprawnione"
      },
      {
        "step": 5,
        "hint": "Jaki jest wkład wszystkich cyfr na pozycji setek tysięcy?",
        "expression": "Wkład pozycji setek tysięcy: $(1+2+3+5+6+7) \\cdot 120 \\cdot 100000$",
        "explanation": "Suma cyfr pomnożona przez liczbę wystąpień i wartość miejscową",
        "interactive_choice": {
          "prompt": "Jak obliczyć sumę cyfr na pozycji setek tysięcy (wartość miejscowa $100000$)?",
          "options": [
            {
              "id": "A",
              "text": "$(1+2+3+5+6+7) \\cdot 100000$",
              "feedback": "Zapomniałeś, że każda cyfra występuje $120$ razy, nie raz!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "$(1+2+3+5+6+7) \\cdot 120 \\cdot 100000$",
              "feedback": "Doskonale! Suma cyfr $\\times$ liczba wystąpień $\\times$ wartość miejscowa.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$120 \\cdot 100000$",
              "feedback": "Zapomniałeś uwzględnić różne wartości cyfr ($1$, $2$, $3$, $5$, $6$, $7$).",
              "is_correct": false
            }
          ],
          "explanation_after": "Każda cyfra występuje $120$ razy, więc sumujemy: $(suma cyfr) \\times 120 \\times wartość miejscowa$."
        }
      },
      {
        "step": 6,
        "hint": "Ile wynosi suma cyfr $1+2+3+5+6+7$?",
        "expression": "$1+2+3+5+6+7 = 24$",
        "explanation": "Obliczamy sumę wszystkich cyfr"
      },
      {
        "step": 7,
        "hint": "Jak wygląda wkład każdej pozycji do całkowitej sumy?",
        "expression": "Każda pozycja: $24 \\cdot 120 \\cdot$ (wartość miejscowa)",
        "explanation": "Wzór jest taki sam dla każdej pozycji, zmienia się tylko wartość miejscowa"
      },
      {
        "step": 8,
        "hint": "Jakie są wartości miejscowe w $6$-cyfrowej liczbie?",
        "expression": "Suma wartości miejscowych: $100000 + 10000 + 1000 + 100 + 10 + 1 = 111111$",
        "explanation": "Sumujemy wszystkie wartości miejscowe w $6$-cyfrowej liczbie",
        "interactive_choice": {
          "prompt": "Jak najefektywniej zapisać sumę wszystkich wartości miejscowych?",
          "options": [
            {
              "id": "A",
              "text": "$100000 + 10000 + 1000 + 100 + 10 + 1$",
              "feedback": "Poprawnie, ale można to zapisać krócej używając sumy geometrycznej!",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$111111$",
              "feedback": "Świetnie! To elegancki zapis sumy wszystkich wartości miejscowych.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "$\\frac{10^6-1}{9}$",
              "feedback": "Matematycznie poprawne (wzór na sumę geometryczną), ale $111111$ jest prostsze.",
              "is_correct": true
            }
          ],
          "explanation_after": "Suma wartości miejscowych to $111111$. Można to też zapisać jako $\\frac{10^6-1}{9}$."
        }
      },
      {
        "step": 9,
        "hint": "Jaka jest całkowita suma wszystkich $720$ liczb?",
        "expression": "Suma = $24 \\cdot 120 \\cdot 111111$",
        "explanation": "Łączymy: $(suma cyfr) \\times (liczba wystąpień) \\times (suma wartości miejscowych)$"
      },
      {
        "step": 10,
        "hint": "Oblicz $24 \\cdot 120$",
        "expression": "$24 \\cdot 120 = 2880$",
        "explanation": "Mnożymy sumę cyfr przez liczbę wystąpień"
      },
      {
        "step": 11,
        "hint": "Ile wynosi $2880 \\cdot 111111$?",
        "expression": "$2880 \\cdot 111111 = 319999680$",
        "explanation": "Obliczamy końcowy wynik"
      }
    ],
    "solutions": [
      "$319999680$"
    ],
    "parameters": {
      "original_number": "123567",
      "number_of_permutations": "$720$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 11,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-10-03T07:09:05.458Z"
  },
  {
    "id": "linear_functions_counting",
    "topic": "Funkcje liniowe - kombinatoryka",
    "difficulty": 2,
    "statement": "Oblicz, ile można utworzyć rosnących funkcji liniowych o współczynnikach naturalnych jednocyfrowych.",
    "steps": [
      {
        "step": 1,
        "hint": "Jak wygląda ogólna postać funkcji liniowej?",
        "expression": "$f(x) = ax + b$",
        "explanation": "Funkcja liniowa ma dwa współczynniki: $a$ (nachylenie) i $b$ (wyraz wolny)"
      },
      {
        "step": 2,
        "hint": "Co oznacza, że funkcja liniowa jest rosnąca?",
        "expression": "$a > 0$",
        "explanation": "Warunek rosnięcia funkcji liniowej",
        "why": "Współczynnik $a$ określa nachylenie prostej. Gdy $a > 0$, to wraz ze wzrostem $x$ rośnie wartość funkcji.",
        "interactive_choice": {
          "prompt": "Kiedy funkcja liniowa $f(x) = ax + b$ jest rosnąca?",
          "options": [
            {
              "id": "A",
              "text": "Gdy współczynnik $a > 0$",
              "feedback": "Dokładnie! Dodatnie nachylenie oznacza, że funkcja rośnie.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Gdy współczynnik $b > 0$",
              "feedback": "Nie - wyraz wolny $b$ przesuwa wykres w pionie, ale nie wpływa na to, czy funkcja rośnie.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Gdy oba współczynniki $a > 0$ i $b > 0$",
              "feedback": "Nie - tylko $a$ decyduje o rosnięciu. Wyraz $b$ może być dowolny.",
              "is_correct": false
            }
          ],
          "explanation_after": "Funkcja liniowa rośnie wtedy i tylko wtedy, gdy współczynnik kierunkowy $a$ jest dodatni."
        }
      },
      {
        "step": 3,
        "hint": "Jakie liczby naturalne jednocyfrowe są dodatnie?",
        "expression": "$a \\in \\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}$",
        "explanation": "Współczynnik $a$ może przyjąć 9 różnych wartości",
        "interactive_choice": {
          "prompt": "Które liczby naturalne jednocyfrowe spełniają warunek $a > 0$?",
          "options": [
            {
              "id": "A",
              "text": "Liczby od $0$ do $9$",
              "feedback": "Prawie! Ale $0$ nie jest dodatnie, więc nie spełnia warunku $a > 0$.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Liczby od $1$ do $9$",
              "feedback": "Świetnie! To dokładnie $9$ możliwości dla współczynnika $a$.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Liczby od $1$ do $10$",
              "feedback": "Nie - $10$ to już liczba dwucyfrowa!",
              "is_correct": false
            }
          ],
          "explanation_after": "Liczby naturalne jednocyfrowe to $0$, $1$, $2$, ..., $9$. Dodatnie z nich to $1$, $2$, $3$, $4$, $5$, $6$, $7$, $8$, $9$."
        }
      },
      {
        "step": 4,
        "hint": "Jakie wartości może przyjąć współczynnik $b$?",
        "expression": "$b \\in \\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\\}$",
        "explanation": "Wyraz wolny $b$ może być dowolną liczbą naturalną jednocyfrową - jest $10$ możliwości"
      },
      {
        "step": 5,
        "hint": "Czy wybór współczynnika $a$ wpływa na wybór współczynnika $b$?",
        "expression": "$9 \\cdot 10 = 90$",
        "explanation": "Mnożymy liczbę możliwości dla $a$ przez liczbę możliwości dla $b$",
        "why": "Współczynniki $a$ i $b$ wybieramy niezależnie. Dla każdego z $9$ wyborów $a$ możemy wybrać dowolne z $10$ wartości $b$.",
        "interactive_choice": {
          "prompt": "Jak obliczyć liczbę wszystkich możliwych funkcji?",
          "options": [
            {
              "id": "A",
              "text": "Dodać: $9 + 10 = 19$",
              "feedback": "Nie - dodawanie używamy gdy wybieramy $a$ LUB $b$. Tu wybieramy $a$ I $b$ jednocześnie.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Pomnożyć: $9 \\cdot 10 = 90$",
              "feedback": "Dokładnie! Dla każdego z $9$ wyborów $a$ mamy $10$ wyborów $b$ - zasada mnożenia.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Obliczyć kombinacje: $\\binom{19}{2}$",
              "feedback": "Nie - to nie jest wybór $2$ elementów ze zbioru. To niezależne wybory dwóch współczynników.",
              "is_correct": false
            }
          ],
          "explanation_after": "Stosujemy regułę mnożenia: gdy mamy $k$ możliwości dla pierwszego wyboru i $n$ dla drugiego (niezależnego), to łącznie mamy $k \\cdot n$ możliwości."
        }
      },
      {
        "step": 6,
        "hint": "Ile rosnących funkcji liniowych możemy utworzyć?",
        "expression": "Odpowiedź: $90$ funkcji",
        "explanation": "Możemy utworzyć $90$ różnych rosnących funkcji liniowych o współczynnikach naturalnych jednocyfrowych"
      }
    ],
    "solutions": [
      "$90$"
    ],
    "parameters": {
      "constraint": "współczynniki naturalne jednocyfrowe",
      "condition": "funkcja rosnąca"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T07:09:31.302Z"
  },
  {
    "id": "quadratic_coefficients_counting",
    "topic": "Funkcje kwadratowe - analiza współczynników",
    "difficulty": 4,
    "statement": "Oblicz, ile można utworzyć funkcji kwadratowych o niepowtarzających się współczynnikach naturalnych jednocyfrowych, których wykres przecina oś $OY$ w punkcie o rzędnej $4$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jak wygląda ogólna postać funkcji kwadratowej?",
        "expression": "$f(x) = ax^2 + bx + c$, gdzie $a, b, c$ są współczynnikami",
        "explanation": "Funkcja kwadratowa w postaci ogólnej"
      },
      {
        "step": 2,
        "hint": "Co oznacza, że wykres przecina oś $OY$ w punkcie o rzędnej $4$?",
        "expression": "$f(0) = a \\cdot 0^2 + b \\cdot 0 + c = c = 4$",
        "explanation": "Podstawiamy $x = 0$ i otrzymujemy warunek na współczynnik $c$",
        "why": "Punkt przecięcia z osią $OY$ zawsze ma postać $(0, c)$ dla funkcji kwadratowej. To kluczowa własność!",
        "interactive_choice": {
          "prompt": "Jak interpretować warunek przecięcia osi $OY$ w punkcie o rzędnej $4$?",
          "options": [
            {
              "id": "A",
              "text": "Oznacza to, że $f(0) = 4$",
              "feedback": "Doskonale! Punkt przecięcia z osią $OY$ ma współrzędne $(0, 4)$, więc $f(0) = 4$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Oznacza to, że wierzchołek paraboli ma rzędną $4$",
              "feedback": "Nie - wierzchołek to inny punkt. Przecięcie z osią $OY$ to punkt $(0, y_0)$",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Oznacza to, że $a = 4$",
              "feedback": "Nie - współczynnik $a$ określa kształt paraboli, nie punkt przecięcia z osią $OY$",
              "is_correct": false
            }
          ],
          "explanation_after": "Punkt przecięcia z osią $OY$ ma $x = 0$, więc podstawiamy do wzoru funkcji."
        }
      },
      {
        "step": 3,
        "hint": "Jaki wniosek wynika z warunku $c = 4$?",
        "expression": "$c = 4$ jest ustalone",
        "explanation": "Współczynnik $c$ musi być równy $4$"
      },
      {
        "step": 4,
        "hint": "Jakie są możliwe wartości współczynników naturalnych jednocyfrowych?",
        "expression": "Liczby naturalne jednocyfrowe: $\\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}$",
        "explanation": "Zbiór liczb naturalnych od $1$ do $9$",
        "why": "Uwaga: $0$ nie jest liczbą naturalną w standardowej definicji, a współczynnik $a$ nie może być zerem (wtedy nie byłaby to funkcja kwadratowa)."
      },
      {
        "step": 5,
        "hint": "Które współczynniki musimy jeszcze wybrać?",
        "expression": "$a, b \\in \\{1, 2, 3, 5, 6, 7, 8, 9\\}$ oraz $a \\neq b$",
        "explanation": "Mamy 8 cyfr do wyboru dla $a$ i $b$, przy czym muszą być różne",
        "interactive_choice": {
          "prompt": "Skoro $c = 4$, to które współczynniki możemy jeszcze wybierać?",
          "options": [
            {
              "id": "A",
              "text": "Wybieramy $a$ i $b$ z pozostałych cyfr (bez $4$)",
              "feedback": "Świetnie! Współczynniki muszą być różne, więc $a, b \\in \\{1,2,3,5,6,7,8,9\\}$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wybieramy $a$ i $b$ z wszystkich cyfr $1$-$9$",
              "feedback": "Nie - współczynniki mają być niepowtarzające się, a $c = 4$ już jest użyte",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Tylko $a$, bo $b$ może być zerem",
              "feedback": "Nie - współczynniki mają być naturalne jednocyfrowe, więc $b$ też z zakresu $1$-$9$",
              "is_correct": false
            }
          ],
          "explanation_after": "Warunek 'niepowtarzających się' oznacza $a \\neq b \\neq c \\neq a$. Skoro $c = 4$, to $a$ i $b$ wybieramy z $8$ pozostałych cyfr."
        }
      },
      {
        "step": 6,
        "hint": "Jak obliczyć liczbę sposobów wyboru dwóch różnych liczb z $8$ elementów?",
        "expression": "Liczba wariacji: $V_8^2 = 8 \\cdot 7$",
        "explanation": "Dla $a$ mamy $8$ wyborów, dla $b$ pozostaje $7$ wyborów (bo $b \\neq a$)",
        "interactive_choice": {
          "prompt": "Czy kolejność wyboru $a$ i $b$ ma znaczenie?",
          "options": [
            {
              "id": "A",
              "text": "Tak, bo $a$ i $b$ pełnią różne role w funkcji",
              "feedback": "Dokładnie! Funkcja $f(x) = 2x^2 + 3x + 4$ to inna funkcja niż $g(x) = 3x^2 + 2x + 4$. Używamy wariacji.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Nie, bo liczy się tylko zbiór współczynników",
              "feedback": "Nie - współczynniki $a$ i $b$ mają różne znaczenie. Zamiana ich miejscami daje inną funkcję.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Nie ma znaczenia, bo funkcja kwadratowa jest symetryczna",
              "feedback": "Nie - symetria paraboli nie oznacza, że współczynniki są zamienne",
              "is_correct": false
            }
          ],
          "explanation_after": "To problem wariacji bez powtórzeń: wybieramy uporządkowaną parę $(a, b)$ z $8$ elementów."
        }
      },
      {
        "step": 7,
        "hint": "Ile wynosi $8 \\cdot 7$?",
        "expression": "$8 \\cdot 7 = 56$",
        "explanation": "Obliczamy iloczyn"
      },
      {
        "step": 8,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "Można utworzyć $56$ różnych funkcji kwadratowych",
        "explanation": "Każda para $(a, b)$ z 8 dostępnych cyfr daje inną funkcję postaci $f(x) = ax^2 + bx + 4$"
      }
    ],
    "solutions": [
      "$56$"
    ],
    "parameters": {
      "coefficients": "naturalne jednocyfrowe",
      "condition": "$c = 4$",
      "constraint": "współczynniki niepowtarzające się"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T07:10:08.048Z"
  },
  {
    "id": "combinatorics_cinema_seats",
    "topic": "Kombinatoryka - permutacje i rozmieszczenia",
    "difficulty": 4,
    "statement": "Tomek z dwójką swoich przyjaciół wybrali się do kina, gdzie w jednym rzędzie oprócz nich może jeszcze usiąść $n$ osób. Liczba wszystkich możliwości przydzielenia miejsc widzom w tym rzędzie w sposób losowy (przy założeniu, że wszystkie miejsca w rzędzie są zajęte) jest $35$ razy większa od liczby wszystkich możliwości przydzielenia miejsc widzom w tym rzędzie, w których Tomek i jego dwójka przyjaciół siedzą obok siebie (w dowolnej kolejności). Wyznacz liczbę miejsc w tym rzędzie.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile osób w sumie siedzi w rzędzie?",
        "expression": "Tomek + $2$ przyjaciół + $n$ innych osób = $n + 3$ osoby",
        "explanation": "Łączna liczba osób w rzędzie to $n + 3$"
      },
      {
        "step": 2,
        "hint": "Jak obliczyć liczbę wszystkich możliwości rozmieszczenia osób w rzędzie?",
        "expression": "Liczba wszystkich możliwości = $(n+3)!$",
        "explanation": "Permutacje $n+3$ różnych osób na $n+3$ miejscach",
        "interactive_choice": {
          "prompt": "Którą metodę zastosować do obliczenia wszystkich możliwości rozmieszczenia $n+3$ osób?",
          "options": [
            {
              "id": "A",
              "text": "Permutacje: $(n+3)!$",
              "feedback": "Doskonale! To permutacje bez powtórzeń - każda osoba na innym miejscu.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Kombinacje: $\\binom{n+3}{3}$",
              "feedback": "Nie - kombinacje nie uwzględniają kolejności, a tu kolejność miejsc ma znaczenie.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wariacje: $\\frac{(n+3)!}{n!}$",
              "feedback": "To upraszcza się do $(n+3)(n+2)(n+1)$, ale pełna permutacja jest prostsza.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wszystkie osoby są różne i kolejność ma znaczenie, więc używamy permutacji."
        }
      },
      {
        "step": 3,
        "hint": "Jak potraktować Tomka i jego przyjaciół gdy mają siedzieć obok siebie?",
        "expression": "Traktujemy Tomka i $2$ przyjaciół jako jeden 'blok'",
        "explanation": "Mamy teraz: $1$ blok + $n$ innych osób = $n+1$ obiektów do rozmieszczenia",
        "why": "To kluczowa technika w kombinatoryce - grupowanie obiektów które muszą być razem.",
        "interactive_choice": {
          "prompt": "Jak obliczyć liczbę rozmieszczeń gdy $3$ osoby muszą siedzieć obok siebie?",
          "options": [
            {
              "id": "A",
              "text": "Traktować ich jako jedną 'super-osobę', potem rozpatrzyć kolejność wewnętrzną",
              "feedback": "Świetnie! To klasyczna metoda - najpierw rozmieszczamy grupy, potem osoby w grupie.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wybrać 3 sąsiednie miejsca z $n+3$, potem rozmieścić pozostałe osoby",
              "feedback": "Możliwe, ale bardziej skomplikowane - metoda 'super-osoby' jest prostsza.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Obliczyć $(n+3)!$ i podzielić przez $3$",
              "feedback": "Nie - to nie uwzględnia warunku siedzenia obok siebie.",
              "is_correct": false
            }
          ],
          "explanation_after": "Traktujemy $3$ przyjaciół jako jeden 'blok', co upraszcza problem."
        }
      },
      {
        "step": 4,
        "hint": "Ile jest sposobów rozmieszczenia bloku i pozostałych osób?",
        "expression": "Liczba permutacji $n+1$ obiektów = $\\frac{(n+1)!}{1!}$",
        "explanation": "Rozmieszczamy blok i $n$ innych osób"
      },
      {
        "step": 5,
        "hint": "W ilu sposób można ustawić Tomka i przyjaciół wewnątrz bloku?",
        "expression": "Liczba permutacji $3$ osób w bloku = $3!$",
        "explanation": "Tomek i $2$ przyjaciół mogą siedzieć w różnej kolejności"
      },
      {
        "step": 6,
        "hint": "Jaka jest całkowita liczba możliwości gdy siedzą obok siebie?",
        "expression": "Liczba możliwości z warunkiem = $(n+1)! \\cdot 3!$",
        "explanation": "Mnożymy liczbę rozmieszczeń bloków przez liczbę kolejności wewnątrz bloku"
      },
      {
        "step": 7,
        "hint": "Jak zapisać warunek że jedna liczba jest $35$ razy większa od drugiej?",
        "expression": "$(n+3)! = 35 \\cdot (n+1)! \\cdot 3!$",
        "explanation": "Zapisujemy równanie zgodnie z warunkiem zadania"
      },
      {
        "step": 8,
        "hint": "Jak uprościć wyrażenie $(n+3)!$ przez $(n+1)!$?",
        "expression": "$\\frac{(n+3)!}{(n+1)!} = (n+3)(n+2)$",
        "explanation": "Skracamy silnie: $(n+3)! = (n+3)(n+2)(n+1)!$"
      },
      {
        "step": 9,
        "hint": "Ile wynosi $3!$?",
        "expression": "$3! = 6$",
        "explanation": "Obliczamy silnię"
      },
      {
        "step": 10,
        "hint": "Jak wygląda równanie po uproszczeniu?",
        "expression": "$(n+3)(n+2) = 35 \\cdot 6$",
        "explanation": "Upraszczamy równanie dzieląc obie strony przez $(n+1)!$"
      },
      {
        "step": 11,
        "hint": "Ile wynosi prawa strona równania?",
        "expression": "$(n+3)(n+2) = 210$",
        "explanation": "Obliczamy $35 \\cdot 6 = 210$"
      },
      {
        "step": 12,
        "hint": "Jak rozwinąć lewą stronę równania?",
        "expression": "$n^2 + 5n + 6 = 210$",
        "explanation": "Mnożymy $(n+3)(n+2) = n^2 + 5n + 6$"
      },
      {
        "step": 13,
        "hint": "Jak przekształcić równanie do postaci standardowej?",
        "expression": "$n^2 + 5n - 204 = 0$",
        "explanation": "Przenosimy $210$ na lewą stronę"
      },
      {
        "step": 14,
        "hint": "Którą metodę wybierzesz do rozwiązania tego równania kwadratowego?",
        "expression": "$\\Delta = 5^2 - 4 \\cdot 1 \\cdot (-204) = 25 + 816 = 841$",
        "explanation": "Obliczamy wyróżnik",
        "interactive_choice": {
          "prompt": "Jak rozwiązać równanie $n^2 + 5n - 204 = 0$?",
          "options": [
            {
              "id": "A",
              "text": "Wzór z deltą",
              "feedback": "Dobry wybór - dla dużych współczynników to najszybsza metoda.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Rozkład na czynniki",
              "feedback": "Trudne - współczynnik $-204$ ma wiele dzielników, ciężko zgadnąć.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Dopełnienie do kwadratu",
              "feedback": "Możliwe, ale bardziej pracochłonne niż $\\delta$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dla dużych współczynników wzór z deltą jest najbardziej efektywny."
        }
      },
      {
        "step": 15,
        "hint": "Ile wynosi pierwiastek z delty?",
        "expression": "$\\sqrt{\\Delta} = \\sqrt{841} = 29$",
        "explanation": "Obliczamy pierwiastek kwadratowy"
      },
      {
        "step": 16,
        "hint": "Jakie są rozwiązania równania kwadratowego?",
        "expression": "$n_1 = \\frac{-5 + 29}{2} = 12$ oraz $n_2 = \\frac{-5 - 29}{2} = -17$",
        "explanation": "Stosujemy wzory na pierwiastki"
      },
      {
        "step": 17,
        "hint": "Które rozwiązanie ma sens w kontekście zadania?",
        "expression": "$n = 12$",
        "explanation": "Liczba osób musi być dodatnia, więc odrzucamy $n = -17$",
        "why": "W zadaniach kombinatorycznych zawsze sprawdzamy czy rozwiązanie ma sens praktyczny."
      },
      {
        "step": 18,
        "hint": "Ile miejsc jest w całym rzędzie?",
        "expression": "Liczba miejsc = $n + 3 = 12 + 3 = 15$",
        "explanation": "Dodajemy miejsca dla Tomka i jego przyjaciół"
      }
    ],
    "solutions": [
      "$15$"
    ],
    "parameters": {
      "n": "$12$",
      "total_seats": "$15$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 18,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-10-03T07:11:11.438Z"
  },
  {
    "id": "sum_five_digit_permutations",
    "topic": "Kombinatoryka i sumy permutacji",
    "difficulty": 4,
    "statement": "Rozważamy wszystkie liczby naturalne pięciocyfrowe zapisane przy użyciu cyfr $1, 3, 5, 7, 9$, bez powtarzania jakiejkolwiek cyfry. Oblicz sumę wszystkich takich liczb.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile różnych liczb pięciocyfrowych możemy utworzyć z cyfr $1, 3, 5, 7, 9$ bez powtórzeń?",
        "expression": "$5! = 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 120$",
        "explanation": "Mamy $5$ cyfr do rozmieszczenia na $5$ pozycjach - to permutacja bez powtórzeń",
        "why": "Każda cyfra może wystąpić dokładnie raz, więc liczba wszystkich takich liczb to $5! = 120$"
      },
      {
        "step": 2,
        "hint": "Jak podejść do obliczenia sumy wszystkich tych $120$ liczb?",
        "expression": "Wykorzystamy symetrię: każda cyfra pojawia się równie często na każdej pozycji",
        "explanation": "Zamiast sumować $120$ liczb, policzymy wkład każdej pozycji do sumy",
        "interactive_choice": {
          "prompt": "Którą strategię zastosować do obliczenia sumy wszystkich permutacji?",
          "options": [
            {
              "id": "A",
              "text": "Wypisać wszystkie $120$ liczb i je zsumować",
              "feedback": "Możliwe, ale bardzo pracochłonne i podatne na błędy. Jest znacznie lepszy sposób!",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Obliczyć ile razy każda cyfra występuje na każdej pozycji",
              "feedback": "Świetnie! To kluczowa obserwacja - wykorzystamy symetrię permutacji.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Obliczyć średnią arytmetyczną i pomnożyć przez $120$",
              "feedback": "Pomysłowe, ale trudno obliczyć średnią bez znajomości sumy. Metoda B jest lepsza.",
              "is_correct": false
            }
          ],
          "explanation_after": "Dzięki symetrii permutacji każda cyfra występuje równie często na każdej pozycji. To znacznie upraszcza obliczenia."
        }
      },
      {
        "step": 3,
        "hint": "Ile razy każda z cyfr $1$, $3$, $5$, $7$, $9$ występuje na konkretnej pozycji?",
        "expression": "Każda cyfra występuje na danej pozycji $\\frac{120}{5} = 24$ razy",
        "explanation": "Ze 120 permutacji, każda z $5$ cyfr zajmuje daną pozycję równie często",
        "why": "To wynika z symetrii: jeśli ustalimy jedną cyfrę na pozycji, pozostałe $4$ cyfry możemy ułożyć na $4! = 24$ sposoby"
      },
      {
        "step": 4,
        "hint": "Jaki jest wkład wszystkich cyfr na pozycji jedności do sumy całkowitej?",
        "expression": "$24 \\cdot (1 + 3 + 5 + 7 + 9) \\cdot 1 = 24 \\cdot 25 \\cdot 1 = 600$",
        "explanation": "Każda cyfra występuje $24$ razy na pozycji jedności, mnożymy przez wartość pozycyjną $1$"
      },
      {
        "step": 5,
        "hint": "Jaki jest wkład wszystkich cyfr na pozycji dziesiątek?",
        "expression": "$24 \\cdot (1 + 3 + 5 + 7 + 9) \\cdot 10 = 24 \\cdot 25 \\cdot 10 = 6000$",
        "explanation": "Każda cyfra występuje $24$ razy na pozycji dziesiątek, mnożymy przez wartość pozycyjną $10$"
      },
      {
        "step": 6,
        "hint": "Czy widzisz wzór w wkładach kolejnych pozycji?",
        "expression": "Setki: $24 \\cdot 25 \\cdot 100 = 60000$\nTysiące: $24 \\cdot 25 \\cdot 1000 = 600000$\nDziesiątki tysięcy: $24 \\cdot 25 \\cdot 10000 = 6000000$",
        "explanation": "Obliczamy wkład dla pozycji setek, tysięcy i dziesiątek tysięcy",
        "interactive_choice": {
          "prompt": "Jak obliczyć wkłady pozostałych pozycji (setek, tysięcy, dziesiątek tysięcy)?",
          "options": [
            {
              "id": "A",
              "text": "Każda następna pozycja daje wkład $10$ razy większy",
              "feedback": "Dokładnie! Wartość pozycyjna rośnie 10-krotnie: $1$, $10$, $100$, $1000$, $10000$",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Trzeba osobno policzyć dla każdej pozycji",
              "feedback": "Można, ale to niepotrzebna praca - wykorzystaj wzór z poprzednich kroków!",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wkład zależy od tego, które cyfry są większe",
              "feedback": "Nie - dzięki symetrii wszystkie pozycje mają tę samą strukturę, różni się tylko wartość pozycyjna",
              "is_correct": false
            }
          ],
          "explanation_after": "Wkład każdej pozycji to $24 \\cdot 25 \\cdot wartość pozycyjna$. Wartości pozycyjne to kolejne potęgi $10$."
        }
      },
      {
        "step": 7,
        "hint": "Jak zsumować wkłady wszystkich pięciu pozycji?",
        "expression": "$600 + 6000 + 60000 + 600000 + 6000000$",
        "explanation": "Sumujemy wkłady od pozycji jedności do dziesiątek tysięcy"
      },
      {
        "step": 8,
        "hint": "Czy możesz wyłączyć wspólny czynnik przed nawias?",
        "expression": "$600(1 + 10 + 100 + 1000 + 10000) = 600 \\cdot 11111$",
        "explanation": "Wyłączamy wspólny czynnik $600$ i obliczamy sumę w nawiasie",
        "interactive_choice": {
          "prompt": "Jak najefektywniej obliczyć sumę $600 + 6000 + 60000 + 600000 + 6000000$?",
          "options": [
            {
              "id": "A",
              "text": "Dodać liczby bezpośrednio",
              "feedback": "Zadziała, ale można prościej - zauważ wspólny czynnik $600$!",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wyłączyć $600$ przed nawias: $600(1 + 10 + 100 + 1000 + 10000)$",
              "feedback": "Świetnie! To uprości obliczenia i pokaże strukturę wyniku.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Użyć wzoru na sumę ciągu geometrycznego",
              "feedback": "Doskonały pomysł! Suma $1 + 10 + 100 + 1000 + 10000$ to ciąg geometryczny.",
              "is_correct": true
            }
          ],
          "explanation_after": "Wszystkie trzy metody są poprawne. Wyłączenie $600$ i rozpoznanie ciągu geometrycznego to najbardziej eleganckie podejście."
        }
      },
      {
        "step": 9,
        "hint": "Jaki jest wynik końcowy?",
        "expression": "$600 \\cdot 11111 = 6666600$",
        "explanation": "Mnożymy $600$ przez $11111$ i otrzymujemy sumę wszystkich liczb"
      }
    ],
    "solutions": [
      "$6666600$"
    ],
    "parameters": {
      "cyfry": "$1, 3, 5, 7, 9$",
      "liczba_permutacji": "$120$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 5
      }
    },
    "timestamp": "2025-10-03T07:14:00.271Z"
  },
  {
    "id": "combinatorics_seven_digit_numbers",
    "topic": "Kombinatoryka - rozmieszczenia cyfr",
    "difficulty": 4,
    "statement": "Oblicz, ile jest wszystkich siedmiocyfrowych liczb naturalnych, w których zapisie dziesiętnym występują dokładnie $3$ cyfry $1$ i dokładnie $2$ cyfry $2$.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr mamy do rozmieszczenia w siedmiocyfrowej liczbie?",
        "expression": "Liczba siedmiocyfrowa ma $7$ pozycji: _ _ _ _ _ _ _",
        "explanation": "Musimy wypełnić $7$ pozycji cyframi, przy czym pierwsza cyfra nie może być zerem"
      },
      {
        "step": 2,
        "hint": "Ile pozycji zajmą cyfry $1$ i $2$?",
        "expression": "3 pozycje dla cyfr $1$ oraz 2 pozycje dla cyfr $2$, razem: $3 + 2 = 5$ pozycji",
        "explanation": "Cyfry $1$ i $2$ zajmują łącznie $5$ z $7$ pozycji"
      },
      {
        "step": 3,
        "hint": "Ile pozycji pozostaje dla innych cyfr?",
        "expression": "$7 - 5 = 2$ pozycje pozostają wolne",
        "explanation": "Dwie pozostałe pozycje muszą być wypełnione cyframi różnymi od $1$ i $2$"
      },
      {
        "step": 4,
        "hint": "Jakie cyfry mogą zajmować pozostałe 2 pozycje?",
        "expression": "Pozostałe $2$ pozycje: cyfry z zbioru $\\{0, 3, 4, 5, 6, 7, 8, 9\\}$",
        "explanation": "Każda z dwóch wolnych pozycji może być wypełniona jedną z $8$ cyfr",
        "interactive_choice": {
          "prompt": "Które cyfry mogą wystąpić na pozostałych dwóch pozycjach?",
          "options": [
            {
              "id": "A",
              "text": "Cyfry $0$, $3$, $4$, $5$, $6$, $7$, $8$, $9$ ($8$ możliwości)",
              "feedback": "Świetnie! To wszystkie cyfry różne od $1$ i $2$. Każda pozycja ma $8$ możliwości.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Cyfry $3$, $4$, $5$, $6$, $7$, $8$, $9$ ($7$ możliwości, bez zera)",
              "feedback": "Nie - zero może wystąpić na pozostałych pozycjach, jeśli nie jest na pierwszej pozycji liczby.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Dowolne cyfry $0$-$9$ ($10$ możliwości)",
              "feedback": "Nie - cyfry $1$ i $2$ już są użyte w określonej liczbie, nie mogą się powtarzać.",
              "is_correct": false
            }
          ],
          "explanation_after": "Pozostałe pozycje mogą zawierać cyfry $0$, $3$, $4$, $5$, $6$, $7$, $8$, $9$ - czyli $8$ różnych cyfr."
        }
      },
      {
        "step": 5,
        "hint": "Na ile sposobów możemy wypełnić te $2$ pozostałe pozycje?",
        "expression": "$8 \\times 8 = 64$ sposoby",
        "explanation": "Cyfry mogą się powtarzać, więc dla każdej pozycji mamy $8$ możliwości",
        "why": "Cyfry na pozostałych pozycjach mogą być takie same lub różne - każda pozycja niezależnie ma $8$ wyborów."
      },
      {
        "step": 6,
        "hint": "Jak podejść do rozmieszczenia cyfr $1$ i $2$ na $7$ pozycjach?",
        "expression": "Strategia: wybieramy $3$ pozycje z $7$ dla cyfr $1$, potem $2$ z pozostałych $4$ dla cyfr $2$",
        "explanation": "Rozbijamy problem na etapy wyboru pozycji",
        "interactive_choice": {
          "prompt": "Jaką metodą obliczyć liczbę rozmieszczeń cyfr $1$, $1$, $1$, $2$, $2$ oraz dwóch innych cyfr?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw wybrać pozycje dla cyfr $1$, potem dla cyfr $2$, potem dla pozostałych",
              "feedback": "Doskonale! To metoda krok po kroku: wybieramy pozycje dla każdej grupy cyfr.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Użyć permutacji z powtórzeniami: $\\frac{7!}{3! \\cdot 2! \\cdot 2!}$",
              "feedback": "Uwaga! To nie uwzględnia ograniczenia, że pierwsza cyfra nie może być zerem.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Rozpatrzyć wszystkie $7!$ permutacji i odjąć nieprawidłowe",
              "feedback": "Zbyt skomplikowane - lepiej od razu wybrać pozycje dla poszczególnych cyfr.",
              "is_correct": false
            }
          ],
          "explanation_after": "Wybieramy kolejno pozycje dla cyfr $1$, potem dla cyfr $2$, a na końcu wypełniamy pozostałe pozycje."
        }
      },
      {
        "step": 7,
        "hint": "Na ile sposobów możemy wybrać $3$ pozycje z $7$ dla cyfr $1$?",
        "expression": "$\\binom{7}{3} = \\frac{7!}{3! \\cdot 4!} = \\frac{7 \\cdot 6 \\cdot 5}{3 \\cdot 2 \\cdot 1} = 35$ sposobów",
        "explanation": "Wybieramy $3$ pozycje z $7$ dostępnych dla cyfr $1$"
      },
      {
        "step": 8,
        "hint": "Po wybraniu pozycji dla cyfr $1$, ile pozycji pozostaje dla cyfr $2$?",
        "expression": "Pozostaje $7 - 3 = 4$ pozycje, z których wybieramy $2$",
        "explanation": "Po umieszczeniu trzech jedynek, zostają $4$ wolne pozycje"
      },
      {
        "step": 9,
        "hint": "Na ile sposobów możemy wybrać $2$ pozycje z $4$ dla cyfr $2$?",
        "expression": "$\\binom{4}{2} = \\frac{4!}{2! \\cdot 2!} = \\frac{4 \\cdot 3}{2 \\cdot 1} = 6$ sposobów",
        "explanation": "Wybieramy $2$ pozycje z $4$ pozostałych dla cyfr $2$"
      },
      {
        "step": 10,
        "hint": "Ile mamy łącznie rozmieszczeń cyfr $1$, $1$, $1$, $2$, $2$ oraz dwóch innych cyfr?",
        "expression": "$35 \\times 6 \\times 64 = 13440$ rozmieszczeń",
        "explanation": "Mnożymy liczbę sposobów wyboru pozycji dla $1$, dla $2$, i wypełnienia pozostałych pozycji",
        "why": "Zasada mnożenia: niezależne wybory mnożymy. Mamy $35$ sposobów na pozycje dla $1$, dla każdego $6$ sposobów na pozycje dla $2$, i dla każdego $64$ sposoby na pozostałe cyfry."
      },
      {
        "step": 11,
        "hint": "Czy wszystkie te liczby są siedmiocyfrowe?",
        "expression": "Musimy odjąć liczby zaczynające się od $0$",
        "explanation": "Liczba siedmiocyfrowa musi mieć pierwszą cyfrę różną od zera",
        "interactive_choice": {
          "prompt": "Czy musimy odjąć przypadki, gdy pierwsza cyfra to $0$?",
          "options": [
            {
              "id": "A",
              "text": "Tak, musimy odjąć przypadki z zerem na pierwszej pozycji",
              "feedback": "Dokładnie! Liczba siedmiocyfrowa nie może zaczynać się od zera.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Nie, zero nie może być na pierwszej pozycji w naszym rozwiązaniu",
              "feedback": "Nieprawda - w kroku 10 policzyliśmy wszystkie rozmieszczenia, także te z zerem na początku.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Nie ma znaczenia, bo cyfry $1$ i $2$ zajmują większość pozycji",
              "feedback": "Ma znaczenie! Zero może być na pierwszej pozycji jako jedna z dwóch 'pozostałych' cyfr.",
              "is_correct": false
            }
          ],
          "explanation_after": "Musimy odjąć przypadki, gdy pierwsza pozycja zawiera cyfrę $0$, bo wtedy liczba nie jest siedmiocyfrowa."
        }
      },
      {
        "step": 12,
        "hint": "Ile jest liczb z zerem na pierwszej pozycji?",
        "expression": "Pierwsza pozycja: $0$, pozostałe 6 pozycji: trzy $1$, dwie $2$, jedna cyfra z $\\{3,4,5,6,7,8,9\\}$",
        "explanation": "Jeśli pierwsza pozycja to $0$, musimy rozmieścić cyfry na pozostałych $6$ pozycjach"
      },
      {
        "step": 13,
        "hint": "Na ile sposobów rozmieścić trzy $1$ na $6$ pozostałych pozycjach?",
        "expression": "$\\binom{6}{3} = \\frac{6!}{3! \\cdot 3!} = \\frac{6 \\cdot 5 \\cdot 4}{3 \\cdot 2 \\cdot 1} = 20$ sposobów",
        "explanation": "Wybieramy $3$ pozycje z $6$ dla cyfr $1$"
      },
      {
        "step": 14,
        "hint": "Na ile sposobów rozmieścić dwie $2$ na pozostałych $3$ pozycjach?",
        "expression": "$\\binom{3}{2} = \\frac{3!}{2! \\cdot 1!} = 3$ sposoby",
        "explanation": "Wybieramy $2$ pozycje z $3$ pozostałych dla cyfr $2$"
      },
      {
        "step": 15,
        "hint": "Ile możliwości dla ostatniej pozostałej pozycji?",
        "expression": "Ostatnia pozycja: jedna z $7$ cyfr $\\{3, 4, 5, 6, 7, 8, 9\\}$, czyli $7$ możliwości",
        "explanation": "Nie może być $0$ (już użyte), $1$ (już trzy razy), $2$ (już dwa razy)"
      },
      {
        "step": 16,
        "hint": "Ile jest liczb zaczynających się od zera?",
        "expression": "$20 \\times 3 \\times 7 = 420$ liczb z zerem na początku",
        "explanation": "Mnożymy liczbę sposobów rozmieszczenia cyfr gdy pierwsza pozycja to $0$"
      },
      {
        "step": 17,
        "hint": "Jaka jest ostateczna odpowiedź?",
        "expression": "$13440 - 420 = 13020$",
        "explanation": "Od wszystkich rozmieszczeń odejmujemy te z $0$ na pierwszej pozycji"
      }
    ],
    "solutions": [
      "$13020$"
    ],
    "parameters": {
      "digits": "siedmiocyfrowe liczby naturalne",
      "constraints": "dokładnie trzy cyfry $1$ i dokładnie dwie cyfry $2$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 17,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 3
      }
    },
    "timestamp": "2025-10-03T07:14:55.988Z"
  },
  {
    "id": "combinatorics_queue_constraint",
    "topic": "Kombinatoryka - permutacje z ograniczeniami",
    "difficulty": 4,
    "statement": "Wśród $n$ osób są Ania i jej dwaj znajomi. Wszystkie te $n$ osób ustawiamy w kolejkę jedna za drugą. Liczba wszystkich takich ustawień jest $12$ razy większa od liczby wszystkich takich ustawień tych $n$ osób w kolejkę, w których Ania i jej dwaj znajomi zajmują trzy kolejne miejsca (w dowolnej kolejności). Oblicz $n$.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile jest wszystkich możliwych ustawień $n$ osób w kolejce?",
        "expression": "Liczba wszystkich ustawień = $n!$",
        "explanation": "Permutacje bez ograniczeń - każda osoba może być na dowolnym miejscu"
      },
      {
        "step": 2,
        "hint": "Jak podejść do liczenia ustawień z ograniczeniem, że trzy osoby muszą stać obok siebie?",
        "expression": "Traktujemy Anię i dwóch znajomych jako jeden blok",
        "explanation": "Zamiast $n$ osób mamy teraz $((n-3+1) = (n-2))$ obiektów do ustawienia",
        "why": "To kluczowa technika w kombinatoryce: gdy elementy muszą być razem, traktujemy je jako jeden obiekt.",
        "interactive_choice": {
          "prompt": "Jak najlepiej policzyć ustawienia, w których Ania i dwaj znajomi stoją obok siebie?",
          "options": [
            {
              "id": "A",
              "text": "Traktować te $3$ osoby jako jeden blok i permutować z pozostałymi",
              "feedback": "Doskonale! To klasyczna metoda - blok + permutacje wewnątrz bloku.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Wybrać 3 kolejne miejsca z $n$ i ustawić tam te osoby",
              "feedback": "To też prowadzi do rozwiązania, ale metoda bloku jest bardziej systematyczna.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Obliczyć $n!$ i odjąć przypadki gdy nie stoją obok",
              "feedback": "Bardzo skomplikowane - łatwiej liczyć bezpośrednio przypadki korzystne.",
              "is_correct": false
            }
          ],
          "explanation_after": "Metoda bloku: traktujemy $3$ osoby jako jedną jednostkę, permutujemy z resztą, potem permutujemy wewnątrz bloku."
        }
      },
      {
        "step": 3,
        "hint": "Ile jest sposobów ustawienia $(n-2)$ obiektów (blok + pozostałe osoby)?",
        "expression": "Liczba ustawień bloków = $(n-2)!$",
        "explanation": "Permutujemy $(n-2)$ obiektów: jeden blok i $n-3$ pozostałych osób"
      },
      {
        "step": 4,
        "hint": "Czy kolejność osób wewnątrz bloku ma znaczenie?",
        "expression": "Wewnątrz bloku: Ania i dwaj znajomi mogą się ustawić na $3!$ sposobów",
        "explanation": "Trzy osoby w bloku można permutować między sobą"
      },
      {
        "step": 5,
        "hint": "Jaka jest całkowita liczba ustawień z ograniczeniem?",
        "expression": "Liczba ustawień z ograniczeniem = $(n-2)! \\cdot 3!$",
        "explanation": "Mnożymy liczbę ustawień bloków przez liczbę permutacji wewnątrz bloku"
      },
      {
        "step": 6,
        "hint": "Jak zapisać warunek z treści zadania matematycznie?",
        "expression": "$n! = 12 \\cdot (n-2)! \\cdot 3!$",
        "explanation": "Zapisujemy warunek z treści zadania jako $równanie$",
        "interactive_choice": {
          "prompt": "Które równanie poprawnie opisuje warunek 'liczba wszystkich ustawień jest $12$ razy większa'?",
          "options": [
            {
              "id": "A",
              "text": "$n! = 12 \\cdot (n-2)! \\cdot 3!$",
              "feedback": "Dokładnie! Wszystkie ustawienia = $12 \\times$ ustawienia z ograniczeniem.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "$(n-2)! \\cdot 3! = 12 \\cdot n!$",
              "feedback": "Nie - to by znaczyło, że ustawień z ograniczeniem jest więcej, co nie ma sensu.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "$n! - (n-2)! \\cdot 3! = 12$",
              "feedback": "Nie - warunek mówi o stosunku, nie o różnicy.",
              "is_correct": false
            }
          ],
          "explanation_after": "Warunek 'A jest 12 razy większe od B' zapisujemy jako $A = 12 \\cdot B$."
        }
      },
      {
        "step": 7,
        "hint": "Ile wynosi $3!$?",
        "expression": "$3! = 6$",
        "explanation": "Obliczamy silnię"
      },
      {
        "step": 8,
        "hint": "Jak uprościć równanie $n! = 12 \\cdot (n-2)! \\cdot 6$?",
        "expression": "$n! = 72 \\cdot (n-2)!$",
        "explanation": "Mnożymy $12 \\cdot 6 = 72$"
      },
      {
        "step": 9,
        "hint": "Jak rozwinąć $n!$ przez $(n-2)!$?",
        "expression": "$n \\cdot (n-1) \\cdot (n-2)! = 72 \\cdot (n-2)!$",
        "explanation": "Rozwijamy $n! = n \\cdot (n-1) \\cdot (n-2) \\cdot ... \\cdot 1$",
        "why": "To kluczowa technika: rozwijamy silnię tylko do momentu gdy możemy skrócić wspólny czynnik.",
        "interactive_choice": {
          "prompt": "Jak najlepiej przekształcić $n!$ aby uprościć równanie?",
          "options": [
            {
              "id": "A",
              "text": "$n! = n \\cdot (n-1) \\cdot (n-2)!$",
              "feedback": "Świetnie! To pozwoli skrócić $(n-2)!$ z obu stron.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Podstawić konkretne wartości $n$ i sprawdzić",
              "feedback": "Możliwe, ale algebraiczne rozwiązanie jest bardziej eleganckie.",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Podzielić obie strony przez $n!$",
              "feedback": "To skomplikuje równanie - lepiej rozwinąć $n!$ przez $(n-2)!$.",
              "is_correct": false
            }
          ],
          "explanation_after": "Rozwijamy silnię do momentu gdy pojawi się $(n-2)!$, co pozwoli uprościć równanie."
        }
      },
      {
        "step": 10,
        "hint": "Co możesz skrócić w równaniu?",
        "expression": "$n \\cdot (n-1) = 72$",
        "explanation": "Dzielimy obie strony przez $(n-2)!$ (zakładając $n \\geq 2$)"
      },
      {
        "step": 11,
        "hint": "Jak rozwiązać równanie $n(n-1) = 72$?",
        "expression": "$n^2 - n - 72 = 0$",
        "explanation": "Rozwijamy i przenosimy wszystko na lewą stronę"
      },
      {
        "step": 12,
        "hint": "Jakie liczby dają sumę $1$ i iloczyn $-72$?",
        "expression": "$9 \\cdot (-8) = -72$ oraz $9 + (-8) = 1$",
        "explanation": "Szukamy rozkładu na czynniki"
      },
      {
        "step": 13,
        "hint": "Jak zapisać równanie w postaci iloczynowej?",
        "expression": "$(n - 9)(n + 8) = 0$",
        "explanation": "Rozkład na czynniki równania kwadratowego"
      },
      {
        "step": 14,
        "hint": "Jakie są rozwiązania równania?",
        "expression": "$n = 9$ lub $n = -8$",
        "explanation": "Rozwiązujemy równanie iloczynowe"
      },
      {
        "step": 15,
        "hint": "Które rozwiązanie ma sens w kontekście zadania?",
        "expression": "$n = 9$",
        "explanation": "Liczba osób musi być dodatnia, więc $n = -8$ odrzucamy",
        "why": "W zadaniach kombinatorycznych zawsze sprawdzamy czy rozwiązanie ma sens praktyczny - liczba osób nie może być ujemna."
      }
    ],
    "solutions": [
      "$n = 9$"
    ],
    "parameters": {
      "constraint": "Ania i dwaj znajomi stoją obok siebie"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 15,
        "stepsWithWhy": 3,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 4
      }
    },
    "timestamp": "2025-10-03T07:15:43.206Z"
  },
  {
    "id": "combinatorics_digits_odd_even",
    "topic": "Kombinatoryka - permutacje z ograniczeniami",
    "difficulty": 4,
    "statement": "Rozważamy wszystkie liczby naturalne, w których zapisie dziesiętnym nie powtarza się jakakolwiek cyfra oraz dokładnie $3$ cyfry są nieparzyste i dokładnie $2$ cyfry są parzyste. Oblicz, ile jest wszystkich takich liczb.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr ma taka liczba?",
        "expression": "Liczba ma dokładnie $3 + 2 = 5$ cyfr",
        "explanation": "Trzy cyfry nieparzyste plus dwie parzyste dają liczbę pięciocyfrową"
      },
      {
        "step": 2,
        "hint": "Jakie cyfry nieparzyste i parzyste są dostępne?",
        "expression": "Cyfry nieparzyste: $\\{1, 3, 5, 7, 9\\}$, Cyfry parzyste: $\\{0, 2, 4, 6, 8\\}$",
        "explanation": "Identyfikujemy zbiory dostępnych cyfr",
        "interactive_choice": {
          "prompt": "Które cyfry możemy użyć w naszej liczbie?",
          "options": [
            {
              "id": "A",
              "text": "Nieparzyste: $\\{1, 3, 5, 7, 9\\}$, Parzyste: $\\{0, 2, 4, 6, 8\\}$",
              "feedback": "Dokładnie! Mamy po $5$ cyfr każdego typu do wyboru.",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Nieparzyste: $\\{1, 3, 5, 7, 9\\}$, Parzyste: $\\{2, 4, 6, 8\\}$ (bez zera)",
              "feedback": "Nie - zero też jest cyfrą parzystą i możemy je użyć (ale nie na początku).",
              "is_correct": false
            },
            {
              "id": "C",
              "text": "Wszystkie cyfry $\\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\\}$ bez podziału",
              "feedback": "Musimy rozróżnić parzyste i nieparzyste - to kluczowe dla zadania.",
              "is_correct": false
            }
          ],
          "explanation_after": "Mamy $5$ cyfr nieparzystych i $5$ parzystych. Cyfry się nie powtarzają, więc wybieramy $3$ z $5$ nieparzystych i $2$ z $5$ parzystych."
        }
      },
      {
        "step": 3,
        "hint": "Jak podejść do zliczania takich liczb?",
        "expression": "Rozpatrzmy dwa przypadki: (I) zero nie jest wybrane, (II) zero jest wybrane",
        "explanation": "Dzielimy problem ze względu na obecność zera",
        "why": "Zero nie może być pierwszą cyfrą liczby, więc musimy je traktować specjalnie. Podział na przypadki upraszcza zliczanie.",
        "interactive_choice": {
          "prompt": "Jaką strategię zastosować do zliczenia wszystkich możliwych liczb?",
          "options": [
            {
              "id": "A",
              "text": "Najpierw wybrać cyfry, potem je ustawić",
              "feedback": "Dobra strategia, ale trzeba uważać na zero na pierwszej pozycji!",
              "is_correct": true
            },
            {
              "id": "B",
              "text": "Rozpatrzyć przypadki: zero na początku vs zero nie na początku",
              "feedback": "Świetnie! To najczystsze podejście - rozdzielamy problematyczne przypadki.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Policzyć wszystkie permutacje i odjąć te z $0$ na początku",
              "feedback": "Możliwe, ale skomplikowane - lepiej od razu rozpatrzyć przypadki.",
              "is_correct": true
            }
          ],
          "explanation_after": "Najlepiej rozpatrzyć dwa przypadki: gdy zero jest wśród wybranych cyfr parzystych i gdy go nie ma."
        }
      },
      {
        "step": 4,
        "hint": "Ile jest możliwości w przypadku $I$ (bez zera)?",
        "expression": "Przypadek I: wybieramy $3$ z $5$ cyfr nieparzystych i $2$ z $4$ cyfr parzystych (bez zera)",
        "explanation": "Cyfry parzyste do wyboru: $\\{2, 4, 6, 8\\}$"
      },
      {
        "step": 5,
        "hint": "Ile jest sposobów wyboru cyfr w przypadku $I$?",
        "expression": "$\\binom{5}{3} \\cdot \\binom{4}{2} = 10 \\cdot 6 = 60$",
        "explanation": "Kombinacje wyboru $3$ nieparzystych i $2$ parzystych"
      },
      {
        "step": 6,
        "hint": "Ile jest permutacji $5$ wybranych cyfr?",
        "expression": "$5! = 120$",
        "explanation": "Każdy zestaw $5$ cyfr można ustawić na $120$ sposobów"
      },
      {
        "step": 7,
        "hint": "Ile liczb daje przypadek I?",
        "expression": "$60 \\cdot 120 = 7200$",
        "explanation": "Mnożymy liczbę zestawów cyfr przez liczbę ich permutacji"
      },
      {
        "step": 8,
        "hint": "Ile jest możliwości w przypadku II (z zerem)?",
        "expression": "Przypadek II: wybieramy $3$ z $5$ cyfr nieparzystych, zero i $1$ z $4$ pozostałych cyfr parzystych",
        "explanation": "Zero jest już wybrane, więc wybieramy tylko 1 cyfrę z $\\{2, 4, 6, 8\\}$"
      },
      {
        "step": 9,
        "hint": "Ile jest sposobów wyboru cyfr w przypadku $II$?",
        "expression": "$\\binom{5}{3} \\cdot \\binom{4}{1} = 10 \\cdot 4 = 40$",
        "explanation": "Kombinacje wyboru $3$ nieparzystych i $1$ parzystej (oprócz zera)"
      },
      {
        "step": 10,
        "hint": "Czy wszystkie permutacje $5$ cyfr (z zerem) są dozwolone?",
        "expression": "$5! - 4! = 120 - 24 = 96$",
        "explanation": "Wszystkie permutacje minus te z zerem na początku",
        "why": "Liczba naturalna nie może zaczynać się od zera. Odejmujemy $4!$ permutacji pozostałych $4$ cyfr (gdy $0$ jest na początku).",
        "interactive_choice": {
          "prompt": "Jak policzyć poprawne permutacje gdy zero jest wśród cyfr?",
          "options": [
            {
              "id": "A",
              "text": "Wszystkie $5!$ permutacji są dobre",
              "feedback": "Nie! Zero nie może być na pierwszej pozycji - to nie byłaby liczba pięciocyfrowa.",
              "is_correct": false
            },
            {
              "id": "B",
              "text": "Policzyć $5!$ i odjąć permutacje z zerem na początku",
              "feedback": "Dokładnie! To daje $5! - 4! = 120 - 24 = 96$ dobrych permutacji.",
              "is_correct": true
            },
            {
              "id": "C",
              "text": "Wybrać pierwszą cyfrę ($4$ możliwości), resztę dowolnie",
              "feedback": "Świetnie! To daje $4 \\cdot 4! = 4 \\cdot 24 = 96$ permutacji.",
              "is_correct": true
            }
          ],
          "explanation_after": "Zero nie może być pierwszą cyfrą. Mamy $5! - 4! = 96$ lub $4 \\cdot 4! = 96$ dobrych permutacji."
        }
      },
      {
        "step": 11,
        "hint": "Ile liczb daje przypadek II?",
        "expression": "$40 \\cdot 96 = 3840$",
        "explanation": "Mnożymy liczbę zestawów cyfr przez liczbę poprawnych permutacji"
      },
      {
        "step": 12,
        "hint": "Jaka jest całkowita liczba takich liczb naturalnych?",
        "expression": "$7200 + 3840 = 11040$",
        "explanation": "Sumujemy wyniki z obu przypadków"
      }
    ],
    "solutions": [
      "$11040$"
    ],
    "parameters": {
      "constraints": "5 cyfr, bez powtórzeń, $3$ nieparzyste, $2$ parzyste"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 2,
        "stepsWithChoice": 3,
        "totalOptions": 9,
        "correctOptions": 6
      }
    },
    "timestamp": "2025-10-03T07:16:22.088Z"
  },
   {
    "id": "combinatorics_letters_drawers",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 2,
    "statement": "Na ile sposobów sekretarka może wrzucić do trzech różnych szuflad $4$ listy zaadresowane do różnych osób?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile możliwości ma sekretarka dla pierwszego listu?",
        "expression": "Pierwszy list: $3$ możliwości (szuflada $1$, $2$ lub $3$)",
        "explanation": "Każdy list może trafić do dowolnej z trzech szuflad"
      },
      {
        "step": 2,
        "hint": "Czy wybór szuflady dla drugiego listu zależy od pierwszego?",
        "expression": "Drugi list: również $3$ możliwości",
        "explanation": "Każdy list niezależnie może trafić do dowolnej szuflady",
        "why": "Szuflady nie zapełniają się - każda może pomieścić wiele listów. To różni ten problem od permutacji, gdzie każda pozycja jest zajmowana tylko raz."
      },
      {
        "step": 3,
        "hint": "Jaki wzór łączy niezależne wybory?",
        "expression": "Dla każdego z $4$ listów: $3$ możliwości",
        "explanation": "Trzeci i czwarty list też mają po $3$ możliwości"
      },
      {
        "step": 4,
        "hint": "Jak obliczyć całkowitą liczbę sposobów dla wszystkich listów?",
        "expression": "$3 \\cdot 3 \\cdot 3 \\cdot 3 = 3^4 = 81$",
        "explanation": "Mnożymy liczbę możliwości dla każdego listu",
        "why": "Zasada mnożenia: gdy mamy $k$ niezależnych wyborów z $n_1, n_2, ..., n_k$ możliwościami, całkowita liczba sposobów to $n_1 \\cdot n_2 \\cdot ... \\cdot n_k$."
      }
    ],
    "solutions": [
      "$81$"
    ],
    "parameters": {
      "letters": 4,
      "drawers": 3
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:53:43.465Z"
  },
  {
    "id": "combinatorics_prime_digits",
    "topic": "Kombinatoryka - wariacje z powtórzeniami",
    "difficulty": 2,
    "statement": "Oblicz, ile jest liczb siedmiocyfrowych, utworzonych tylko z cyfr będących liczbami pierwszymi.",
    "steps": [
      {
        "step": 1,
        "hint": "Które cyfry od $0$ do $9$ są liczbami pierwszymi?",
        "expression": "Cyfry pierwsze: $2$, $3$, $5$, $7$",
        "explanation": "Mamy $4$ cyfry będące liczbami pierwszymi",
        "why": "Liczba pierwsza to liczba naturalna większa od $1$, podzielna tylko przez $1$ i siebie. Cyfry $0$, $1$, $4$, $6$, $8$, $9$ nie spełniają tego warunku ($0$ i $1$ nie są pierwsze, reszta jest złożona)."
      },
      {
        "step": 2,
        "hint": "Czy na każdej pozycji w liczbie siedmiocyfrowej możemy użyć dowolnej cyfry pierwszej?",
        "expression": "Każda z $7$ pozycji: $4$ możliwości",
        "explanation": "Na każdej pozycji możemy wybrać jedną z $4$ cyfr pierwszych"
      },
      {
        "step": 3,
        "hint": "Jak obliczyć całkowitą liczbę możliwości, gdy wybory są niezależne?",
        "expression": "$4 \\cdot 4 \\cdot 4 \\cdot 4 \\cdot 4 \\cdot 4 \\cdot 4 = 4^7$",
        "explanation": "Mnożymy liczbę możliwości na każdej pozycji",
        "why": "To zasada mnożenia: gdy mamy $n$ niezależnych wyborów z odpowiednio $k_1$, $k_2$, ..., $k_n$ możliwości, całkowita liczba kombinacji to $k_1 \\cdot k_2 \\cdot ... \\cdot k_n$. Tu wszystkie $k_i = 4$."
      },
      {
        "step": 4,
        "hint": "Ile wynosi $4^7$?",
        "expression": "$4^7 = 16384$",
        "explanation": "Obliczamy potęgę"
      }
    ],
    "solutions": [
      "$16384$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:53:56.084Z"
  },
  {
    "id": "combinatorics_odd_digits",
    "topic": "Kombinatoryka - reguła mnożenia",
    "difficulty": 2,
    "statement": "Oblicz, ile jest liczb sześciocyfrowych, utworzonych tylko z cyfr nieparzystych.",
    "steps": [
      {
        "step": 1,
        "hint": "Które cyfry są nieparzyste i ile ich jest?",
        "expression": "Cyfry nieparzyste: $1, 3, 5, 7, 9$ - jest ich $5$",
        "explanation": "Identyfikujemy dostępne cyfry do wyboru"
      },
      {
        "step": 2,
        "hint": "Czy pierwsza cyfra liczby sześciocyfrowej może być zerem?",
        "expression": "Pierwsza cyfra: $5$ możliwości (każda z cyfr nieparzystych)",
        "explanation": "Liczba sześciocyfrowa nie może zaczynać się od $0$, ale $0$ nie jest nieparzyste, więc możemy użyć dowolnej z $5$ cyfr",
        "why": "W liczbach sześciocyfrowych pierwsza cyfra musi być różna od zera. Tu wszystkie dostępne cyfry są nieparzyste ($1$,$3$,$5$,$7$,$9$), więc każda może być pierwsza."
      },
      {
        "step": 3,
        "hint": "Czy cyfry mogą się powtarzać w liczbie?",
        "expression": "Każda z pozostałych $5$ pozycji: $5$ możliwości",
        "explanation": "Zadanie nie zabrania powtórzeń, więc na każdej pozycji możemy użyć dowolnej cyfry nieparzystej",
        "why": "Brak ograniczeń oznacza, że cyfry mogą się powtarzać - na każdej pozycji mamy pełny wybór spośród $5$ cyfr."
      },
      {
        "step": 4,
        "hint": "Jak połączyć wybory dla wszystkich sześciu pozycji?",
        "expression": "$5 \\cdot 5 \\cdot 5 \\cdot 5 \\cdot 5 \\cdot 5 = 5^6$",
        "explanation": "Stosujemy regułę mnożenia - mnożymy liczbę możliwości dla każdej pozycji"
      },
      {
        "step": 5,
        "hint": "Ile wynosi $5^6$?",
        "expression": "$5^6 = 15625$",
        "explanation": "Obliczamy końcowy wynik"
      }
    ],
    "solutions": [
      "$15625$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:54:11.338Z"
  },
  {
    "id": "combinatorics_even_digits",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 2,
    "statement": "Oblicz, ile jest liczb sześciocyfrowych, utworzonych tylko z cyfr parzystych.",
    "steps": [
      {
        "step": 1,
        "hint": "Które cyfry są parzyste i czy możemy użyć ich wszystkich?",
        "expression": "Cyfry parzyste: $0, 2, 4, 6, 8$ - mamy $5$ cyfr parzystych",
        "explanation": "Identyfikujemy dostępne cyfry do budowy liczby"
      },
      {
        "step": 2,
        "hint": "Czy pierwsza cyfra liczby sześciocyfrowej może być zerem?",
        "expression": "Pierwsza cyfra: $4$ możliwości (nie może być $0$)",
        "explanation": "Liczba sześciocyfrowa musi zaczynać się od cyfry niezerowej",
        "why": "Jeśli pierwsza cyfra to $0$, otrzymamy liczbę pięciocyfrową, nie sześciocyfrową. Typowy błąd: zapomnienie o tym ograniczeniu."
      },
      {
        "step": 3,
        "hint": "Ile możliwości mamy dla każdej z pozostałych pięciu cyfr?",
        "expression": "Cyfry 2-6: po $5$ możliwości każda (może być $0$)",
        "explanation": "Na pozycjach $2$, $3$, $4$, $5$, $6$ możemy użyć dowolnej cyfry parzystej"
      },
      {
        "step": 4,
        "hint": "Jak połączyć liczbę możliwości dla wszystkich pozycji?",
        "expression": "$4 \\cdot 5 \\cdot 5 \\cdot 5 \\cdot 5 \\cdot 5 = 4 \\cdot 5^5$",
        "explanation": "Stosujemy zasadę mnożenia - mnożymy liczbę możliwości dla każdej pozycji",
        "why": "Zasada mnożenia: jeśli wybór na pozycji $i$ nie zależy od wyborów na innych pozycjach, mnożymy liczby możliwości. Alternatywa: sumowanie wymagałoby rozłącznych zbiorów."
      },
      {
        "step": 5,
        "hint": "Ile wynosi $5^5$?",
        "expression": "$4 \\cdot 5^5 = 4 \\cdot 3125 = 12500$",
        "explanation": "Obliczamy końcowy wynik"
      }
    ],
    "solutions": [
      "$12500$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:54:25.846Z"
  },
  {
    "id": "combinatorics_paths_example",
    "topic": "Kombinatoryka - reguła mnożenia",
    "difficulty": 2,
    "statement": "Do zamku na górze prowadzą $4$ różne szlaki. Na ile sposobów turysta może wejść na górę i wrócić z powrotem, jeśli zamierza zejść z góry innym szlakiem, niż na nią wejść?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile możliwości wyboru ma turysta przy wejściu na górę?",
        "expression": "Liczba sposobów wejścia: $4$",
        "explanation": "Turysta może wybrać dowolny z $4$ szlaków do wejścia"
      },
      {
        "step": 2,
        "hint": "Ile szlaków pozostaje do wyboru przy schodzeniu, jeśli nie może użyć tego samego?",
        "expression": "Liczba sposobów zejścia: $3$",
        "explanation": "Po wyborze szlaku do wejścia, pozostają $3$ różne szlaki do zejścia",
        "why": "Warunek zadania wymaga użycia innego szlaku przy schodzeniu. Jeśli turysta wszedł jednym z $4$ szlaków, to do zejścia ma już tylko $3$ opcje (wszystkie oprócz tego, którym wszedł)."
      },
      {
        "step": 3,
        "hint": "Jak połączyć liczbę wyborów dla wejścia i zejścia w całkowitą liczbę sposobów?",
        "expression": "$4 \\cdot 3 = 12$",
        "explanation": "Mnożymy liczbę możliwości dla każdego etapu",
        "why": "Używamy reguły mnożenia: jeśli pierwsze zdarzenie może zajść na $m$ sposobów, a drugie na $n$ sposobów, to oba razem mogą zajść na $m \\cdot n$ sposobów. Każdy z $4$ wyborów wejścia daje $3$ opcje zejścia."
      }
    ],
    "solutions": [
      "$12$"
    ],
    "parameters": {
      "method": "Reguła mnożenia w kombinatoryce"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 3,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:54:38.747Z"
  },
  {
    "id": "combinatorics_flags",
    "topic": "Kombinatoryka - wariacje bez powtórzeń",
    "difficulty": 2,
    "statement": "Przedsiębiorca chce produkować chorągiewki składające się z trzech poziomych pasów równej szerokości, każdy w innym kolorze. Ile rodzajów takich chorągiewek może produkować, jeśli ma do dyspozycji $8$ kolorów?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolory mogą się powtarzać na jednej chorągiewce?",
        "expression": "Każdy pas ma inny kolor, więc kolory się nie powtarzają",
        "explanation": "Z treści zadania: 'każdy w innym kolorze' oznacza, że nie możemy użyć tego samego koloru dwa razy"
      },
      {
        "step": 2,
        "hint": "Czy kolejność kolorów ma znaczenie dla wyglądu chorągiewki?",
        "expression": "Kolejność kolorów ma znaczenie (górny, środkowy, dolny pas)",
        "explanation": "Chorągiewka z pasami czerwony-biały-niebieski różni się od biały-czerwono-niebieski",
        "why": "To kluczowa obserwacja! Gdyby kolejność nie miała znaczenia, użylibyśmy kombinacji. Tutaj potrzebujemy wariacji, bo zmiana kolejności daje inną chorągiewkę."
      },
      {
        "step": 3,
        "hint": "Ile masz możliwości wyboru koloru dla górnego pasa?",
        "expression": "Dla górnego pasa: $8$ możliwości",
        "explanation": "Możemy wybrać dowolny z $8$ dostępnych kolorów"
      },
      {
        "step": 4,
        "hint": "Po wyborze koloru dla górnego pasa, ile kolorów zostaje dla środkowego?",
        "expression": "Dla środkowego pasa: $7$ możliwości",
        "explanation": "Jeden kolor już został użyty, zostaje $7$ kolorów"
      },
      {
        "step": 5,
        "hint": "A ile kolorów pozostaje dla dolnego pasa?",
        "expression": "Dla dolnego pasa: $6$ możliwości",
        "explanation": "Dwa kolory już zostały użyte, zostaje $6$ kolorów"
      },
      {
        "step": 6,
        "hint": "Jak połączyć te wszystkie możliwości w jedną liczbę?",
        "expression": "$8 \\cdot 7 \\cdot 6 = 336$",
        "explanation": "Mnożymy liczbę możliwości dla każdego pasa (reguła mnożenia)",
        "why": "To wzór na wariacje bez powtórzeń: $V_n^k = \\frac{n!}{(n-k)!}$. Tutaj: $V_8^3 = \\frac{8!}{5!} = 8 \\cdot 7 \\cdot 6$. Alternatywnie można zapisać jako $\\frac{8!}{(8-3)!}$."
      }
    ],
    "solutions": [
      "$336$"
    ],
    "parameters": {
      "n": 8,
      "k": 3,
      "formula": "$V_8^3 = 8 \\cdot 7 \\cdot 6$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:54:55.763Z"
  },
  {
    "id": "permutations_three_digit",
    "topic": "Permutacje bez powtórzeń",
    "difficulty": 2,
    "statement": "Oblicz, ile jest liczb trzycyfrowych, zbudowanych z cyfr należących do zbioru $\\{1,2,3,4,5,6,7,8,9\\}$, jeśli cyfry w liczbie nie mogą się powtarzać.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr masz do wyboru na pierwszą pozycję?",
        "expression": "Na pozycji setek: $9$ możliwości",
        "explanation": "Możemy wybrać dowolną cyfrę ze zbioru $\\{1,2,3,4,5,6,7,8,9\\}$"
      },
      {
        "step": 2,
        "hint": "Skoro pierwsza cyfra jest już użyta, ile zostało opcji na drugą pozycję?",
        "expression": "Na pozycji dziesiątek: $8$ możliwości",
        "explanation": "Po wyborze cyfry na setki zostaje $8$ niewykorzystanych cyfr",
        "why": "Cyfry nie mogą się powtarzać, więc każdy wybór zmniejsza pulę dostępnych cyfr. To kluczowa różnica między permutacjami a wariancjami z powtórzeniami."
      },
      {
        "step": 3,
        "hint": "A ile możliwości pozostaje dla ostatniej cyfry?",
        "expression": "Na pozycji jedności: $7$ możliwości",
        "explanation": "Po wyborze dwóch cyfr zostaje $7$ niewykorzystanych"
      },
      {
        "step": 4,
        "hint": "Jak połączyć te wybory, żeby otrzymać całkowitą liczbę możliwości?",
        "expression": "$9 \\cdot 8 \\cdot 7 = 504$",
        "explanation": "Mnożymy liczbę możliwości na każdej pozycji (reguła mnożenia)",
        "why": "Używamy reguły mnożenia, bo wybory są niezależne: dla każdej cyfry na setki mamy $8$ opcji na dziesiątki, i dla każdej pary (setki, dziesiątki) mamy $7$ opcji na jedności. Alternatywnie: wzór $P(9,3) = \\frac{9!}{(9-3)!} = \\frac{9!}{6!}$"
      }
    ],
    "solutions": [
      "$504$"
    ],
    "parameters": {
      "set": "$\\{1,2,3,4,5,6,7,8,9\\}$",
      "condition": "cyfry bez powtórzeń"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:55:13.310Z"
  },
  {
    "id": "combinatorics_three_digit_odd",
    "topic": "Kombinatoryka - permutacje bez powtórzeń",
    "difficulty": 3,
    "statement": "Oblicz, ile jest liczb trzycyfrowych, w których cyfry w liczbie nie mogą się powtarzać, jeśli są one zbudowane tylko z cyfr będących liczbami nieparzystymi.",
    "steps": [
      {
        "step": 1,
        "hint": "Które cyfry są nieparzyste i możemy ich użyć?",
        "expression": "Cyfry nieparzyste: $1, 3, 5, 7, 9$ - mamy $5$ cyfr do wyboru",
        "explanation": "Identyfikujemy zbiór dostępnych cyfr"
      },
      {
        "step": 2,
        "hint": "Ile cyfr możesz wybrać na pierwszą pozycję (setki)?",
        "expression": "Na pozycję setek: $5$ możliwości",
        "explanation": "Możemy wybrać dowolną z $5$ cyfr nieparzystych",
        "why": "W liczbach trzycyfrowych pierwsza cyfra nie może być zerem, ale $0$ i tak jest parzyste, więc wszystkie $5$ cyfr nieparzystych są dozwolone."
      },
      {
        "step": 3,
        "hint": "Skoro cyfry nie mogą się powtarzać, ile opcji zostaje na drugą pozycję (dziesiątki)?",
        "expression": "Na pozycję dziesiątek: $4$ możliwości",
        "explanation": "Jedna cyfra została już użyta na setki, zostają $4$ cyfry",
        "why": "Warunek 'bez powtórzeń' oznacza, że każda cyfra może wystąpić tylko raz. Po wyborze cyfry na setki, zostaje nam o jedną mniej."
      },
      {
        "step": 4,
        "hint": "A ile cyfr pozostaje na ostatnią pozycję (jedności)?",
        "expression": "Na pozycję jedności: $3$ możliwości",
        "explanation": "Dwie cyfry zostały już użyte, zostają $3$ cyfry"
      },
      {
        "step": 5,
        "hint": "Jak połączyć te wybory w jedną liczbę - dodać czy pomnożyć?",
        "expression": "Liczba wszystkich możliwości: $5 \\cdot 4 \\cdot 3 = 60$",
        "explanation": "Mnożymy liczbę możliwości dla każdej pozycji",
        "why": "Używamy reguły mnożenia, bo wybory są niezależne i następują po sobie. Dla każdego wyboru na setki mamy $4$ opcje na dziesiątki, i dla każdej pary (setki, dziesiątki) mamy $3$ opcje na jedności."
      }
    ],
    "solutions": [
      "$60$"
    ],
    "parameters": {
      "constraints": "cyfry nieparzyste bez powtórzeń"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T07:55:31.904Z"
  },
  {
    "id": "combinatorics_three_digit_even",
    "topic": "Kombinatoryka - permutacje bez powtórzeń",
    "difficulty": 3,
    "statement": "Oblicz, ile jest liczb trzycyfrowych, w których cyfry w liczbie nie mogą się powtarzać, jeśli są one zbudowane tylko z cyfr będących liczbami parzystymi.",
    "steps": [
      {
        "step": 1,
        "hint": "Które cyfry są parzyste i możemy ich użyć?",
        "expression": "Cyfry parzyste: $0, 2, 4, 6, 8$ - mamy $5$ cyfr do wyboru",
        "explanation": "Identyfikujemy zbiór dostępnych cyfr"
      },
      {
        "step": 2,
        "hint": "Czy zero może być pierwszą cyfrą liczby trzycyfrowej?",
        "expression": "Pierwsza cyfra: $2, 4, 6, 8$ - mamy $4$ możliwości",
        "explanation": "Zero nie może być na pierwszym miejscu, bo wtedy liczba nie byłaby trzycyfrowa",
        "why": "Liczba $012$ to tak naprawdę $12$ - liczba dwucyfrowa. Pierwsza cyfra musi być różna od zera. To najczęstszy błąd w tego typu zadaniach!"
      },
      {
        "step": 3,
        "hint": "Ile cyfr zostało do wyboru na drugie miejsce, skoro jedna już została użyta?",
        "expression": "Druga cyfra: $5 - 1 = 4$ możliwości",
        "explanation": "Możemy użyć dowolnej z $5$ cyfr parzystych oprócz tej, która jest na pierwszym miejscu (także $0$)",
        "why": "Cyfry nie mogą się powtarzać, więc z $5$ dostępnych cyfr jedna jest już zajęta. Teraz możemy użyć także zera, jeśli nie było na pierwszym miejscu."
      },
      {
        "step": 4,
        "hint": "A ile możliwości pozostało dla trzeciej cyfry?",
        "expression": "Trzecia cyfra: $5 - 2 = 3$ możliwości",
        "explanation": "Zostały $3$ cyfry parzyste, których jeszcze nie użyliśmy"
      },
      {
        "step": 5,
        "hint": "Jak połączyć liczbę możliwości dla każdego miejsca w jedną odpowiedź?",
        "expression": "$4 \\cdot 4 \\cdot 3 = 48$",
        "explanation": "Mnożymy liczbę możliwości dla każdego miejsca (reguła mnożenia)",
        "why": "Dla każdego wyboru pierwszej cyfry mamy $4$ możliwości drugiej, a dla każdej pary (pierwsza, druga) mamy $3$ możliwości trzeciej. Stąd mnożenie, nie dodawanie."
      }
    ],
    "solutions": [
      "$48$"
    ],
    "parameters": {
      "constraints": "cyfry parzyste bez powtórzeń"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T07:55:52.907Z"
  },
  {
    "id": "combinatorics_four_digit_no_repeat",
    "topic": "Kombinatoryka - permutacje z ograniczeniami",
    "difficulty": 3,
    "statement": "Ile jest czterocyfrowych liczb, w których cyfry nie mogą się powtarzać?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry możemy użyć na pierwszej pozycji liczby czterocyfrowej?",
        "expression": "Pierwsza cyfra: $9$ możliwości (cyfry od $1$ do $9$)",
        "explanation": "Pierwsza cyfra nie może być zerem, bo wtedy liczba nie byłaby czterocyfrowa",
        "why": "Liczba czterocyfrowa to liczba od $1000$ do $9999$. Zero na początku dałoby liczbę trzycyfrową (np. $0123 = 123$). To kluczowe ograniczenie w zadaniu!"
      },
      {
        "step": 2,
        "hint": "Ile cyfr pozostało do wyboru na drugą pozycję?",
        "expression": "Druga cyfra: $9$ możliwości",
        "explanation": "Mamy $10$ cyfr ($0$-$9$), użyliśmy jednej, ale teraz możemy użyć zera",
        "why": "Po wyborze pierwszej cyfry zostało $9$ cyfr (w tym zero, które teraz jest dozwolone). Cyfry się nie powtarzają, więc nie możemy użyć tej samej co na pierwszej pozycji."
      },
      {
        "step": 3,
        "hint": "Jak zmienia się liczba dostępnych cyfr z każdą kolejną pozycją?",
        "expression": "Trzecia cyfra: $8$ możliwości, czwarta cyfra: $7$ możliwości",
        "explanation": "Z każdą pozycją mamy o jedną cyfrę mniej do wyboru"
      },
      {
        "step": 4,
        "hint": "Jak połączyć liczbę możliwości dla wszystkich pozycji?",
        "expression": "$9 \\cdot 9 \\cdot 8 \\cdot 7 = 4536$",
        "explanation": "Mnożymy liczbę możliwości dla każdej pozycji (reguła mnożenia)",
        "why": "Używamy reguły mnożenia, bo wybory są niezależne: dla każdego wyboru pierwszej cyfry mamy $9$ możliwości drugiej, dla każdej pary (pierwsza, druga) mamy $8$ możliwości trzeciej, itd."
      }
    ],
    "solutions": [
      "$4536$"
    ],
    "parameters": {
      "constraints": "cyfry się nie powtarzają, liczba czterocyfrowa"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T07:56:07.737Z"
  },
  {
    "id": "pin_no_repetition",
    "topic": "Permutacje bez powtórzeń",
    "difficulty": 2,
    "statement": "Ile jest czterocyfrowych kodów PIN, w których cyfry nie mogą się powtarzać?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr masz do wyboru na pierwszą pozycję w kodzie?",
        "expression": "Pierwsza pozycja: $10$ możliwości (cyfry $0, 1, 2, ..., 9$)",
        "explanation": "Możemy wybrać dowolną z $10$ cyfr"
      },
      {
        "step": 2,
        "hint": "Skoro pierwsza cyfra jest już użyta, ile zostało opcji na drugą pozycję?",
        "expression": "Druga pozycja: $9$ możliwości (jedna cyfra już wykorzystana)",
        "explanation": "Cyfry nie mogą się powtarzać, więc zostaje $9$ cyfr",
        "why": "To kluczowa różnica między permutacjami z powtórzeniami i bez. Każdy wybór zmniejsza pulę dostępnych opcji."
      },
      {
        "step": 3,
        "hint": "Ile cyfr pozostało na trzecią i czwartą pozycję?",
        "expression": "Trzecia pozycja: $8$ możliwości, czwarta pozycja: $7$ możliwości",
        "explanation": "Kolejne cyfry zmniejszają liczbę dostępnych opcji"
      },
      {
        "step": 4,
        "hint": "Jak połączyć liczbę możliwości dla każdej pozycji w całkowitą liczbę kodów?",
        "expression": "$10 \\cdot 9 \\cdot 8 \\cdot 7 = 5040$",
        "explanation": "Mnożymy liczbę możliwości dla każdej pozycji (reguła mnożenia)",
        "why": "Używamy reguły mnożenia, bo wybory są niezależne - dla każdej pierwszej cyfry mamy $9$ opcji na drugą, itd. Alternatywnie: wzór $\\frac{10!}{(10-4)!} = \\frac{10!}{6!}$"
      }
    ],
    "solutions": [
      "$5040$"
    ],
    "parameters": {
      "note": "Permutacje $4$-elementowe ze zbioru $10$-elementowego bez powtórzeń"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:56:20.411Z"
  },
  {
    "id": "combinatorics_leaflet_colors",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 2,
    "statement": "Pewna firma chce produkować ulotki, których każda ze stron ma mieć dwukolorowe tło: górna połowa danej strony ma mieć inny kolor, niż dolna połowa. Ile jest wzorów takich ulotek, jeśli firma ma do dyspozycji $7$ kolorów?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile stron ma ulotka i co trzeba wybrać dla każdej?",
        "expression": "Ulotka ma $2$ strony, każda strona ma górną i dolną połowę",
        "explanation": "Identyfikujemy strukturę problemu - musimy pokolorować $4$ połowy ($2$ górne i $2$ dolne)"
      },
      {
        "step": 2,
        "hint": "Ile mamy możliwości wyboru koloru dla górnej połowy pierwszej strony?",
        "expression": "Górna połowa strony 1: $7$ możliwości",
        "explanation": "Możemy wybrać dowolny z $7$ dostępnych kolorów"
      },
      {
        "step": 3,
        "hint": "Czy dolna połowa może mieć ten sam kolor co górna?",
        "expression": "Dolna połowa strony 1: $6$ możliwości",
        "explanation": "Musi być inny kolor niż górna połowa, więc zostaje $6$ kolorów",
        "why": "Warunek 'inny kolor' oznacza, że jeśli górna ma kolor $A$, dolna może mieć tylko jeden z pozostałych 6 kolorów. To kluczowe ograniczenie w zadaniu."
      },
      {
        "step": 4,
        "hint": "Czy wybory dla drugiej strony zależą od pierwszej strony?",
        "expression": "Strona 2: górna - $7$ możliwości, dolna - $6$ możliwości",
        "explanation": "Druga strona jest niezależna od pierwszej, więc znów mamy $7$ kolorów dla góry i $6$ dla dołu"
      },
      {
        "step": 5,
        "hint": "Jak połączyć wszystkie niezależne wybory w jeden wynik?",
        "expression": "$7 \\cdot 6 \\cdot 7 \\cdot 6 = 1764$",
        "explanation": "Stosujemy zasadę mnożenia dla wszystkich niezależnych wyborów",
        "why": "Zasada mnożenia: gdy mamy ciąg niezależnych wyborów, całkowitą liczbę możliwości otrzymujemy mnożąc liczby możliwości na każdym etapie."
      }
    ],
    "solutions": [
      "$1764$"
    ],
    "parameters": {
      "colors": 7,
      "sides": 2,
      "constraint": "górna i dolna połowa tej samej strony muszą mieć różne kolory"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:56:35.379Z"
  },
  {
    "id": "combinatorics_balls_boxes",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 2,
    "statement": "Na ile sposobów można wrzucić $5$ ponumerowanych kul do $6$ różnych szuflad, jeżeli kule wrzucamy dowolnie?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile możliwości ma pierwsza kula przy wyborze szuflady?",
        "expression": "Kula nr 1: $6$ możliwości",
        "explanation": "Pierwszą kulę możemy wrzucić do dowolnej z $6$ szuflad"
      },
      {
        "step": 2,
        "hint": "Czy wrzucenie pierwszej kuli ogranicza wybór dla drugiej?",
        "expression": "Kula nr $2$: $6$ możliwości",
        "explanation": "Druga kula również ma $6$ możliwości - szuflady mogą zawierać wiele kul",
        "why": "Kluczowe: kule wrzucamy 'dowolnie', więc w jednej szufladzie może być wiele kul. Gdyby każda szuflada mogła zawierać max jedną kulę, byłoby inaczej!"
      },
      {
        "step": 3,
        "hint": "Jaki wzór łączy liczbę możliwości dla wszystkich kul?",
        "expression": "Każda z $5$ kul: $6$ możliwości",
        "explanation": "Wszystkie kule mają tę samą liczbę możliwości wyboru szuflady"
      },
      {
        "step": 4,
        "hint": "Jak obliczyć całkowitą liczbę sposobów dla niezależnych wyborów?",
        "expression": "$6 \\cdot 6 \\cdot 6 \\cdot 6 \\cdot 6 = 6^5$",
        "explanation": "Stosujemy zasadę mnożenia - mnożymy liczbę możliwości dla każdej kuli",
        "why": "Zasada mnożenia: gdy mamy $n$ niezależnych wyborów z $k$ możliwościami każdy, to łącznie $k^n$ sposobów. Tu: $5$ wyborów (kul) × $6$ możliwości = $6^5$."
      },
      {
        "step": 5,
        "hint": "Ile wynosi $6^5$?",
        "expression": "$6^5 = 7776$",
        "explanation": "Obliczamy potęgę"
      }
    ],
    "solutions": [
      "$7776$"
    ],
    "parameters": {
      "balls": "5 ponumerowanych",
      "boxes": "$6$ różnych szuflad",
      "constraint": "dowolnie (bez ograniczeń)"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:56:51.599Z"
  },
  {
    "id": "permutations_balls_drawers",
    "topic": "Permutacje i wariacje",
    "difficulty": 2,
    "statement": "Na ile sposobów można wrzucić $5$ ponumerowanych kul do $6$ różnych szuflad, jeżeli każda kula ma trafić do innej szuflady?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność wyboru szuflad ma znaczenie dla ponumerowanych kul?",
        "expression": "Mamy $5$ ponumerowanych kul i $6$ różnych szuflad, każda kula w innej szufladzie",
        "explanation": "To problem wyboru uporządkowanego - numeracja kul sprawia, że kolejność ma znaczenie",
        "why": "Ponumerowane kule oznaczają, że zamiana miejscami dwóch kul daje inny układ. Gdyby kule były identyczne, byłby to problem kombinacji."
      },
      {
        "step": 2,
        "hint": "Ile możliwości ma pierwsza kula? A druga?",
        "expression": "Pierwsza kula: $6$ szuflad, druga kula: $5$ szuflad, trzecia: $4$ szuflady",
        "explanation": "Każda kolejna kula ma o $1$ szufladę mniej do wyboru"
      },
      {
        "step": 3,
        "hint": "Jak połączyć te wszystkie wybory w jeden wynik?",
        "expression": "$6 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2$",
        "explanation": "Mnożymy liczbę możliwości dla każdej kuli (reguła mnożenia)",
        "why": "To wariacja bez powtórzeń: wybieramy $5$ elementów z $6$, gdzie kolejność ma znaczenie. Wzór: $V_n^k = \\frac{n!}{(n-k)!}$"
      },
      {
        "step": 4,
        "hint": "Jak zapisać to krócej używając silni?",
        "expression": "$\\frac{6!}{(6-5)!} = \\frac{6!}{1!} = \\frac{720}{1} = 720$",
        "explanation": "Stosujemy wzór na wariacje: $V_6^5 = 720$"
      }
    ],
    "solutions": [
      "$720$"
    ],
    "parameters": {
      "formula": "$V_n^k = \\frac{n!}{(n-k)!}$, gdzie $n = 6$, $k = 5$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:57:09.183Z"
  },
  {
    "id": "combinatorics_days_assignment",
    "topic": "Kombinatoryka - reguła mnożenia",
    "difficulty": 2,
    "statement": "Każdej z pięciu osób przyporządkowujemy dzień tygodnia, w którym się urodziła. Ile jest możliwych wyników takiego przyporządkowania, jeżeli każda z tych osób mogła urodzić się w dowolnym dniu tygodnia?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile wyborów mamy dla pierwszej osoby?",
        "expression": "Pierwsza osoba: $7$ możliwości (poniedziałek, wtorek, ..., niedziela)",
        "explanation": "Każda osoba może urodzić się w dowolnym z $7$ dni tygodnia"
      },
      {
        "step": 2,
        "hint": "Czy wybór dnia dla drugiej osoby zależy od wyboru pierwszej?",
        "expression": "Druga osoba: również $7$ możliwości",
        "explanation": "Dni mogą się powtarzać - każda osoba niezależnie może mieć dowolny dzień",
        "why": "To kluczowa różnica! Gdyby dni nie mogły się powtarzać, druga osoba miałaby tylko $6$ wyborów. Tu każda osoba ma pełną swobodę."
      },
      {
        "step": 3,
        "hint": "Jak połączyć wybory wszystkich pięciu osób w jeden wynik?",
        "expression": "Dla każdej z $5$ osób mamy $7$ niezależnych wyborów",
        "explanation": "Stosujemy regułę mnożenia dla zdarzeń niezależnych"
      },
      {
        "step": 4,
        "hint": "Ile razy mnożymy liczbę $7$?",
        "expression": "$7 \\cdot 7 \\cdot 7 \\cdot 7 \\cdot 7 = 7^5$",
        "explanation": "Mnożymy $7$ przez siebie $5$ razy (tyle ile osób)"
      },
      {
        "step": 5,
        "hint": "Ile wynosi $7^5$?",
        "expression": "$7^5 = 16\\,807$",
        "explanation": "Obliczamy końcowy wynik"
      }
    ],
    "solutions": [
      "$16\\,807$"
    ],
    "parameters": {
      "persons": 5,
      "days": 7
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 1
      }
    },
    "timestamp": "2025-10-03T07:57:23.059Z"
  },
  {
    "id": "permutations_weekdays",
    "topic": "Permutacje",
    "difficulty": 2,
    "statement": "Każdej z pięciu osób przyporządkowujemy dzień tygodnia, w którym się urodziła. Ile jest możliwych wyników takiego przyporządkowania, jeżeli każda z tych osób urodziła się w innym dniu tygodnia?\n\n(No mathematical expressions to format in this text)",
    "steps": [
      {
        "step": 1,
        "hint": "Ile dni tygodnia możemy wybrać dla pierwszej osoby?",
        "expression": "Pierwsza osoba: $7$ możliwości",
        "explanation": "Tydzień ma $7$ dni, więc pierwsza osoba może urodzić się w dowolnym z nich"
      },
      {
        "step": 2,
        "hint": "Skoro pierwsza osoba zajęła już jeden dzień, ile zostało opcji dla drugiej?",
        "expression": "Druga osoba: $6$ możliwości",
        "explanation": "Jeden dzień jest już zajęty, więc zostaje $6$ dni",
        "why": "Warunek 'każda w innym dniu' oznacza, że nie możemy powtarzać wyborów. To kluczowa różnica między permutacjami a wariancjami z powtórzeniami!"
      },
      {
        "step": 3,
        "hint": "Jak będzie wyglądał ten schemat dla pozostałych osób?",
        "expression": "Trzecia osoba: $5$ możliwości, czwarta: $4$, piąta: $3$",
        "explanation": "Z każdym wyborem zostaje coraz mniej dostępnych dni"
      },
      {
        "step": 4,
        "hint": "Jak połączyć te wszystkie możliwości w jedną liczbę?",
        "expression": "$7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3 = 2520$",
        "explanation": "Mnożymy liczby możliwości dla każdej osoby (reguła mnożenia)",
        "why": "To permutacja 5 elementów z 7: $P(7,5) = \\frac{7!}{(7-5)!} = \\frac{7!}{2!}$. Alternatywnie można zapisać jako $\\frac{7!}{2!}$, ale bezpośrednie mnożenie jest prostsze."
      }
    ],
    "solutions": [
      "$2520$"
    ],
    "parameters": {
      "note": "Permutacja bez powtórzeń: wybieramy $5$ różnych dni z $7$ dostępnych"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:57:37.248Z"
  },
  {
    "id": "permutations_grades",
    "topic": "Permutacje",
    "difficulty": 2,
    "statement": "Każdemu spośród czterech uczniów przyporządkowujemy ocenę roczną z matematyki. Ile jest możliwych wyników tego przyporządkowania, jeżeli każdy z uczniów będzie miał inną ocenę?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile różnych ocen może otrzymać pierwszy uczeń?",
        "expression": "Pierwszy uczeń: $6$ możliwości (oceny od $1$ do $6$)",
        "explanation": "Pierwszy uczeń może dostać dowolną z $6$ ocen"
      },
      {
        "step": 2,
        "hint": "Skoro pierwszy uczeń już ma ocenę, ile opcji zostaje dla drugiego?",
        "expression": "Drugi uczeń: $5$ możliwości",
        "explanation": "Jedna ocena jest już zajęta, więc zostaje $5$ ocen do wyboru",
        "why": "Warunek 'każdy z uczniów będzie miał inną ocenę' oznacza, że nie możemy powtarzać ocen. To kluczowe - gdyby oceny mogły się powtarzać, byłoby $6^4$ możliwości!"
      },
      {
        "step": 3,
        "hint": "Ile możliwości ma trzeci uczeń, gdy dwie oceny są już rozdane?",
        "expression": "Trzeci uczeń: $4$ możliwości",
        "explanation": "Dwie oceny są zajęte, zostają $4$ oceny"
      },
      {
        "step": 4,
        "hint": "A czwarty uczeń?",
        "expression": "Czwarty uczeń: $3$ możliwości",
        "explanation": "Trzy oceny są zajęte, zostają $3$ oceny"
      },
      {
        "step": 5,
        "hint": "Jak połączyć te wszystkie wybory w jedną liczbę możliwości?",
        "expression": "$6 \\cdot 5 \\cdot 4 \\cdot 3 = 360$",
        "explanation": "Mnożymy liczbę możliwości dla każdego ucznia (reguła mnożenia)",
        "why": "To permutacja 4-elementowa ze zbioru 6-elementowego, oznaczana $P(6,4)$ lub $A_6^4$. Wzór ogólny: $\\frac{n!}{(n-k)!} = \\frac{6!}{2!} = 360$"
      }
    ],
    "solutions": [
      "$360$"
    ],
    "parameters": {
      "students": 4,
      "grades": "$1-6$",
      "condition": "różne oceny"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:57:53.530Z"
  },
  {
    "id": "combinatorics_grades",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 2,
    "statement": "Każdemu spośród czterech uczniów przyporządkowujemy ocenę roczną z matematyki. Ile jest możliwych wyników tego przyporządkowania, jeżeli każdy z uczniów może uzyskać dowolną ocenę?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile ocen może otrzymać pierwszy uczeń?",
        "expression": "Pierwszy uczeń: $6$ możliwości (oceny od $1$ do $6$)",
        "explanation": "Zakładamy standardową skalę ocen szkolnych: $1$, $2$, $3$, $4$, $5$, $6$"
      },
      {
        "step": 2,
        "hint": "Czy ocena drugiego ucznia zależy od oceny pierwszego?",
        "expression": "Drugi uczeń: również $6$ możliwości",
        "explanation": "Każdy uczeń może dostać dowolną ocenę niezależnie od innych",
        "why": "To kluczowa różnica między permutacjami a wariacjami z powtórzeniami. Tutaj oceny mogą się powtarzać - wszyscy mogą dostać piątkę lub każdy inną ocenę."
      },
      {
        "step": 3,
        "hint": "Jak połączyć liczbę możliwości dla wszystkich uczniów?",
        "expression": "Dla czterech uczniów: $6 \\cdot 6 \\cdot 6 \\cdot 6 = 6^4$",
        "explanation": "Stosujemy zasadę mnożenia - mnożymy liczbę możliwości dla każdego ucznia",
        "why": "Zasada mnożenia: jeśli czynność $A$ można wykonać na $m$ sposobów, a $B$ na $n$ sposobów, to obie razem na $m \\cdot n$ sposobów. Tutaj mamy $4$ niezależne wybory."
      },
      {
        "step": 4,
        "hint": "Ile wynosi $6^4$?",
        "expression": "$6^4 = 1296$",
        "explanation": "Obliczamy potęgę"
      }
    ],
    "solutions": [
      "$1296$"
    ],
    "parameters": {
      "students": 4,
      "grades": "$1$, $2$, $3$, $4$, $5$, $6$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:58:06.620Z"
  },
  {
    "id": "combinatorics_train_wagons",
    "topic": "Wariacje bez powtórzeń",
    "difficulty": 2,
    "statement": "Na peronie czekają na pociąg cztery osoby. Podjeżdża skład złożony z siedmiu wagonów. Na ile sposobów czekające osoby mogą wsiąść do pociągu, jeśli każda z nich ma wsiąść do innego wagonu?\n\n(No mathematical expressions to format in this text.)",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność wyboru wagonów ma znaczenie dla różnych osób?",
        "expression": "Mamy $4$ osoby i $7$ wagonów, każda osoba w innym wagonie",
        "explanation": "To problem wyboru z uwzględnieniem kolejności - wariacje",
        "why": "Osoba A w wagonie 1 i osoba B w wagonie 2 to inna sytuacja niż odwrotnie. Gdyby kolejność nie miała znaczenia, byłyby to kombinacje."
      },
      {
        "step": 2,
        "hint": "Ile wyborów ma pierwsza osoba? A druga, jeśli jeden wagon jest już zajęty?",
        "expression": "Pierwsza osoba: $7$ możliwości, druga: $6$, trzecia: $5$, czwarta: $4$",
        "explanation": "Każda kolejna osoba ma o jeden wagon mniej do wyboru"
      },
      {
        "step": 3,
        "hint": "Jak połączyć te wszystkie możliwości w jedną liczbę?",
        "expression": "$7 \\cdot 6 \\cdot 5 \\cdot 4 = 840$",
        "explanation": "Mnożymy liczbę możliwości dla każdej osoby (reguła mnożenia)",
        "why": "To wzór na wariacje: $V_n^k = \\frac{n!}{(n-k)!}$, czyli $V_7^4 = \\frac{7!}{3!} = 7 \\cdot 6 \\cdot 5 \\cdot 4$. Alternatywnie można zapisać jako $\\frac{7!}{(7-4)!}$."
      }
    ],
    "solutions": [
      "$840$"
    ],
    "parameters": {
      "formula": "$V_7^4 = 7 \\cdot 6 \\cdot 5 \\cdot 4 = 840$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 3,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:58:24.091Z"
  },
  {
    "id": "combinatorics_train_wagons",
    "topic": "Kombinatoryka - reguła mnożenia",
    "difficulty": 2,
    "statement": "Na peronie czekają na pociąg $4$ osoby. Podjeżdża skład złożony z $7$ wagonów. Na ile sposobów czekające osoby mogą wsiąść do pociągu, jeśli każda z nich wybiera wagon dowolnie?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile wyborów ma pierwsza osoba wsiadająca do pociągu?",
        "expression": "Pierwsza osoba ma $7$ możliwych wagonów do wyboru",
        "explanation": "Każda osoba może wybrać dowolny z siedmiu wagonów"
      },
      {
        "step": 2,
        "hint": "Czy wybór drugiej osoby zależy od tego, co wybrała pierwsza?",
        "expression": "Druga osoba również ma $7$ możliwych wagonów",
        "explanation": "Osoby mogą wsiadać do tego samego wagonu, więc wybory są niezależne",
        "why": "To kluczowa różnica: gdyby każda osoba musiała wybrać inny wagon, druga miałaby tylko $6$ możliwości. Tu warunek 'dowolnie' oznacza, że wagony mogą się powtarzać."
      },
      {
        "step": 3,
        "hint": "Jak połączyć wybory wszystkich czterech osób w jeden wynik?",
        "expression": "Liczba sposobów = $7 \\cdot 7 \\cdot 7 \\cdot 7 = 7^4$",
        "explanation": "Stosujemy regułę mnożenia: każda z $4$ osób ma $7$ wyborów",
        "why": "Reguła mnożenia: gdy mamy ciąg niezależnych decyzji, mnożymy liczby możliwości. Gdyby wybory były zależne (bez powtórzeń), byłoby to $7 \\cdot 6 \\cdot 5 \\cdot 4$."
      },
      {
        "step": 4,
        "hint": "Ile wynosi $7^4$?",
        "expression": "$7^4 = 2401$",
        "explanation": "Obliczamy potęgę: $7^4 = 7 \\cdot 7 \\cdot 7 \\cdot 7 = 2401$"
      }
    ],
    "solutions": [
      "$2401$"
    ],
    "parameters": {
      "people": 4,
      "wagons": 7,
      "repetitions_allowed": true
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:58:37.338Z"
  },
  {
    "id": "combinatorics_repetition_example",
    "topic": "Kombinatoryka - wariacje z powtórzeniami",
    "difficulty": 2,
    "statement": "Ile sześcioliterowych napisów można utworzyć, posługując się literami należącymi do zbioru $\\{A, B, C, D, E, F, G, H, I\\}$, jeśli litery mogą się powtarzać?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile liter mamy do wyboru na każdej pozycji napisu?",
        "expression": "Mamy $9$ liter w zbiorze: $\\{A, B, C, D, E, F, G, H, I\\}$",
        "explanation": "Liczymy elementy zbioru, z którego będziemy tworzyć napisy"
      },
      {
        "step": 2,
        "hint": "Czy wybór litery na jednej pozycji wpływa na wybór na innych pozycjach?",
        "expression": "Na każdej z $6$ pozycji możemy wybrać dowolną z $9$ liter",
        "explanation": "Ponieważ litery mogą się powtarzać, każda pozycja ma pełny wybór",
        "why": "To kluczowa różnica! Gdy litery mogą się powtarzać, każda pozycja ma tyle samo możliwości. Gdyby nie mogły się powtarzać, liczba możliwości malałaby z każdą pozycją."
      },
      {
        "step": 3,
        "hint": "Jak połączyć liczbę możliwości na wszystkich pozycjach?",
        "expression": "$9 \\cdot 9 \\cdot 9 \\cdot 9 \\cdot 9 \\cdot 9 = 9^6$",
        "explanation": "Mnożymy liczbę możliwości na każdej pozycji (reguła mnożenia)",
        "why": "Używamy reguły mnożenia: jeśli mamy $k$ niezależnych wyborów z $n_1, n_2, ..., n_k$ możliwościami, to łącznie jest $n_1 \\cdot n_2 \\cdot ... \\cdot n_k$ kombinacji."
      },
      {
        "step": 4,
        "hint": "Ile wynosi $9^6$?",
        "expression": "$9^6 = 531441$",
        "explanation": "Obliczamy potęgę"
      }
    ],
    "solutions": [
      "$531441$"
    ],
    "parameters": {
      "letters_count": "$9$",
      "word_length": "$6$",
      "repetition_allowed": "tak"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:58:50.692Z"
  },
  {
    "id": "permutations_no_repetition",
    "topic": "Permutacje bez powtórzeń",
    "difficulty": 2,
    "statement": "Ile sześcioliterowych napisów można utworzyć, posługując się literami należącymi do zbioru $\\{A, B, C, D, E, F, G, H, I\\}$, jeśli litery nie mogą się powtarzać?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile liter masz do dyspozycji w zbiorze?",
        "expression": "Zbiór zawiera $9$ liter: $\\{A, B, C, D, E, F, G, H, I\\}$",
        "explanation": "Liczymy elementy zbioru, z którego będziemy wybierać"
      },
      {
        "step": 2,
        "hint": "Ile liter musisz wybrać do utworzenia napisu?",
        "expression": "Tworzymy napisy $6$-literowe, więc wybieramy $6$ liter z $9$ dostępnych",
        "explanation": "Określamy długość napisu, który chcemy utworzyć"
      },
      {
        "step": 3,
        "hint": "Czy kolejność liter w napisie ma znaczenie?",
        "expression": "Kolejność ma znaczenie, bo $ABC \\neq CBA$",
        "explanation": "To są różne napisy, więc liczy się układ liter",
        "why": "Gdy kolejność ma znaczenie, używamy wariacji (permutacji). Gdyby kolejność nie miała znaczenia, byłyby to kombinacje. Napisy to klasyczny przykład, gdzie kolejność jest istotna!"
      },
      {
        "step": 4,
        "hint": "Jaki wzór pozwala wybrać $k$ elementów z $n$, gdy kolejność ma znaczenie i nie ma powtórzeń?",
        "expression": "Liczba wariacji bez powtórzeń: $V_n^k = \\frac{n!}{(n-k)!}$",
        "explanation": "Stosujemy wzór na wariacje bez powtórzeń",
        "why": "Wzór $V_9^6 = \\frac{9!}{(9-6)!}$ oznacza: na pierwszej pozycji mamy $9$ wyborów, na drugiej $8$ (bo jedna litera już użyta), na trzeciej $7$, itd. Alternatywnie: $9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4$."
      },
      {
        "step": 5,
        "hint": "Jak obliczyć $\\frac{9!}{3!}$?",
        "expression": "$V_9^6 = \\frac{9!}{3!} = \\frac{9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3!}{3!} = 9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4$",
        "explanation": "Skracamy silnie i mnożymy kolejne liczby"
      },
      {
        "step": 6,
        "hint": "Ile wynosi iloczyn $9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4$?",
        "expression": "$9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 = 60480$",
        "explanation": "Obliczamy końcowy wynik"
      }
    ],
    "solutions": [
      "$60480$"
    ],
    "parameters": {
      "n": "$9$",
      "k": "$6$",
      "formula": "$V_n^k = \\frac{n!}{(n-k)!}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:59:12.280Z"
  },
  {
    "id": "combinatorics_elevator",
    "topic": "Kombinatoryka - wariacje z powtórzeniami",
    "difficulty": 3,
    "statement": "Na parterze wieżowca mającego $8$ pięter do windy wsiada $5$ osób. Na ile sposobów te osoby mogą wysiąść na piętrach, jeśli każda z tych osób wybiera piętro dowolnie? Pomijamy kolejność wysiadania z windy na poszczególnych piętrach.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile możliwości wyboru ma pierwsza osoba wysiadająca z windy?",
        "expression": "Pierwsza osoba może wysiąść na jednym z $8$ pięter",
        "explanation": "Każda osoba ma do wyboru $8$ pięter (od $1$ do $8$)"
      },
      {
        "step": 2,
        "hint": "Czy wybór drugiej osoby zależy od tego, gdzie wysiadła pierwsza?",
        "expression": "Druga osoba również ma $8$ możliwości wyboru",
        "explanation": "Osoby mogą wysiadać na tym samym piętrze - nie ma ograniczeń",
        "why": "To kluczowa różnica: gdyby osoby nie mogły wysiadać na tym samym piętrze, byłyby to wariacje bez powtórzeń. Tu każda osoba niezależnie wybiera spośród wszystkich $8$ pięter."
      },
      {
        "step": 3,
        "hint": "Jak połączyć liczbę możliwości dla wszystkich pięciu osób?",
        "expression": "Każda z $5$ osób ma $8$ możliwości: $8 \\cdot 8 \\cdot 8 \\cdot 8 \\cdot 8$",
        "explanation": "Stosujemy regułę mnożenia - wybory są niezależne"
      },
      {
        "step": 4,
        "hint": "Jak zapisać to krócej używając potęgi?",
        "expression": "$8^5$",
        "explanation": "Iloczyn pięciu ósemek zapisujemy jako potęgę",
        "why": "To wzór na wariacje z powtórzeniami: $n^k$, gdzie $n$ to liczba możliwości (pięter), a $k$ to liczba wyborów (osób). Powtórzenia są dozwolone."
      },
      {
        "step": 5,
        "hint": "Ile wynosi $8^5$?",
        "expression": "$8^5 = 32768$",
        "explanation": "Obliczamy wartość potęgi"
      }
    ],
    "solutions": [
      "$32768$"
    ],
    "parameters": {
      "n": "$8$ (liczba pięter)",
      "k": "$5$ (liczba osób)",
      "formula": "wariacje z powtórzeniami: $n^k$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:59:28.251Z"
  },
  {
    "id": "combinatorics_elevator",
    "topic": "Kombinatoryka - wariacje z powtórzeniami",
    "difficulty": 2,
    "statement": "Na parterze wieżowca mającego $8$ pięter do windy wsiada $5$ osób. Na ile sposobów te osoby mogą wysiąść na piętrach, jeśli każda z tych osób wysiada na czwartym, piątym lub szóstym piętrze? Pomijamy kolejność wysiadania z windy na poszczególnych piętrach.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile możliwości wyboru piętra ma pierwsza osoba?",
        "expression": "Pierwsza osoba: $3$ możliwości (piętro $4$, $5$ lub $6$)",
        "explanation": "Każda osoba może wysiąść na jednym z trzech pięter"
      },
      {
        "step": 2,
        "hint": "Czy wybór drugiej osoby zależy od tego, gdzie wysiadła pierwsza?",
        "expression": "Druga osoba: również $3$ możliwości",
        "explanation": "Każda osoba niezależnie wybiera spośród tych samych trzech $3$ pięter",
        "why": "To kluczowa obserwacja: osoby mogą wysiadać na tym samym piętrze, więc liczba możliwości się nie zmniejsza. To wariacje z powtórzeniami, nie bez powtórzeń!"
      },
      {
        "step": 3,
        "hint": "Jak połączyć wybory wszystkich pięciu osób w jeden wynik?",
        "expression": "Dla każdej z $5$ osób: $3$ możliwości",
        "explanation": "Każda z pięciu osób ma niezależnie $3$ opcje wyboru piętra"
      },
      {
        "step": 4,
        "hint": "Jaką operację wykonujemy, gdy mamy niezależne wybory?",
        "expression": "$3 \\cdot 3 \\cdot 3 \\cdot 3 \\cdot 3 = 3^5 = 243$",
        "explanation": "Mnożymy liczbę możliwości dla każdej osoby",
        "why": "Zasada mnożenia: gdy mamy $n$ niezależnych wyborów po $k$ możliwości każdy, to łącznie $k^n$ sposobów. Wzór ogólny: $k^n$, gdzie $k$ - liczba opcji, $n$ - liczba wyborów."
      }
    ],
    "solutions": [
      "243"
    ],
    "parameters": {
      "formula": "Wariacje z powtórzeniami: $k^n$, gdzie $k = 3$ (piętra), $n = 5$ (osób)"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T07:59:43.100Z"
  },
  {
    "id": "combinatorics_elevator",
    "topic": "Kombinatoryka - wariacje bez powtórzeń",
    "difficulty": 3,
    "statement": "Na parterze wieżowca mającego $8$ pięter do windy wsiada $5$ osób. Na ile sposobów te osoby mogą wysiąść na piętrach, jeśli żadne dwie osoby nie wysiadają na tym samym piętrze? Pomijamy kolejność wysiadania z windy na poszczególnych piętrach.",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność przypisania osób do pięter ma znaczenie?",
        "expression": "Każda osoba musi wysiąść na innym piętrze - to przypisanie osób do pięter",
        "explanation": "Szukamy liczby sposobów wyboru i przypisania $5$ pięter z $8$ dostępnych do $5$ osób",
        "why": "Kluczowe rozróżnienie: osoby są różne (osoba $A$ na 3. piętrze $\\neq$ osoba $B$ na 3. piętrze), więc kolejność ma znaczenie. To wariacje, nie kombinacje!"
      },
      {
        "step": 2,
        "hint": "Ile możliwości ma pierwsza osoba przy wyborze piętra?",
        "expression": "Pierwsza osoba: $8$ możliwości",
        "explanation": "Może wysiąść na dowolnym z $8$ pięter"
      },
      {
        "step": 3,
        "hint": "Jak zmienia się liczba dostępnych pięter dla kolejnych osób?",
        "expression": "Druga osoba: $7$ możliwości, trzecia: $6$, czwarta: $5$, piąta: $4$",
        "explanation": "Każda kolejna osoba ma o jedno piętro mniej do wyboru"
      },
      {
        "step": 4,
        "hint": "Jak połączyć te wszystkie możliwości w jedną liczbę?",
        "expression": "$8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4$",
        "explanation": "Mnożymy liczby możliwości dla każdej osoby (reguła mnożenia)",
        "why": "Reguła mnożenia: gdy mamy ciąg niezależnych wyborów, mnożymy liczby możliwości. To wzór na wariacje: $V_n^k = \\frac{n!}{(n-k)!}$"
      },
      {
        "step": 5,
        "hint": "Jaki jest wynik tego mnożenia?",
        "expression": "$8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 = 6720$",
        "explanation": "Obliczamy iloczyn kolejnych liczb"
      }
    ],
    "solutions": [
      "$6720$"
    ],
    "parameters": {
      "formula": "$V_8^5 = \\frac{8!}{3!} = 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:00:01.569Z"
  },
  {
    "id": "combinatorics_elevator",
    "topic": "Kombinatoryka - zasada włączeń i wyłączeń",
    "difficulty": 4,
    "statement": "Na parterze wieżowca mającego $8$ pięter do windy wsiada $5$ osób. Na ile sposobów te osoby mogą wysiąść na piętrach, jeśli co najmniej jedna osoba wysiada na $7$ piętrze? Pomijamy kolejność wysiadania z windy na poszczególnych piętrach.",
    "steps": [
      {
        "step": 1,
        "hint": "Czy łatwiej policzyć sytuacje z warunkiem, czy bez warunku?",
        "expression": "Policzmy najpierw wszystkie możliwości bez ograniczeń",
        "explanation": "Użyjemy zasady dopełnienia: od wszystkich możliwości odejmiemy te, gdzie nikt nie wysiada na $7$. piętrze",
        "why": "Bezpośrednie liczenie 'co najmniej jedna osoba na $7$. piętrze' jest trudne - trzeba rozważać przypadki: dokładnie $1$, dokładnie $2$, ..., dokładnie $5$ osób. Zasada dopełnienia upraszcza problem do jednego odejmowania."
      },
      {
        "step": 2,
        "hint": "Ile wyborów ma każda osoba, jeśli może wysiąść na dowolnym piętrze?",
        "expression": "Każda z $5$ osób może wysiąść na jednym z $8$ pięter: $8^5$",
        "explanation": "Liczba wszystkich możliwości wysiadania"
      },
      {
        "step": 3,
        "hint": "Co się zmieni, jeśli zabronisz osobom wysiadać na $7$. piętrze?",
        "expression": "$8^5 = 32768$",
        "explanation": "Obliczamy całkowitą liczbę możliwości"
      },
      {
        "step": 4,
        "hint": "Na ilu piętrach mogą wysiąść osoby, jeśli wykluczymy $7$. piętro?",
        "expression": "Jeśli nikt nie wysiada na $7$. piętrze, każda osoba ma $7$ wyborów: $7^5$",
        "explanation": "Liczba możliwości, gdzie nikt nie wysiada na $7$. piętrze"
      },
      {
        "step": 5,
        "hint": "Ile wynosi $7^5$?",
        "expression": "$7^5 = 16807$",
        "explanation": "Obliczamy liczbę 'złych' przypadków"
      },
      {
        "step": 6,
        "hint": "Jak otrzymać liczbę przypadków, gdzie co najmniej jedna osoba wysiada na 7. piętrze?",
        "expression": "$8^5 - 7^5 = 32768 - 16807 = 15961$",
        "explanation": "Od wszystkich możliwości odejmujemy te, gdzie nikt nie wysiada na $7$. piętrze",
        "why": "To zastosowanie zasady dopełnienia: $|A| = |U| - |A'|$, gdzie $A$ to zdarzenie 'co najmniej jedna osoba na 7. piętrze', a $A'$ to 'nikt na 7. piętrze'."
      }
    ],
    "solutions": [
      "$15961$"
    ],
    "parameters": {
      "floors": 8,
      "people": 5,
      "required_floor": 7
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:00:22.366Z"
  },
  {
    "id": "mastercard_counting",
    "topic": "Reguła mnożenia w kombinatoryce",
    "difficulty": 2,
    "statement": "Numer karty płatniczej MasterCard składa się z $16$ cyfr. Pierwszą cyfrą jest $5$, drugą - jedna z cyfr: $1$, $2$, $3$, $4$, $5$. Zakładamy, że pozostałe cyfry mogą być dowolne. Ile jest numerów kart płatniczych MasterCard?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile możliwości mamy dla pierwszej cyfry?",
        "expression": "Pierwsza cyfra: $1$ możliwość (zawsze $5$)",
        "explanation": "Pierwsza cyfra jest ustalona"
      },
      {
        "step": 2,
        "hint": "Ile różnych cyfr może być na drugiej pozycji?",
        "expression": "Druga cyfra: $5$ możliwości ($1, 2, 3, 4, 5$)",
        "explanation": "Druga cyfra może być jedną z pięciu określonych cyfr"
      },
      {
        "step": 3,
        "hint": "Ile cyfr pozostało do ustalenia i jakie są możliwości dla każdej?",
        "expression": "Pozostałe cyfry: $16 - 2 = 14$ pozycji, każda ma $10$ możliwości ($0$ do $9$)",
        "explanation": "Każda z $14$ pozostałych pozycji może być dowolną cyfrą",
        "why": "W kombinatoryce, gdy cyfry mogą się powtarzać i kolejność ma znaczenie, każda pozycja jest niezależna. Każda z $14$ pozycji ma pełen wybór spośród $10$ cyfr."
      },
      {
        "step": 4,
        "hint": "Jak połączyć wszystkie możliwości w jeden wynik?",
        "expression": "Liczba numerów = $1 \\cdot 5 \\cdot 10^{14}$",
        "explanation": "Mnożymy liczbę możliwości dla każdej pozycji",
        "why": "Reguła mnożenia: gdy mamy sekwencję niezależnych wyborów, całkowitą liczbę możliwości otrzymujemy przez ich przemnożenie."
      },
      {
        "step": 5,
        "hint": "Jaki jest końcowy wynik tego mnożenia?",
        "expression": "$5 \\cdot 10^{14} = 5 \\cdot 100\\,000\\,000\\,000\\,000 = 500\\,000\\,000\\,000\\,000$",
        "explanation": "Obliczamy ostateczną liczbę możliwych numerów kart"
      }
    ],
    "solutions": [
      "$5 \\cdot 10^{14} = 500\\,000\\,000\\,000\\,000$"
    ],
    "parameters": {
      "note": "Odpowiedź można zapisać jako $5 \\cdot 10^{14}$ lub $500$ bilionów"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:00:37.124Z"
  },
  {
    "id": "counting_three_digit_odd",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 3,
    "statement": "Ile jest liczb trzycyfrowych o różnych cyfrach i jednocześnie nieparzystych?",
    "steps": [
      {
        "step": 1,
        "hint": "Którą cyfrę najłatwiej wybrać jako pierwszą i dlaczego?",
        "expression": "Cyfra jedności musi być nieparzysta: $1, 3, 5, 7, 9$",
        "explanation": "Zaczynamy od cyfry jedności, bo ma najbardziej restrykcyjny warunek",
        "why": "Strategia: najpierw wybieramy cyfry z największymi ograniczeniami. Cyfra jedności ma dwa warunki (nieparzysta + różna od innych), więc zaczynamy od niej."
      },
      {
        "step": 2,
        "hint": "Ile mamy możliwości wyboru cyfry jedności?",
        "expression": "Liczba możliwości dla cyfry jedności: $5$",
        "explanation": "Mamy $5$ cyfr nieparzystych do wyboru"
      },
      {
        "step": 3,
        "hint": "Czy cyfra setek może być zerem? Co to oznacza dla liczby możliwości?",
        "expression": "Cyfra setek: nie może być $0$ ani cyfry już użytej na pozycji jedności",
        "explanation": "Cyfra setek ma dwa ograniczenia: musi tworzyć liczbę trzycyfrową i być różna od cyfry jedności",
        "why": "Liczba trzycyfrowa zaczyna się od $1-9$, nie od $0$. Po wyborze cyfry jedności zostaje $9$ cyfr ($0-9$ minus jedna użyta), ale $0$ nie może być na początku, więc zostaje $8$ możliwości."
      },
      {
        "step": 4,
        "hint": "Ile cyfr pozostało do wyboru na pozycję setek?",
        "expression": "Liczba możliwości dla cyfry setek: $8$",
        "explanation": "Z 10 cyfr odejmujemy: $1$ już użytą i $0$ (nie może być na początku)"
      },
      {
        "step": 5,
        "hint": "Jakie ograniczenia ma cyfra dziesiątek?",
        "expression": "Cyfra dziesiątek: może być dowolną cyfrą różną od dwóch już użytych",
        "explanation": "Cyfra dziesiątek może być nawet $0$, tylko musi być różna od cyfr setek i jedności"
      },
      {
        "step": 6,
        "hint": "Ile cyfr zostało do wyboru na środkową pozycję?",
        "expression": "Liczba możliwości dla cyfry dziesiątek: $8$",
        "explanation": "Z $10$ cyfr odejmujemy $2$ już użyte"
      },
      {
        "step": 7,
        "hint": "Jak połączyć wszystkie wybory w jedną liczbę możliwości?",
        "expression": "Całkowita liczba: $5 \\cdot 8 \\cdot 8 = 320$",
        "explanation": "Mnożymy liczby możliwości dla każdej pozycji (zasada mnożenia)",
        "why": "Zasada mnożenia: gdy wybory są niezależne, mnożymy liczby możliwości. Tutaj: $5$ sposobów na jedności × $8$ na setki × $8$ na dziesiątki."
      }
    ],
    "solutions": [
      "$320$"
    ],
    "parameters": {
      "constraints": "liczby trzycyfrowe, różne cyfry, nieparzyste"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:00:58.013Z"
  },
  {
    "id": "counting_three_digit_even",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 3,
    "statement": "Ile jest liczb trzycyfrowych o różnych cyfrach i jednocześnie parzystych?",
    "steps": [
      {
        "step": 1,
        "hint": "Co decyduje o tym, że liczba jest parzysta?",
        "expression": "Cyfra jedności musi być parzysta: $0, 2, 4, 6, 8$",
        "explanation": "Liczba jest parzysta, gdy kończy się cyfrą parzystą",
        "why": "To kluczowe ograniczenie! Musimy zacząć od cyfry jedności, bo wpływa ona na wybór pozostałych cyfr (warunek różności)."
      },
      {
        "step": 2,
        "hint": "Dlaczego warto rozpatrzyć osobno przypadek, gdy cyfra jedności to $0$?",
        "expression": "Przypadek 1: cyfra jedności = $0$",
        "explanation": "Gdy ostatnia cyfra to $0$, cyfra setek nie może być zerem",
        "why": "Zero na końcu daje inne możliwości niż inne cyfry parzyste, bo $0$ nie może być cyfrą setek (liczba przestałaby być trzycyfrowa)."
      },
      {
        "step": 3,
        "hint": "Ile cyfr możesz wybrać na setki, gdy jedności to $0$?",
        "expression": "Cyfra setek: $9$ możliwości (cyfry $1-9$, bo $0$ już użyte)",
        "explanation": "Cyfra setek może być dowolną niezerową cyfrą różną od $0$"
      },
      {
        "step": 4,
        "hint": "Ile cyfr pozostało do wyboru na dziesiątki?",
        "expression": "Cyfra dziesiątek: $8$ możliwości (wszystkie cyfry oprócz cyfry setek i $0$)",
        "explanation": "Zostało $8$ cyfr do wyboru ($10$ minus cyfra setek minus $0$)"
      },
      {
        "step": 5,
        "hint": "Jak obliczyć liczbę liczb w tym przypadku?",
        "expression": "Przypadek 1: $9 \\cdot 8 \\cdot 1 = 72$ liczby",
        "explanation": "Mnożymy liczby możliwości dla każdej pozycji"
      },
      {
        "step": 6,
        "hint": "Co się zmienia, gdy cyfra jedności to $2$, $4$, $6$ lub $8$?",
        "expression": "Przypadek 2: cyfra jedności $\\in \\{2, 4, 6, 8\\}$ - $4$ możliwości",
        "explanation": "Rozpatrujemy pozostałe cyfry parzyste"
      },
      {
        "step": 7,
        "hint": "Czy cyfra setek może teraz być zerem?",
        "expression": "Cyfra setek: $8$ możliwości (cyfry $1-9$ oprócz cyfry jedności)",
        "explanation": "Zero może być cyfrą setek, ale cyfra jedności jest już zajęta"
      },
      {
        "step": 8,
        "hint": "Ile cyfr zostało na dziesiątki w tym przypadku?",
        "expression": "Cyfra dziesiątek: $8$ możliwości (wszystkie cyfry oprócz cyfry setek i jedności)",
        "explanation": "Zostało $8$ cyfr ($10$ minus dwie już użyte)"
      },
      {
        "step": 9,
        "hint": "Jak policzyć wszystkie liczby w przypadku $2$?",
        "expression": "Przypadek 2: $4 \\cdot 8 \\cdot 8 = 256$ liczb",
        "explanation": "Mnożymy: $4$ wybory cyfry jedności, $8$ dla setek, $8$ dla dziesiątek"
      },
      {
        "step": 10,
        "hint": "Jak połączyć oba przypadki w końcowy wynik?",
        "expression": "$72 + 256 = 328$",
        "explanation": "Sumujemy liczby z obu rozłącznych przypadków"
      }
    ],
    "solutions": [
      "$328$"
    ],
    "parameters": {
      "method": "Zasada mnożenia z podziałem na przypadki"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:01:20.378Z"
  },
  {
    "id": "combinatorics_phone_number",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 3,
    "statement": "Ile jest numerów telefonów stacjonarnych, składających się z $7$ cyfr takich, że pierwszą cyfrą jest $6$, a pozostałe cyfry są różne od $6$ i różne między sobą?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile możliwości mamy dla pierwszej cyfry numeru?",
        "expression": "Pierwsza cyfra: $1$ możliwość (cyfra $6$)",
        "explanation": "Pierwsza cyfra jest ustalona - musi być $6$"
      },
      {
        "step": 2,
        "hint": "Ile cyfr pozostaje do wyboru na drugą pozycję, jeśli nie może być $6$?",
        "expression": "Druga cyfra: $9$ możliwości (cyfry $0$, $1$, $2$, $3$, $4$, $5$, $7$, $8$, $9$)",
        "explanation": "Mamy $10$ cyfr, odejmujemy cyfrę $6$",
        "why": "Cyfry do wyboru: {$0$,$1$,$2$,$3$,$4$,$5$,$7$,$8$,$9$}. Nie może być $6$, ale może być $0$ - to ważne! Cyfry muszą być różne między sobą, więc każda kolejna pozycja będzie miała mniej możliwości."
      },
      {
        "step": 3,
        "hint": "Dlaczego trzecia cyfra ma mniej możliwości niż druga?",
        "expression": "Trzecia cyfra: $8$ możliwości",
        "explanation": "Odejmujemy $6$ i cyfrę już użytą na drugiej pozycji"
      },
      {
        "step": 4,
        "hint": "Jak zmienia się liczba możliwości dla kolejnych pozycji?",
        "expression": "Czwarta cyfra: $7$ możliwości, piąta: $6$ możliwości, szósta: $5$ możliwości, siódma: $4$ możliwości",
        "explanation": "Z każdą pozycją mamy o jedną cyfrę mniej do wyboru"
      },
      {
        "step": 5,
        "hint": "Jak połączyć liczbę możliwości dla wszystkich pozycji?",
        "expression": "$1 \\cdot 9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4$",
        "explanation": "Stosujemy zasadę mnożenia - mnożymy liczbę możliwości dla każdej pozycji",
        "why": "Zasada mnożenia: jeśli wybór na pozycji A można wykonać na $m$ sposobów, a na pozycji B na $n$ sposobów, to łącznie mamy $m \\cdot n$ możliwości. Tu mamy $7$ niezależnych wyborów."
      },
      {
        "step": 6,
        "hint": "Jaki jest końcowy wynik tego mnożenia?",
        "expression": "$1 \\cdot 9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 = 60480$",
        "explanation": "Obliczamy iloczyn wszystkich możliwości"
      }
    ],
    "solutions": [
      "$60480$"
    ],
    "parameters": {
      "note": "Numer 7-cyfrowy, pierwsza cyfra = $6$, pozostałe ≠ $6$ i różne między sobą"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:01:38.222Z"
  },
  {
    "id": "combinatorics_phone_numbers",
    "topic": "Reguła mnożenia w kombinatoryce",
    "difficulty": 2,
    "statement": "Ile jest numerów telefonów stacjonarnych, składających się z $7$ cyfr takich, że trzy początkowe cyfry są większe od $5$, a pozostałe - mniejsze od $6$?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry są większe od $5$?",
        "expression": "Cyfry większe od 5: $6, 7, 8, 9$ - czyli $4$ cyfry",
        "explanation": "Identyfikujemy cyfry spełniające pierwszy warunek"
      },
      {
        "step": 2,
        "hint": "Jakie cyfry są mniejsze od $6$?",
        "expression": "Cyfry mniejsze od $6$: $0, 1, 2, 3, 4, 5$ - czyli $6$ cyfr",
        "explanation": "Identyfikujemy cyfry spełniające drugi warunek"
      },
      {
        "step": 3,
        "hint": "Ile możliwości mamy dla każdej z trzech pierwszych pozycji?",
        "expression": "Dla każdej z trzech pierwszych pozycji: $4$ możliwości",
        "explanation": "Każda z pierwszych trzech cyfr może być wybrana na $4$ sposoby"
      },
      {
        "step": 4,
        "hint": "Ile możliwości mamy dla każdej z czterech ostatnich pozycji?",
        "expression": "Dla każdej z czterech ostatnich pozycji: $6$ możliwości",
        "explanation": "Każda z ostatnich czterech cyfr może być wybrana na $6$ sposobów"
      },
      {
        "step": 5,
        "hint": "Jak połączyć wybory niezależne dla różnych pozycji?",
        "expression": "Liczba numerów = $4 \\cdot 4 \\cdot 4 \\cdot 6 \\cdot 6 \\cdot 6 \\cdot 6$",
        "explanation": "Stosujemy regułę mnożenia dla wyborów niezależnych",
        "why": "Reguła mnożenia: gdy mamy kilka niezależnych wyborów, całkowitą liczbę możliwości otrzymujemy mnożąc liczby możliwości dla każdego wyboru. Każda pozycja w numerze to niezależny wybór."
      },
      {
        "step": 6,
        "hint": "Jak uprościć to wyrażenie używając potęg?",
        "expression": "Liczba numerów = $4^3 \\cdot 6^4 = 64 \\cdot 1296 = 82944$",
        "explanation": "Obliczamy wynik: $4^3 = 64$ i $6^4 = 1296$"
      }
    ],
    "solutions": [
      "$82944$"
    ],
    "parameters": {
      "first_three_digits": "większe od $5$ ($6$, $7$, $8$, $9$)",
      "last_four_digits": "mniejsze od $6$ ($0$, $1$, $2$, $3$, $4$, $5$)"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 1
      }
    },
    "timestamp": "2025-10-03T08:01:53.755Z"
  },
  {
    "id": "phone_numbers_combinatorics",
    "topic": "Kombinatoryka - reguła mnożenia",
    "difficulty": 3,
    "statement": "Ile jest numerów telefonów stacjonarnych, składających się z $7$ cyfr takich, że dwie początkowe cyfry są liczbami nieparzystymi, a pozostałe cyfry są różnymi liczbami parzystymi?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry są nieparzyste i ile ich jest?",
        "expression": "Cyfry nieparzyste: $1, 3, 5, 7, 9$ - jest ich $5$",
        "explanation": "Identyfikujemy zbiór cyfr nieparzystych dostępnych dla pierwszych dwóch pozycji"
      },
      {
        "step": 2,
        "hint": "Czy pierwsza i druga cyfra mogą się powtarzać?",
        "expression": "Pierwsza cyfra: $5$ możliwości, druga cyfra: $5$ możliwości",
        "explanation": "Cyfry nieparzyste mogą się powtarzać, więc każda pozycja ma wszystkie $5$ opcji",
        "why": "W zadaniu nie ma zakazu powtórzeń dla cyfr nieparzystych. Gdyby były różne, druga cyfra miałaby tylko $4$ możliwości."
      },
      {
        "step": 3,
        "hint": "Ile jest cyfr parzystych do wykorzystania na pozostałych pozycjach?",
        "expression": "Cyfry parzyste: $0, 2, 4, 6, 8$ - jest ich $5$",
        "explanation": "Identyfikujemy zbiór cyfr parzystych dla pozycji $3$-$7$"
      },
      {
        "step": 4,
        "hint": "Dlaczego liczba możliwości maleje z każdą kolejną pozycją?",
        "expression": "Pozycja 3: $5$ cyfr, pozycja 4: $4$ cyfry, pozycja 5: $3$ cyfry, pozycja 6: $2$ cyfry, pozycja 7: $1$ cyfra",
        "explanation": "Cyfry parzyste muszą być różne, więc z każdą wybraną cyfrą zostaje o jedną mniej",
        "why": "To permutacja bez powtórzeń - wybieramy $5$ cyfr z $5$ dostępnych w określonej kolejności. Alternatywnie: $P_5 = 5!$"
      },
      {
        "step": 5,
        "hint": "Jak połączyć wszystkie możliwości w jeden wynik?",
        "expression": "$5 \\cdot 5 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1$",
        "explanation": "Stosujemy regułę mnożenia - mnożymy liczbę możliwości dla każdej pozycji",
        "why": "Reguła mnożenia: gdy wybory są niezależne, całkowitą liczbę możliwości otrzymujemy przez mnożenie. Każda kombinacja pierwszych dwóch cyfr może wystąpić z każdą permutacją pozostałych."
      },
      {
        "step": 6,
        "hint": "Ile wynosi iloczyn $5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1$?",
        "expression": "$5 \\cdot 5 \\cdot 5! = 25 \\cdot 120 = 3000$",
        "explanation": "Obliczamy końcowy wynik"
      }
    ],
    "solutions": [
      "$3000$"
    ],
    "parameters": {
      "note": "Cyfry nieparzyste mogą się powtarzać, cyfry parzyste muszą być różne"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:02:12.808Z"
  },
  {
    "id": "phone_numbers_combinatorics",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 4,
    "statement": "Ile jest numerów telefonów stacjonarnych, składających się z $7$ cyfr takich, że pierwsza i ostatnia cyfra to jednakowe liczby pierwsze, a cyfra $7$ występuje tylko jeden raz?",
    "steps": [
      {
        "step": 1,
        "hint": "Które cyfry są liczbami pierwszymi?",
        "expression": "Cyfry pierwsze: $2$, $3$, $5$, $7$",
        "explanation": "Identyfikujemy cyfry, które mogą być na pierwszej i ostatniej pozycji",
        "why": "Liczba pierwsza to liczba naturalna większa od $1$, podzielna tylko przez $1$ i siebie. Cyfra $1$ NIE jest liczbą pierwszą! Cyfry pierwsze: $2$, $3$, $5$, $7$."
      },
      {
        "step": 2,
        "hint": "Czy cyfra $7$ może być jednocześnie na pierwszej i ostatniej pozycji?",
        "expression": "Cyfra $7$ może wystąpić TYLKO RAZ, więc nie może być jednocześnie pierwszą i ostatnią",
        "explanation": "Musimy rozpatrzyć dwa przypadki osobno",
        "why": "Jeśli $7$ byłaby pierwszą i ostatnią cyfrą, wystąpiłaby dwa razy, co narusza warunek. To kluczowy moment - trzeba podzielić problem na przypadki."
      },
      {
        "step": 3,
        "hint": "Co się stanie, gdy cyfra $7$ będzie na brzegu numeru?",
        "expression": "PRZYPADEK A: Cyfra $7$ jest pierwszą i ostatnią cyfrą (niemożliwe)",
        "explanation": "Ten przypadek nie spełnia warunku"
      },
      {
        "step": 4,
        "hint": "Ile możliwości mamy dla pierwszej i ostatniej cyfry, gdy obie to NIE $7$?",
        "expression": "PRZYPADEK B: Pierwsza i ostatnia cyfra to ta sama liczba pierwsza różna od $7$",
        "explanation": "Możliwe cyfry: $2, 3, 5$ - mamy $3$ wybory"
      },
      {
        "step": 5,
        "hint": "Gdzie może wystąpić cyfra $7$ w środkowych pozycjach?",
        "expression": "Cyfra $7$ musi wystąpić dokładnie raz na jednej z $5$ środkowych pozycji (pozycje $2$-$6$)",
        "explanation": "Mamy $5$ możliwych miejsc dla cyfry $7$"
      },
      {
        "step": 6,
        "hint": "Ile cyfr możemy wybrać na pozostałe $4$ środkowe pozycje?",
        "expression": "Na pozostałych 4 środkowych pozycjach może być dowolna cyfra z $\\{0, 1, 2, 3, 4, 5, 6, 8, 9\\}$",
        "explanation": "To $9$ cyfr (wszystkie oprócz $7$), więc $9^4$ możliwości",
        "why": "Cyfra $7$ już jest użyta, więc nie może się powtórzyć. Pozostałe cyfry ($0$-$9$ bez $7$) mogą się powtarzać dowolnie."
      },
      {
        "step": 7,
        "hint": "Jak połączyć wszystkie wybory w jeden wynik?",
        "expression": "Liczba numerów = $3 \\cdot 5 \\cdot 9^4$",
        "explanation": "Mnożymy: $3$ wybory dla brzegów × $5$ pozycji dla $7$ × $9^4$ dla pozostałych",
        "why": "Zasada mnożenia: gdy wybory są niezależne, mnożymy liczby możliwości. Każdy wybór pierwszej cyfry można połączyć z każdym wyborem pozycji dla $7$ i każdym wypełnieniem pozostałych pozycji."
      },
      {
        "step": 8,
        "hint": "Ile wynosi $9^4$?",
        "expression": "$9^4 = 9 \\cdot 9 \\cdot 9 \\cdot 9 = 81 \\cdot 81 = 6561$",
        "explanation": "Obliczamy potęgę"
      },
      {
        "step": 9,
        "hint": "Jaki jest końcowy wynik mnożenia?",
        "expression": "$3 \\cdot 5 \\cdot 6561 = 15 \\cdot 6561 = 98415$",
        "explanation": "Otrzymujemy ostateczną liczbę możliwych numerów"
      }
    ],
    "solutions": [
      "$98415$"
    ],
    "parameters": {
      "note": "Numer ma postać: $\\underline{p}\\underline{a}\\underline{b}\\underline{c}\\underline{d}\\underline{e}\\underline{p}$, gdzie $p \\in \\{2,3,5\\}$, dokładnie jedna z cyfr $a,b,c,d,e$ to $7$, pozostałe z $\\{0,1,2,3,4,5,6,8,9\\}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T08:02:38.736Z"
  },
  {
    "id": "combinatorics_phone_number",
    "topic": "Kombinatoryka - reguła mnożenia",
    "difficulty": 3,
    "statement": "Ile jest telefonicznych numerów komórkowych, składających się z dziewięciu cyfr takich, że pierwszą cyfrą jest $5$ lub $6$, trzecią cyfrą jest $0$, a pozostałe cyfry nie są ani piątką, ani szóstką, ani zerem?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr mamy do wyboru na pierwszej pozycji?",
        "expression": "Pierwsza cyfra: $2$ możliwości ($5$ lub $6$)",
        "explanation": "Z warunków zadania pierwsza cyfra może być tylko $5$ lub $6$"
      },
      {
        "step": 2,
        "hint": "Co wiemy o trzeciej cyfrze?",
        "expression": "Trzecia cyfra: $1$ możliwość (tylko $0$)",
        "explanation": "Trzecia pozycja jest już ustalona - musi być $0$"
      },
      {
        "step": 3,
        "hint": "Ile cyfr zostaje do wyboru, gdy wykluczymy $0$, $5$ i $6$?",
        "expression": "Pozostałe cyfry: $10 - 3 = 7$ możliwości",
        "explanation": "Z dziesięciu cyfr ($0$-$9$) wykluczamy trzy: $0$, $5$, $6$",
        "why": "Cyfry dozwolone to: $1$, $2$, $3$, $4$, $7$, $8$, $9$. Uwaga: cyfry mogą się powtarzać na różnych pozycjach!"
      },
      {
        "step": 4,
        "hint": "Ile pozycji w numerze musi być wypełnionych cyframi z puli $7$ możliwości?",
        "expression": "Pozycje z $7$ możliwościami: $9 - 2 = 7$ pozycji",
        "explanation": "Odejmujemy pozycję pierwszą i trzecią, które są już określone",
        "why": "Pozycje $2$, $4$, $5$, $6$, $7$, $8$, $9$ mogą mieć dowolną cyfrę z siedmiu dozwolonych. Każda pozycja niezależnie!"
      },
      {
        "step": 5,
        "hint": "Jak połączyć wybory na wszystkich pozycjach w jeden wynik?",
        "expression": "$2 \\cdot 1 \\cdot 7 \\cdot 7 \\cdot 7 \\cdot 7 \\cdot 7 \\cdot 7 \\cdot 7 = 2 \\cdot 7^7$",
        "explanation": "Mnożymy liczbę możliwości na każdej pozycji",
        "why": "Reguła mnożenia: gdy wybory są niezależne, mnożymy liczby możliwości. Struktura: $(1. \\text{ pozycja}) \\cdot (2. \\text{ pozycja}) \\cdot (3. \\text{ pozycja}) \\cdot \\ldots \\cdot (9. \\text{ pozycja})$"
      },
      {
        "step": 6,
        "hint": "Ile wynosi $7^7$?",
        "expression": "$7^7 = 823543$",
        "explanation": "Obliczamy potęgę"
      },
      {
        "step": 7,
        "hint": "Jaki jest końcowy wynik?",
        "expression": "$2 \\cdot 823543 = 1647086$",
        "explanation": "Mnożymy przez liczbę możliwości na pierwszej pozycji"
      }
    ],
    "solutions": [
      "$1647086$ numerów"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:02:56.531Z"
  },
  {
    "id": "combinatorics_phone_numbers",
    "topic": "Kombinatoryka - permutacje z ograniczeniami",
    "difficulty": 3,
    "statement": "Ile jest telefonicznych numerów komórkowych, składających się z dziewięciu cyfr takich, że każda cyfra jest inna i na pierwszym miejscu nie występuje $0$?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry możemy użyć do stworzenia numeru?",
        "expression": "Mamy do dyspozycji cyfry: $0, 1, 2, 3, 4, 5, 6, 7, 8, 9$ (łącznie $10$ cyfr)",
        "explanation": "Identyfikujemy zbiór dostępnych cyfr"
      },
      {
        "step": 2,
        "hint": "Dlaczego pierwsza pozycja jest wyjątkowa?",
        "expression": "Pierwsza pozycja: $9$ możliwości (cyfry $1-9$, bez $0$)",
        "explanation": "Na pierwszym miejscu nie może być $0$, więc mamy $9$ wyborów",
        "why": "To kluczowe ograniczenie! Gdyby $0$ było dozwolone, mielibyśmy $10$ wyborów. Ograniczenia zawsze rozpatrujemy jako pierwsze."
      },
      {
        "step": 3,
        "hint": "Ile cyfr pozostało do wyboru na drugą pozycję?",
        "expression": "Druga pozycja: $9$ możliwości ($10$ cyfr minus jedna już użyta)",
        "explanation": "Użyliśmy jedną cyfrę, zostało $9$ różnych cyfr (w tym $0$)"
      },
      {
        "step": 4,
        "hint": "Jak zmienia się liczba dostępnych cyfr na kolejnych pozycjach?",
        "expression": "Trzecia pozycja: $8$ możliwości, czwarta: $7$, piąta: $6$, szósta: $5$, siódma: $4$, ósma: $3$, dziewiąta: $2$",
        "explanation": "Z każdą pozycją liczba dostępnych cyfr maleje o $1$",
        "why": "To permutacja bez powtórzeń - każda cyfra może wystąpić tylko raz. Gdyby cyfry mogły się powtarzać, na każdej pozycji mielibyśmy tyle samo możliwości."
      },
      {
        "step": 5,
        "hint": "Jak połączyć wybory na wszystkich pozycjach w jedną liczbę?",
        "expression": "$9 \\cdot 9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2$",
        "explanation": "Mnożymy liczbę możliwości na każdej pozycji (reguła mnożenia)",
        "why": "Reguła mnożenia: gdy mamy sekwencję niezależnych wyborów, mnożymy ich liczności. Uwaga: to NIE jest $9!$, bo pierwsza pozycja ma inne ograniczenie!"
      },
      {
        "step": 6,
        "hint": "Jak uprościć ten iloczyn używając silni?",
        "expression": "$9 \\cdot 9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2 = 9 \\cdot \\frac{9!}{1!} = 9 \\cdot 9!$",
        "explanation": "Zauważamy, że $9 \\cdot 8 \\cdot 7 \\cdot ... \\cdot 2 = 9!$"
      },
      {
        "step": 7,
        "hint": "Jaki jest końcowy wynik obliczeń?",
        "expression": "$9 \\cdot 9! = 9 \\cdot 362880 = 3265920$",
        "explanation": "Obliczamy wartość liczbową"
      }
    ],
    "solutions": [
      "$3265920$"
    ],
    "parameters": {
      "constraints": "9 cyfr, wszystkie różne, pierwsza cyfra $\\neq 0$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:03:16.481Z"
  },
  {
    "id": "phone_numbers_sequence",
    "topic": "Kombinatoryka - ciągi malejące",
    "difficulty": 3,
    "statement": "Ile jest telefonicznych numerów komórkowych, składających się z dziewięciu cyfr takich, że każda kolejna cyfra tego numeru jest liczbą o $1$ mniejszą od poprzedniej?",
    "steps": [
      {
        "step": 1,
        "hint": "Jeśli każda cyfra jest o $1$ mniejsza od poprzedniej, co możesz powiedzieć o całym ciągu cyfr?",
        "expression": "Numer tworzy ciąg malejący: $c_1, c_1-1, c_1-2, ..., c_1-8$",
        "explanation": "Każda kolejna cyfra to poprzednia minus $1$",
        "why": "Kluczowe spostrzeżenie: znając pierwszą cyfrę $c_1$, automatycznie znamy wszystkie pozostałe! Numer jest jednoznacznie określony przez wybór $c_1$."
      },
      {
        "step": 2,
        "hint": "Ile cyfr musi 'zmieścić się' w ciągu od pierwszej do ostatniej?",
        "expression": "Potrzebujemy $9$ kolejnych cyfr: $c_1, c_1-1, c_1-2, c_1-3, c_1-4, c_1-5, c_1-6, c_1-7, c_1-8$",
        "explanation": "Od pierwszej do dziewiątej cyfry musimy zejść o $8$"
      },
      {
        "step": 3,
        "hint": "Jaka musi być minimalna wartość pierwszej cyfry, żeby ostatnia była jeszcze cyfrą?",
        "expression": "Ostatnia cyfra: $c_1 - 8 \\geq 0$, więc $c_1 \\geq 8$",
        "explanation": "Ostatnia cyfra nie może być ujemna",
        "why": "Cyfry to liczby od $0$ do $9$. Jeśli $c_1 = 7$, to ostatnia cyfra byłaby $7-8 = -1$, co nie jest cyfrą!"
      },
      {
        "step": 4,
        "hint": "Jaka może być maksymalna wartość pierwszej cyfry?",
        "expression": "Pierwsza cyfra: $c_1 \\leq 9$",
        "explanation": "Cyfra nie może być większa niż $9$"
      },
      {
        "step": 5,
        "hint": "Ile wartości może przyjąć pierwsza cyfra w wyznaczonym zakresie?",
        "expression": "$c_1 \\in \\{8, 9\\}$",
        "explanation": "Tylko dwie możliwe wartości spełniają oba warunki",
        "why": "Dla $c_1 = 8$: numer $876543210$. Dla $c_1 = 9$: numer $987654321$. Każda inna wartość daje cyfry spoza zakresu $0$-$9$."
      },
      {
        "step": 6,
        "hint": "Skoro każdy wybór pierwszej cyfry daje dokładnie jeden numer, ile jest wszystkich numerów?",
        "expression": "Liczba numerów = $2$",
        "explanation": "Dwa możliwe numery: $876543210$ i $987654321$"
      }
    ],
    "solutions": [
      "$2$"
    ],
    "parameters": {
      "possible_numbers": [
        "876543210",
        "987654321"
      ]
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:03:32.687Z"
  },
  {
    "id": "combinatorics_phone_numbers",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 3,
    "statement": "Ile jest telefonicznych numerów komórkowych, składających się z dziewięciu cyfr takich, że pierwsza, trzecia, piąta, siódma i dziewiąta cyfra jest taka sama i jest liczbą nieparzystą, zaś pozostałe cyfry są różnymi liczbami parzystymi?",
    "steps": [
      {
        "step": 1,
        "hint": "Które pozycje w numerze mają być takie same i jakie cyfry mogą tam wystąpić?",
        "expression": "Pozycje $1$, $3$, $5$, $7$, $9$: ta sama cyfra nieparzysta",
        "explanation": "Identyfikujemy pozycje z cyframi nieparzystymi",
        "why": "Kluczowe jest zrozumienie, że te pięć pozycji to jedna decyzja - wybieramy jedną cyfrę nieparzystą, która pojawi się na wszystkich tych miejscach."
      },
      {
        "step": 2,
        "hint": "Ile cyfr nieparzystych możemy wybrać na pozycje $1$, $3$, $5$, $7$, $9$?",
        "expression": "Cyfry nieparzyste: $1, 3, 5, 7, 9$ - jest ich $5$",
        "explanation": "Mamy $5$ możliwości wyboru cyfry nieparzystej"
      },
      {
        "step": 3,
        "hint": "Które pozycje mają być różnymi cyframi parzystymi?",
        "expression": "Pozycje $2$, $4$, $6$, $8$: różne cyfry parzyste",
        "explanation": "Pozostałe cztery pozycje wypełniamy różnymi cyframi parzystymi"
      },
      {
        "step": 4,
        "hint": "Ile cyfr parzystych mamy do dyspozycji i czy kolejność wyboru ma znaczenie?",
        "expression": "Cyfry parzyste: $0, 2, 4, 6, 8$ - jest ich $5$",
        "explanation": "Mamy $5$ cyfr parzystych, z których wybieramy $4$ różne",
        "why": "Kolejność ma znaczenie, bo cyfra na pozycji $2$ to inna pozycja niż na pozycji $4$. To nie kombinacja, a wariacja - liczy się kolejność wyboru!"
      },
      {
        "step": 5,
        "hint": "Jak obliczyć liczbę sposobów ustawienia 4 różnych cyfr parzystych na 4 pozycjach?",
        "expression": "Na pozycję 2: $5$ możliwości, na pozycję 4: $4$ możliwości, na pozycję 6: $3$ możliwości, na pozycję 8: $2$ możliwości",
        "explanation": "Każda kolejna pozycja ma o jedną możliwość mniej, bo cyfry muszą być różne"
      },
      {
        "step": 6,
        "hint": "Jak połączyć liczbę wyborów dla cyfr nieparzystych i parzystych?",
        "expression": "$5 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2$",
        "explanation": "Stosujemy zasadę mnożenia: mnożymy liczbę możliwości dla każdej niezależnej decyzji",
        "why": "Zasada mnożenia: gdy mamy kilka niezależnych decyzji, całkowitą liczbę możliwości otrzymujemy mnożąc liczby możliwości dla każdej decyzji."
      },
      {
        "step": 7,
        "hint": "Jaki jest końcowy wynik obliczeń?",
        "expression": "$5 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2 = 5 \\cdot 120 = 600$",
        "explanation": "Obliczamy iloczyn wszystkich możliwości"
      }
    ],
    "solutions": [
      "$600$"
    ],
    "parameters": {
      "note": "Cyfry na pozycjach $2$, $4$, $6$, $8$ muszą być różne"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:03:56.280Z"
  },
  {
    "id": "combinatorics_four_digit_odd",
    "topic": "Kombinatoryka - permutacje z ograniczeniami",
    "difficulty": 3,
    "statement": "Ile liczb czterocyfrowych nieparzystych, w których wszystkie cyfry są różne, można utworzyć z cyfr $1, 2, 3, 4, 5, 6, 7$?",
    "steps": [
      {
        "step": 1,
        "hint": "Które cyfry mogą stać na ostatnim miejscu, aby liczba była nieparzysta?",
        "expression": "Cyfry nieparzyste: $1, 3, 5, 7$ - mamy $4$ możliwości",
        "explanation": "Liczba jest nieparzysta, gdy kończy się cyfrą nieparzystą",
        "why": "Parzystość liczby zależy TYLKO od ostatniej cyfry. To kluczowe ograniczenie - zaczynamy od niego, bo najbardziej zawęża wybór."
      },
      {
        "step": 2,
        "hint": "Dlaczego warto najpierw wybrać ostatnią cyfrę, a nie pierwszą?",
        "expression": "Ustalamy ostatnią cyfrę: $4$ sposoby",
        "explanation": "Wybieramy jedną z czterech cyfr nieparzystych na ostatnie miejsce",
        "why": "Strategia: zaczynamy od najbardziej ograniczonego miejsca. Gdybyśmy zaczęli od pierwszej cyfry, musielibyśmy rozpatrywać dwa przypadki (parzysta/nieparzysta)."
      },
      {
        "step": 3,
        "hint": "Ile cyfr pozostało do wyboru na pierwsze miejsce po ustaleniu ostatniej?",
        "expression": "Pierwsza cyfra: $6$ możliwości",
        "explanation": "Zostało $6$ cyfr (jedna została użyta na końcu), wszystkie można użyć na początku",
        "why": "W liczbach czterocyfrowych pierwsza cyfra nie może być zerem, ale $0$ nie jest w naszym zbiorze, więc nie ma dodatkowych ograniczeń."
      },
      {
        "step": 4,
        "hint": "Jak zmienia się liczba dostępnych cyfr dla kolejnych miejsc?",
        "expression": "Druga cyfra: $5$ możliwości, trzecia cyfra: $4$ możliwości",
        "explanation": "Dla każdego kolejnego miejsca mamy o jedną cyfrę mniej (cyfry muszą być różne)"
      },
      {
        "step": 5,
        "hint": "Jak połączyć liczbę możliwości dla wszystkich miejsc?",
        "expression": "$4 \\cdot 6 \\cdot 5 \\cdot 4 = 480$",
        "explanation": "Mnożymy liczbę możliwości dla każdego miejsca (reguła mnożenia)",
        "why": "Reguła mnożenia: gdy wybory są niezależne, mnożymy liczby możliwości. Kolejność: ostatnia $4$ × pierwsza $6$ × druga $5$ × trzecia $4$."
      }
    ],
    "solutions": [
      "$480$"
    ],
    "parameters": {
      "available_digits": "$1, 2, 3, 4, 5, 6, 7$",
      "constraints": "liczba czterocyfrowa, nieparzysta, cyfry różne"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T08:04:16.915Z"
  },
  {
    "id": "combinatorics_even_five_digit",
    "topic": "Kombinatoryka - permutacje z ograniczeniami",
    "difficulty": 4,
    "statement": "Ile liczb pięciocyfrowych parzystych, w których wszystkie cyfry są różne, można utworzyć z cyfr $1,2,3,4,5,6,7,8,9$?",
    "steps": [
      {
        "step": 1,
        "hint": "Która cyfra decyduje o parzystości liczby?",
        "expression": "Ostatnia cyfra musi być parzysta: $2, 4, 6$ lub $8$",
        "explanation": "Liczba jest parzysta, gdy kończy się cyfrą parzystą",
        "why": "W kombinatoryce z ograniczeniami zaczynamy od najbardziej restrykcyjnego warunku. Tu: tylko $4$ z $9$ cyfr mogą być na końcu."
      },
      {
        "step": 2,
        "hint": "Dlaczego warto zacząć od wyboru ostatniej cyfry?",
        "expression": "Wybieramy ostatnią cyfrę: $4$ możliwości",
        "explanation": "Najpierw ustalamy cyfrę z największym ograniczeniem",
        "why": "Strategia: najpierw pozycje z ograniczeniami, potem wolne. Gdybyśmy zaczęli od pierwszej cyfry, musielibyśmy rozważać przypadki w zależności od tego, czy wybraliśmy cyfrę parzystą czy nie."
      },
      {
        "step": 3,
        "hint": "Ile cyfr pozostało do wyboru na pierwszą pozycję?",
        "expression": "Pierwsza cyfra: $8$ możliwości",
        "explanation": "Zostało $8$ cyfr ($9$ minus jedna użyta na końcu)",
        "why": "Cyfry muszą być różne, więc każdy wybór zmniejsza pulę dostępnych cyfr o $1$."
      },
      {
        "step": 4,
        "hint": "Jak zmienia się liczba dostępnych cyfr dla kolejnych pozycji?",
        "expression": "Druga cyfra: $7$ możliwości, trzecia: $6$ możliwości, czwarta: $5$ możliwości",
        "explanation": "Z każdym wyborem zostaje coraz mniej dostępnych cyfr"
      },
      {
        "step": 5,
        "hint": "Jak połączyć wszystkie wybory w jedną liczbę możliwości?",
        "expression": "Całkowita liczba = $4 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5$",
        "explanation": "Mnożymy liczby możliwości dla każdej pozycji (reguła mnożenia)",
        "why": "Reguła mnożenia: gdy mamy sekwencję niezależnych wyborów, mnożymy ich liczności. Tu: dla każdego z $4$ wyborów ostatniej cyfry mamy $8 \\cdot 7 \\cdot 6 \\cdot 5$ sposobów wypełnienia reszty."
      },
      {
        "step": 6,
        "hint": "Jaki jest końcowy wynik obliczeń?",
        "expression": "$4 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 = 6720$",
        "explanation": "Obliczamy iloczyn"
      }
    ],
    "solutions": [
      "$6720$"
    ],
    "parameters": {
      "digits": "$1,2,3,4,5,6,7,8,9$",
      "conditions": "liczba pięciocyfrowa, parzysta, cyfry różne"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T08:04:40.900Z"
  },
  {
    "id": "combinatorics_three_digit",
    "topic": "Kombinatoryka - liczby trzycyfrowe z warunkami",
    "difficulty": 4,
    "statement": "Ile jest liczb trzycyfrowych o różnych cyfrach, utworzonych z cyfr należących do zbioru $\\{4,5,6,7,8,9\\}$ i jednocześnie większych od $666$?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy każda cyfra setek da liczbę większą od $666$?",
        "expression": "Liczby większe od 666: cyfra setek to $7$, $8$ lub $9$ (3 możliwości) LUB cyfra setek to $6$ z dodatkowymi warunkami",
        "explanation": "Dzielimy problem na przypadki ze względu na cyfrę setek",
        "why": "Warunek 'większe od 666' wymaga analizy przypadków. Gdy setki $\\geq 7$, warunek spełniony automatycznie. Gdy setki $= 6$, musimy sprawdzić dziesiątki i jedności."
      },
      {
        "step": 2,
        "hint": "Ile liczb możesz utworzyć, gdy cyfra setek to $7$, $8$ lub $9$?",
        "expression": "Przypadek 1 (setki: $7$, $8$ lub $9$): $3 \\cdot 5 \\cdot 4 = 60$ liczb",
        "explanation": "$3$ wybory na setki, $5$ pozostałych cyfr na dziesiątki (różne od setek), $4$ na jedności (różne od setek i dziesiątek)"
      },
      {
        "step": 3,
        "hint": "Gdy cyfra setek to $6$, jakie cyfry dziesiątek dadzą liczbę > $666$?",
        "expression": "Przypadek 2a (setki: $6$, dziesiątki: $7$, $8$ lub $9$): $1 \\cdot 3 \\cdot 4 = 12$ liczb",
        "explanation": "$1$ wybór na setki $(6)$, $3$ wybory na dziesiątki $(7, 8, 9)$, $4$ na jedności (różne od $6$ i wybranej dziesiątki)",
        "why": "Gdy setki $= 6$ i dziesiątki $\\geq 7$, liczba automatycznie $> 666$, niezależnie od jedności."
      },
      {
        "step": 4,
        "hint": "Co z liczbami postaci $66_$? Które cyfry jedności sprawią, że $66_ > 666$?",
        "expression": "Przypadek 2b (setki: $6$, dziesiątki: $6$): niemożliwe, bo cyfry muszą być różne",
        "explanation": "Warunek 'różne cyfry' wyklucza $66$_"
      },
      {
        "step": 5,
        "hint": "A gdy setki to $6$, a dziesiątki to $4$ lub $5$?",
        "expression": "Przypadek 2c (setki: $6$, dziesiątki: $4$ lub $5$): $0$ liczb",
        "explanation": "Liczby $64$ i $65$ są mniejsze od $666$",
        "why": "Częsty błąd: zapomnienie sprawdzenia wszystkich kombinacji. $64$ i $65$ nie spełniają warunku $> 666$."
      },
      {
        "step": 6,
        "hint": "Jak połączyć wszystkie przypadki w końcowy wynik?",
        "expression": "Suma wszystkich przypadków: $60 + 12 + 0 = 72$",
        "explanation": "Dodajemy liczby z rozłącznych przypadków"
      }
    ],
    "solutions": [
      "$72$"
    ],
    "parameters": {
      "digits_set": "$\\{4,5,6,7,8,9\\}$",
      "condition": "liczby trzycyfrowe, różne cyfry, większe od $666$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:05:01.820Z"
  },
  {
    "id": "combinatorics_three_digit",
    "topic": "Kombinatoryka - liczby trzycyfrowe z warunkami",
    "difficulty": 4,
    "statement": "Ile jest liczb trzycyfrowych o różnych cyfrach, utworzonych z cyfr należących do zbioru $\\{1,2,3,4,5,6,7\\}$ i jednocześnie mniejszych od $444$?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry na pierwszym miejscu sprawią, że liczba będzie mniejsza od $444$?",
        "expression": "Cyfra setek może być: $1$, $2$ lub $3$",
        "explanation": "Liczby zaczynające się od $4$ lub więcej byłyby za duże",
        "why": "Kluczowy podział problemu! Gdy setki $= 1,2,3$ to ZAWSZE $< 444$. Gdy setki $= 4$, musimy sprawdzić dziesiątki i jedności osobno."
      },
      {
        "step": 2,
        "hint": "Ile mamy możliwości wyboru cyfr dla liczb postaci $1\\_\\_$, $2\\_\\_$ i $3\\_\\_$?",
        "expression": "Dla każdej z cyfr setek $\\{1, 2, 3\\}$: dziesiątki - $6$ możliwości, jedności - $5$ możliwości",
        "explanation": "Cyfry muszą być różne, więc po wyborze setek zostaje $6$ cyfr na dziesiątki, potem $5$ na jedności"
      },
      {
        "step": 3,
        "hint": "Ile łącznie liczb otrzymamy dla cyfr setek $1$, $2$ i $3$?",
        "expression": "$3 \\cdot 6 \\cdot 5 = 90$",
        "explanation": "Mnożymy liczbę możliwości dla każdej pozycji"
      },
      {
        "step": 4,
        "hint": "Co z liczbami zaczynającymi się od $4$? Które cyfry na drugim miejscu dadzą liczbę < $444$?",
        "expression": "Dla cyfry setek $4$: dziesiątki mogą być tylko $1$, $2$ lub $3$",
        "explanation": "Liczby $44$ byłyby $\\geq 440$, więc za duże",
        "why": "Gdy setki = $4$, to dziesiątki < $4$ gwarantują liczbę < $440$ < $444$. Uwaga: $4$ nie może być na drugim miejscu (cyfry różne!)."
      },
      {
        "step": 5,
        "hint": "Ile liczb postaci $41_{}$, $42_{}$ i $43_{}$ możemy utworzyć?",
        "expression": "Dla każdej z cyfr dziesiątek $\\{1, 2, 3\\}$: jedności - $5$ możliwości",
        "explanation": "Po wyborze $4$ i jednej z $\\{1,2,3\\}$ zostaje $5$ cyfr na jedności"
      },
      {
        "step": 6,
        "hint": "Ile łącznie liczb otrzymamy zaczynających się od $4$?",
        "expression": "$3 \\cdot 5 = 15$",
        "explanation": "$3$ możliwości na dziesiątki, $5$ na jedności"
      },
      {
        "step": 7,
        "hint": "Jak połączyć oba przypadki w końcowy wynik?",
        "expression": "$90 + 15 = 105$",
        "explanation": "Sumujemy liczby z obu rozłącznych przypadków"
      }
    ],
    "solutions": [
      "$105$"
    ],
    "parameters": {
      "available_digits": "$\\{1,2,3,4,5,6,7\\}$",
      "constraint": "$liczba < 444$, cyfry różne"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:05:26.628Z"
  },
  {
    "id": "combinatorics_three_digit_numbers",
    "topic": "Kombinatoryka - liczby trzycyfrowe z warunkami",
    "difficulty": 4,
    "statement": "Ile jest liczb trzycyfrowych o różnych cyfrach, utworzonych z cyfr należących do zbioru $\\{1,2,3,4,5,6,7,8,9\\}$ i jednocześnie mniejszych od $780$?",
    "steps": [
      {
        "step": 1,
        "hint": "Dlaczego warunek $< 780$ wpływa na wybór pierwszej cyfry?",
        "expression": "Liczba trzycyfrowa: $\\overline{abc}$ gdzie $a, b, c \\in \\{1,2,3,4,5,6,7,8,9\\}$ i $a \\neq b \\neq c \\neq a$",
        "explanation": "Zapisujemy strukturę liczby i warunki zadania",
        "why": "Warunek $< 780$ oznacza, że pierwsza cyfra nie może być dowolna. Musimy rozważyć przypadki osobno, bo dla $a < 7$ nie ma ograniczeń na $b$, ale dla $a = 7$ już tak."
      },
      {
        "step": 2,
        "hint": "Na ile sposobów możesz wybrać pierwszą cyfrę, gdy liczba ma być < $780$?",
        "expression": "Przypadek 1: $a \\in \\{1,2,3,4,5,6\\}$ (6 możliwości)\nPrzypadek 2: $a = 7$",
        "explanation": "Dzielimy na przypadki ze względu na pierwszą cyfrę"
      },
      {
        "step": 3,
        "hint": "Ile cyfr pozostaje do wyboru dla $b$ i $c$, gdy $a$ jest już wybrane?",
        "expression": "Przypadek 1 ($a \\in \\{1,2,3,4,5,6\\}$):\n$a$: $6$ możliwości\n$b$: $8$ możliwości (9 cyfr minus wybrane $a$)\n$c$: $7$ możliwości (9 cyfr minus $a$ i $b$)",
        "explanation": "Dla każdej kolejnej pozycji mamy o jedną cyfrę mniej do wyboru",
        "why": "Cyfry muszą być różne, więc każdy wybór zmniejsza pulę dostępnych cyfr. To zasada mnożenia: wybory są niezależne, więc mnożymy liczby możliwości."
      },
      {
        "step": 4,
        "hint": "Jak obliczyć całkowitą liczbę możliwości dla pierwszego przypadku?",
        "expression": "Przypadek 1: $6 \\cdot 8 \\cdot 7 = 336$",
        "explanation": "Mnożymy liczby możliwości dla każdej pozycji"
      },
      {
        "step": 5,
        "hint": "Gdy $a = 7$, jakie wartości może przyjąć $b$, aby liczba była < $780$?",
        "expression": "Przypadek 2 ($a = 7$):\nWarunek: $\\overline{7bc} < 780$, więc $b \\in \\{0,1,2,3,4,5,6\\}$\nAle $b \\neq 0$ (cyfry z zadanego zbioru), więc $b \\in \\{1,2,3,4,5,6\\}$",
        "explanation": "Dla $a = 7$ druga cyfra musi być mniejsza od $8$",
        "why": "Gdy $a = 7$ i $b \\geq 8$, otrzymamy liczbę $\\geq 780$. Dodatkowo $b \\neq 7$ (cyfry różne), ale to już zawarte w warunku $b < 8$."
      },
      {
        "step": 6,
        "hint": "Ile cyfr możesz wybrać na pozycję $c$, gdy $a = 7$ i $b$ jest już wybrane?",
        "expression": "Przypadek 2:\n$a = 7$: 1 możliwość\n$b \\in \\{1,2,3,4,5,6\\}$: 6 możliwości\n$c$: 7 możliwości (9 cyfr minus $a$ i $b$)",
        "explanation": "Dla trzeciej cyfry mamy $9$ cyfr minus $2$ już użyte"
      },
      {
        "step": 7,
        "hint": "Jak obliczyć liczbę możliwości dla drugiego przypadku?",
        "expression": "Przypadek 2: $1 \\cdot 6 \\cdot 7 = 42$",
        "explanation": "Mnożymy liczby możliwości"
      },
      {
        "step": 8,
        "hint": "Jak połączyć wyniki z obu rozłącznych przypadków?",
        "expression": "Suma: $336 + 42 = 378$",
        "explanation": "Dodajemy wyniki, bo przypadki się wykluczają (liczba albo ma $a < 7$, albo $a = 7$)"
      }
    ],
    "solutions": [
      "$378$"
    ],
    "parameters": {
      "set": "$\\{1,2,3,4,5,6,7,8,9\\}$",
      "condition": "liczby trzycyfrowe o różnych cyfrach < $780$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:06:01.166Z"
  },
  {
    "id": "three_digit_divisible_25",
    "topic": "Kombinatoryka i podzielność",
    "difficulty": 3,
    "statement": "Ile jest liczb trzycyfrowych o różnych cyfrach, podzielnych przez $25$?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakimi cyframi musi kończyć się liczba podzielna przez $25$?",
        "expression": "Liczba podzielna przez $25$ kończy się na: $00$, $25$, $50$ lub $75$",
        "explanation": "Sprawdzamy możliwe zakończenia liczb podzielnych przez $25$",
        "why": "Liczba jest podzielna przez $25$, gdy jej dwie ostatnie cyfry tworzą liczbę podzielną przez $25$. To kluczowe dla dalszego rozwiązania."
      },
      {
        "step": 2,
        "hint": "Które zakończenia dają różne cyfry w liczbie trzycyfrowej?",
        "expression": "Odrzucamy $00$ (cyfry się powtarzają), zostają: $25$, $50$, $75$",
        "explanation": "Zakończenie $00$ nie spełnia warunku różnych cyfr",
        "why": "Warunek 'różne cyfry' eliminuje przypadek $00$. Musimy rozpatrzyć każde zakończenie osobno, bo dają różną liczbę możliwości."
      },
      {
        "step": 3,
        "hint": "Ile cyfr możesz wybrać na pierwszą pozycję dla liczby $\\ldots25$?",
        "expression": "Dla zakończenia $25$: pierwsza cyfra może być $1$, $3$, $4$, $6$, $7$, $8$, $9$ ($7$ możliwości)",
        "explanation": "Nie może być $0$ (nie byłaby trzycyfrowa), $2$ ani $5$ (powtórzyłyby się)",
        "why": "Pierwsza cyfra nie może być $0$ (liczba przestałaby być trzycyfrowa) ani $2$, $5$ (muszą być różne cyfry)."
      },
      {
        "step": 4,
        "hint": "Ile cyfr możesz wybrać na pierwszą pozycję dla liczby ...$50$?",
        "expression": "Dla zakończenia $50$: pierwsza cyfra może być $1$, $2$, $3$, $4$, $6$, $7$, $8$, $9$ ($8$ możliwości)",
        "explanation": "Nie może być $0$ (nie byłaby trzycyfrowa) ani $5$ (powtórzyłaby się)",
        "why": "Tu mamy więcej możliwości niż dla $25$, bo cyfra $2$ jest dostępna."
      },
      {
        "step": 5,
        "hint": "Ile cyfr możesz wybrać na pierwszą pozycję dla liczby ...75?",
        "expression": "Dla zakończenia $75$: pierwsza cyfra może być $1$, $2$, $3$, $4$, $6$, $8$, $9$ ($7$ możliwości)",
        "explanation": "Nie może być $0$ (nie byłaby trzycyfrowa), $7$ ani $5$ (powtórzyłyby się)"
      },
      {
        "step": 6,
        "hint": "Jak zsumować wszystkie możliwości?",
        "expression": "$7 + 8 + 7 = 22$",
        "explanation": "Sumujemy liczby dla wszystkich trzech zakończeń"
      }
    ],
    "solutions": [
      "$22$"
    ],
    "parameters": {
      "conditions": "liczby trzycyfrowe, różne cyfry, podzielne przez $25$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T08:06:23.382Z"
  },
  {
    "id": "three_digit_divisible_by_4",
    "topic": "Kombinatoryka i podzielność",
    "difficulty": 4,
    "statement": "Ile jest liczb trzycyfrowych o różnych cyfrach, podzielnych przez $4$?",
    "steps": [
      {
        "step": 1,
        "hint": "Co decyduje o podzielności liczby przez $4$?",
        "expression": "Liczba jest podzielna przez $4$, gdy jej dwie ostatnie cyfry tworzą liczbę podzielną przez $4$",
        "explanation": "Wykorzystujemy cechę podzielności przez $4$",
        "why": "Nie sprawdzamy całej liczby! Wystarczy patrzeć na dwie ostatnie cyfry. Np. $316$ jest podzielna przez $4$, bo $16$ jest podzielna przez $4$."
      },
      {
        "step": 2,
        "hint": "Ile jest dwucyfrowych liczb podzielnych przez 4?",
        "expression": "Liczby od $04$, $08$, $12$, ..., $96$: jest ich $\\frac{96 - 4}{4} + 1 = 24$",
        "explanation": "Liczymy dwucyfrowe zakończenia podzielne przez $4$"
      },
      {
        "step": 3,
        "hint": "Które z tych zakończeń mają różne cyfry?",
        "expression": "Odrzucamy: $00$, $44$, $88$ (cyfry się powtarzają), zostaje $24 - 3 = 21$ zakończeń",
        "explanation": "Eliminujemy zakończenia z powtarzającymi się cyframi"
      },
      {
        "step": 4,
        "hint": "Jak podzielić te zakończenia ze względu na obecność zera?",
        "expression": "Zakończenia z zerem: $04$, $20$, $24$, $40$, $60$, $64$, $80$ (7 sztuk)\nZakończenia bez zera: pozostałe $21 - 7 = 14$ sztuk",
        "explanation": "Rozdzielamy przypadki, bo zero na początku ma znaczenie",
        "why": "Liczba nie może zaczynać się od zera! Przypadki z zerem w zakończeniu wymagają osobnego rozpatrzenia."
      },
      {
        "step": 5,
        "hint": "Ile cyfr możesz wybrać na pierwszą pozycję, gdy zakończenie zawiera zero?",
        "expression": "Dla zakończeń z zerem: pierwsza cyfra może być dowolna z $\\{1,2,...,9\\}$ oprócz drugiej cyfry zakończenia\nDla każdego z $7$ zakończeń: $9 - 1 = 8$ możliwości\nRazem: $7 \\cdot 8 = 56$ liczb",
        "explanation": "Liczymy liczby z zerem w zakończeniu"
      },
      {
        "step": 6,
        "hint": "A gdy zakończenie nie ma zera - czy pierwsza cyfra może być $0$?",
        "expression": "Dla zakończeń bez zera: pierwsza cyfra z $\\{0,1,2,...,9\\}$ oprócz dwóch cyfr zakończenia\nDla każdego z $14$ zakończeń: $10 - 2 = 8$ możliwości\nRazem: $14 \\cdot 8 = 112$ liczb",
        "explanation": "Liczymy liczby bez zera w zakończeniu",
        "why": "Tu zero MOŻE być na pierwszej pozycji w zbiorze cyfr, ale wtedy liczba nie byłaby trzycyfrowa - dlatego odejmujemy $2$ (obie cyfry z zakończenia)."
      },
      {
        "step": 7,
        "hint": "Jak połączyć oba przypadki?",
        "expression": "$56 + 112 = 168$",
        "explanation": "Sumujemy liczby z obu przypadków"
      }
    ],
    "solutions": [
      "$168$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:06:49.026Z"
  },
  {
    "id": "combinatorics_divisibility_25",
    "topic": "Kombinatoryka z warunkami podzielności",
    "difficulty": 4,
    "statement": "Ile jest liczb czterocyfrowych o różnych cyfrach i jednocześnie podzielnych przez $25$?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie dwie ostatnie cyfry musi mieć liczba podzielna przez $25$?",
        "expression": "Liczba podzielna przez $25$ kończy się na: $00$, $25$, $50$ lub $75$",
        "explanation": "Sprawdzamy możliwe zakończenia liczb podzielnych przez $25$",
        "why": "Liczba jest podzielna przez $25$ wtedy i tylko wtedy, gdy jej dwie ostatnie cyfry tworzą liczbę podzielną przez $25$. To kluczowy warunek, który ogranicza nasze możliwości."
      },
      {
        "step": 2,
        "hint": "Które zakończenia możemy odrzucić ze względu na warunek różnych cyfr?",
        "expression": "Odrzucamy $00$ (powtarzające się cyfry), zostają: $25$, $50$, $75$",
        "explanation": "Zakończenie $00$ ma dwie identyczne cyfry, więc nie spełnia warunku",
        "why": "Warunek 'różnych cyfr' eliminuje $00$. Uwaga: w $50$ cyfry są różne ($5 \\neq 0$)!"
      },
      {
        "step": 3,
        "hint": "Dlaczego liczba nie może zaczynać się od zera?",
        "expression": "Pierwsza cyfra (tysiące): nie może być $0$, ani cyfrą już użytą na końcu",
        "explanation": "Liczba czterocyfrowa musi mieć pierwszą cyfrę różną od $0$"
      },
      {
        "step": 4,
        "hint": "Ile mamy możliwości wyboru dla zakończenia $25$?",
        "expression": "Zakończenie $25$: pierwsza cyfra z $\\{1,3,4,6,7,8,9\\}$ ($7$ opcji), druga z pozostałych $7$ cyfr",
        "explanation": "Wykluczamy $0$ (bo tysiące), $2$ i $5$ (już użyte)",
        "why": "Mamy $10$ cyfr, wykluczamy $3$ ($0$, $2$, $5$), zostaje $7$. Po wyborze pierwszej cyfry, na drugą pozycję zostaje $7$ cyfr (włącznie z $0$)."
      },
      {
        "step": 5,
        "hint": "Ile liczb możemy utworzyć z zakończeniem $25$?",
        "expression": "Dla $25$: $7 \\times 7 = 49$ liczb",
        "explanation": "Mnożymy liczbę możliwości dla pierwszej i drugiej cyfry"
      },
      {
        "step": 6,
        "hint": "Czym różni się sytuacja dla zakończenia $50$?",
        "expression": "Zakończenie $50$: pierwsza cyfra z $\\{1,2,3,4,6,7,8,9\\}$ (8 opcji), druga z pozostałych $7$ cyfr",
        "explanation": "Wykluczamy tylko $5$ i $0$ (już użyte), $0$ i tak nie może być pierwszy",
        "why": "Tu $0$ jest już zajęte na końcu, więc automatycznie nie może być pierwszy. Zostaje $8$ opcji na pierwszą cyfrę."
      },
      {
        "step": 7,
        "hint": "Ile liczb daje zakończenie $50$?",
        "expression": "Dla $50$: $8 \\times 7 = 56$ liczb",
        "explanation": "Mnożymy liczbę możliwości"
      },
      {
        "step": 8,
        "hint": "Jak policzyć liczby z zakończeniem $75$?",
        "expression": "Zakończenie $75$: pierwsza cyfra z $\\{1,2,3,4,6,8,9\\}$ (7 opcji), druga z pozostałych $7$ cyfr",
        "explanation": "Wykluczamy $0$ (tysiące), $7$ i $5$ (już użyte)",
        "why": "Analogicznie jak dla $25$: wykluczamy $3$ cyfry, zostaje $7$ na pierwszą pozycję."
      },
      {
        "step": 9,
        "hint": "Ile liczb z zakończeniem $75$?",
        "expression": "Dla $75$: $7 \\times 7 = 49$ liczb",
        "explanation": "Mnożymy liczbę możliwości"
      },
      {
        "step": 10,
        "hint": "Jak połączyć wyniki dla wszystkich przypadków?",
        "expression": "$49 + 56 + 49 = 154$",
        "explanation": "Sumujemy liczby dla wszystkich możliwych zakończeń"
      }
    ],
    "solutions": [
      "$154$"
    ],
    "parameters": {
      "conditions": "cyfry różne, liczba czterocyfrowa, podzielna przez $25$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 5
      }
    },
    "timestamp": "2025-10-03T08:07:13.098Z"
  },
  {
    "id": "combinatorics_four_digit",
    "topic": "Kombinatoryka - liczby czterocyfrowe",
    "difficulty": 4,
    "statement": "Ile jest liczb czterocyfrowych o różnych cyfrach i jednocześnie większych od $5238$?",
    "steps": [
      {
        "step": 1,
        "hint": "Na ile przypadków warto podzielić ten problem ze względu na pierwszą cyfrę?",
        "expression": "Rozważamy dwa przypadki: liczby zaczynające się od cyfry większej niż $5$ oraz liczby zaczynające się od $5$",
        "explanation": "Podział ze względu na pierwszą cyfrę ułatwi zliczanie",
        "why": "Gdy pierwsza cyfra to $6$, $7$, $8$ lub $9$, każda taka liczba jest automatycznie większa od $5238$. Gdy pierwsza cyfra to $5$, musimy sprawdzić kolejne cyfry."
      },
      {
        "step": 2,
        "hint": "Ile liczb możesz utworzyć, gdy pierwsza cyfra to $6$, $7$, $8$ lub $9$?",
        "expression": "Przypadek 1: pierwsza cyfra $\\in \\{6, 7, 8, 9\\}$, czyli $4$ możliwości",
        "explanation": "Wybieramy jedną z czterech cyfr większych od $5$"
      },
      {
        "step": 3,
        "hint": "Ile cyfr pozostaje do wyboru na drugą, trzecią i czwartą pozycję?",
        "expression": "Druga cyfra: $9$ możliwości ($0-9$ bez pierwszej), trzecia: $8$, czwarta: $7$",
        "explanation": "Cyfry muszą być różne, więc z każdym krokiem mamy o jedną mniej",
        "why": "Po wyborze pierwszej cyfry zostaje $9$ cyfr ($0$ może być na drugiej pozycji). Każdy kolejny wybór zmniejsza pulę o $1$."
      },
      {
        "step": 4,
        "hint": "Ile wynosi iloczyn wszystkich możliwości dla przypadku $1$?",
        "expression": "Przypadek 1: $4 \\cdot 9 \\cdot 8 \\cdot 7 = 2016$ liczb",
        "explanation": "Mnożymy liczbę możliwości na każdej pozycji"
      },
      {
        "step": 5,
        "hint": "Co musi spełniać druga cyfra, gdy pierwsza to $5$?",
        "expression": "Przypadek 2: pierwsza cyfra to $5$, druga cyfra $\\in \\{3, 4, 6, 7, 8, 9\\}$ (większa niż $2$ i różna od $5$)",
        "explanation": "Aby liczba była większa od $5238$, druga cyfra musi być większa od $2$",
        "why": "Gdy druga cyfra to $0$, $1$ lub $2$, liczba będzie mniejsza od $5238$. Cyfra $5$ jest już użyta."
      },
      {
        "step": 6,
        "hint": "Ile cyfr możesz wybrać na trzecią i czwartą pozycję w tym przypadku?",
        "expression": "Trzecia cyfra: $8$ możliwości, czwarta: $7$ możliwości",
        "explanation": "Pozostałe cyfry wybieramy z puli niewykorzystanych"
      },
      {
        "step": 7,
        "hint": "Ile liczb daje przypadek z pierwszą cyfrą $5$?",
        "expression": "Przypadek 2: $6 \\cdot 8 \\cdot 7 = 336$ liczb",
        "explanation": "Mnożymy możliwości dla drugiej, trzeciej i czwartej cyfry"
      },
      {
        "step": 8,
        "hint": "Jak połączyć wyniki z obu przypadków?",
        "expression": "Suma: $2016 + 336 = 2352$",
        "explanation": "Dodajemy liczby z obu rozłącznych przypadków"
      }
    ],
    "solutions": [
      "$2352$"
    ],
    "parameters": {
      "constraints": "cyfry różne, liczba > $5238$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:07:40.528Z"
  },
  {
    "id": "combinatorics_divisibility_4",
    "topic": "Kombinatoryka z warunkami podzielności",
    "difficulty": 4,
    "statement": "Ile jest liczb pięciocyfrowych o różnych cyfrach i jednocześnie podzielnych przez $4$?",
    "steps": [
      {
        "step": 1,
        "hint": "Co decyduje o podzielności liczby przez $4$?",
        "expression": "Liczba jest podzielna przez 4, gdy jej dwie ostatnie cyfry tworzą liczbę podzielną przez 4",
        "explanation": "Wykorzystujemy kryterium podzielności przez $4$",
        "why": "Nie musimy sprawdzać całej liczby! Wystarczy ostatnie dwie cyfry. To znacznie upraszcza problem - możemy najpierw wybrać koniec liczby, potem resztę."
      },
      {
        "step": 2,
        "hint": "Ile jest dwucyfrowych liczb podzielnych przez 4 o różnych cyfrach?",
        "expression": "Liczby od $10$ do $99$ podzielne przez $4$: $12, 16, 20, 24, ..., 96$",
        "explanation": "Musimy policzyć dwucyfrówki podzielne przez $4$ z różnymi cyframi"
      },
      {
        "step": 3,
        "hint": "Jak systematycznie znaleźć wszystkie takie pary cyfr?",
        "expression": "Dwucyfrowe liczby podzielne przez 4 o różnych cyfrach: $12, 16, 20, 24, 28, 32, 36, 40, 48, 52, 56, 60, 64, 68, 72, 76, 80, 84, 92, 96$",
        "explanation": "Wykluczamy liczby z powtarzającymi się cyframi jak $00$, $44$, $88$",
        "why": "Cyfry muszą być różne! Eliminujemy: $00$, $44$, $88$. Zostaje nam $20$ par. Uwaga: $20$, $40$, $60$, $80$ są OK (cyfry różne)."
      },
      {
        "step": 4,
        "hint": "Ile cyfr zostało do wyboru na pierwszą pozycję?",
        "expression": "Dla pierwszej cyfry: $10$ cyfr minus $2$ użyte na końcu minus $0$ (jeśli nie był użyty)",
        "explanation": "Pierwsza cyfra nie może być zerem ani cyframi już użytymi"
      },
      {
        "step": 5,
        "hint": "Jak liczba dostępnych cyfr zależy od tego, czy $0$ jest na końcu?",
        "expression": "Przypadek A: $0$ nie jest w ostatnich dwóch cyfrach → $7$ wyborów na pierwszą pozycję ($8$ cyfr minus $0$)\nPrzypadek B: $0$ jest w ostatnich dwóch cyfrach → $8$ wyborów na pierwszą pozycję",
        "explanation": "Musimy rozdzielić na przypadki ze względu na zero",
        "why": "Zero nie może być pierwszą cyfrą! Gdy $0$ jest już użyty na końcu (np. $20$, $40$), mamy więcej opcji na początek."
      },
      {
        "step": 6,
        "hint": "Ile par końcowych zawiera zero, a ile nie?",
        "expression": "Pary z zerem: $20, 40, 60, 80$ → $4$ pary\nPary bez zera: pozostałe $16$ par",
        "explanation": "Dzielimy $20$ par na dwie grupy"
      },
      {
        "step": 7,
        "hint": "Ile cyfr możesz wybrać na drugą i trzecią pozycję?",
        "expression": "Dla drugiej pozycji: $7$ cyfr ($10$ minus $3$ użyte)\nDla trzeciej pozycji: $6$ cyfr ($10$ minus $4$ użyte)",
        "explanation": "Każda kolejna pozycja ma o jedną cyfrę mniej do wyboru"
      },
      {
        "step": 8,
        "hint": "Jak połączyć oba przypadki w końcowy wynik?",
        "expression": "Przypadek A (bez 0 na końcu): $16 \\cdot 7 \\cdot 7 \\cdot 6 = 4704$\nPrzypadek B (z 0 na końcu): $4 \\cdot 8 \\cdot 7 \\cdot 6 = 1344$\nRazem: $4704 + 1344 = 6048$",
        "explanation": "Sumujemy oba przypadki według reguły mnożenia i dodawania"
      }
    ],
    "solutions": [
      "$6048$"
    ],
    "parameters": {
      "constraints": "cyfry różne, liczba pięciocyfrowa, podzielna przez $4$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:08:05.030Z"
  },
  {
    "id": "combinatorics_five_digit",
    "topic": "Kombinatoryka - liczby o różnych cyfrach",
    "difficulty": 3,
    "statement": "Ile jest liczb pięciocyfrowych o różnych cyfrach i jednocześnie większych od $60000$?",
    "steps": [
      {
        "step": 1,
        "hint": "Jaka cyfra musi stać na pierwszym miejscu, aby liczba była większa od $60000$?",
        "expression": "Pierwsza cyfra: $6$, $7$, $8$ lub $9$ (4 możliwości)",
        "explanation": "Liczba pięciocyfrowa większa od $60000$ musi zaczynać się od cyfry co najmniej $6$",
        "why": "To kluczowy warunek! Cyfra $5$ dałaby maksymalnie $59999$. Cyfra $0$ nie może być pierwsza w liczbie pięciocyfrowej."
      },
      {
        "step": 2,
        "hint": "Ile cyfr pozostało do wyboru na drugie miejsce, skoro pierwsza jest już zajęta?",
        "expression": "Druga cyfra: $9$ możliwości",
        "explanation": "Możemy użyć dowolnej cyfry z $10$ dostępnych $(0-9)$ oprócz tej użytej na pierwszym miejscu",
        "why": "Cyfry muszą być różne! Mamy $10$ cyfr ($0$-$9$), jedna jest zajęta, więc zostaje $9$. Cyfra $0$ może być na drugim miejscu."
      },
      {
        "step": 3,
        "hint": "Jak zmienia się liczba dostępnych cyfr z każdym kolejnym miejscem?",
        "expression": "Trzecia cyfra: $8$ możliwości, czwarta cyfra: $7$ możliwości, piąta cyfra: $6$ możliwości",
        "explanation": "Z każdym miejscem mamy o jedną cyfrę mniej do wyboru"
      },
      {
        "step": 4,
        "hint": "Jak połączyć liczbę możliwości dla każdego miejsca w całkowitą liczbę kombinacji?",
        "expression": "$4 \\cdot 9 \\cdot 8 \\cdot 7 \\cdot 6 = 12096$",
        "explanation": "Mnożymy liczbę możliwości dla każdego miejsca (reguła mnożenia)",
        "why": "Używamy reguły mnożenia, bo wybory są niezależne: dla KAŻDEJ pierwszej cyfry mamy $9$ możliwości na drugą, dla KAŻDEJ pary (pierwsza, druga) mamy $8$ na trzecią, itd."
      }
    ],
    "solutions": [
      "$12096$"
    ],
    "parameters": {
      "constraints": "cyfry różne, liczba > $60000$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:08:55.392Z"
  },
  {
    "id": "permutations_abc",
    "topic": "Permutacje",
    "difficulty": 1,
    "statement": "Na ile sposobów można ustawić osoby $A$, $B$, $C$ w szeregu? Wypisz wszystkie możliwe permutacje tych osób.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile osób możesz wybrać na pierwszą pozycję?",
        "expression": "Na pierwszej pozycji może stanąć jedna z $3$ osób: $A$, $B$ lub $C$",
        "explanation": "Mamy $3$ możliwości wyboru dla pierwszego miejsca"
      },
      {
        "step": 2,
        "hint": "Gdy pierwsza pozycja jest zajęta, ile osób zostaje do wyboru?",
        "expression": "Na drugiej pozycji może stanąć jedna z $2$ pozostałych osób",
        "explanation": "Po wyborze pierwszej osoby zostają $2$ możliwości"
      },
      {
        "step": 3,
        "hint": "Jak obliczyć całkowitą liczbę ustawień?",
        "expression": "$3 \\cdot 2 \\cdot 1 = 6$ sposobów",
        "explanation": "Mnożymy liczbę możliwości na każdej pozycji",
        "why": "To jest permutacja $3$ elementów: $P_3 = 3! = 6$. Silnia $n!$ oznacza iloczyn wszystkich liczb od $1$ do $n$. Każdy wybór zmniejsza liczbę dostępnych opcji."
      },
      {
        "step": 4,
        "hint": "Jak systematycznie wypisać wszystkie ustawienia zaczynając od $A$?",
        "expression": "Zaczynając od $A$: $ABC$, $ACB$",
        "explanation": "Gdy $A$ jest pierwsza, $B$ i $C$ mogą być w dwóch kolejnościach"
      },
      {
        "step": 5,
        "hint": "Jakie ustawienia otrzymasz dla $B$ na pierwszej pozycji?",
        "expression": "Zaczynając od $B$: $BAC$, $BCA$",
        "explanation": "Gdy $B$ jest pierwsza, $A$ i $C$ mogą być w dwóch kolejnościach"
      },
      {
        "step": 6,
        "hint": "Co zostaje gdy $C$ jest na początku?",
        "expression": "Zaczynając od $C$: $CAB$, $CBA$",
        "explanation": "Gdy $C$ jest pierwsza, $A$ i $B$ mogą być w dwóch kolejnościach"
      }
    ],
    "solutions": [
      "ABC",
      "ACB",
      "BAC",
      "BCA",
      "CAB",
      "CBA"
    ],
    "parameters": {
      "count": "$6$ permutacji"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 1
      }
    },
    "timestamp": "2025-10-03T08:09:09.606Z"
  },
  {
    "id": "permutations_postcards",
    "topic": "Permutacje",
    "difficulty": 2,
    "statement": "Na ile sposobów Marek może wysłać $5$ różnych widokówek z wakacji do $5$ swoich kolegów?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność przypisywania widokówek do kolegów ma znaczenie?",
        "expression": "Mamy $5$ różnych widokówek i $5$ kolegów - każda widokówka trafi do innego kolegi",
        "explanation": "To problem przyporządkowania różnych obiektów do różnych osób",
        "why": "Kolejność ma znaczenie, bo inna widokówka dla Adama i Bartka to inny sposób niż odwrotnie. To permutacja, nie kombinacja!"
      },
      {
        "step": 2,
        "hint": "Ile masz wyborów dla pierwszej widokówki? A dla drugiej?",
        "expression": "Pierwsza widokówka: $5$ wyborów, druga: $4$ wybory, trzecia: $3$ wybory, czwarta: $2$ wybory, piąta: $1$ wybór",
        "explanation": "Z każdym wyborem zmniejsza się liczba dostępnych opcji"
      },
      {
        "step": 3,
        "hint": "Jak połączyć te wszystkie wybory w jedną liczbę możliwości?",
        "expression": "$5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 5!$",
        "explanation": "Mnożymy liczbę wyborów na każdym etapie - to definicja $n!$",
        "why": "Reguła mnożenia: jeśli mamy $n$ sposobów na pierwszy wybór i $m$ na drugi, to razem $n \\cdot m$ sposobów. Silnia $n!$ to permutacje $n$ elementów."
      },
      {
        "step": 4,
        "hint": "Ile wynosi $5!$?",
        "expression": "$5! = 120$",
        "explanation": "Marek może wysłać widokówki na $120$ różnych sposobów"
      }
    ],
    "solutions": [
      "$120$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:09:24.016Z"
  },
  {
    "id": "combinatorics_dance_pairs",
    "topic": "Kombinatoryka - permutacje",
    "difficulty": 3,
    "statement": "Mamy siedem dziewcząt i siedmiu chłopców. Na ile sposobów można utworzyć siedem par dziewczyna - chłopiec do wspólnego tańca?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność tworzenia par ma znaczenie dla wyniku?",
        "expression": "Tworzymy $7$ par, gdzie każda dziewczyna tańczy z dokładnie jednym chłopcem",
        "explanation": "Analizujemy problem - musimy przyporządkować każdej dziewczynie dokładnie jednego chłopca",
        "why": "To kluczowe pytanie! Moglibyśmy myśleć o parach jako zbiorach (bez kolejności), ale tutaj liczy się, KTO z KIM tańczy. Każde przyporządkowanie dziewcząt do chłopców to inna sytuacja."
      },
      {
        "step": 2,
        "hint": "Z iloma chłopcami może zatańczyć pierwsza dziewczyna?",
        "expression": "Pierwsza dziewczyna ma $7$ możliwości wyboru partnera",
        "explanation": "Dla pierwszej dziewczyny dostępnych jest wszystkich $7$ chłopców"
      },
      {
        "step": 3,
        "hint": "Co się zmienia dla drugiej dziewczyny po wyborze pierwszej?",
        "expression": "Druga dziewczyna ma $6$ możliwości (jeden chłopiec już zajęty)",
        "explanation": "Jeden chłopiec już tańczy, więc zostało $6$ dostępnych partnerów"
      },
      {
        "step": 4,
        "hint": "Jak będzie wyglądał ten proces dla kolejnych dziewcząt?",
        "expression": "Trzecia: $5$ możliwości, czwarta: $4$, piąta: $3$, szósta: $2$, siódma: $1$",
        "explanation": "Z każdym wyborem zmniejsza się liczba dostępnych chłopców",
        "why": "To zasada mnożenia w kombinatoryce: kolejne wybory są zależne od poprzednich. Każdy wybór ogranicza możliwości następnego."
      },
      {
        "step": 5,
        "hint": "Jak połączyć wszystkie te możliwości w jeden wynik?",
        "expression": "$7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 7!$",
        "explanation": "Mnożymy liczby możliwości dla każdej dziewczyny",
        "why": "Zasada mnożenia: jeśli mamy $n_1$ sposobów na pierwszy wybór, $n_2$ na drugi itd., to łącznie mamy $n_1 \\cdot n_2 \\cdot ... $ sposobów. To jest definicja silni!"
      },
      {
        "step": 6,
        "hint": "Ile wynosi $7!$?",
        "expression": "$7! = 5040$",
        "explanation": "Obliczamy wartość silni"
      }
    ],
    "solutions": [
      "$5040$"
    ],
    "parameters": {
      "interpretation": "Każde różne przyporządkowanie dziewcząt do chłopców tworzy inny układ par"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:10:52.064Z"
  },
  {
    "id": "combinatorics_dance_pairs",
    "topic": "Kombinatoryka - reguła mnożenia",
    "difficulty": 1,
    "statement": "Mamy siedem dziewcząt i siedmiu chłopców. Na ile sposobów można utworzyć jedną parę taneczną dziewczyna - chłopiec?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile masz możliwości wyboru dziewczyny do pary?",
        "expression": "Liczba możliwości wyboru dziewczyny: $7$",
        "explanation": "Możemy wybrać dowolną z siedmiu dziewcząt"
      },
      {
        "step": 2,
        "hint": "Dla każdej wybranej dziewczyny, ile jest możliwości wyboru chłopca?",
        "expression": "Liczba możliwości wyboru chłopca: $7$",
        "explanation": "Do każdej dziewczyny możemy dobrać dowolnego z $7$ chłopców"
      },
      {
        "step": 3,
        "hint": "Jak połączyć te dwa niezależne wybory w jeden wynik?",
        "expression": "$7 \\cdot 7 = 49$",
        "explanation": "Mnożymy liczbę możliwości, ponieważ wybory są niezależne",
        "why": "Reguła mnożenia: gdy mamy dwa niezależne wybory (pierwszy na $m$ sposobów, drugi na $n$ sposobów), to łącznie mamy $m \\cdot n$ możliwości. Tutaj: dla każdej z $7$ dziewcząt mamy $7$ opcji chłopca."
      }
    ],
    "solutions": [
      "$49$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 3,
        "stepsWithWhy": 1
      }
    },
    "timestamp": "2025-10-03T08:11:01.578Z"
  },
  {
    "id": "permutations_sprinters",
    "topic": "Permutacje",
    "difficulty": 2,
    "statement": "W biegu finałowym uczestniczy ośmiu sprinterów. Na ile sposobów mogą oni zająć kolejne miejsca, jeśli wszyscy ukończą bieg?\n\n(Note: No mathematical expressions were found in this text, so no changes were made.)",
    "steps": [
      {
        "step": 1,
        "hint": "Ilu zawodników może zająć pierwsze miejsce?",
        "expression": "Na pierwszym miejscu może być $8$ różnych sprinterów",
        "explanation": "Każdy z ośmiu zawodników może wygrać"
      },
      {
        "step": 2,
        "hint": "Jeśli pierwsze miejsce jest już zajęte, ilu kandydatów zostaje na drugie?",
        "expression": "Na drugim miejscu może być $7$ pozostałych sprinterów",
        "explanation": "Jeden zawodnik już zajął pierwsze miejsce"
      },
      {
        "step": 3,
        "hint": "Jak zmienia się liczba możliwości dla każdego kolejnego miejsca?",
        "expression": "Dla kolejnych miejsc: $6$, $5$, $4$, $3$, $2$, $1$ sprinterów",
        "explanation": "Z każdym miejscem ubywa jeden zawodnik",
        "why": "To jest permutacja - ustawiamy wszystkich zawodników w określonej kolejności. Każdy może być tylko raz, więc liczba możliwości maleje."
      },
      {
        "step": 4,
        "hint": "Jak połączyć te wszystkie możliwości w jedną liczbę?",
        "expression": "$8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 8!$",
        "explanation": "Mnożymy liczbę możliwości dla każdego miejsca",
        "why": "Używamy reguły mnożenia: jeśli pierwsze zdarzenie może zajść na $m$ sposobów, a drugie na $n$ sposobów, to oba razem na $m \\cdot n$ sposobów. Symbol $8!$ (silnia) to skrót zapisu."
      },
      {
        "step": 5,
        "hint": "Ile wynosi wartość $8!$?",
        "expression": "$8! = 40\\,320$",
        "explanation": "Obliczamy wartość silni"
      }
    ],
    "solutions": [
      "$40\\,320$ sposobów"
    ],
    "parameters": {
      "formula": "$P_n = n!$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:11:15.605Z"
  },
  {
    "id": "permutations_girls_boys",
    "topic": "Permutacje z warunkiem",
    "difficulty": 2,
    "statement": "Na ile sposobów można ustawić w szereg grupę złożoną z $5$ dziewcząt i $5$ chłopców tak, aby od lewej stały najpierw wszystkie dziewczęta?",
    "steps": [
      {
        "step": 1,
        "hint": "Jak warunek zadania dzieli szereg na części?",
        "expression": "Szereg składa się z dwóch bloków: $[5]$ dziewcząt $[5]$ chłopców",
        "explanation": "Warunek wymusza podział na dwa niezależne bloki",
        "why": "Kluczowe: dziewczęta i chłopcy tworzą osobne grupy. Możemy je ustawiać niezależnie, a wyniki pomnożyć (reguła iloczynu)."
      },
      {
        "step": 2,
        "hint": "Na ile sposobów można ustawić $5$ dziewcząt w ich bloku?",
        "expression": "Liczba permutacji dziewcząt: $5! = 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 120$",
        "explanation": "Każda dziewczyna może zająć dowolne miejsce w swoim bloku"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można ustawić $5$ chłopców w ich bloku?",
        "expression": "Liczba permutacji chłopców: $5! = 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 120$",
        "explanation": "Każdy chłopiec może zająć dowolne miejsce w swoim bloku"
      },
      {
        "step": 4,
        "hint": "Jak połączyć liczbę możliwości z obu bloków?",
        "expression": "Całkowita liczba sposobów: $5! \\cdot 5! = 120 \\cdot 120 = 14400$",
        "explanation": "Mnożymy liczbę permutacji w obu blokach (reguła iloczynu)"
      }
    ],
    "solutions": [
      "$14400$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 1
      }
    },
    "timestamp": "2025-10-03T08:11:29.417Z"
  },
  {
    "id": "permutation_alternating_gender",
    "topic": "Permutacje z warunkami",
    "difficulty": 4,
    "statement": "Na ile sposobów można ustawić w szereg grupę złożoną z $5$ dziewcząt i $5$ chłopców tak, aby dwie osoby tej samej płci nie stały obok siebie?",
    "steps": [
      {
        "step": 1,
        "hint": "Jaki musi być wzór ustawienia, żeby żadne dwie osoby tej samej płci nie stały obok?",
        "expression": "Układ musi być naprzemiennie: $D$-$Ch$-$D$-$Ch$-$D$-$Ch$-$D$-$Ch$-$D$-$Ch$ lub $Ch$-$D$-$Ch$-$D$-$Ch$-$D$-$Ch$-$D$-$Ch$-$D$",
        "explanation": "Przy 5 dziewczętach i 5 chłopcach jedynym sposobem jest naprzemienne ustawienie",
        "why": "Gdyby dwie osoby tej samej płci stały obok, musielibyśmy mieć np. $D$-$D$-..., ale wtedy na $10$ pozycji nie da się rozdzielić równo $5+5$. Naprzemienność to jedyne rozwiązanie."
      },
      {
        "step": 2,
        "hint": "Ile mamy możliwości wyboru pierwszej osoby w szeregu?",
        "expression": "Dwie możliwości: zaczynamy od dziewczęcia lub od chłopca",
        "explanation": "Możemy rozpocząć szereg od dowolnej płci"
      },
      {
        "step": 3,
        "hint": "Jeśli zaczynamy od dziewczęcia, na ile sposobów możemy ustawić wszystkie dziewczęta na swoich pozycjach?",
        "expression": "Dziewczęta na pozycjach nieparzystych: $5!$ sposobów",
        "explanation": "Mamy $5$ dziewcząt do ustawienia na $5$ wyznaczonych miejscach",
        "why": "To permutacja bez powtórzeń: pierwsze miejsce - $5$ wyborów, drugie - $4$ wybory, itd. Daje $5! = 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 120$"
      },
      {
        "step": 4,
        "hint": "A chłopcy? Na ile sposobów mogą zająć pozostałe miejsca?",
        "expression": "Chłopcy na pozycjach parzystych: $5!$ sposobów",
        "explanation": "Analogicznie, $5$ chłopców na $5$ wyznaczonych miejscach"
      },
      {
        "step": 5,
        "hint": "Jak połączyć liczbę sposobów ustawienia dziewcząt i chłopców?",
        "expression": "Dla układu $D$-$Ch$-$D$-$Ch$-...: $5! \\cdot 5! = 120 \\cdot 120 = 14400$ sposobów",
        "explanation": "Mnożymy niezależne wybory według reguły mnożenia"
      },
      {
        "step": 6,
        "hint": "Czy układ zaczynający się od chłopca daje inną liczbę możliwości?",
        "expression": "Dla układu Ch-D-Ch-D-...: również $5! \\cdot 5! = 14400$ sposobów",
        "explanation": "Symetrycznie - ta sama liczba permutacji"
      },
      {
        "step": 7,
        "hint": "Jak zsumować wszystkie możliwe przypadki?",
        "expression": "$14400 + 14400 = 28800$",
        "explanation": "Dodajemy oba rozłączne przypadki (zaczynamy od $D$ lub od $Ch$)",
        "why": "Używamy reguły sumy, bo przypadki się wykluczają - nie możemy jednocześnie zacząć od dziewczęcia i chłopca. Alternatywnie: $2 \\cdot 5! \\cdot 5! = 2 \\cdot 14400$"
      }
    ],
    "solutions": [
      "$28800$"
    ],
    "parameters": {
      "girls": 5,
      "boys": 5
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:11:58.419Z"
  },
  {
    "id": "permutations_cinema_seats",
    "topic": "Permutacje i kombinatoryka",
    "difficulty": 3,
    "statement": "Siedmiu chłopców i pięć dziewcząt mają $12$ biletów do kina: $5$ biletów na miejsca w $IX$ rzędzie i $7$ biletów na miejsca w $X$ rzędzie. Na ile sposobów mogą zająć te miejsca dowolnie?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile osób musi zająć miejsca i czy ma znaczenie, kto gdzie siada?",
        "expression": "Mamy $12$ osób ($7$ chłopców + $5$ dziewcząt) i $12$ miejsc ($5$ w IX + $7$ w X rzędzie)",
        "explanation": "Każda osoba zajmuje jedno miejsce, kolejność ma znaczenie"
      },
      {
        "step": 2,
        "hint": "Czy miejsca w różnych rzędach są rozróżnialne?",
        "expression": "Miejsca są ponumerowane i rozróżnialne - zarówno między rzędami, jak i w obrębie rzędu",
        "explanation": "Miejsce $IX-1$ to inne miejsce niż $IX-2$ czy $X-1$",
        "why": "To kluczowe rozróżnienie! Gdyby miejsca były nierozróżnialne w rzędach, użylibyśmy kombinacji. Tu liczy się konkretne miejsce, więc permutacje."
      },
      {
        "step": 3,
        "hint": "Jak obliczyć liczbę sposobów ustawienia $n$ różnych obiektów?",
        "expression": "Liczba permutacji $12$ osób na $12$ miejscach: $P_{12} = 12!$",
        "explanation": "Pierwsza osoba ma $12$ wyborów, druga $11$, trzecia $10$, itd.",
        "why": "Permutacja bez powtórzeń: $n!$ sposobów ustawienia $n$ różnych elementów. Nie dzielimy na rzędy osobno, bo miejsca są globalne."
      },
      {
        "step": 4,
        "hint": "Ile wynosi $12!$ w zapisie symbolicznym?",
        "expression": "$12! = 1 \\cdot 2 \\cdot 3 \\cdot 4 \\cdot 5 \\cdot 6 \\cdot 7 \\cdot 8 \\cdot 9 \\cdot 10 \\cdot 11 \\cdot 12$",
        "explanation": "Silnia to iloczyn wszystkich liczb naturalnych od 1 do $12$"
      },
      {
        "step": 5,
        "hint": "Jaka jest wartość liczbowa tego wyniku?",
        "expression": "$12! = 479\\,916\\,800$",
        "explanation": "Obliczamy wartość silni"
      }
    ],
    "solutions": [
      "$479\\,916\\,800$ sposobów"
    ],
    "parameters": {
      "people": "12 osób ($7$ chłopców, $5$ dziewcząt)",
      "seats": "12 miejsc ($5$ w $IX$ rzędzie, $7$ w $X$ rzędzie)"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:26:39.861Z"
  },
  {
    "id": "combinatorics_cinema_seats",
    "topic": "Kombinatoryka - permutacje z ograniczeniami",
    "difficulty": 3,
    "statement": "Siedmiu chłopców i pięć dziewcząt mają $12$ biletów do kina: $5$ biletów na miejsca w $IX$ rzędzie i $7$ biletów na miejsca w $X$ rzędzie. Na ile sposobów mogą zająć te miejsca tak, aby wszystkie dziewczęta siedziały w $IX$ rzędzie?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile osób musi usiąść w $IX$ rzędzie, jeśli wszystkie dziewczęta tam siedzą?",
        "expression": "W IX rzędzie: $5$ dziewcząt (wszystkie) i $0$ chłopców, razem $5$ osób na $5$ miejscach",
        "explanation": "IX rząd ma dokładnie $5$ miejsc i wszystkie dziewczęta muszą tam usiąść"
      },
      {
        "step": 2,
        "hint": "Czy kolejność siedzenia dziewcząt w IX rzędzie ma znaczenie?",
        "expression": "Liczba sposobów rozmieszczenia $5$ dziewcząt na $5$ miejscach: $5!$",
        "explanation": "Dziewczęta mogą usiąść w dowolnej kolejności na swoich miejscach",
        "why": "Permutacja to ustawienie $n$ różnych elementów, gdzie kolejność ma znaczenie. Wzór: $n!$. Tu każda dziewczyna to inna osoba, więc zamiany między nimi tworzą różne ustawienia."
      },
      {
        "step": 3,
        "hint": "Ilu chłopców zostało i gdzie muszą usiąść?",
        "expression": "W $X$ rzędzie: $7$ chłopców na $7$ miejscach",
        "explanation": "Wszyscy chłopcy zajmują wszystkie miejsca w $X$ rzędzie"
      },
      {
        "step": 4,
        "hint": "Jak obliczyć liczbę sposobów rozmieszczenia chłopców?",
        "expression": "Liczba sposobów rozmieszczenia $7$ chłopców na $7$ miejscach: $7!$",
        "explanation": "Chłopcy również mogą usiąść w dowolnej kolejności"
      },
      {
        "step": 5,
        "hint": "Czy wybór miejsc dla dziewcząt wpływa na wybór miejsc dla chłopców?",
        "expression": "Całkowita liczba sposobów: $5! \\cdot 7!$",
        "explanation": "Rozmieszczenia w obu rzędach są niezależne, więc mnożymy",
        "why": "Zasada mnożenia: jeśli zdarzenie $A$ można wykonać na $m$ sposobów, a niezależne zdarzenie $B$ na $n$ sposobów, to oba razem można wykonać na $m \\cdot n$ sposobów."
      },
      {
        "step": 6,
        "hint": "Ile wynoszą te silnie?",
        "expression": "$5! \\cdot 7! = 120 \\cdot 5040 = 604800$",
        "explanation": "Obliczamy wartości silni i mnożymy wyniki"
      }
    ],
    "solutions": [
      "$604800$"
    ],
    "parameters": {
      "girls": 5,
      "boys": 7,
      "row_IX_seats": 5,
      "row_X_seats": 7
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:26:56.498Z"
  },
  {
    "id": "combinatorics_alternating_seats",
    "topic": "Kombinatoryka - permutacje z warunkami",
    "difficulty": 4,
    "statement": "Siedmiu chłopców i pięć dziewcząt mają $12$ biletów do kina: $5$ biletów na miejsca w $IX$ rzędzie i $7$ biletów na miejsca w $X$ rzędzie. Na ile sposobów mogą zająć te miejsca tak, aby w obu rzędach na zmianę: chłopak, dziewczyna, chłopak, dziewczyna, itd.?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile osób każdej płci musi usiąść w $IX$ rzędzie ($5$ miejsc), aby zachować przemienność?",
        "expression": "IX rząd (5 miejsc): $3$ chłopców i $2$ dziewczyny LUB $2$ chłopców i $3$ dziewczyny",
        "explanation": "Przy przemienności w nieparzystej liczbie miejsc musi być o $1$ więcej osób jednej płci",
        "why": "W rzędzie z $5$ miejscami przy układzie naprzemiennym mamy wzór C-D-C-D-C lub D-C-D-C-D. Pierwszy wymaga $3C$ i $2D$, drugi $3D$ i $2C$. Ale mamy tylko $5$ dziewcząt i $7$ chłopców, więc tylko pierwszy układ jest możliwy!"
      },
      {
        "step": 2,
        "hint": "Skoro w $IX$ rzędzie są $3$ chłopców i $2$ dziewczyny, kto zostaje na $X$ rząd?",
        "expression": "$X$ rząd ($7$ miejsc): $4$ chłopców i $3$ dziewczyny",
        "explanation": "Pozostałe osoby: $7 - 3 = 4$ chłopców i $5 - 2 = 3$ dziewczyny",
        "why": "Sprawdzamy: $7$ miejsc z układem C-D-C-D-C-D-C wymaga $4C$ i $3D$. Zgadza się z pozostałymi osobami!"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów możesz wybrać $3$ chłopców spośród $7$ do $IX$ rzędu?",
        "expression": "$\\binom{7}{3} = \\frac{7!}{3! \\cdot 4!} = \\frac{7 \\cdot 6 \\cdot 5}{3 \\cdot 2 \\cdot 1} = 35$",
        "explanation": "Wybieramy $3$ chłopców z $7$ dostępnych"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów możesz wybrać $2$ dziewczyny spośród $5$ do $IX$ rzędu?",
        "expression": "$\\binom{5}{2} = \\frac{5!}{2! \\cdot 3!} = \\frac{5 \\cdot 4}{2 \\cdot 1} = 10$",
        "explanation": "Wybieramy $2$ dziewczyny z $5$ dostępnych"
      },
      {
        "step": 5,
        "hint": "Gdy już wiesz KTÓRE osoby idą do $IX$ rzędu, na ile sposobów możesz je ustawić naprzemiennie?",
        "expression": "IX rząd: $3! \\cdot 2! = 6 \\cdot 2 = 12$ sposobów",
        "explanation": "Permutujemy $3$ chłopców na miejscach nieparzystych i $2$ dziewczyny na miejscach parzystych",
        "why": "Miejsca są już określone wzorem $C-D-C-D-C$. Chłopcy mogą się przestawiać między sobą na miejscach $1,3,5$ ($3!$ sposobów), dziewczyny na miejscach $2,4$ ($2!$ sposobów). Mnożymy, bo są niezależne."
      },
      {
        "step": 6,
        "hint": "Analogicznie - na ile sposobów ustawisz $4$ chłopców i $3$ dziewczyny w $X$ rzędzie?",
        "expression": "$X$ rząd: $4! \\cdot 3! = 24 \\cdot 6 = 144$ sposobów",
        "explanation": "Permutujemy $4$ chłopców na miejscach nieparzystych i $3$ dziewczyny na miejscach parzystych"
      },
      {
        "step": 7,
        "hint": "Czy wybór osób do rzędów i ich ustawienie są zdarzeniami zależnymi czy niezależnymi?",
        "expression": "$35 \\cdot 10 \\cdot 12 \\cdot 144$",
        "explanation": "Mnożymy wszystkie możliwości, bo są niezależne",
        "why": "Zasada mnożenia: najpierw wybieramy KTÓRE osoby (kombinacje), potem JAK je ustawiamy (permutacje). Każdy wybór można połączyć z każdym ustawieniem."
      },
      {
        "step": 8,
        "hint": "Jaki jest końcowy wynik mnożenia?",
        "expression": "$35 \\cdot 10 \\cdot 12 \\cdot 144 = 350 \\cdot 1728 = 604\\,800$",
        "explanation": "Obliczamy ostateczną liczbę sposobów"
      }
    ],
    "solutions": [
      "$604\\,800$"
    ],
    "parameters": {
      "boys": 7,
      "girls": 5,
      "row_IX": 5,
      "row_X": 7
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T08:35:40.303Z"
  },
  {
    "id": "permutations_with_constraint",
    "topic": "Permutacje z ograniczeniami",
    "difficulty": 3,
    "statement": "W liceum uczą się po 4 klasy pierwsze, drugie, trzecie i czwarte. Na ile sposobów można położyć na biurku jeden na drugim dzienniki lekcyjne tych klas, jeśli na samym spodzie mają leżeć wszystkie dzienniki klas pierwszych?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile w sumie dzienników musimy ułożyć?",
        "expression": "Mamy $4 + 4 + 4 + 4 = 16$ dzienników",
        "explanation": "Liczymy wszystkie dzienniki ze wszystkich klas"
      },
      {
        "step": 2,
        "hint": "Jak ograniczenie 'na spodzie klasy pierwsze' dzieli problem na części?",
        "expression": "Dzielimy stos na dwie części: $4$ dzienniki klas pierwszych (na dole) i $12$ pozostałych dzienników (na górze)",
        "explanation": "Ograniczenie wymusza podział stosu",
        "why": "Kluczowa obserwacja: możemy rozwiązać problem w dwóch niezależnych krokach. Najpierw ułożymy dolną część (klasy pierwsze), potem górną (reszta). Te wybory są niezależne, więc wyniki pomnożymy."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można ułożyć $4$ dzienniki klas pierwszych między sobą?",
        "expression": "Liczba permutacji $4$ dzienników pierwszych klas: $4! = 24$",
        "explanation": "Dzienniki klas pierwszych możemy dowolnie przestawiać między sobą"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można ułożyć pozostałe $12$ dzienników?",
        "expression": "Liczba permutacji $12$ pozostałych dzienników: $12!$",
        "explanation": "Dzienniki klas drugich, trzecich i czwartych możemy dowolnie przestawiać"
      },
      {
        "step": 5,
        "hint": "Jak połączyć liczbę sposobów dla obu części stosu?",
        "expression": "Całkowita liczba sposobów: $4! \\cdot 12! = 24 \\cdot 479\\,001\\,600 = 11\\,496\\,038\\,400$",
        "explanation": "Mnożymy liczbę sposobów dla dolnej i górnej części stosu",
        "why": "Zasada mnożenia: jeśli pierwszy wybór można wykonać na $m$ sposobów, a drugi (niezależnie) na $n$ sposobów, to oba razem na $m \\cdot n$ sposobów. Tu: każdy układ dolnej części można połączyć z każdym układem górnej."
      }
    ],
    "solutions": [
      "$11\\,496\\,038\\,400$"
    ],
    "parameters": {
      "note": "Alternatywnie: $4! \\cdot 12! = 24 \\cdot 12!$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:35:57.451Z"
  },
  {
    "id": "combinatorics_diaries",
    "topic": "Kombinatoryka - permutacje z podziałem na grupy",
    "difficulty": 3,
    "statement": "W liceum uczą się po 4 klasy pierwsze, drugie, trzecie i czwarte. Na ile sposobów można położyć na biurku jeden na drugim dzienniki lekcyjne tych klas, jeśli na samej górze leżą dzienniki klas $A$, niżej dzienniki klas $B$, jeszcze niżej dzienniki klas $C$ i najniżej dzienniki klas $D$?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile mamy grup dzienników i co je wyróżnia?",
        "expression": "Mamy $4$ grupy: klasy A (góra), klasy B, klasy C, klasy D (dół). W każdej grupie po $4$ dzienniki.",
        "explanation": "Identyfikujemy strukturę problemu - dzienniki podzielone na $4$ uporządkowane grupy"
      },
      {
        "step": 2,
        "hint": "Czy kolejność grup może się zmienić, czy jest ustalona?",
        "expression": "Kolejność grup jest stała: $A \\to B \\to C \\to D$",
        "explanation": "Grupy mają ustalone miejsca, więc nie permutujemy między grupami",
        "why": "To kluczowe ograniczenie! Gdyby kolejność grup była dowolna, mielibyśmy dodatkowy czynnik $4!$. Tu liczy się tylko kolejność WEWNĄTRZ każdej grupy."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można ułożyć $4$ dzienniki w grupie $A$?",
        "expression": "Dzienniki klas A: $4! = 24$ sposoby",
        "explanation": "Permutujemy $4$ dzienniki pierwszych klas ($1A$, $1B$, $1C$, $1D$)"
      },
      {
        "step": 4,
        "hint": "Czy liczba sposobów dla pozostałych grup będzie taka sama?",
        "expression": "Każda grupa (B, C, D): również $4! = 24$ sposoby",
        "explanation": "Analogicznie dla klas drugich, trzecich i czwartych"
      },
      {
        "step": 5,
        "hint": "Jak połączyć wybory z różnych grup - dodajemy czy mnożymy?",
        "expression": "Całkowita liczba sposobów: $4! \\cdot 4! \\cdot 4! \\cdot 4! = (4!)^4$",
        "explanation": "Mnożymy, bo wybory są niezależne - każde ułożenie grupy $A$ można połączyć z każdym ułożeniem grupy $B$ itd.",
        "why": "Reguła mnożenia: gdy mamy kilka niezależnych etapów, mnożymy liczby możliwości. Gdybyśmy dodawali, zakładalibyśmy, że wybieramy ALBO jedno ALBO drugie."
      },
      {
        "step": 6,
        "hint": "Ile wynosi $(4!)^4$ po obliczeniu?",
        "expression": "$(4!)^4 = 24^4 = 331\\,776$",
        "explanation": "Obliczamy końcowy wynik"
      }
    ],
    "solutions": [
      "$331\\,776$"
    ],
    "parameters": {
      "groups": 4,
      "items_per_group": 4
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:36:14.447Z"
  },
  {
    "id": "combinatorics_books_arrangement",
    "topic": "Kombinatoryka - permutacje z ograniczeniami",
    "difficulty": 3,
    "statement": "Mamy $5$ książek, w tym książki $A$ i $B$. Ustawiamy je losowo na pustej półce, jedna obok drugiej. Na ile sposobów można ustawić je tak, aby książki $A$ i $B$ nie stały obok siebie?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile jest wszystkich możliwych ustawień $5$ książek bez żadnych ograniczeń?",
        "expression": "$5! = 120$",
        "explanation": "Wszystkie permutacje $5$ książek"
      },
      {
        "step": 2,
        "hint": "Co jeśli potraktujemy książki $A$ i $B$ jako jeden blok - ile mamy wtedy obiektów do ustawienia?",
        "expression": "Traktujemy $A$ i $B$ jako jeden blok, więc mamy 4 obiekty: $(AB)$, $C$, $D$, $E$",
        "explanation": "Sklejamy $A$ i $B$ w jeden element",
        "why": "Łatwiej policzyć ustawienia 'złe' $(A$ i $B$ razem), a potem odjąć od wszystkich. To klasyczna metoda dopełnienia w kombinatoryce."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można ustawić te $4$ obiekty?",
        "expression": "$4! = 24$",
        "explanation": "Permutacje $4$ obiektów"
      },
      {
        "step": 4,
        "hint": "Czy w bloku $(AB)$ kolejność $A$ i $B$ ma znaczenie?",
        "expression": "$2! = 2$ sposoby ułożenia $A$ i $B$ w bloku: $AB$ lub $BA$",
        "explanation": "Wewnątrz bloku $A$ i $B$ można zamienić miejscami",
        "why": "Częsty błąd: zapomnienie, że $A$ może być przed $B$ lub $B$ przed $A$. Każde z $24$ ustawień bloku daje $2$ warianty!"
      },
      {
        "step": 5,
        "hint": "Ile jest więc ustawień, gdzie $A$ i $B$ stoją obok siebie?",
        "expression": "$4! \\cdot 2! = 24 \\cdot 2 = 48$",
        "explanation": "Mnożymy liczbę ustawień bloków przez liczbę ustawień wewnątrz bloku"
      },
      {
        "step": 6,
        "hint": "Jak otrzymać liczbę ustawień, gdzie $A$ i $B$ NIE stoją obok siebie?",
        "expression": "$120 - 48 = 72$",
        "explanation": "Od wszystkich ustawień odejmujemy te, gdzie $A$ i $B$ są obok"
      }
    ],
    "solutions": [
      "$72$ sposoby"
    ],
    "parameters": {
      "method": "Metoda dopełnienia (wszystkie minus złe)"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:36:37.831Z"
  },
  {
    "id": "combinatorics_books_spacing",
    "topic": "Kombinatoryka - permutacje z warunkami",
    "difficulty": 4,
    "statement": "Mamy $5$ książek, w tym książki $A$ i $B$. Ustawiamy je losowo na pustej półce, jedna obok drugiej. Na ile sposobów można ustawić je tak, aby pomiędzy książkami $A$ i $B$ stały dwie inne książki?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność książek $A$ i $B$ ma znaczenie dla warunku?",
        "expression": "Rozważamy dwa przypadki: $A$...$B$ oraz $B$...$A$",
        "explanation": "Książki $A$ i $B$ mogą być ustawione w dwóch konfiguracjach z dwoma książkami między nimi",
        "why": "Warunek 'między A i B' nie określa kolejności - może być $A_B$ lub $B_A$. To kluczowe rozróżnienie, często pomijane!"
      },
      {
        "step": 2,
        "hint": "Ile pozycji może zająć para $A$ i $B$ z dwoma książkami między nimi?",
        "expression": "Blok $A_B$ zajmuje 4 pozycje: może zaczynać się na pozycji $1$ lub $2$",
        "explanation": "Blok 4 książek ($A$, dwie inne, $B$) może zaczynać się tylko na pozycji $1$ lub $2$ na półce z $5$ miejscami",
        "why": "Jeśli blok zaczyna się na pozycji $3$ lub dalej, nie zmieści się na półce. Wizualizacja: $[A _ _ B _]$ lub $[_ A _ _ B]$"
      },
      {
        "step": 3,
        "hint": "Ile jest sposobów wyboru dwóch książek, które staną między $A$ i $B$?",
        "expression": "Wybieramy 2 książki z pozostałych 3: $\\binom{3}{2} = 3$ sposoby",
        "explanation": "Mamy $3$ książki (poza $A$ i $B$), wybieramy z nich $2$ do umieszczenia między $A$ i $B$"
      },
      {
        "step": 4,
        "hint": "W jakiej kolejności mogą stać wybrane dwie książki między $A$ i $B$?",
        "expression": "Dwie wybrane książki można ustawić na $2! = 2$ sposoby",
        "explanation": "Kolejność dwóch książek między $A$ i $B$ ma znaczenie"
      },
      {
        "step": 5,
        "hint": "Co zrobić z piątą książką, która nie jest w bloku?",
        "expression": "Pozostała $1$ książka może zająć jedno z $2$ wolnych miejsc",
        "explanation": "Po umieszczeniu bloku $4$ książek zostają $2$ wolne pozycje na półce"
      },
      {
        "step": 6,
        "hint": "Jak połączyć wszystkie możliwości w jeden wynik?",
        "expression": "Dla jednej konfiguracji (np. $A$...$B$): $2 \\cdot 3 \\cdot 2 \\cdot 2 = 24$ sposoby",
        "explanation": "Mnożymy: pozycje bloku $\\times$ wybór $2$ książek $\\times$ ich kolejność $\\times$ pozycja $5$. książki",
        "why": "Stosujemy regułę mnożenia: każdy wybór jest niezależny. Alternatywa: można myśleć o tym jako o permutacjach z ograniczeniami."
      },
      {
        "step": 7,
        "hint": "Czy uwzględniliśmy obie możliwe kolejności $A$ i $B$?",
        "expression": "$2 \\cdot 24 = 48$ sposobów",
        "explanation": "Mnożymy przez $2$, bo mamy dwie konfiguracje: $A$...$B$ i $B$...$A$"
      }
    ],
    "solutions": [
      "$48$"
    ],
    "parameters": {
      "total_books": 5,
      "spacing_required": 2
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:37:00.732Z"
  },
  {
    "id": "permutations_adjacent_order",
    "topic": "Permutacje z warunkiem sąsiedztwa",
    "difficulty": 3,
    "statement": "Sześć osób, które oznaczymy literami $A, B, C, D, E, F$, ma zająć sześć sąsiednich miejsc w jednym rzędzie w kinie. Na ile sposobów mogą one usiąść, tak aby osoby $D, E$ siedziały obok siebie w podanym porządku?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza warunek \"w podanym porządku\" dla osób $D$ i $E$?",
        "expression": "Osoby $D$ i $E$ muszą siedzieć obok siebie w kolejności: najpierw $D$, potem $E$",
        "explanation": "Warunek \"w podanym porządku\" oznacza, że $D$ musi być bezpośrednio przed $E$",
        "why": "To kluczowa różnica! Gdyby chodziło o dowolny porządek ($DE$ lub $ED$), mielibyśmy dwa razy więcej możliwości. Tu tylko jedna kolejność: $DE$."
      },
      {
        "step": 2,
        "hint": "Jak możemy potraktować parę $DE$, żeby uprościć problem?",
        "expression": "Traktujemy parę $DE$ jako jeden \"blok\"",
        "explanation": "Zamiast 6 osób mamy teraz 5 obiektów: $A$, $B$, $C$, $(DE)$, $F$",
        "why": "To standardowa technika dla warunków sąsiedztwa. Blok $(DE)$ zachowuje się jak pojedyncza osoba, ale wewnątrz ma ustaloną kolejność."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można ustawić $5$ obiektów w rzędzie?",
        "expression": "$5! = 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 120$",
        "explanation": "Permutujemy 5 obiektów: $A$, $B$, $C$, $(DE)$, $F$"
      },
      {
        "step": 4,
        "hint": "Czy musimy jeszcze uwzględnić kolejność wewnątrz bloku $DE$?",
        "expression": "Nie, ponieważ kolejność $D, E$ jest już ustalona warunkiem zadania",
        "explanation": "Blok $(DE)$ ma tylko jedną możliwą konfigurację wewnętrzną"
      },
      {
        "step": 5,
        "hint": "Jaka jest ostateczna liczba sposobów ustawienia wszystkich osób?",
        "expression": "Liczba sposobów = $5! = 120$",
        "explanation": "Odpowiedź to liczba permutacji $5$ obiektów"
      }
    ],
    "solutions": [
      "$120$"
    ],
    "parameters": {
      "note": "Gdyby $D$ i $E$ mogły siedzieć w dowolnym porządku, odpowiedź byłaby $2 \\cdot 5! = 240$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:37:19.059Z"
  },
  {
    "id": "permutations_adjacent_order",
    "topic": "Permutacje z warunkami",
    "difficulty": 3,
    "statement": "Sześć osób, które oznaczymy literami $A, B, C, D, E, F$, ma zająć sześć sąsiednich miejsc w jednym rzędzie w kinie. Na ile sposobów mogą one usiąść, tak aby osoby $A, B, C, D$ siedziały obok siebie w podanym porządku?",
    "steps": [
      {
        "step": 1,
        "hint": "Co się stanie, jeśli potraktujemy cztery osoby $A$, $B$, $C$, $D$ jako jeden nierozdzielny blok?",
        "expression": "Traktujemy grupę $ABCD$ jako jeden element",
        "explanation": "Zamiast $6$ osób mamy teraz $3$ obiekty do ustawienia: blok $ABCD$, osobę $E$ i osobę $F$",
        "why": "To kluczowa technika w permutacjach z warunkami - gdy elementy muszą być razem, traktujemy je jako jeden obiekt. Dzięki temu warunek \"obok siebie\" jest automatycznie spełniony."
      },
      {
        "step": 2,
        "hint": "Czy kolejność $A$, $B$, $C$, $D$ wewnątrz bloku może się zmieniać?",
        "expression": "Kolejność wewnątrz bloku $ABCD$ jest ustalona (nie permutujemy)",
        "explanation": "Warunek zadania wymaga, aby osoby siedziały \"w podanym porządku\", więc blok jest sztywny"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można ustawić trzy obiekty w rzędzie?",
        "expression": "$3! = 3 \\cdot 2 \\cdot 1 = 6$",
        "explanation": "Permutujemy 3 obiekty: blok $ABCD$, osobę $E$ i osobę $F$",
        "why": "Mamy $3$ pozycje i $3$ obiekty do rozmieszczenia. Pierwszy obiekt: $3$ możliwości, drugi: $2$ możliwości, trzeci: $1$ możliwość. Stąd $3!$."
      },
      {
        "step": 4,
        "hint": "Jakie konkretne ustawienia są możliwe?",
        "expression": "Możliwe ustawienia: $ABCDEF$, $ABCDFE$, $EABCDF$, $FABCDE$, $EFABCD$, $FEABCD$",
        "explanation": "Blok $ABCD$ może być na początku, w środku lub na końcu, a $E$ i $F$ zamieniają się miejscami"
      }
    ],
    "solutions": [
      "$6$"
    ],
    "parameters": {
      "method": "Permutacje z blokiem elementów"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:37:36.265Z"
  },
  {
    "id": "permutations_adjacent_group",
    "topic": "Permutacje z warunkiem sąsiedztwa",
    "difficulty": 3,
    "statement": "Sześć osób, które oznaczymy literami $A, B, C, D, E, F$, ma zająć sześć sąsiednich miejsc w jednym rzędzie w kinie. Na ile sposobów mogą one usiąść, tak aby osoby $A, B, C$ siedziały obok siebie w dowolnym porządku?",
    "steps": [
      {
        "step": 1,
        "hint": "Co się stanie, jeśli potraktujesz trzy osoby $A$, $B$, $C$ jako jedną \"super-osobę\"?",
        "expression": "Traktujemy grupę $(A, B, C)$ jako jeden element",
        "explanation": "Zamiast $6$ osób mamy teraz $4$ obiekty do ustawienia: grupę $(A, B, C)$, osobę $D$, osobę $E$ i osobę $F$",
        "why": "To kluczowa technika w permutacjach z warunkiem sąsiedztwa - grupujemy elementy, które muszą być obok siebie. Dzięki temu upraszczamy problem."
      },
      {
        "step": 2,
        "hint": "Na ile sposobów można ustawić $4$ obiekty w rzędzie?",
        "expression": "$4! = 4 \\cdot 3 \\cdot 2 \\cdot 1 = 24$",
        "explanation": "Permutujemy 4 obiekty: grupę $(A, B, C)$, $D$, $E$, $F$"
      },
      {
        "step": 3,
        "hint": "Czy osoby $A$, $B$, $C$ mogą zmieniać miejscami wewnątrz swojej grupy?",
        "expression": "$3! = 3 \\cdot 2 \\cdot 1 = 6$",
        "explanation": "Wewnątrz grupy osoby $A$, $B$, $C$ mogą siedzieć w dowolnym porządku",
        "why": "Warunek mówi \"w dowolnym porządku\", więc $ABC$, $ACB$, $BAC$, $BCA$, $CAB$, $CBA$ - wszystkie są dozwolone. Gdyby był określony porządek (np. tylko $ABC$), ten krok byłby niepotrzebny."
      },
      {
        "step": 4,
        "hint": "Jak połączyć liczbę ustawień grupy z liczbą ustawień wewnątrz grupy?",
        "expression": "$4! \\cdot 3! = 24 \\cdot 6 = 144$",
        "explanation": "Mnożymy liczbę sposobów ustawienia $4$ obiektów przez liczbę sposobów ustawienia osób wewnątrz grupy"
      }
    ],
    "solutions": [
      "$144$"
    ],
    "parameters": {
      "method": "Permutacje z grupowaniem elementów"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:37:50.396Z"
  },
  {
    "id": "combinatorics_seating_constraint",
    "topic": "Kombinatoryka - permutacje z warunkiem",
    "difficulty": 4,
    "statement": "Sześć osób, które oznaczymy literami $A, B, C, D, E, F$, ma zająć sześć sąsiednich miejsc w jednym rzędzie w kinie. Na ile sposobów mogą one usiąść, tak aby między osobami $A$ i $B$ siedziały dwie osoby?",
    "steps": [
      {
        "step": 1,
        "hint": "Jak możemy traktować osoby $A$ i $B$ wraz z dwiema osobami między nimi?",
        "expression": "Traktujemy blok $A \\_ \\_ B$ (lub $B \\_ \\_ A$) jako jedną całość",
        "explanation": "Zamiast rozmieszczać $6$ osób z warunkiem, tworzymy blok $4$ osób",
        "why": "To kluczowa technika w kombinatoryce z warunkami - grupowanie elementów spełniających warunek w bloki. Dzięki temu warunek \"dwie osoby między $A$ i $B$\" jest automatycznie spełniony."
      },
      {
        "step": 2,
        "hint": "Ile mamy teraz obiektów do rozmieszczenia w rzędzie?",
        "expression": "Mamy $3$ obiekty: blok $[A \\_ \\_ B]$, osoba $E$, osoba $F$",
        "explanation": "Blok liczymy jako jeden obiekt, plus dwie pozostałe osoby"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można ustawić te $3$ obiekty w rzędzie?",
        "expression": "$3! = 6$ sposobów",
        "explanation": "Permutacja $3$ obiektów"
      },
      {
        "step": 4,
        "hint": "W jakiej kolejności mogą stać $A$ i $B$ w bloku?",
        "expression": "$2$ możliwości: $A \\_ \\_ B$ lub $B \\_ \\_ A$",
        "explanation": "A może być z lewej lub z prawej strony bloku",
        "why": "Warunek mówi tylko o odległości, nie o kolejności! Często zapomina się o drugiej możliwości."
      },
      {
        "step": 5,
        "hint": "Które osoby mogą zająć dwa miejsca między $A$ i $B$?",
        "expression": "Wybieramy 2 osoby z 4 pozostałych: $C, D, E, F$",
        "explanation": "Musimy wybrać, które dwie osoby siedzą między $A$ i $B$"
      },
      {
        "step": 6,
        "hint": "Na ile sposobów można wybrać i ustawić te dwie osoby?",
        "expression": "Wybór i ustawienie: $4 \\cdot 3 = 12$ sposobów",
        "explanation": "Pierwsza osoba: $4$ możliwości, druga: $3$ możliwości",
        "why": "To nie jest kombinacja $\\binom{4}{2}$, bo kolejność ma znaczenie! Osoba na pierwszym miejscu między $A$ i $B$ to co innego niż na drugim."
      },
      {
        "step": 7,
        "hint": "Jak połączyć wszystkie policzone możliwości?",
        "expression": "$3! \\cdot 2 \\cdot 4 \\cdot 3 = 6 \\cdot 2 \\cdot 12 = 144$",
        "explanation": "Mnożymy: rozmieszczenie bloków $\\times$ kolejność $A,B$ $\\times$ wybór osób między nimi"
      }
    ],
    "solutions": [
      "$144$"
    ],
    "parameters": {
      "method": "Metoda bloków z warunkiem odległości"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:38:10.569Z"
  },
  {
    "id": "permutation_fixed_positions",
    "topic": "Permutacje z warunkami",
    "difficulty": 2,
    "statement": "Na ile sposobów można ustawić w szereg $8$ osób tak, aby osoby $A$, $B$, $C$ zajmowały odpowiednio pierwsze, drugie i trzecie miejsce w tym szeregu?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy osoby $A$, $B$, $C$ mają jakąkolwiek swobodę wyboru miejsca?",
        "expression": "Osoby $A$, $B$, $C$ muszą zająć miejsca $1$, $2$, $3$ - są one ustalone",
        "explanation": "Warunek zadania jednoznacznie określa pozycje trzech osób",
        "why": "To kluczowa obserwacja: gdy pozycje są z góry ustalone, nie ma wyboru dla tych elementów. Częsty błąd: mnożenie przez $3!$ dla $A$, $B$, $C$."
      },
      {
        "step": 2,
        "hint": "Ile osób pozostało do rozmieszczenia i ile mamy dla nich miejsc?",
        "expression": "Pozostało $8 - 3 = 5$ osób na miejsca $4$, $5$, $6$, $7$, $8$",
        "explanation": "Po ustaleniu $A$, $B$, $C$ zostaje 5 osób do ustawienia"
      },
      {
        "step": 3,
        "hint": "W ilu różnych kolejnościach można ustawić te $5$ osób?",
        "expression": "Liczba permutacji $5$ osób: $5! = 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1$",
        "explanation": "Każda z $5$ osób może zająć dowolne z pozostałych miejsc"
      },
      {
        "step": 4,
        "hint": "Jaki jest końcowy wynik?",
        "expression": "$5! = 120$",
        "explanation": "Istnieje $120$ sposobów ustawienia $8$ osób z podanymi warunkami"
      }
    ],
    "solutions": [
      "$120$"
    ],
    "parameters": {
      "total_people": 8,
      "fixed_positions": 3
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 1
      }
    },
    "timestamp": "2025-10-03T08:38:22.762Z"
  },
  {
    "id": "combinatorics_arrangement_with_conditions",
    "topic": "Kombinatoryka - permutacje z warunkami",
    "difficulty": 4,
    "statement": "Na ile sposobów można ustawić w szereg $8$ osób tak, aby osoby $A$ i $B$ stały obok siebie oraz pomiędzy tą parą osób a osobą $C$ stały dwie inne osoby?",
    "steps": [
      {
        "step": 1,
        "hint": "Co się stanie, jeśli potraktujemy parę $A$-$B$ jako jeden obiekt?",
        "expression": "Traktujemy parę $(A,B)$ jako jeden blok. Mamy wtedy $7$ obiektów do ustawienia: blok $(A,B)$, osobę $C$ i $5$ innych osób",
        "explanation": "Redukujemy problem - zamiast $8$ osób mamy $7$ obiektów",
        "why": "To standardowa technika dla warunków 'obok siebie'. Pamiętaj: wewnątrz bloku $A$ i $B$ mogą się zamieniać miejscami!"
      },
      {
        "step": 2,
        "hint": "Ile pozycji może zająć blok $(A,B)$, jeśli między nim a $C$ muszą być dokładnie $2$ osoby?",
        "expression": "Blok (A,B) zajmuje 2 miejsca. Jeśli jest na pozycjach $i$ i $i+1$, to $C$ musi być na pozycji $i+4$ lub $i-4$",
        "explanation": "Między blokiem a $C$ muszą być dokładnie $2$ osoby, więc odległość to $3$ pozycje"
      },
      {
        "step": 3,
        "hint": "Które konkretne pozycje spełniają warunek odległości?",
        "expression": "Możliwe konfiguracje:\n- Blok na pozycjach $1$-$2$, $C$ na pozycji $5$\n- Blok na pozycjach $2$-$3$, $C$ na pozycji $6$\n- Blok na pozycjach $3$-$4$, $C$ na pozycji $7$\n- Blok na pozycjach $4$-$5$, $C$ na pozycji $8$\n- Blok na pozycjach $5$-$6$, $C$ na pozycji $1$\n- Blok na pozycjach $6$-$7$, $C$ na pozycji $2$\n- Blok na pozycjach $7$-$8$, $C$ na pozycji $3$\n- Blok na pozycjach $4$-$5$, $C$ na pozycji $1$",
        "explanation": "Systematycznie sprawdzamy wszystkie możliwe pozycje bloku i odpowiadające im pozycje $C$",
        "why": "Musimy uwzględnić obie strony: $C$ może być $3$ pozycje przed lub $3$ pozycje po bloku. Łącznie jest $8$ możliwych konfiguracji."
      },
      {
        "step": 4,
        "hint": "Ile sposobów jest na ustawienie pozostałych $5$ osób na wolnych miejscach?",
        "expression": "Dla każdej z 8 konfiguracji: pozostałe 5 osób można ustawić na $5! = 120$ sposobów",
        "explanation": "Po ustaleniu pozycji bloku $(A,B)$ i osoby $C$, zostaje $5$ wolnych miejsc dla $5$ osób"
      },
      {
        "step": 5,
        "hint": "Czy $A$ i $B$ mogą zamieniać się miejscami wewnątrz bloku?",
        "expression": "W każdej konfiguracji $A$ i $B$ mogą być ustawione na $2! = 2$ sposoby ($A$-$B$ lub $B$-$A$)",
        "explanation": "Blok $(A,B)$ to uporządkowana para, więc mamy $2$ możliwości",
        "why": "Częsty błąd: zapomnienie o permutacji wewnątrz bloku! $A$-$B$ to inna kolejność niż $B$-$A$."
      },
      {
        "step": 6,
        "hint": "Jak połączyć wszystkie możliwości w końcowy wynik?",
        "expression": "$8 \\times 2 \\times 5! = 8 \\times 2 \\times 120 = 1920$",
        "explanation": "Mnożymy: $8$ konfiguracji $\\times$ $2$ kolejności w bloku $\\times$ $120$ permutacji pozostałych osób"
      }
    ],
    "solutions": [
      "$1920$"
    ],
    "parameters": {
      "total_people": 8,
      "condition_1": "A i B obok siebie",
      "condition_2": "między parą $(A,B)$ a $C$ dokładnie $2$ osoby"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:38:44.361Z"
  },
  {
    "id": "permutations_restriction",
    "topic": "Permutacje z ograniczeniami",
    "difficulty": 3,
    "statement": "Na ile sposobów można ustawić w szereg $8$ osób tak, aby osoby $A$ i $B$ nie stały obok siebie?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile jest wszystkich możliwych ustawień $8$ osób bez żadnych ograniczeń?",
        "expression": "$8! = 40320$",
        "explanation": "Wszystkie permutacje $8$ osób"
      },
      {
        "step": 2,
        "hint": "Czy łatwiej policzyć ustawienia gdzie $A$ i $B$ NIE stoją obok, czy gdzie STOJĄ obok?",
        "expression": "Policzymy ustawienia gdzie $A$ i $B$ stoją obok, a potem odejmiemy od wszystkich",
        "explanation": "Używamy metody dopełnienia - często prostsze podejście",
        "why": "Bezpośrednie liczenie 'nie obok' jest trudne. Metoda dopełnienia: wszystkie minus 'złe'. To jak liczenie: ile liczb NIE jest podzielnych przez 3? Łatwiej: wszystkie minus podzielne przez 3."
      },
      {
        "step": 3,
        "hint": "Jak potraktować parę $A$-$B$, żeby zawsze stali obok siebie?",
        "expression": "Traktujemy $A$ i $B$ jako jeden 'blok'",
        "explanation": "Mamy teraz $7$ obiektów do ustawienia: blok $(AB)$ plus $6$ innych osób"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można ustawić te $7$ obiektów?",
        "expression": "$7! = 5040$",
        "explanation": "Permutacje $7$ obiektów",
        "why": "Blok (AB) traktujemy jak jedną osobę. Ale uwaga - wewnątrz bloku $A$ i $B$ mogą się zamieniać miejscami!"
      },
      {
        "step": 5,
        "hint": "W ilu konfiguracjach może być para $A$-$B$ wewnątrz bloku?",
        "expression": "$2! = 2$",
        "explanation": "A może być przed B lub B przed A: $(AB)$ lub $(BA)$"
      },
      {
        "step": 6,
        "hint": "Ile jest wszystkich 'złych' ustawień, gdzie $A$ i $B$ stoją obok?",
        "expression": "$7! \\cdot 2! = 5040 \\cdot 2 = 10080$",
        "explanation": "Mnożymy liczbę ustawień bloków przez liczbę ustawień wewnątrz bloku"
      },
      {
        "step": 7,
        "hint": "Jak otrzymać liczbę 'dobrych' ustawień?",
        "expression": "$8! - 7! \\cdot 2! = 40320 - 10080 = 30240$",
        "explanation": "Od wszystkich ustawień odejmujemy te, gdzie $A$ i $B$ stoją obok"
      }
    ],
    "solutions": [
      "$30240$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:39:01.871Z"
  },
  {
    "id": "combinatorics_conditional_arrangement",
    "topic": "Kombinatoryka - permutacje warunkowe",
    "difficulty": 4,
    "statement": "Na ile sposobów można ustawić w szeregu $8$ osób tak, aby osoba $A$ stała pierwsza w szeregu, a w dalszej części szeregu osoba $B$ stała bliżej $A$ niż osoba $C$?",
    "steps": [
      {
        "step": 1,
        "hint": "Co się dzieje z liczbą możliwości, gdy $A$ musi stać na pierwszym miejscu?",
        "expression": "Osoba A na pozycji $1$, pozostaje $7$ pozycji dla pozostałych osób",
        "explanation": "Warunek 'A pierwsza' eliminuje wszystkie inne możliwości dla $A$",
        "why": "Fiksując jedną osobę, redukujemy problem z permutacji $8$ elementów do permutacji $7$ elementów. To kluczowa technika w zadaniach z warunkami."
      },
      {
        "step": 2,
        "hint": "Ile par pozycji $(B, C)$ spełnia warunek 'B bliżej A niż C'?",
        "expression": "Dla pozycji $2$-$8$: $B$ może być na pozycjach $2, 3, 4, 5, 6, 7, 8$, a $C$ dalej od $A$",
        "explanation": "Musimy policzyć pary pozycji gdzie pozycja $B < C$"
      },
      {
        "step": 3,
        "hint": "Czy dla każdej pary pozycji $(B, C)$ warunek jest spełniony z tym samym prawdopodobieństwem?",
        "expression": "Spośród wszystkich par pozycji dla $B$ i $C$, dokładnie połowa spełnia warunek $B$ bliżej $A$",
        "explanation": "Dla dowolnych dwóch różnych pozycji, $B$ może być bliżej lub dalej od $A$",
        "why": "To zasada symetrii: jeśli $B$ i $C$ mogą zająć dwie pozycje, to równie prawdopodobne jest, że $B$ będzie bliżej ($B < C$) lub dalej ($B > C$). Nie ma preferencji!"
      },
      {
        "step": 4,
        "hint": "Ile jest wszystkich sposobów ustawienia $7$ osób na $7$ pozycjach?",
        "expression": "$7! = 5040$ sposobów",
        "explanation": "Permutacja $7$ pozostałych osób (włącznie z $B$ i $C$)"
      },
      {
        "step": 5,
        "hint": "Jak wykorzystać symetrię do obliczenia liczby korzystnych ustawień?",
        "expression": "$\\frac{7!}{2} = \\frac{5040}{2} = 2520$",
        "explanation": "Połowa wszystkich permutacji spełnia warunek '$B$ bliżej $A$ niż $C$'",
        "why": "Dzielimy przez $2$, bo dla każdego ustawienia pozostałych $5$ osób, $B$ i $C$ mogą zamienić się miejscami - tylko jedno z tych dwóch ustawień spełnia warunek. Alternatywa: sumowanie przypadków dla każdej pozycji $B$."
      }
    ],
    "solutions": [
      "$2520$"
    ],
    "parameters": {
      "method": "Zasada symetrii w permutacjach warunkowych"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:39:19.101Z"
  },
  {
    "id": "combinatorics_digits_constraint",
    "topic": "Kombinatoryka - permutacje z ograniczeniami",
    "difficulty": 3,
    "statement": "Ile jest liczb siedmiocyfrowych o różnych cyfrach należących do zbioru $\\{3,4,5,6,7,8,9\\}$ i jednocześnie mniejszych od $5000000$?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr mamy do dyspozycji i ile miejsc do zapełnienia?",
        "expression": "Mamy $7$ cyfr: $\\{3,4,5,6,7,8,9\\}$ i $7$ pozycji w liczbie",
        "explanation": "Liczba siedmiocyfrowa ma dokładnie $7$ pozycji, a cyfry muszą być różne"
      },
      {
        "step": 2,
        "hint": "Która cyfra na pierwszej pozycji gwarantuje, że liczba będzie mniejsza od $5000000$?",
        "expression": "Pierwsza cyfra może być tylko $3$ lub $4$",
        "explanation": "Liczba mniejsza od $5000000$ musi zaczynać się od cyfry mniejszej niż $5$",
        "why": "Cyfra na pozycji milionów decyduje o wielkości liczby. Cyfry $5, 6, 7, 8, 9$ dałyby liczby $\\geq 5000000$. Mamy więc tylko $2$ wybory dla pierwszej pozycji."
      },
      {
        "step": 3,
        "hint": "Po wyborze pierwszej cyfry, ile cyfr zostaje na pozostałe $6$ pozycji?",
        "expression": "Po wyborze pierwszej cyfry zostaje $6$ cyfr na $6$ pozostałych pozycji",
        "explanation": "Cyfry muszą być różne, więc jedna została już użyta"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można ustawić $6$ różnych cyfr na $6$ pozycjach?",
        "expression": "Pozostałe $6$ cyfr można ustawić na $6! = 720$ sposobów",
        "explanation": "To permutacja $6$ elementów bez powtórzeń",
        "why": "Permutacja $n$ elementów to $n!$. Dla każdej pozycji mamy coraz mniej wyborów: $6 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 6! = 720$."
      },
      {
        "step": 5,
        "hint": "Jak połączyć liczbę wyborów pierwszej cyfry z liczbą permutacji pozostałych?",
        "expression": "Całkowita liczba = $2 \\cdot 6! = 2 \\cdot 720 = 1440$",
        "explanation": "Mnożymy liczbę wyborów dla pierwszej pozycji przez liczbę permutacji pozostałych cyfr"
      }
    ],
    "solutions": [
      "$1440$"
    ],
    "parameters": {
      "set": "$\\{3,4,5,6,7,8,9\\}$",
      "constraint": "liczba $< 5000000$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:39:35.971Z"
  },
  {
    "id": "combinatorics_seven_digit",
    "topic": "Kombinatoryka - permutacje z ograniczeniami",
    "difficulty": 4,
    "statement": "Ile jest liczb siedmiocyfrowych o różnych cyfrach należących do zbioru $\\{3,4,5,6,7,8,9\\}$ i jednocześnie większych od $6500000$?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr mamy do dyspozycji i ile miejsc do zapełnienia?",
        "expression": "Mamy 7 cyfr: $\\{3,4,5,6,7,8,9\\}$ i $7$ pozycji do zapełnienia",
        "explanation": "Liczba siedmiocyfrowa ma dokładnie $7$ miejsc, a cyfry muszą być różne"
      },
      {
        "step": 2,
        "hint": "Jaka cyfra na pierwszej pozycji gwarantuje, że liczba będzie większa od $6500000$?",
        "expression": "Pierwsza cyfra musi być z $\\{7, 8, 9\\}$ lub równa $6$",
        "explanation": "Liczba większa od $6500000$ zaczyna się od cyfry co najmniej $6$",
        "why": "Kluczowy podział: gdy pierwsza cyfra to $7$, $8$ lub $9$, automatycznie liczba > $6500000$. Gdy pierwsza cyfra to $6$, potrzebujemy dodatkowego warunku dla drugiej cyfry."
      },
      {
        "step": 3,
        "hint": "Ile liczb możemy utworzyć, gdy pierwsza cyfra to $7$, $8$ lub $9$?",
        "expression": "Przypadek 1: pierwsza cyfra $\\in \\{7, 8, 9\\}$, czyli $3 \\cdot 6!$ możliwości",
        "explanation": "$3$ wybory na pierwszą cyfrę, pozostałe $6$ cyfr permutujemy na $6$ pozycjach",
        "why": "Po wyborze pierwszej cyfry zostaje $6$ różnych cyfr do ułożenia na $6$ pozycjach, co daje $6! = 720$ permutacji dla każdego wyboru pierwszej cyfry."
      },
      {
        "step": 4,
        "hint": "Co musi spełniać druga cyfra, gdy pierwsza to $6$?",
        "expression": "Przypadek 2: pierwsza cyfra = $6$, druga cyfra $\\in \\{5, 7, 8, 9\\}$",
        "explanation": "Gdy liczba zaczyna się od $6$, druga cyfra musi być co najmniej $5$, aby liczba była $\\geq 6500000$",
        "why": "Cyfra $3$ i $4$ na drugiej pozycji dałyby liczby $63xxxxx$ i $64xxxxx$, które są $< 6500000$. Cyfra $6$ jest już użyta na pierwszej pozycji."
      },
      {
        "step": 5,
        "hint": "Ile permutacji pozostałych cyfr możemy utworzyć dla każdego wyboru drugiej cyfry?",
        "expression": "Dla przypadku 2: $4 \\cdot 5!$ możliwości",
        "explanation": "$4$ wybory na drugą cyfrę, pozostałe $5$ cyfr permutujemy na $5$ pozycjach"
      },
      {
        "step": 6,
        "hint": "Jak połączyć oba przypadki, aby otrzymać całkowitą liczbę rozwiązań?",
        "expression": "$3 \\cdot 6! + 4 \\cdot 5! = 3 \\cdot 720 + 4 \\cdot 120 = 2160 + 480 = 2640$",
        "explanation": "Sumujemy liczbę możliwości z obu rozłącznych przypadków"
      }
    ],
    "solutions": [
      "$2640$"
    ],
    "parameters": {
      "digits": "$\\{3,4,5,6,7,8,9\\}$",
      "condition": "$liczba > 6500000$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:39:55.323Z"
  },
  {
    "id": "combinatorics_odd_five_digit",
    "topic": "Kombinatoryka - permutacje z ograniczeniami",
    "difficulty": 4,
    "statement": "Ile jest liczb pięciocyfrowych, zbudowanych z różnych cyfr należących do zbioru $\\{0,1,2,3,4\\}$ i jednocześnie nieparzystych?",
    "steps": [
      {
        "step": 1,
        "hint": "Która cyfra decyduje o tym, czy liczba jest nieparzysta?",
        "expression": "Liczba jest nieparzysta, gdy ostatnia cyfra to $1$ lub $3$",
        "explanation": "Parzystość liczby zależy wyłącznie od cyfry jedności"
      },
      {
        "step": 2,
        "hint": "Dlaczego nie możemy zacząć od wyboru pierwszej cyfry?",
        "expression": "Zaczynamy od wyboru ostatniej cyfry: $2$ możliwości ($1$ lub $3$)",
        "explanation": "Najpierw ustalamy cyfrę z największym ograniczeniem",
        "why": "Strategia: najpierw pozycje z ograniczeniami! Ostatnia cyfra ma warunek (nieparzystość), pierwsza też (nie może być $0$). Gdybyśmy zaczęli od pierwszej, musielibyśmy rozpatrywać przypadki."
      },
      {
        "step": 3,
        "hint": "Ile cyfr pozostało do wyboru na pierwszą pozycję i dlaczego nie wszystkie?",
        "expression": "Pierwsza cyfra: $3$ możliwości (nie może być $0$ ani wybranej ostatniej cyfry)",
        "explanation": "Z $5$ cyfr wykluczamy $0$ i już użytą cyfrę nieparzystą",
        "why": "Liczba pięciocyfrowa nie może zaczynać się od $0$! Po wyborze ostatniej cyfry zostały: $\\{0,1,2,3,4\\} \\setminus \\{ostatnia\\}$, ale $0$ nie może być pierwszy."
      },
      {
        "step": 4,
        "hint": "Jak zmienia się liczba możliwości dla kolejnych środkowych pozycji?",
        "expression": "Druga pozycja: $3$ możliwości, trzecia: $2$, czwarta: $1$",
        "explanation": "Dla każdej kolejnej pozycji mamy o jedną cyfrę mniej do wyboru"
      },
      {
        "step": 5,
        "hint": "Jak połączyć wszystkie wybory w jedną liczbę możliwości?",
        "expression": "Dla ustalonej ostatniej cyfry: $3 \\cdot 3 \\cdot 2 \\cdot 1 = 18$ liczb",
        "explanation": "Mnożymy liczbę możliwości na każdej pozycji (reguła mnożenia)"
      },
      {
        "step": 6,
        "hint": "Ile mamy przypadków do rozpatrzenia dla ostatniej cyfry?",
        "expression": "Łącznie: $2 \\cdot 18 = 36$ liczb",
        "explanation": "Sumujemy wyniki dla obu możliwych ostatnich cyfr ($1$ i $3$)",
        "why": "Przypadki się wykluczają (ostatnia cyfra to albo $1$, albo $3$), więc dodajemy. Gdyby warunki były niezależne, mnożylibyśmy."
      }
    ],
    "solutions": [
      "$36$"
    ],
    "parameters": {
      "digits": "$\\{0,1,2,3,4\\}$",
      "constraint": "liczby pięciocyfrowe nieparzyste z różnych cyfr"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:40:15.092Z"
  },
  {
    "id": "combinatorics_divisibility_5",
    "topic": "Kombinatoryka z warunkami",
    "difficulty": 4,
    "statement": "Ile jest liczb pięciocyfrowych, zbudowanych z różnych cyfr należących do zbioru $\\{0,1,2,3,4\\}$ i jednocześnie podzielnych przez $5$?",
    "steps": [
      {
        "step": 1,
        "hint": "Jaka cyfra musi być na końcu liczby podzielnej przez $5$?",
        "expression": "Liczba podzielna przez $5$ kończy się cyfrą $0$ lub $5$",
        "explanation": "Warunek podzielności przez $5$",
        "why": "To kluczowy warunek - cyfra jedności determinuje podzielność przez $5$. Ale uwaga: w naszym zbiorze $\\{0,1,2,3,4\\}$ nie ma cyfry $5$!"
      },
      {
        "step": 2,
        "hint": "Która z tych cyfr jest w zbiorze $\\{0,1,2,3,4\\}$?",
        "expression": "Ostatnia cyfra musi być $0$",
        "explanation": "Cyfra $5$ nie należy do dostępnego zbioru cyfr"
      },
      {
        "step": 3,
        "hint": "Ile cyfr pozostało do wykorzystania na pozostałe pozycje?",
        "expression": "Pozostałe cyfry: $\\{1,2,3,4\\}$ (4 cyfry)",
        "explanation": "Cyfra $0$ jest już użyta na ostatniej pozycji"
      },
      {
        "step": 4,
        "hint": "Czy cyfra $0$ może być na pierwszej pozycji liczby pięciocyfrowej?",
        "expression": "Pierwsza cyfra musi być z $\\{1,2,3,4\\}$ (nie może być $0$)",
        "explanation": "Liczba pięciocyfrowa nie może zaczynać się od zera $0$",
        "why": "Częsty błąd: zapomnienie o tym warunku! Gdyby pierwsza cyfra była $0$, otrzymalibyśmy liczbę czterocyfrową, nie pięciocyfrową."
      },
      {
        "step": 5,
        "hint": "Na ile sposobów możesz wybrać pierwszą cyfrę?",
        "expression": "Pierwsza pozycja: $4$ możliwości",
        "explanation": "Wybieramy jedną z czterech cyfr: $1$, $2$, $3$ lub $4$"
      },
      {
        "step": 6,
        "hint": "Ile cyfr zostało po wyborze pierwszej i ostatniej cyfry?",
        "expression": "Po wyborze pierwszej cyfry zostały $3$ cyfry",
        "explanation": "Cyfry muszą być różne, więc jedna została użyta"
      },
      {
        "step": 7,
        "hint": "Jak ułożyć pozostałe 3 cyfry na 3 środkowych pozycjach?",
        "expression": "Środkowe pozycje ($2$., $3$., $4$.) : $3! = 6$ permutacji",
        "explanation": "Permutujemy $3$ pozostałe cyfry na $3$ pozycjach",
        "why": "Używamy permutacji bez powtórzeń: $n! = n \\cdot (n-1) \\cdot ... \\cdot 1$. Alternatywnie: $3 \\cdot 2 \\cdot 1$ (wybór dla każdej pozycji)."
      },
      {
        "step": 8,
        "hint": "Jak połączyć liczbę wyborów dla wszystkich pozycji?",
        "expression": "$4 \\cdot 3! = 4 \\cdot 6 = 24$",
        "explanation": "Mnożymy liczbę możliwości dla każdej niezależnej pozycji"
      }
    ],
    "solutions": [
      "$24$"
    ],
    "parameters": {
      "available_digits": "$\\{0,1,2,3,4\\}$",
      "number_length": "$5$ cyfr",
      "condition": "podzielna przez $5$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:40:40.812Z"
  },
  {
    "id": "combinatorics_seven_digit_even",
    "topic": "Kombinatoryka - permutacje z ograniczeniami",
    "difficulty": 4,
    "statement": "Ile jest liczb siedmiocyfrowych, o niepowtarzających się cyfrach należących do zbioru $\\{0,1,2,3,4,5,6\\}$ i jednocześnie parzystych?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą stać na ostatnim miejscu, aby liczba była parzysta?",
        "expression": "Liczba parzysta kończy się na: $0$, $2$, $4$ lub $6$",
        "explanation": "Identyfikujemy cyfry parzyste w naszym zbiorze"
      },
      {
        "step": 2,
        "hint": "Dlaczego cyfra $0$ na ostatnim miejscu wymaga innego podejścia niż pozostałe cyfry parzyste?",
        "expression": "Rozpatrujemy dwa przypadki: ostatnia cyfra to $0$ LUB ostatnia cyfra to $2$, $4$ lub $6$",
        "explanation": "Zero na pierwszym miejscu nie tworzy liczby siedmiocyfrowej, więc musimy rozdzielić przypadki",
        "why": "Gdy ostatnia cyfra to $0$, pierwsza może być dowolna z pozostałych $6$ cyfr. Gdy ostatnia to $2$, $4$ lub $6$, pierwsza NIE może być zerem - to kluczowa różnica!"
      },
      {
        "step": 3,
        "hint": "Ile mamy możliwości wyboru cyfr, gdy liczba kończy się zerem?",
        "expression": "Przypadek 1: ostatnia cyfra = $0$. Pozostałe 6 cyfr $\\{1,2,3,4,5,6\\}$ na 6 pozycjach: $6!$ permutacji",
        "explanation": "Gdy zero jest na końcu, wszystkie pozostałe cyfry mogą być na pierwszym miejscu"
      },
      {
        "step": 4,
        "hint": "Ile sposobów wyboru ostatniej cyfry mamy, gdy nie jest to $0$?",
        "expression": "Przypadek 2: ostatnia cyfra to $2$, $4$ lub $6$ - mamy $3$ wybory",
        "explanation": "Trzy możliwe cyfry parzyste różne od zera na ostatnim miejscu"
      },
      {
        "step": 5,
        "hint": "Gdy ostatnia cyfra jest ustalona (np. $2$), ile cyfr może być na pierwszym miejscu?",
        "expression": "Dla ustalonej ostatniej cyfry (np. $2$): pierwsza cyfra NIE może być $0$ ani wybraną cyfrą ostatnią. Mamy $5$ wyborów na pierwszą pozycję",
        "explanation": "Z $7$ cyfr usunęliśmy jedną (ostatnią) i zero nie może być pierwsze",
        "why": "Pozostało $6$ cyfr, ale $0$ nie może być pierwsze, więc $5$ możliwości. To najczęstszy błąd - zapomnienie o wykluczeniu zera!"
      },
      {
        "step": 6,
        "hint": "Ile permutacji pozostałych cyfr mamy na środkowych $5$ pozycjach?",
        "expression": "Po ustaleniu pierwszej i ostatniej cyfry, pozostaje $5$ cyfr na $5$ środkowych pozycji: $5!$ permutacji",
        "explanation": "Rozmieszczamy pozostałe cyfry na wolnych miejscach"
      },
      {
        "step": 7,
        "hint": "Jak połączyć wszystkie wybory w przypadku $2$?",
        "expression": "Przypadek 2 razem: $3 \\cdot 5 \\cdot 5! = 3 \\cdot 5 \\cdot 120 = 1800$",
        "explanation": "Mnożymy: $3$ wybory ostatniej cyfry × $5$ wyborów pierwszej × $5!$ permutacji środkowych"
      },
      {
        "step": 8,
        "hint": "Jak zsumować oba niezależne przypadki?",
        "expression": "$6! + 1800 = 720 + 1800 = 2520$",
        "explanation": "Dodajemy liczbę liczb kończących się zerem i liczbę kończących się inną cyfrą parzystą"
      }
    ],
    "solutions": [
      "$2520$"
    ],
    "parameters": {
      "digits": "$\\{0,1,2,3,4,5,6\\}$",
      "length": "$7$ cyfr",
      "constraint": "cyfry niepowtarzające się, liczba parzysta"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:41:04.576Z"
  },
  {
    "id": "combinatorics_divisibility_4",
    "topic": "Kombinatoryka z warunkami podzielności",
    "difficulty": 4,
    "statement": "Ile jest liczb siedmiocyfrowych, o niepowtarzających się cyfrach należących do zbioru $\\{0,1,2,3,4,5,6\\}$ i jednocześnie podzielnych przez $4$?",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy liczba jest podzielna przez $4$?",
        "expression": "Liczba jest podzielna przez $4$, gdy jej dwie ostatnie cyfry tworzą liczbę podzielną przez $4$",
        "explanation": "Wykorzystujemy cechę podzielności przez $4$",
        "why": "Nie sprawdzamy całej liczby! Wystarczy ostatnie dwie cyfry. To znacznie upraszcza problem - zamiast analizować $7$ cyfr, skupiamy się na $2$."
      },
      {
        "step": 2,
        "hint": "Jakie dwucyfrowe liczby z cyfr $\\{0,1,2,3,4,5,6\\}$ dzielą się przez $4$?",
        "expression": "Liczby podzielne przez 4: $04, 12, 16, 20, 24, 32, 36, 40, 52, 56, 60, 64$",
        "explanation": "Sprawdzamy systematycznie wszystkie możliwe kombinacje dwóch różnych cyfr",
        "why": "Musimy uwzględnić $0$ na początku (jak w $04$), bo to może być przedostatnia cyfra. Uwaga: cyfry muszą być różne!"
      },
      {
        "step": 3,
        "hint": "Czy wszystkie te zakończenia dadzą liczbę siedmiocyfrową?",
        "expression": "Zakończenia dzielimy na dwa przypadki: z zerem ($04, 20, 40, 60$) i bez zera ($12, 16, 24, 32, 36, 52, 56, 64$)",
        "explanation": "Zero na pierwszej pozycji uniemożliwia utworzenie liczby siedmiocyfrowej",
        "why": "To kluczowy podział! Gdy $0$ jest w zakończeniu, nie może być na pierwszej pozycji. Gdy $0$ nie jest w zakończeniu, może być na dowolnej z pozostałych pozycji."
      },
      {
        "step": 4,
        "hint": "Ile liczb możemy utworzyć dla zakończeń bez zera (np. $12$)?",
        "expression": "Dla zakończenia bez zera: mamy $5$ pozostałych cyfr na $5$ pierwszych pozycji, czyli $5! = 120$ możliwości",
        "explanation": "Używamy wszystkich pozostałych cyfr bez ograniczeń",
        "why": "Zakończenie $12$ zużywa cyfry $1$ i $2$. Zostaje $\\{0,3,4,5,6\\}$ - $5$ cyfr na $5$ pozycji. Zero może być na pierwszej pozycji? TAK, bo wtedy to nie byłaby liczba siedmiocyfrowa... Czekaj!"
      },
      {
        "step": 5,
        "hint": "Czy zero może być na pierwszej pozycji?",
        "expression": "Dla zakończenia bez zera: pierwsza pozycja ma $4$ możliwości (bez zera), pozostałe $4$ pozycje to $4!$ permutacji, razem $4 \\cdot 4! = 4 \\cdot 24 = 96$",
        "explanation": "Musimy wykluczyć zero z pierwszej pozycji",
        "why": "Liczba siedmiocyfrowa nie może zaczynać się od $0$! To częsty błąd. Mamy $8$ zakończeń bez zera, więc $8 \\cdot 96 = 768$ liczb."
      },
      {
        "step": 6,
        "hint": "A co z zakończeniami zawierającymi zero ($04$, $20$, $40$, $60$)?",
        "expression": "Dla zakończenia z zerem: zero już użyte, więc pierwsza pozycja ma $5$ możliwości, pozostałe $4$ pozycje to $4!$ permutacji, razem $5 \\cdot 4! = 5 \\cdot 24 = 120$",
        "explanation": "Zero w zakończeniu automatycznie rozwiązuje problem pierwszej pozycji",
        "why": "Gdy $0$ jest w zakończeniu (np. $04$), nie może być na początku! Zostaje $5$ cyfr, wszystkie dozwolone na pierwszej pozycji. Mamy $4$ takie zakończenia."
      },
      {
        "step": 7,
        "hint": "Jak połączyć oba przypadki w końcowy wynik?",
        "expression": "Zakończenia bez zera: $8 \\cdot 96 = 768$, zakończenia z zerem: $4 \\cdot 120 = 480$",
        "explanation": "Sumujemy oba niezależne przypadki"
      },
      {
        "step": 8,
        "hint": "Jaka jest ostateczna liczba wszystkich możliwości?",
        "expression": "$768 + 480 = 1248$",
        "explanation": "Otrzymujemy całkowitą liczbę siedmiocyfrowych liczb spełniających warunki"
      }
    ],
    "solutions": [
      "$1248$"
    ],
    "parameters": {
      "digits": "$\\{0,1,2,3,4,5,6\\}$",
      "length": "$7$ cyfr",
      "conditions": "cyfry niepowtarzające się, podzielność przez $4$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 6
      }
    },
    "timestamp": "2025-10-03T08:41:31.957Z"
  },
  {
    "id": "combinatorics_divisibility_5",
    "topic": "Kombinatoryka z warunkami",
    "difficulty": 4,
    "statement": "Ile jest liczb sześciocyfrowych o różnych cyfrach należących do zbioru $\\{0,1,2,3,4,5\\}$ i jednocześnie podzielnych przez $5$?",
    "steps": [
      {
        "step": 1,
        "hint": "Jaką cyfrą musi kończyć się liczba podzielna przez $5$?",
        "expression": "Liczba podzielna przez $5$ kończy się cyfrą $0$ lub $5$",
        "explanation": "Warunek podzielności przez $5$ - ostatnia cyfra to $0$ lub $5$"
      },
      {
        "step": 2,
        "hint": "Dlaczego przypadki z cyfrą $0$ i $5$ na końcu trzeba rozpatrzyć osobno?",
        "expression": "Rozpatrujemy dwa przypadki: ostatnia cyfra to $0$ lub ostatnia cyfra to $5$",
        "explanation": "Cyfra $0$ nie może być na pierwszej pozycji, więc przypadki różnią się",
        "why": "Cyfra $0$ ma specjalne ograniczenie - nie może być pierwszą cyfrą liczby (bo wtedy liczba nie byłaby sześciocyfrowa). To wymusza podział na przypadki."
      },
      {
        "step": 3,
        "hint": "Ile cyfr zostaje do wyboru, gdy ostatnia to $0$? Czy są jakieś ograniczenia?",
        "expression": "Przypadek 1: Ostatnia cyfra to $0$. Pozostałe cyfry: $\\{1,2,3,4,5\\}$",
        "explanation": "Mamy $5$ różnych cyfr do rozmieszczenia na $5$ pierwszych pozycjach"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można ustawić $5$ różnych cyfr na $5$ pozycjach?",
        "expression": "Liczba permutacji: $5! = 120$",
        "explanation": "Wszystkie cyfry $\\{1,2,3,4,5\\}$ mogą być na pierwszej pozycji"
      },
      {
        "step": 5,
        "hint": "Gdy ostatnia cyfra to $5$, która cyfra NIE może być pierwsza?",
        "expression": "Przypadek 2: Ostatnia cyfra to $5$. Pozostałe cyfry: $\\{0,1,2,3,4\\}$",
        "explanation": "Mamy $5$ cyfr, ale cyfra $0$ nie może być pierwsza",
        "why": "To kluczowa różnica między przypadkami! Gdy $5$ jest na końcu, $0$ wraca do gry, ale z ograniczeniem na pierwszą pozycję."
      },
      {
        "step": 6,
        "hint": "Ile cyfr może być na pierwszej pozycji? A ile na pozostałych?",
        "expression": "Pierwsza pozycja: $4$ możliwości (cyfry $\\{1,2,3,4\\}$)",
        "explanation": "Cyfra $0$ wykluczona z pierwszej pozycji"
      },
      {
        "step": 7,
        "hint": "Po wyborze pierwszej cyfry, ile cyfr zostaje na drugą pozycję?",
        "expression": "Druga pozycja: $4$ możliwości (w tym może być $0$)",
        "explanation": "Z $5$ cyfr użyliśmy jednej, zostały $4$ (włącznie z $0$)"
      },
      {
        "step": 8,
        "hint": "Jak obliczyć liczbę możliwości dla wszystkich pozostałych pozycji?",
        "expression": "Pozycje $3$, $4$, $5$: kolejno $3 \\cdot 2 \\cdot 1$ możliwości",
        "explanation": "Każda kolejna pozycja ma o jedną cyfrę mniej do wyboru"
      },
      {
        "step": 9,
        "hint": "Jak połączyć liczbę możliwości dla wszystkich pozycji w przypadku $2$?",
        "expression": "Przypadek 2: $4 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 96$",
        "explanation": "Mnożymy liczbę możliwości dla każdej pozycji",
        "why": "Nie jest to $4!$, bo pierwsza pozycja ma specjalne ograniczenie. Wzór: $(cyfry bez 0) \\times (pozostałe cyfry) \\times 3 \\times 2 \\times 1$."
      },
      {
        "step": 10,
        "hint": "Jak zsumować wyniki z obu niezależnych przypadków?",
        "expression": "Suma: $120 + 96 = 216$",
        "explanation": "Dodajemy liczby z obu rozłącznych przypadków"
      }
    ],
    "solutions": [
      "$216$"
    ],
    "parameters": {
      "digits": "$\\{0,1,2,3,4,5\\}$",
      "condition": "liczba sześciocyfrowa, różne cyfry, podzielna przez $5$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:41:56.780Z"
  },
  {
    "id": "combinatorics_divisibility_25",
    "topic": "Kombinatoryka z warunkami podzielności",
    "difficulty": 4,
    "statement": "Ile jest liczb sześciocyfrowych o różnych cyfrach należących do zbioru $\\{0,1,2,3,4,5\\}$ i jednocześnie podzielnych przez $25$?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie muszą być dwie ostatnie cyfry liczby podzielnej przez $25$?",
        "expression": "Liczba podzielna przez $25$ kończy się na: $00$, $25$, $50$ lub $75$",
        "explanation": "Sprawdzamy wszystkie możliwe zakończenia dwucyfrowe podzielne przez $25$",
        "why": "Liczba jest podzielna przez $25$ wtedy i tylko wtedy, gdy jej dwie ostatnie cyfry tworzą liczbę podzielną przez $25$. To kluczowy warunek, który ogranicza nasze możliwości."
      },
      {
        "step": 2,
        "hint": "Które z tych zakończeń możemy utworzyć z cyfr $\\{0,1,2,3,4,5\\}$?",
        "expression": "Możliwe zakończenia: $25$ i $50$",
        "explanation": "Zakończenia $00$ i $75$ są niemożliwe, bo nie mamy dwóch zer ani cyfry $7$",
        "why": "Musimy używać tylko cyfr ze zbioru $\\{0,1,2,3,4,5\\}$ i wszystkie cyfry muszą być różne. Cyfra $7$ nie należy do zbioru, a $0$ występuje tylko raz."
      },
      {
        "step": 3,
        "hint": "Ile liczb możemy utworzyć dla zakończenia $25$?",
        "expression": "Dla zakończenia $25$: pozostałe cyfry to $\\{0,1,3,4\\}$",
        "explanation": "Cyfry $2$ i $5$ są już użyte na końcu, zostają $4$ cyfry na $4$ pierwsze pozycje"
      },
      {
        "step": 4,
        "hint": "Czy każdą z pozostałych cyfr możemy postawić na pierwszej pozycji?",
        "expression": "Pierwsza cyfra: $3$ możliwości (nie może być $0$), pozostałe pozycje: $3! = 6$ permutacji",
        "explanation": "Na pierwszej pozycji: $\\{1,3,4\\}$, potem permutujemy pozostałe $3$ cyfry",
        "why": "Liczba sześciocyfrowa nie może zaczynać się od $0$! To częsty błąd - zapomnienie o tym warunku zmienia wynik. Dla pozostałych 3 pozycji kolejność ma znaczenie."
      },
      {
        "step": 5,
        "hint": "Ile to daje liczb kończących się na $25$?",
        "expression": "Dla zakończenia $25$: $3 \\cdot 3! = 3 \\cdot 6 = 18$ liczb",
        "explanation": "Mnożymy liczbę wyborów pierwszej cyfry przez permutacje pozostałych"
      },
      {
        "step": 6,
        "hint": "Ile liczb możemy utworzyć dla zakończenia $50$?",
        "expression": "Dla zakończenia $50$: pozostałe cyfry to $\\{1,2,3,4\\}$",
        "explanation": "Cyfry $5$ i $0$ są już użyte na końcu, zostają $4$ cyfry na $4$ pierwsze pozycje"
      },
      {
        "step": 7,
        "hint": "Czy teraz mamy problem z zerem na pierwszej pozycji?",
        "expression": "Pierwsza cyfra: $4$ możliwości (wszystkie z $\\{1,2,3,4\\}$), pozostałe pozycje: $3! = 6$ permutacji",
        "explanation": "Zero jest już na końcu, więc wszystkie $4$ cyfry mogą być na początku",
        "why": "Tutaj nie ma problemu z zerem, bo jest już użyte na przedostatniej pozycji. To różni ten przypadek od poprzedniego."
      },
      {
        "step": 8,
        "hint": "Ile to daje liczb kończących się na $50$?",
        "expression": "Dla zakończenia $50$: $4 \\cdot 3! = 4 \\cdot 6 = 24$ liczby",
        "explanation": "Mnożymy liczbę wyborów pierwszej cyfry przez permutacje pozostałych"
      },
      {
        "step": 9,
        "hint": "Jak połączyć oba przypadki w końcowy wynik?",
        "expression": "Suma: $18 + 24 = 42$",
        "explanation": "Dodajemy liczby z obu rozłącznych przypadków"
      }
    ],
    "solutions": [
      "$42$"
    ],
    "parameters": {
      "digits": "$\\{0,1,2,3,4,5\\}$",
      "condition": "cyfry różne, liczba sześciocyfrowa, podzielna przez $25$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T08:42:23.013Z"
  },
  {
    "id": "circular_permutation_adjacent",
    "topic": "Permutacje kołowe z warunkiem",
    "difficulty": 4,
    "statement": "Przy okrągłym stole ustawiono $6$ jednakowych krzeseł. Na ile sposobów może usiąść przy tym stole $6$ osób, tak aby osoby $A$ i $B$ siedziały obok siebie? Dwa rozmieszczenia przy stole uznajemy za różne, jeżeli w tych rozmieszczeniach co najmniej jedna osoba ma różnych sąsiadów z co najmniej jednej strony.",
    "steps": [
      {
        "step": 1,
        "hint": "Czym różni się ustawianie przy okrągłym stole od ustawiania w rzędzie?",
        "expression": "Permutacje kołowe: $(n-1)!$ zamiast $n!$",
        "explanation": "Przy okrągłym stole nie ma wyróżnionego początku - obroty tego samego ustawienia są identyczne",
        "why": "W permutacjach liniowych $n!$ uwzględnia wszystkie pozycje. Przy stole okrągłym każde ustawienie ma $n$ obrotów dających ten sam układ sąsiadów, więc dzielimy: $\\frac{n!}{n} = (n-1)!$"
      },
      {
        "step": 2,
        "hint": "Jak możemy potraktować parę $A$ i $B$, żeby zagwarantować że siedzą obok?",
        "expression": "Traktujemy $A$ i $B$ jako jeden \"blok\"",
        "explanation": "Zamiast $6$ osób mamy teraz $5$ obiektów: blok $(AB)$ plus $4$ pozostałe osoby",
        "why": "To klasyczna metoda dla warunków \"obok siebie\". Blok gwarantuje sąsiedztwo, ale pamiętaj: wewnątrz bloku $A$ i $B$ mogą się zamieniać miejscami!"
      },
      {
        "step": 3,
        "hint": "Ile jest permutacji kołowych dla $5$ obiektów?",
        "expression": "$(5-1)! = 4! = 24$",
        "explanation": "Ustawiamy $5$ obiektów (blok + $4$ osoby) przy okrągłym stole"
      },
      {
        "step": 4,
        "hint": "Czy w bloku $(AB)$ kolejność $A$ i $B$ ma znaczenie?",
        "expression": "$2! = 2$ sposoby",
        "explanation": "Wewnątrz bloku $A$ może siedzieć po lewej lub prawej stronie $B$",
        "why": "Warunek mówi o różnych sąsiadach. Jeśli $A$ siedzi z lewej od $B$, to $A$ ma innego sąsiada z lewej niż gdy siedzi z prawej od $B$. To dwa różne rozmieszczenia!"
      },
      {
        "step": 5,
        "hint": "Jak połączyć liczbę ustawień bloków z liczbą ustawień wewnątrz bloku?",
        "expression": "$4! \\cdot 2! = 24 \\cdot 2 = 48$",
        "explanation": "Mnożymy liczbę permutacji kołowych przez liczbę wewnętrznych ustawień bloku"
      }
    ],
    "solutions": [
      "$48$"
    ],
    "parameters": {
      "method": "Metoda blokowania z permutacjami kołowymi"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:42:40.601Z"
  },
  {
    "id": "circular_permutation_constraint",
    "topic": "Permutacje kołowe z warunkiem",
    "difficulty": 4,
    "statement": "Przy okrągłym stole ustawiono $6$ jednakowych krzeseł. Na ile sposobów może usiąść przy tym stole $6$ osób, tak aby osoby $A$ i $B$ usiadły naprzeciwko siebie? Dwa rozmieszczenia przy stole uznajemy za różne, jeżeli w tych rozmieszczeniach co najmniej jedna osoba ma różnych sąsiadów z co najmniej jednej strony.",
    "steps": [
      {
        "step": 1,
        "hint": "Czym różni się ustawianie przy okrągłym stole od ustawiania w rzędzie?",
        "expression": "Przy okrągłym stole nie ma wyróżnionego początku - liczy się tylko wzajemne położenie osób",
        "explanation": "W permutacjach kołowych obroty tego samego układu są traktowane jako jedno rozmieszczenie",
        "why": "Dla $n$ osób przy okrągłym stole jest $((n-1)!)$ różnych ustawień, nie $n!$. Ustalamy jedną osobę jako punkt odniesienia, aby wyeliminować obroty."
      },
      {
        "step": 2,
        "hint": "Jak wykorzystać warunek, że $A$ i $B$ siedzą naprzeciwko siebie?",
        "expression": "Ustalamy osobę $A$ na dowolnym miejscu (punkt odniesienia)",
        "explanation": "Dzięki temu eliminujemy obroty stołu",
        "why": "W permutacjach kołowych zawsze możemy ustalić jedną osobę - to nie zmniejsza liczby różnych rozmieszczń, tylko usuwa duplikaty powstałe przez obroty."
      },
      {
        "step": 3,
        "hint": "Skoro $A$ jest ustalone, ile możliwości ma osoba $B$ przy $6$ krzesłach?",
        "expression": "Osoba $B$ musi usiąść naprzeciwko $A$ - jest tylko $1$ takie miejsce",
        "explanation": "Przy $6$ krzesłach naprzeciwko oznacza dokładnie po drugiej stronie stołu",
        "why": "Przy parzystej liczbie miejsc każde krzesło ma dokładnie jedno naprzeciwko. Gdyby było $5$ krzeseł, nie byłoby miejsca \"dokładnie naprzeciwko\"."
      },
      {
        "step": 4,
        "hint": "Ile osób pozostało do rozmieszczenia i ile mają wolnych miejsc?",
        "expression": "Pozostało $4$ osoby i $4$ wolne krzesła",
        "explanation": "Osoby $A$ i $B$ zajęły już swoje miejsca zgodnie z warunkiem"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można rozmieścić $4$ osoby na $4$ miejscach?",
        "expression": "Liczba permutacji $4$ osób: $4! = 4 \\cdot 3 \\cdot 2 \\cdot 1 = 24$",
        "explanation": "Każda z pozostałych osób może usiąść na dowolnym z wolnych miejsc"
      },
      {
        "step": 6,
        "hint": "Czy wszystkie te $24$ ustawienia dają różne rozmieszczenia według definicji z zadania?",
        "expression": "Tak, każde z $24$ ustawień daje różnych sąsiadów dla co najmniej jednej osoby",
        "explanation": "Ponieważ $A$ i $B$ są ustalone, zmiany w rozmieszczeniu pozostałych $4$ osób zawsze zmieniają sąsiadów"
      }
    ],
    "solutions": [
      "$24$"
    ],
    "parameters": {
      "note": "Dwa rozmieszczenia są różne, gdy co najmniej jedna osoba ma różnych sąsiadów z co najmniej jednej strony"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:43:01.079Z"
  },
  {
    "id": "circular_permutation_constraint",
    "topic": "Permutacje kołowe z warunkami",
    "difficulty": 4,
    "statement": "Przy okrągłym stole ustawiono $6$ jednakowych krzeseł. Na ile sposobów może usiąść przy tym stole $6$ osób, tak aby między osobami $A$ i $B$ siedziała tylko osoba $C$? Dwa rozmieszczenia przy stole uznajemy za różne, jeżeli w tych rozmieszczeniach co najmniej jedna osoba ma różnych sąsiadów z co najmniej jednej strony.",
    "steps": [
      {
        "step": 1,
        "hint": "Czym różni się ustawianie przy okrągłym stole od ustawiania w rzędzie?",
        "expression": "Permutacje kołowe: $(n-1)!$ zamiast $n!$",
        "explanation": "Przy okrągłym stole nie ma wyróżnionego początku - obroty tego samego ustawienia są identyczne",
        "why": "W permutacjach liniowych $n!$ uwzględnia wszystkie pozycje. Przy stole okrągłym każde ustawienie ma $n$ obrotów dających ten sam układ sąsiadów, więc dzielimy: $\\frac{n!}{n} = (n-1)!$"
      },
      {
        "step": 2,
        "hint": "Jak potraktować trzy osoby $A$, $C$, $B$ związane warunkiem?",
        "expression": "Traktujemy blok $A$-$C$-$B$ jako jeden element",
        "explanation": "Osoby $A$, $C$, $B$ muszą siedzieć obok siebie w określonej konfiguracji",
        "why": "Warunek 'między A i B tylko C' oznacza układ $A$-$C$-$B$ lub $B$-$C$-$A$. Traktując je jako jeden blok, upraszczamy problem do permutacji mniejszej liczby elementów."
      },
      {
        "step": 3,
        "hint": "Ile elementów mamy teraz do rozmieszczenia przy stole?",
        "expression": "Blok $(A-C-B)$ + $3$ pozostałe osoby = $4$ elementy",
        "explanation": "Zamiast $6$ osób mamy $4$ obiekty do rozmieszczenia kołowo"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można rozmieścić $4$ elementy przy okrągłym stole?",
        "expression": "$(4-1)! = 3! = 6$ sposobów",
        "explanation": "Stosujemy wzór na permutacje kołowe dla $4$ elementów"
      },
      {
        "step": 5,
        "hint": "W ilu konfiguracjach może wystąpić blok $A$-$C$-$B$?",
        "expression": "$2$ konfiguracje: $A$-$C$-$B$ lub $B$-$C$-$A$",
        "explanation": "$C$ musi być między $A$ i $B$, ale $A$ i $B$ mogą zamienić się miejscami",
        "why": "Warunek 'między A i B tylko C' dopuszcza dwie kolejności: A po lewej i B po prawej od C, lub odwrotnie. Uwaga: nie mylić z permutacjami wewnątrz bloku - tu mamy konkretny warunek!"
      },
      {
        "step": 6,
        "hint": "Jak połączyć liczbę rozmieszczeń bloków z liczbą konfiguracji wewnętrznych?",
        "expression": "$6 \\cdot 2 = 12$",
        "explanation": "Mnożymy liczbę sposobów rozmieszczenia $4$ elementów przez liczbę konfiguracji bloku A-C-B"
      }
    ],
    "solutions": [
      "$12$"
    ],
    "parameters": {
      "note": "Permutacje kołowe z warunkiem sąsiedztwa"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:43:23.402Z"
  },
  {
    "id": "circular_permutation_constraints",
    "topic": "Permutacje z warunkami przy stole okrągłym",
    "difficulty": 4,
    "statement": "Przy okrągłym stole ustawiono $6$ jednakowych krzeseł. Na ile sposobów może usiąść przy tym stole $6$ osób, tak aby osoby $A$ i $B$ siedziały naprzeciwko siebie i jednocześnie osoby $C$ i $D$ siedziały naprzeciwko siebie? Dwa rozmieszczenia przy stole uznajemy za różne, jeżeli w tych rozmieszczeniach co najmniej jedna osoba ma różnych sąsiadów z co najmniej jednej strony.",
    "steps": [
      {
        "step": 1,
        "hint": "Czym różni się ustawianie przy stole okrągłym od ustawiania w rzędzie?",
        "expression": "Przy stole okrągłym nie ma wyróżnionego początku - liczy się tylko wzajemne położenie osób",
        "explanation": "Ustalamy jedną osobę na stałe, aby wyeliminować obroty stołu",
        "why": "Przy stole okrągłym permutacje różniące się tylko obrotem są identyczne. Standardowo ustalamy jedną osobę, co redukuje liczbę permutacji z $n!$ do $(n-1)!$. To kluczowa różnica wobec permutacji liniowych!"
      },
      {
        "step": 2,
        "hint": "Którą osobę najlepiej ustalić jako punkt odniesienia?",
        "expression": "Ustalamy osobę $A$ na pozycji 1",
        "explanation": "Osoba A będzie naszym punktem odniesienia - eliminujemy obroty"
      },
      {
        "step": 3,
        "hint": "Jeśli $A$ siedzi na pozycji $1$, to gdzie musi siedzieć $B$, aby byli naprzeciwko?",
        "expression": "B musi siedzieć na pozycji $4$ (naprzeciwko A)",
        "explanation": "Przy $6$ krzesłach pozycje naprzeciwko to: $1-4$, $2-5$, $3-6$",
        "why": "W okrągłym stole o $6$ miejscach pozycje naprzeciwko są oddalone o $3$ miejsca. Warunek 'naprzeciwko' jest sztywny - nie ma wyboru!"
      },
      {
        "step": 4,
        "hint": "Ile par pozycji pozostało dla $C$ i $D$, które są naprzeciwko siebie?",
        "expression": "Pozostały dwie pary pozycji naprzeciwko: $(2,5)$ oraz $(3,6)$",
        "explanation": "Para $A$-$B$ zajęła pozycje $(1,4)$, więc dla $C$-$D$ zostały dwie możliwości"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów możemy rozmieścić $C$ i $D$ na wybranej parze pozycji?",
        "expression": "Dla każdej pary pozycji: $C$ może zająć jedno z dwóch miejsc, $D$ zajmuje drugie",
        "explanation": "To daje $2$ możliwości dla każdej pary pozycji",
        "why": "Jeśli wybierzemy parę $$(2,5)$$, to C może siedzieć na $2$ (wtedy D na $5$) lub C na $5$ (wtedy D na $2$). Kolejność ma znaczenie, bo sąsiedzi będą różni!"
      },
      {
        "step": 6,
        "hint": "Ile łącznie mamy możliwości rozmieszczenia par $A$-$B$ i $C$-$D$?",
        "expression": "$2$ pary pozycji $\\times 2$ sposoby na parę $= 4$ możliwości",
        "explanation": "Mnożymy liczbę par przez liczbę sposobów rozmieszczenia na parze"
      },
      {
        "step": 7,
        "hint": "Co robimy z pozostałymi dwiema osobami ($E$ i $F$)?",
        "expression": "Pozostałe $2$ osoby $(E, F)$ zajmują $2$ wolne miejsca na $2! = 2$ sposoby",
        "explanation": "$E$ i $F$ mogą zamienić się miejscami"
      },
      {
        "step": 8,
        "hint": "Jak połączyć wszystkie niezależne wybory w końcowy wynik?",
        "expression": "$4 \\times 2 = 8$",
        "explanation": "Mnożymy liczbę sposobów rozmieszczenia par $C$-$D$ przez liczbę permutacji $E$ i $F$"
      }
    ],
    "solutions": [
      "$8$"
    ],
    "parameters": {
      "note": "Rozmieszczenia różnią się, gdy co najmniej jedna osoba ma różnych sąsiadów"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:43:48.922Z"
  },
  {
    "id": "circular_permutation_adjacent",
    "topic": "Permutacje kołowe z warunkiem sąsiedztwa",
    "difficulty": 4,
    "statement": "Przy okrągłym stole ustawiono $12$ krzeseł. Na ile sposobów może usiąść przy tym stole $12$ osób, tak aby osoby $A, B$ usiadły obok siebie? Dwa rozmieszczenia przy stole uznajemy za różne, jeżeli w tych rozmieszczeniach co najmniej jedna osoba ma różnych sąsiadów z co najmniej jednej strony.",
    "steps": [
      {
        "step": 1,
        "hint": "Jak możemy zagwarantować, że $A$ i $B$ siedzą obok siebie?",
        "expression": "Traktujemy osoby $A$ i $B$ jako jeden blok $(AB)$",
        "explanation": "Sklejamy $A$ i $B$ w jeden obiekt, który zawsze będzie razem",
        "why": "To klasyczna technika w kombinatoryce: gdy elementy muszą być razem, traktujemy je jako jeden obiekt. Dzięki temu warunek sąsiedztwa jest automatycznie spełniony."
      },
      {
        "step": 2,
        "hint": "Ile obiektów mamy teraz do rozmieszczenia przy okrągłym stole?",
        "expression": "Mamy blok $(AB)$ plus $10$ pozostałych osób, czyli $11$ obiektów",
        "explanation": "Zamiast $12$ osób mamy $11$ obiektów do rozmieszczenia",
        "why": "Przy stole okrągłym liczba permutacji to $(n-1)!$, nie $n!$, bo obroty stołu dają to samo rozmieszczenie. Ustalamy pozycję jednego obiektu jako punkt odniesienia."
      },
      {
        "step": 3,
        "hint": "Ile jest permutacji kołowych dla $11$ obiektów?",
        "expression": "Liczba permutacji kołowych: $(11-1)! = 10!$",
        "explanation": "Dla $n$ obiektów przy okrągłym stole jest $\\frac{(n-1)!}{2}$ permutacji"
      },
      {
        "step": 4,
        "hint": "Czy w bloku $(AB)$ kolejność $A$ i $B$ ma znaczenie?",
        "expression": "W bloku $(AB)$ osoby mogą siedzieć jako $AB$ lub $BA$, czyli na $2$ sposoby",
        "explanation": "A może siedzieć po lewej lub prawej stronie $B$",
        "why": "Częsty błąd: zapomnienie o wewnętrznej kolejności w bloku! Rozmieszczenia $A$-$B$ i $B$-$A$ dają różnych sąsiadów dla osób obok."
      },
      {
        "step": 5,
        "hint": "Jak połączyć liczbę rozmieszczeń bloków z kolejnością wewnątrz bloku?",
        "expression": "Całkowita liczba sposobów: $10! \\cdot 2$",
        "explanation": "Mnożymy liczbę permutacji kołowych przez liczbę wewnętrznych ustawień w bloku"
      },
      {
        "step": 6,
        "hint": "Ile wynosi $10!$ w postaci liczbowej?",
        "expression": "$10! = 3\\,628\\,800$",
        "explanation": "Obliczamy wartość silni"
      },
      {
        "step": 7,
        "hint": "Jaki jest końcowy wynik?",
        "expression": "$3\\,628\\,800 \\cdot 2 = 7\\,257\\,600$",
        "explanation": "Otrzymujemy ostateczną liczbę sposobów rozmieszczenia"
      }
    ],
    "solutions": [
      "$7\\,257\\,600$"
    ],
    "parameters": {
      "note": "Permutacje kołowe z warunkiem sąsiedztwa"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:44:07.741Z"
  },
  {
    "id": "circular_permutation_opposite",
    "topic": "Permutacje kołowe z warunkiem",
    "difficulty": 4,
    "statement": "Przy okrągłym stole ustawiono $12$ krzeseł. Na ile sposobów może usiąść przy tym stole $12$ osób, tak aby osoby $A, B$ usiadły naprzeciwko siebie? Dwa rozmieszczenia przy stole uznajemy za różne, jeżeli w tych rozmieszczeniach co najmniej jedna osoba ma różnych sąsiadów z co najmniej jednej strony.",
    "steps": [
      {
        "step": 1,
        "hint": "Czym różni się ustawianie przy okrągłym stole od ustawiania w rzędzie?",
        "expression": "Przy okrągłym stole nie ma wyróżnionego początku - liczy się tylko wzajemne położenie osób",
        "explanation": "W permutacjach kołowych obroty tego samego ustawienia traktujemy jako identyczne",
        "why": "Dla $n$ osób przy okrągłym stole jest $((n-1)!)$ różnych ustawień, nie $n!$. Ustalamy jedną osobę jako punkt odniesienia, aby wyeliminować obroty."
      },
      {
        "step": 2,
        "hint": "Ile jest miejsc naprzeciwko danego krzesła przy stole z $12$ miejscami?",
        "expression": "Przy $12$ krzesłach każde miejsce ma dokładnie jedno miejsce naprzeciwko (odległe o $6$ miejsc)",
        "explanation": "Stół ma parzystą liczbę miejsc, więc każde krzesło ma swój odpowiednik po przeciwnej stronie"
      },
      {
        "step": 3,
        "hint": "Jak uprościć problem, ustalając pozycję osoby $A$?",
        "expression": "Ustalamy osobę $A$ na dowolnym krześle (wykorzystujemy symetrię obrotową)",
        "explanation": "Dzięki temu eliminujemy obroty - osoba $A$ jest naszym punktem odniesienia",
        "why": "To kluczowa technika w permutacjach kołowych. Zamiast liczyć wszystkie ustawienia i dzielić przez liczbę obrotów, od razu ustalamy jedną osobę."
      },
      {
        "step": 4,
        "hint": "Skoro $A$ jest ustalone, ile możliwości ma osoba $B$?",
        "expression": "Osoba $B$ musi usiąść naprzeciwko $A$, więc ma tylko $1$ możliwość",
        "explanation": "Miejsce dla $B$ jest jednoznacznie określone przez warunek zadania"
      },
      {
        "step": 5,
        "hint": "Ile osób pozostało do rozmieszczenia i ile mają wolnych miejsc?",
        "expression": "Pozostało $10$ osób i $10$ wolnych krzeseł",
        "explanation": "Osoby $A$ i $B$ zajęły już swoje miejsca"
      },
      {
        "step": 6,
        "hint": "Na ile sposobów można rozmieścić pozostałe osoby na wolnych miejscach?",
        "expression": "Pozostałe $10$ osób można rozmieścić na $10!$ sposobów",
        "explanation": "To zwykła permutacja - każda osoba wybiera spośród pozostałych wolnych miejsc"
      },
      {
        "step": 7,
        "hint": "Czy osoba B mogła usiąść po lewej czy po prawej stronie względem $A$?",
        "expression": "Osoba $B$ może usiąść naprzeciwko $A$ na $2$ sposoby (po lewej lub prawej stronie stołu)",
        "explanation": "Naprzeciwko oznacza jedno konkretne krzesło, ale nie uwzględniliśmy wcześniej orientacji",
        "why": "Uwaga! Przy okrągłym stole 'naprzeciwko' to jedno miejsce, ale musimy sprawdzić, czy warunek nie daje dodatkowej swobody. W tym przypadku ustalenie $A$ i wybór miejsca dla $B$ już jest uwzględnione w kroku 4."
      },
      {
        "step": 8,
        "hint": "Jak połączyć wszystkie możliwości w końcowy wynik?",
        "expression": "$1 \\cdot 1 \\cdot 10! = 10! = 3\\,628\\,800$",
        "explanation": "Mnożymy liczbę możliwości na każdym etapie: ustalenie $A$ (1 sposób), umieszczenie $B$ naprzeciwko (1 sposób), rozmieszczenie pozostałych ($10!$ sposobów)"
      }
    ],
    "solutions": [
      "$10! = 3\\,628\\,800$"
    ],
    "parameters": {
      "note": "Permutacje kołowe z warunkiem - osoby $A$ i $B$ naprzeciwko siebie"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:44:35.596Z"
  },
  {
    "id": "circular_permutation_constraint",
    "topic": "Permutacje z ograniczeniami przy stole okrągłym",
    "difficulty": 5,
    "statement": "Przy okrągłym stole ustawiono $12$ krzeseł. Na ile sposobów może usiąść przy tym stole $12$ osób, tak aby między osobami $A, B$ siedziały tylko dwie osoby? Dwa rozmieszczenia przy stole uznajemy za różne, jeżeli w tych rozmieszczeniach co najmniej jedna osoba ma różnych sąsiadów z co najmniej jednej strony.",
    "steps": [
      {
        "step": 1,
        "hint": "Czym różni się ustawianie przy stole okrągłym od ustawiania w rzędzie?",
        "expression": "Permutacje okrągłe: $(n-1)!$ zamiast $n!$",
        "explanation": "Przy stole okrągłym nie ma wyróżnionego początku - obroty tego samego ustawienia są identyczne",
        "why": "Dla $n$ osób przy stole okrągłym jest $((n-1)!)$ różnych ustawień, bo możemy ustalić jedną osobę jako punkt odniesienia. To eliminuje $n$ identycznych obrotów z $n!$ permutacji liniowych."
      },
      {
        "step": 2,
        "hint": "Jak możemy uprościć problem, ustalając pozycję osoby $A$?",
        "expression": "Ustalamy osobę $A$ na stałym miejscu",
        "explanation": "Dzięki temu eliminujemy obroty i pracujemy z pozycjami względnymi",
        "why": "Ustalenie $A$ redukuje problem do permutacji liniowych pozostałych osób względem $A$. To standardowa technika w permutacjach okrągłych."
      },
      {
        "step": 3,
        "hint": "Jeśli $A$ siedzi na pozycji $1$, gdzie może siedzieć $B$, aby między nimi były dokładnie dwie osoby?",
        "expression": "Pozycje dla $B$: miejsce $4$ (w prawo) lub miejsce $10$ (w lewo)",
        "explanation": "Między $A$ a $B$ muszą być dokładnie $2$ osoby, więc $B$ jest $3$ miejsca od $A$",
        "why": "Przy stole okrągłym z $12$ miejscami, jeśli $A$ jest na pozycji $1$, to 'w prawo' mamy: $2$, $3$, $4$ (dwie osoby między), a 'w lewo': $12$, $11$, $10$ (dwie osoby między). To daje $2$ możliwości dla $B$."
      },
      {
        "step": 4,
        "hint": "Ile osób pozostaje do rozmieszczenia po ustaleniu $A$ i $B$?",
        "expression": "Pozostaje $12 - 2 = 10$ osób",
        "explanation": "Osoby $A$ i $B$ mają już wyznaczone miejsca"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można rozmieścić $10$ osób na $10$ miejscach?",
        "expression": "$10!$ permutacji pozostałych osób",
        "explanation": "Każda z $10$ osób może zająć dowolne z pozostałych miejsc"
      },
      {
        "step": 6,
        "hint": "Jak połączyć liczbę możliwości dla pozycji $B$ z permutacjami pozostałych osób?",
        "expression": "$2 \\cdot 10!$",
        "explanation": "Mnożymy $2$ możliwości dla $B$ przez $10!$ permutacji pozostałych osób"
      },
      {
        "step": 7,
        "hint": "Ile wynosi $10!$ w postaci liczbowej?",
        "expression": "$10! = 3\\,628\\,800$",
        "explanation": "Obliczamy wartość silni"
      },
      {
        "step": 8,
        "hint": "Jaki jest końcowy wynik po pomnożeniu?",
        "expression": "$2 \\cdot 3\\,628\\,800 = 7\\,257\\,600$",
        "explanation": "Otrzymujemy całkowitą liczbę sposobów rozmieszczenia"
      }
    ],
    "solutions": [
      "$7\\,257\\,600$"
    ],
    "parameters": {
      "note": "Permutacje okrągłe z warunkiem odległości między dwiema osobami"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:44:58.427Z"
  },
  {
    "id": "circular_permutation_constraints",
    "topic": "Permutacje z warunkami przy stole okrągłym",
    "difficulty": 5,
    "statement": "Przy okrągłym stole ustawiono $12$ krzeseł. Na ile sposobów może usiąść przy tym stole $12$ osób, tak aby osoby $A, B$ siedziały naprzeciwko siebie $i$ jednocześnie osoby $C, D$ siedziały naprzeciwko siebie? Dwa rozmieszczenia przy stole uznajemy za różne, jeżeli w tych rozmieszczeniach co najmniej jedna osoba ma różnych sąsiadów z co najmniej jednej strony.",
    "steps": [
      {
        "step": 1,
        "hint": "Czym różni się usadzanie przy stole okrągłym od ustawiania w rzędzie?",
        "expression": "Przy stole okrągłym nie ma wyróżnionego początku - liczy się tylko wzajemne położenie osób",
        "explanation": "Ustalamy pozycję jednej osoby, aby wyeliminować obroty stołu",
        "why": "W permutacjach kołowych dzielimy przez liczbę obrotów. Ale tu mamy dodatkowe warunki, więc lepiej ustalić pozycję osoby $A$ i liczyć względem niej."
      },
      {
        "step": 2,
        "hint": "Jeśli osoba A siedzi na ustalonej pozycji, gdzie może siedzieć osoba B?",
        "expression": "Osoba $A$ na pozycji ustalonej, osoba $B$ naprzeciwko (pozycja jednoznacznie określona)",
        "explanation": "Przy $12$ krzesłach naprzeciwko oznacza $6$ krzeseł dalej",
        "why": "Warunek 'naprzeciwko' przy $12$ krzesłach daje dokładnie jedną możliwość dla $B$. To kluczowe ograniczenie!"
      },
      {
        "step": 3,
        "hint": "Ile par krzeseł naprzeciwko siebie pozostało dla osób $C$ i $D$?",
        "expression": "Pozostało $5$ par krzeseł naprzeciwko siebie (para $A$-$B$ zajęta)",
        "explanation": "Z 6 par naprzeciwległych krzeseł jedna jest zajęta przez $A$ i $B$",
        "why": "12 krzeseł tworzy $6$ par naprzeciwległych. Para $A$-$B$ zajmuje jedną parę, więc dla $C$-$D$ zostaje $5$ par do wyboru."
      },
      {
        "step": 4,
        "hint": "Na ile sposobów możemy wybrać parę krzeseł dla $C$ i $D$, a potem je na nich posadzić?",
        "expression": "Wybór pary dla $C$-$D$: $5$ sposobów, rozmieszczenie $C$ i $D$ na wybranej parze: $2! = 2$ sposoby",
        "explanation": "Łącznie $5 \\cdot 2 = 10$ sposobów usadzenia par $C$-$D$"
      },
      {
        "step": 5,
        "hint": "Ile osób pozostało do rozmieszczenia i ile jest dla nich wolnych miejsc?",
        "expression": "Pozostało $8$ osób i $8$ wolnych krzeseł",
        "explanation": "Osoby $A, B, C, D$ zajmują $4$ krzesła, zostaje $8$ osób i $8$ miejsc"
      },
      {
        "step": 6,
        "hint": "Na ile sposobów można rozmieścić $8$ osób na $8$ wyznaczonych miejscach?",
        "expression": "$8! = 40\\,320$ sposobów",
        "explanation": "To standardowa permutacja $8$ elementów"
      },
      {
        "step": 7,
        "hint": "Jak połączyć wszystkie niezależne wybory w jeden wynik?",
        "expression": "Całkowita liczba sposobów: $10 \\cdot 8! = 10 \\cdot 40\\,320 = 403\\,200$",
        "explanation": "Mnożymy liczbę sposobów dla każdego niezależnego etapu",
        "why": "Reguła mnożenia: jeśli mamy $k$ niezależnych etapów z $n_1, n_2, ..., n_k$ możliwościami, to łącznie jest $n_1 \\cdot n_2 \\cdot ... \\cdot n_k$ sposobów."
      }
    ],
    "solutions": [
      "$403\\,200$"
    ],
    "parameters": {
      "chairs": 12,
      "people": 12,
      "constraints": "Pary $(A,B)$ i $(C,D)$ naprzeciwko siebie"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T08:45:23.039Z"
  },
  {
    "id": "permutations_train_compartment",
    "topic": "Permutacje",
    "difficulty": 2,
    "statement": "W przedziale wagonu kolejowego jest osiem ponumerowanych miejsc od $1$ do $8$ w dwóch jednakowych rzędach. Do przedziału wchodzą cztery dziewczyny: Ala, Julka, Kornelia i Maja oraz czterech chłopaków: Antek, Janek, Kacper i Michał. Na ile sposobów te osoby mogą zająć miejsca w przedziale dowolnie?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile osób musi zająć miejsca i ile jest dostępnych miejsc?",
        "expression": "Mamy $8$ osób i $8$ miejsc",
        "explanation": "Każda osoba zajmie dokładnie jedno miejsce"
      },
      {
        "step": 2,
        "hint": "Ile wyborów ma pierwsza osoba? A druga?",
        "expression": "Pierwsza osoba: $8$ wyborów, druga: $7$ wyborów, trzecia: $6$ wyborów, ...",
        "explanation": "Z każdym zajętym miejscem zmniejsza się liczba dostępnych opcji",
        "why": "To kluczowa zasada permutacji: każdy kolejny wybór zmniejsza liczbę możliwości o $1$. Mnożymy, bo wybory są niezależne."
      },
      {
        "step": 3,
        "hint": "Jak zapisać iloczyn wszystkich kolejnych wyborów w zwartej formie?",
        "expression": "$8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 8!$",
        "explanation": "Używamy symbolu $n!$ do zapisu iloczynu kolejnych liczb naturalnych"
      },
      {
        "step": 4,
        "hint": "Ile wynosi wartość $8!$?",
        "expression": "$8! = 40\\,320$",
        "explanation": "Obliczamy wartość silni"
      }
    ],
    "solutions": [
      "$40\\,320$"
    ],
    "parameters": {
      "people_count": 8,
      "seats_count": 8
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 1
      }
    },
    "timestamp": "2025-10-03T08:45:36.164Z"
  },
  {
    "id": "combinatorics_seats_gender",
    "topic": "Kombinatoryka - permutacje z warunkiem",
    "difficulty": 3,
    "statement": "W przedziale wagonu kolejowego jest osiem ponumerowanych miejsc od $1$ do $8$ w dwóch jednakowych rzędach. Do przedziału wchodzą cztery dziewczyny: Ala, Julka, Kornelia i Maja oraz czterech chłopaków: Antek, Janek, Kacper i Michał. Na ile sposobów te osoby mogą zająć miejsca w przedziale tak, aby dziewczęta siedziały na miejscach o numerach parzystych?",
    "steps": [
      {
        "step": 1,
        "hint": "Które miejsca są parzystą, a które nieparzyste?",
        "expression": "Miejsca parzyste: $2$, $4$, $6$, $8$ ($4$ miejsca)\nMiejsca nieparzyste: $1$, $3$, $5$, $7$ ($4$ miejsca)",
        "explanation": "Identyfikujemy miejsca według parzystości numerów"
      },
      {
        "step": 2,
        "hint": "Czy liczba dziewczyn pasuje do liczby miejsc parzystych?",
        "expression": "4 dziewczyny → $4$ miejsca parzyste\n$4$ chłopaków → $4$ miejsca nieparzyste",
        "explanation": "Warunek zadania idealnie dopasowuje liczby",
        "why": "To kluczowe spostrzeżenie! Gdyby było $5$ dziewczyn i $4$ miejsca parzyste, zadanie byłoby nierozwiązalne. Tu mamy dokładne dopasowanie."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów cztery różne dziewczyny mogą zająć cztery konkretne miejsca?",
        "expression": "Liczba ustawień dziewczyn = $4! = 4 \\cdot 3 \\cdot 2 \\cdot 1 = 24$",
        "explanation": "Dziewczyny mogą usiąść na miejscach parzystych na $24$ sposoby",
        "why": "To permutacja bez powtórzeń: pierwsza dziewczyna ma $4$ wybory, druga $3$, trzecia $2$, czwarta $1$. Wzór: $n! = n \\cdot (n-1) \\cdot ... \\cdot 2 \\cdot 1$"
      },
      {
        "step": 4,
        "hint": "Czy rozmieszczenie chłopaków zależy od rozmieszczenia dziewczyn?",
        "expression": "Liczba ustawień chłopaków = $4! = 4 \\cdot 3 \\cdot 2 \\cdot 1 = 24$",
        "explanation": "Chłopacy niezależnie zajmują miejsca nieparzyste",
        "why": "Zdarzenia niezależne! Wybór miejsc przez dziewczyny nie wpływa na wybory chłopaków. Dlatego możemy mnożyć liczby możliwości."
      },
      {
        "step": 5,
        "hint": "Jak połączyć liczbę możliwości dla dziewczyn i chłopaków?",
        "expression": "Całkowita liczba sposobów = $4! \\cdot 4! = 24 \\cdot 24 = 576$",
        "explanation": "Mnożymy liczby możliwości dla niezależnych wyborów"
      }
    ],
    "solutions": [
      "$576$"
    ],
    "parameters": {
      "girls": "4 (Ala, Julka, Kornelia, Maja)",
      "boys": "$4$ (Antek, Janek, Kacper, Michał)",
      "even_seats": "$2$, $4$, $6$, $8$",
      "odd_seats": "$1$, $3$, $5$, $7$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:45:56.399Z"
  },
  {
    "id": "combinatorics_adjacent_seats",
    "topic": "Kombinatoryka - permutacje z warunkiem",
    "difficulty": 4,
    "statement": "W przedziale wagonu kolejowego jest osiem ponumerowanych miejsc od $1$ do $8$ w dwóch jednakowych rzędach. Do przedziału wchodzą cztery dziewczyny: Ala, Julka, Kornelia i Maja oraz czterech chłopaków: Antek, Janek, Kacper i Michał. Na ile sposobów te osoby mogą zająć miejsca w przedziale tak, aby Julka i Antek siedzieli obok siebie?",
    "steps": [
      {
        "step": 1,
        "hint": "Co by było, gdybyśmy potraktowali Julkę i Antka jako jedną \"super-osobę\"?",
        "expression": "Traktujemy parę $(Julka, Antek)$ jako jeden element",
        "explanation": "Zamiast $8$ osób mamy teraz $7$ \"elementów\" do rozmieszczenia",
        "why": "To klasyczna sztuczka w kombinatoryce: gdy dwie osoby muszą być obok siebie, traktujemy je jako jeden blok. Uwaga: musimy pamiętać, że w tym bloku mogą się zamienić miejscami!"
      },
      {
        "step": 2,
        "hint": "Na ile sposobów możemy ustawić $7$ elementów na $8$ miejscach?",
        "expression": "Liczba permutacji $7$ elementów na $8$ miejscach: $P(8,7) = \\frac{8!}{(8-7)!} = \\frac{8!}{1!} = 8!$",
        "explanation": "Ale to nie jest dokładnie to, czego potrzebujemy - musimy wybrać $7$ miejsc z $8$",
        "why": "Czekaj! Mamy $8$ osób i $8$ miejsc, więc wszystkie miejsca będą zajęte. Powinniśmy użyć zwykłej permutacji: $7! = 5040$ sposobów ustawienia $7$ \"elementów\"."
      },
      {
        "step": 3,
        "hint": "Ile par sąsiednich miejsc możemy znaleźć w przedziale z $8$ miejscami?",
        "expression": "Pary sąsiednich miejsc: $(1,2), (2,3), (3,4), (4,5), (5,6), (6,7), (7,8)$ - razem $7$ par",
        "explanation": "Para (Julka, Antek) może zająć dowolną z tych $7$ par miejsc",
        "why": "Ale uwaga! W przedziale są DWA rzędy. Miejsca $1$-$4$ to jeden rząd, $5$-$8$ to drugi. Sąsiednie miejsca to tylko te w tym samym rzędzie: $(1,2), (2,3), (3,4)$ i $(5,6), (6,7), (7,8)$ - razem $6$ par!"
      },
      {
        "step": 4,
        "hint": "Jak zmienia się liczba możliwości, gdy para może siedzieć w dwóch konfiguracjach?",
        "expression": "Julka i Antek mogą zamienić się miejscami: $2$ sposoby dla każdej pary miejsc",
        "explanation": "Dla każdej z $6$ par miejsc mamy $2$ konfiguracje: $(Julka, Antek)$ lub $(Antek, Julka)$"
      },
      {
        "step": 5,
        "hint": "Ile osób pozostało do rozmieszczenia po usadzeniu pary?",
        "expression": "Pozostałe 6 osób na pozostałych 6 miejscach: $6! = 720$ sposobów",
        "explanation": "Po zajęciu $2$ miejsc przez Julkę i Antka, pozostałe $6$ osób zajmuje $6$ wolnych miejsc"
      },
      {
        "step": 6,
        "hint": "Jak połączyć wszystkie niezależne wybory w jeden wynik?",
        "expression": "$6 \\cdot 2 \\cdot 6! = 6 \\cdot 2 \\cdot 720 = 8640$",
        "explanation": "Mnożymy: liczbę par miejsc $\\times$ sposoby ustawienia w parze $\\times$ permutacje pozostałych osób",
        "why": "Zasada mnożenia: gdy mamy kilka niezależnych wyborów, mnożymy liczby możliwości. Tutaj: wybór pary miejsc ($6$), kolejność w parze ($2$), rozmieszczenie reszty ($6!$)."
      }
    ],
    "solutions": [
      "$8640$"
    ],
    "parameters": {
      "seats": 8,
      "rows": 2,
      "people": 8,
      "constraint": "Julka i Antek obok siebie"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T08:46:30.039Z"
  },
  {
    "id": "combinatorics_train_seats",
    "topic": "Kombinatoryka - permutacje z warunkami",
    "difficulty": 4,
    "statement": "W przedziale wagonu kolejowego jest osiem ponumerowanych miejsc od $1$ do $8$ w dwóch jednakowych rzędach. Do przedziału wchodzą cztery dziewczyny: Ala, Julka, Kornelia i Maja oraz czterech chłopaków: Antek, Janek, Kacper i Michał. Na ile sposobów te osoby mogą zająć miejsca w przedziale tak, aby naprzeciwko siebie siedziały osoby, których imiona zaczynają się tą samą literą?",
    "steps": [
      {
        "step": 1,
        "hint": "Które osoby muszą siedzieć naprzeciwko siebie według warunku zadania?",
        "expression": "Pary osób o tej samej literze: $(Ala, Antek)$, $(Julka, Janek)$, $(Kornelia, Kacper)$, $(Maja, Michał)$",
        "explanation": "Identyfikujemy $4$ pary osób, których imiona zaczynają się tą samą literą"
      },
      {
        "step": 2,
        "hint": "Czy możemy traktować każdą parę jako jedną całość?",
        "expression": "Mamy $4$ pary do rozmieszczenia w $4$ pozycjach (naprzeciwległych rzędach)",
        "explanation": "Każda para zajmie jedno miejsce w jednym rzędzie i odpowiadające miejsce w drugim",
        "why": "Upraszczamy problem: zamiast rozmieszczać $8$ osób, rozmieszczamy $4$ pary. To kluczowa obserwacja w zadaniach z warunkami."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można ustawić $4$ pary w $4$ pozycjach?",
        "expression": "$4! = 24$ sposobów",
        "explanation": "Permutujemy $4$ pary na $4$ pozycjach naprzeciwległych miejsc"
      },
      {
        "step": 4,
        "hint": "Czy w każdej parze osoby mogą zamieniać się miejscami?",
        "expression": "W każdej parze osoba może siedzieć w rzędzie górnym lub dolnym: $2$ możliwości na parę",
        "explanation": "Dla każdej pary mamy wybór, kto siedzi w którym rzędzie",
        "why": "Warunek mówi tylko o siedzeniu naprzeciwko, nie określa który rząd. Np. Ala może być w rzędzie $1$-$4$, a Antek w $5$-$8$, lub odwrotnie."
      },
      {
        "step": 5,
        "hint": "Ile niezależnych wyborów mamy dla wszystkich czterech par?",
        "expression": "$2^4 = 16$ sposobów rozmieszczenia par w rzędach",
        "explanation": "Każda z $4$ par ma $2$ możliwości, wybory są niezależne"
      },
      {
        "step": 6,
        "hint": "Jak połączyć liczbę ustawień par z liczbą ich rozmieszczenia w rzędach?",
        "expression": "$4! \\cdot 2^4 = 24 \\cdot 16 = 384$",
        "explanation": "Mnożymy liczbę permutacji par przez liczbę sposobów ich rozmieszczenia w rzędach",
        "why": "Stosujemy regułę mnożenia: najpierw wybieramy które pary są na których pozycjach $4!$, potem dla każdej pary decydujemy o rzędzie $2^4$."
      }
    ],
    "solutions": [
      "$384$ sposoby"
    ],
    "parameters": {
      "pairs": "4 pary osób",
      "seats": "8 miejsc w dwóch rzędach"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:46:50.070Z"
  },
  {
    "id": "centipede_boots_permutation",
    "topic": "Permutacje z elementami nierozróżnialnymi",
    "difficulty": 4,
    "statement": "Stonoga - wbrew nazwie - ma tylko $7$ par nóg. Na nogi ma włożyć $7$ par kaloszy (każda para jest w innym kolorze). Na ile sposobów może to zrobić, jeśli nie rozróżnia kolorów ani butów lewych i prawych?",
    "steps": [
      {
        "step": 1,
        "hint": "Gdyby stonoga rozróżniała kolory, ile byłoby możliwości?",
        "expression": "Gdyby kolory były rozróżnialne: $7!$ permutacji",
        "explanation": "Dla rozróżnialnych par kaloszy mamy $7!$ sposobów przypisania ich do $7$ par nóg",
        "why": "To punkt wyjścia - klasyczna permutacja $7$ elementów. Ale stonoga NIE rozróżnia kolorów, więc musimy podzielić przez liczbę sposobów przestawienia kolorów między sobą."
      },
      {
        "step": 2,
        "hint": "Na ile sposobów można przestawić $7$ kolorów między sobą?",
        "expression": "Kolory można przestawić na $7!$ sposobów",
        "explanation": "Każda permutacja kolorów daje ten sam układ dla stonogi",
        "why": "Skoro stonoga nie rozróżnia kolorów, wszystkie $7!$ przestawień tych samych par na tych samych nogach to dla niej JEDNO rozwiązanie. Musimy więc podzielić przez $7!$."
      },
      {
        "step": 3,
        "hint": "Co otrzymasz dzieląc liczbę wszystkich permutacji przez liczbę nierozróżnialnych przestawień?",
        "expression": "$\\frac{7!}{7!} = 1$",
        "explanation": "Po uwzględnieniu nierozróżnialności kolorów zostaje tylko jeden sposób"
      },
      {
        "step": 4,
        "hint": "Czy buty lewe i prawe mają znaczenie dla wyniku?",
        "expression": "Stonoga nie rozróżnia butów lewych i prawych, więc wynik pozostaje: $1$",
        "explanation": "Nierozróżnialność lewych i prawych butów nie zmienia wyniku, bo już uwzględniliśmy nierozróżnialność par",
        "why": "Kluczowa obserwacja: skoro stonoga nie rozróżnia kolorów, to dla niej wszystkie możliwe układy wyglądają identycznie - ma po prostu 'jakieś' kalosze na nogach. Nierozróżnialność lewych/prawych jest już zawarta w tym, że para to para."
      }
    ],
    "solutions": [
      "$1$"
    ],
    "parameters": {
      "note": "Stonoga nie rozróżnia ani kolorów, ani butów lewych i prawych, więc wszystkie możliwe układy są dla niej identyczne"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:47:06.172Z"
  },
  {
    "id": "combinatorics_centipede_boots",
    "topic": "Kombinatoryka - permutacje",
    "difficulty": 3,
    "statement": "Stonoga - wbrew nazwie - ma tylko siedem par nóg. Na nogi ma włożyć siedem par kaloszy (każda para jest w innym kolorze). Na ile sposobów może to zrobić, jeśli rozróżnia kolory (na każdą parę nóg włoży buty w tym samym kolorze), lecz nie rozróżnia butów lewych i prawych?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile mamy par nóg i ile par kaloszy do przypisania?",
        "expression": "7 par nóg i 7 par kaloszy w różnych kolorach",
        "explanation": "Musimy przypisać każdej parze nóg jedną parę kaloszy w określonym kolorze"
      },
      {
        "step": 2,
        "hint": "Czy kolejność przypisywania kolorów do par nóg ma znaczenie?",
        "expression": "Tak, bo rozróżniamy kolory - inna para nóg w czerwonych a inna w niebieskich to inny sposób",
        "explanation": "To problem uporządkowania - permutacji",
        "why": "Gdyby stonoga nie rozróżniała kolorów, byłby tylko $1$ sposób. Ale tutaj czerwone na pierwszej parze i niebieskie na drugiej to co innego niż odwrotnie."
      },
      {
        "step": 3,
        "hint": "Ile wyborów ma stonoga dla pierwszej pary nóg?",
        "expression": "7 kolorów do wyboru dla pierwszej pary nóg",
        "explanation": "Może wybrać dowolny z $7$ kolorów"
      },
      {
        "step": 4,
        "hint": "A ile kolorów zostaje dla drugiej pary nóg?",
        "expression": "6 kolorów (jeden już użyty)",
        "explanation": "Każdy kolor można użyć tylko raz"
      },
      {
        "step": 5,
        "hint": "Jak to się będzie zmieniać dla kolejnych par nóg?",
        "expression": "Dla kolejnych par: $5$, $4$, $3$, $2$, $1$ kolorów",
        "explanation": "Z każdym krokiem zostaje o jeden kolor mniej"
      },
      {
        "step": 6,
        "hint": "Jak połączyć wszystkie te wybory w jedną liczbę sposobów?",
        "expression": "$7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 7!$",
        "explanation": "Mnożymy liczbę wyborów na każdym etapie",
        "why": "To reguła mnożenia: jeśli mamy $n_1$ sposobów na krok 1, $n_2$ na krok 2, itd., to łącznie $n_1 \\cdot n_2 \\cdot ... $ sposobów. Silnia $n!$ to permutacje $n$ elementów."
      },
      {
        "step": 7,
        "hint": "Czy fakt, że nie rozróżniamy lewego i prawego buta coś zmienia?",
        "expression": "Nie zmienia - i tak przypisujemy całą parę (oba buty) do pary nóg",
        "explanation": "Informacja o nierozróżnianiu lewego i prawego jest nieistotna, bo operujemy na parach"
      },
      {
        "step": 8,
        "hint": "Ile wynosi $7!$?",
        "expression": "$7! = 5040$",
        "explanation": "Obliczamy wartość silni"
      }
    ],
    "solutions": [
      "$5040$"
    ],
    "parameters": {
      "note": "Permutacje $7$ elementów, informacja o nierozróżnianiu lewego i prawego buta jest myląca - nie wpływa na wynik"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:47:33.279Z"
  },
  {
    "id": "centipede_boots_combinatorics",
    "topic": "Kombinatoryka - permutacje z podziałem",
    "difficulty": 4,
    "statement": "Stonoga - wbrew nazwie - ma tylko $7$ par nóg. Na nogi ma włożyć $7$ par kaloszy (każda para jest w innym kolorze). Na ile sposobów może to zrobić, jeśli nie rozróżnia kolorów, lecz rozróżnia buty lewe i prawe?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy stonoga rozróżnia kolory kaloszy?",
        "expression": "Stonoga NIE rozróżnia kolorów, ale rozróżnia buty lewe i prawe",
        "explanation": "Kluczowa informacja: kolory są nieistotne, istotna jest strona buta"
      },
      {
        "step": 2,
        "hint": "Ile butów lewych i ile prawych ma do dyspozycji stonoga?",
        "expression": "7 butów lewych i 7 butów prawych (z $7$ par)",
        "explanation": "Każda para składa się z jednego buta lewego i jednego prawego",
        "why": "Skoro kolory nie mają znaczenia, możemy traktować buty jako dwa zbiory: lewe i prawe. To upraszcza problem do przypisania butów do nóg."
      },
      {
        "step": 3,
        "hint": "Ile nóg lewych i ile prawych ma stonoga?",
        "expression": "7 nóg lewych i 7 nóg prawych",
        "explanation": "Stonoga ma $7$ par nóg, czyli po $7$ nóg każdego typu"
      },
      {
        "step": 4,
        "hint": "Jak przypisać $7$ butów lewych do $7$ nóg lewych?",
        "expression": "Liczba sposobów przypisania butów lewych: $7!$",
        "explanation": "To permutacja $7$ elementów - każdy but lewy trafia na jedną z $7$ nóg lewych",
        "why": "Pierwszy but możemy włożyć na $7$ sposobów, drugi na $6$, trzeci na $5$ itd. To daje $7! = 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1$."
      },
      {
        "step": 5,
        "hint": "Czy wybór butów prawych zależy od wyboru butów lewych?",
        "expression": "Wybory są niezależne - buty prawe przypisujemy osobno",
        "explanation": "Przypisanie butów prawych do nóg prawych to oddzielny proces"
      },
      {
        "step": 6,
        "hint": "Na ile sposobów można przypisać buty prawe do nóg prawych?",
        "expression": "Liczba sposobów przypisania butów prawych: $7!$",
        "explanation": "Analogicznie jak dla butów lewych - permutacja $7$ elementów"
      },
      {
        "step": 7,
        "hint": "Jak połączyć liczbę sposobów dla butów lewych i prawych?",
        "expression": "Całkowita liczba sposobów: $7! \\cdot 7!$",
        "explanation": "Mnożymy, bo dla każdego przypisania butów lewych mamy wszystkie możliwości butów prawych",
        "why": "Zasada mnożenia: jeśli zdarzenie $A$ można wykonać na $m$ sposobów, a $B$ na $n$ sposobów (niezależnie), to oba razem na $m \\cdot n$ sposobów."
      },
      {
        "step": 8,
        "hint": "Ile wynosi $7!$?",
        "expression": "$7! = 5040$",
        "explanation": "Obliczamy wartość silni"
      },
      {
        "step": 9,
        "hint": "Jaki jest końcowy wynik?",
        "expression": "$7! \\cdot 7! = 5040 \\cdot 5040 = 25\\,401\\,600$",
        "explanation": "Stonoga może włożyć kalosze na ponad $25$ milionów sposobów"
      }
    ],
    "solutions": [
      "$25\\,401\\,600$"
    ],
    "parameters": {
      "note": "Odpowiedź: $(7!)^2 = 25\\,401\\,600$ sposobów"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:47:54.660Z"
  },
  {
    "id": "binomial_equation_example",
    "topic": "Równania z symbolem Newtona",
    "difficulty": 3,
    "statement": "Wyznacz $n$ wiedząc, że $n \\in \\mathbb{N}_{+}$: $n+\\binom{n}{2}=15$",
    "steps": [
      {
        "step": 1,
        "hint": "Jak rozwinąć symbol Newtona $\\binom{n}{2}$ używając silni?",
        "expression": "$\\binom{n}{2} = \\frac{n!}{2!(n-2)!} = \\frac{n(n-1)}{2}$",
        "explanation": "Zapisujemy symbol Newtona w postaci $\\binom{n}{k}$",
        "why": "Symbol Newtona $\\binom{n}{k}$ to liczba kombinacji $k$ elementów z $n$. Dla $k=2$ upraszcza się do $\\frac{n(n-1)}{2}$. Uwaga: to NIE jest $\\frac{n^2}{2}$!"
      },
      {
        "step": 2,
        "hint": "Co otrzymasz podstawiając ten wzór do równania?",
        "expression": "$n + \\frac{n(n-1)}{2} = 15$",
        "explanation": "Podstawiamy rozwinięcie symbolu Newtona"
      },
      {
        "step": 3,
        "hint": "Jak pozbyć się ułamka z równania?",
        "expression": "$2n + n(n-1) = 30$",
        "explanation": "Mnożymy obie strony przez $2$"
      },
      {
        "step": 4,
        "hint": "Co się stanie gdy rozwiniesz nawias i uporządkujesz wyrazy?",
        "expression": "$2n + n^2 - n = 30$",
        "explanation": "Rozwijamy nawias $n(n-1)$"
      },
      {
        "step": 5,
        "hint": "Jak sprowadzić to do standardowej postaci równania kwadratowego?",
        "expression": "$n^2 + n - 30 = 0$",
        "explanation": "Redukujemy wyrazy podobne i przenosimy $30$ na lewą stronę",
        "why": "Otrzymaliśmy równanie kwadratowe. Można je rozwiązać deltą lub rozkładem na czynniki. Spróbuj znaleźć dwie liczby, które mnożą się do $-30$ i dodają do $1$."
      },
      {
        "step": 6,
        "hint": "Jakie dwie liczby mnożą się do $-30$ i dodają do $1$?",
        "expression": "$(n+6)(n-5) = 0$",
        "explanation": "Rozkładamy na czynniki: $6 \\cdot (-5) = -30$ i $6 + (-5) = 1$"
      },
      {
        "step": 7,
        "hint": "Które rozwiązanie spełnia warunek $n \\in \\mathbb{N}_{+}$?",
        "expression": "$n = -6$ lub $n = 5$",
        "explanation": "Z rozkładu otrzymujemy dwa rozwiązania, ale tylko $n = 5$ jest liczbą naturalną dodatnią"
      }
    ],
    "solutions": [
      "$n = 5$"
    ],
    "parameters": {
      "domain": "$n \\in \\mathbb{N}_{+}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:48:17.289Z"
  },
  {
    "id": "binomial_coefficient_equation",
    "topic": "Równania z symbolem Newtona",
    "difficulty": 4,
    "statement": "Wyznacz $n$ wiedząc, że $n \\in \\mathbb{N}_{+}$: $\\binom{n}{n-1}+\\binom{2n}{2n-2}=18$",
    "steps": [
      {
        "step": 1,
        "hint": "Jak uprościć symbol Newtona, gdy wybieramy prawie wszystkie elementy?",
        "expression": "$\\binom{n}{n-1} = \\binom{n}{1} = n$",
        "explanation": "Wykorzystujemy własność symetrii symbolu Newtona",
        "why": "Symbol Newtona ma własność: $\\binom{n}{k} = \\binom{n}{n-k}$. Wybór $n-1$ elementów z $n$ to to samo co wybór $1$ elementu. Alternatywnie: $\\binom{n}{n-1} = \\frac{n!}{(n-1)! \\cdot 1!} = n$."
      },
      {
        "step": 2,
        "hint": "Czy możesz zastosować tę samą własność do drugiego symbolu?",
        "expression": "$\\binom{2n}{2n-2} = \\binom{2n}{2}$",
        "explanation": "Ponownie używamy symetrii symbolu Newtona"
      },
      {
        "step": 3,
        "hint": "Jak obliczyć $\\binom{2n}{2}$ ze wzoru?",
        "expression": "$\\binom{2n}{2} = \\frac{(2n)!}{2! \\cdot (2n-2)!} = \\frac{2n \\cdot (2n-1)}{2}$",
        "explanation": "Rozwijamy silnię i upraszczamy",
        "why": "Wzór: $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$. Dla $k=2$ wystarczy rozwinąć dwa pierwsze czynniki silni: $\\frac{2n \\cdot (2n-1) \\cdot (2n-2)!}{2 \\cdot 1 \\cdot (2n-2)!}$. Skracamy $(2n-2)!$."
      },
      {
        "step": 4,
        "hint": "Co otrzymasz po uproszczeniu ułamka?",
        "expression": "$\\binom{2n}{2} = \\frac{2n(2n-1)}{2} = n(2n-1) = 2n^2 - n$",
        "explanation": "Dzielimy licznik przez $2$ i mnożymy nawiasy"
      },
      {
        "step": 5,
        "hint": "Jak teraz wygląda nasze równanie po podstawieniu?",
        "expression": "$n + 2n^2 - n = 18$",
        "explanation": "Podstawiamy uproszczone wyrażenia do równania wyjściowego"
      },
      {
        "step": 6,
        "hint": "Co się stanie gdy uprościsz wyrazy z $n$?",
        "expression": "$2n^2 = 18$",
        "explanation": "Wyrazy $n$ i $-n$ się redukują"
      },
      {
        "step": 7,
        "hint": "Jak wyizolować $n^2$?",
        "expression": "$n^2 = 9$",
        "explanation": "Dzielimy obie strony przez $2$"
      },
      {
        "step": 8,
        "hint": "Które rozwiązanie spełnia warunek $n \\in \\mathbb{N}_{+}$?",
        "expression": "$n = 3$ lub $n = -3$, ale $n \\in \\mathbb{N}_{+}$, więc $n = 3$",
        "explanation": "Odrzucamy rozwiązanie ujemne zgodnie z warunkiem zadania",
        "why": "$\\mathbb{N}_{+}$ oznacza liczby naturalne dodatnie (bez zera). Sprawdzenie: $\\binom{3}{2} + \\binom{6}{4} = 3 + 15 = 18$ ✓"
      }
    ],
    "solutions": [
      "$n = 3$"
    ],
    "parameters": {
      "domain": "$n \\in \\mathbb{N}_{+}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:48:36.713Z"
  },
  {
    "id": "combinations_6_3",
    "topic": "Kombinacje",
    "difficulty": 2,
    "statement": "Oblicz, ile jest trójelementowych podzbiorów zbioru sześciooelementowego.",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność wyboru elementów ma znaczenie dla podzbioru?",
        "expression": "Szukamy liczby kombinacji $3$ elementów z $6$, czyli $\\binom{6}{3}$",
        "explanation": "Podzbiory nie uwzględniają kolejności, więc używamy kombinacji",
        "why": "Zbiory $\\{1,2,3\\}$ i $\\{3,2,1\\}$ to ten sam podzbiór! Gdyby kolejność miała znaczenie, użylibyśmy wariacji. To kluczowa różnica w kombinatoryce."
      },
      {
        "step": 2,
        "hint": "Jaki wzór pozwala obliczyć liczbę kombinacji?",
        "expression": "$\\binom{6}{3} = \\frac{6!}{3! \\cdot (6-3)!} = \\frac{6!}{3! \\cdot 3!}$",
        "explanation": "Stosujemy wzór na symbol Newtona (kombinacje)"
      },
      {
        "step": 3,
        "hint": "Jak uprościć silnie, żeby nie liczyć $6! = 720$?",
        "expression": "$\\frac{6!}{3! \\cdot 3!} = \\frac{6 \\cdot 5 \\cdot 4 \\cdot 3!}{3! \\cdot 3!} = \\frac{6 \\cdot 5 \\cdot 4}{3!}$",
        "explanation": "Skracamy $3!$ w liczniku i mianowniku",
        "why": "Zamiast liczyć $6! = 720$, rozkładamy tylko potrzebne czynniki. To oszczędza czas i zmniejsza ryzyko błędu!"
      },
      {
        "step": 4,
        "hint": "Ile wynosi $3!$ i jak dokończyć obliczenia?",
        "expression": "$\\frac{6 \\cdot 5 \\cdot 4}{3!} = \\frac{6 \\cdot 5 \\cdot 4}{6} = \\frac{120}{6} = 20$",
        "explanation": "Obliczamy wartość: $3! = 6$, więc $\\frac{120}{6} = 20$"
      }
    ],
    "solutions": [
      "$20$"
    ],
    "parameters": {
      "n": 6,
      "k": 3
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:48:54.569Z"
  },
  {
    "id": "combinations_delegation",
    "topic": "Kombinacje - wybór bez zwracania",
    "difficulty": 2,
    "statement": "Oblicz, na ile sposobów można wybrać czteroosobową delegację z grupy $7$ osób.",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność wyboru osób ma znaczenie w delegacji?",
        "expression": "Wybieramy $4$ osoby z $7$, kolejność nie ma znaczenia",
        "explanation": "To problem kombinacji, ponieważ delegacja {Anna, Bartek, Celina, Dawid} jest taka sama jak {Dawid, Anna, Celina, Bartek}",
        "why": "Gdyby kolejność miała znaczenie (np. prezes, wiceprezes...), użylibyśmy wariacji. Tu liczy się tylko skład grupy, więc kombinacje."
      },
      {
        "step": 2,
        "hint": "Jaki wzór pozwala obliczyć liczbę $k$-elementowych podzbiorów z $n$-elementowego zbioru?",
        "expression": "$\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$",
        "explanation": "Wzór na liczbę kombinacji $n$ po $k$",
        "why": "Symbol $\\binom{n}{k}$ (czytaj: n po k) to liczba sposobów wyboru $k$ elementów z $n$. Dzielimy przez $k!$, bo kolejność nie ma znaczenia."
      },
      {
        "step": 3,
        "hint": "Jakie wartości podstawić za $n$ i $k$ w naszym problemie?",
        "expression": "$\\binom{7}{4} = \\frac{7!}{4!(7-4)!} = \\frac{7!}{4! \\cdot 3!}$",
        "explanation": "Podstawiamy $n = 7$ (liczba osób) i $k = 4$ (wielkość delegacji)"
      },
      {
        "step": 4,
        "hint": "Jak uprościć ten ułamek bez liczenia całych silni?",
        "expression": "$\\frac{7!}{4! \\cdot 3!} = \\frac{7 \\cdot 6 \\cdot 5 \\cdot 4!}{4! \\cdot 3!} = \\frac{7 \\cdot 6 \\cdot 5}{3!}$",
        "explanation": "Skracamy $4!$ w liczniku i mianowniku",
        "why": "Zamiast liczyć $7! = 5040$, rozwijamy tylko do momentu skrócenia. To oszczędza czas i zmniejsza ryzyko błędu."
      },
      {
        "step": 5,
        "hint": "Ile wynosi $3!$ i jaki będzie końcowy wynik?",
        "expression": "$\\frac{7 \\cdot 6 \\cdot 5}{6} = \\frac{210}{6} = 35$",
        "explanation": "Obliczamy: $3! = 6$, następnie $7 \\cdot 6 \\cdot 5 = 210$ i dzielimy przez $6$"
      }
    ],
    "solutions": [
      "$35$"
    ],
    "parameters": {
      "n": 7,
      "k": 4
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:49:11.050Z"
  },
  {
    "id": "combinations_women_only",
    "topic": "Kombinacje - wybór bez zwracania",
    "difficulty": 2,
    "statement": "Z grupy $3$ kobiet i $4$ mężczyzn wybieramy $3$ osoby. Ile jest takich sposobów wyboru, aby wśród wybranych osób były same kobiety?",
    "steps": [
      {
        "step": 1,
        "hint": "Skoro chcemy same kobiety, to z ilu osób faktycznie wybieramy?",
        "expression": "Mamy $3$ kobiety i wybieramy z nich $3$ osoby",
        "explanation": "Mężczyźni nie biorą udziału w wyborze - liczy się tylko grupa kobiet"
      },
      {
        "step": 2,
        "hint": "Czy kolejność wyboru ma znaczenie w tym zadaniu?",
        "expression": "Używamy kombinacji (bez zwracania uwagi na kolejność): $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$",
        "explanation": "Wybieramy grupę osób, więc kolejność nie ma znaczenia",
        "why": "Gdyby kolejność miała znaczenie (np. wybór prezesa, wiceprezesa), użylibyśmy wariacji. Tu liczy się tylko skład grupy, więc kombinacje."
      },
      {
        "step": 3,
        "hint": "Co się stanie, gdy wybieramy wszystkie dostępne elementy?",
        "expression": "$\\binom{3}{3} = \\frac{3!}{3!(3-3)!} = \\frac{3!}{3! \\cdot 0!}$",
        "explanation": "Podstawiamy $n = 3$ i $k = 3$ do wzoru"
      },
      {
        "step": 4,
        "hint": "Ile wynosi $0!$ i dlaczego to ważne?",
        "expression": "$\\binom{3}{3} = \\frac{6}{6 \\cdot 1} = 1$",
        "explanation": "Jest dokładnie jeden sposób wybrania wszystkich trzech kobiet",
        "why": "Z definicji $0! = 1$. Wynik ma sens: jest tylko jeden sposób wybrania wszystkich dostępnych elementów."
      }
    ],
    "solutions": [
      "$1$"
    ],
    "parameters": {
      "total_women": 3,
      "total_men": 4,
      "selected": 3
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:49:23.340Z"
  },
  {
    "id": "combinatorics_men_only",
    "topic": "Kombinatoryka - kombinacje",
    "difficulty": 2,
    "statement": "Z grupy $3$ kobiet i $4$ mężczyzn wybieramy trzy osoby. Ile jest takich sposobów wyboru, aby wśród wybranych osób byli sami mężczyźni?",
    "steps": [
      {
        "step": 1,
        "hint": "Skoro mają być sami mężczyźni, z jakiej grupy wybieramy wszystkie trzy osoby?",
        "expression": "Wybieramy $3$ osoby z grupy $4$ mężczyzn",
        "explanation": "Warunek 'sami mężczyźni' oznacza, że kobiety w ogóle nie biorą udziału w wyborze"
      },
      {
        "step": 2,
        "hint": "Czy kolejność wyboru osób ma znaczenie w tym zadaniu?",
        "expression": "Używamy kombinacji (bez powtórzeń), bo kolejność nie ma znaczenia",
        "explanation": "Wybieramy grupę osób, nie ustawiamy ich w kolejce",
        "why": "Kombinacje używamy gdy kolejność nie ma znaczenia (np. wybór zespołu). Permutacje - gdy ma znaczenie (np. ustawienie w kolejce). Tutaj grupa $\\{Jan, Piotr, Marek\\} = \\{Marek, Jan, Piotr\\}$."
      },
      {
        "step": 3,
        "hint": "Jaki wzór na kombinacje pozwoli wybrać $k$ elementów z $n$ elementów?",
        "expression": "$\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$, gdzie $n = 4$, $k = 3$",
        "explanation": "Stosujemy wzór na liczbę kombinacji $\\binom{n}{k}$",
        "why": "Symbol $\\binom{4}{3}$ czytamy 'cztery po trzy'. Wzór eliminuje powtórzenia wynikające z różnej kolejności tego samego zestawu."
      },
      {
        "step": 4,
        "hint": "Co otrzymasz podstawiając $n = 4$ i $k = 3$ do wzoru?",
        "expression": "$\\binom{4}{3} = \\frac{4!}{3! \\cdot 1!} = \\frac{4 \\cdot 3!}{3! \\cdot 1} = \\frac{4}{1} = 4$",
        "explanation": "Obliczamy wartość kombinacji, skracając silnie"
      }
    ],
    "solutions": [
      "$4$"
    ],
    "parameters": {
      "interpretation": "Istnieją $4$ sposoby wyboru trzech mężczyzn z grupy czterech mężczyzn"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:49:37.901Z"
  },
  {
    "id": "combinatorics_selection",
    "topic": "Kombinatoryka - wybór z podziałem na grupy",
    "difficulty": 3,
    "statement": "Z grupy $3$ kobiet i $4$ mężczyzn wybieramy trzy osoby. Ile jest takich sposobów wyboru, aby wśród wybranych osób były dwie kobiety i jeden mężczyzna?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność wyboru osób ma znaczenie w tym zadaniu?",
        "expression": "Wybieramy $2$ kobiety z $3$ oraz $1$ mężczyznę z $4$ - to kombinacje, nie permutacje",
        "explanation": "Liczy się tylko skład grupy, nie kolejność wyboru",
        "why": "Gdyby kolejność miała znaczenie (np. wybór prezesa, wiceprezesa), użylibyśmy $wariacji$. Tu używamy symbolu Newtona $\\binom{n}{k}$ lub wzoru $C_n^k$."
      },
      {
        "step": 2,
        "hint": "Na ile sposobów możesz wybrać $2$ kobiety spośród $3$ dostępnych?",
        "expression": "$\\binom{3}{2} = \\frac{3!}{2! \\cdot 1!} = \\frac{6}{2 \\cdot 1} = 3$",
        "explanation": "Liczba sposobów wyboru dwóch kobiet"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów możesz wybrać $1$ mężczyznę spośród $4$ dostępnych?",
        "expression": "$\\binom{4}{1} = \\frac{4!}{1! \\cdot 3!} = \\frac{4}{1} = 4$",
        "explanation": "Liczba sposobów wyboru jednego mężczyzny"
      },
      {
        "step": 4,
        "hint": "Jak połączyć wybory kobiet i mężczyzn - dodać czy pomnożyć?",
        "expression": "$\\binom{3}{2} \\cdot \\binom{4}{1} = 3 \\cdot 4 = 12$",
        "explanation": "Mnożymy, bo każdy wybór kobiet można połączyć z każdym wyborem mężczyzny",
        "why": "Reguła mnożenia: gdy wykonujemy dwa niezależne wybory kolejno, mnożymy liczby możliwości. Gdybyśmy mieli alternatywę (albo-albo), dodawalibyśmy."
      }
    ],
    "solutions": [
      "$12$"
    ],
    "parameters": {
      "women": 3,
      "men": 4,
      "selected_women": 2,
      "selected_men": 1
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:49:55.185Z"
  },
  {
    "id": "combinatorics_lines_points",
    "topic": "Kombinatoryka - liczba prostych wyznaczonych przez punkty",
    "difficulty": 3,
    "statement": "Na płaszczyźnie zaznaczono $n$ ($n > 2$) punktów, z których dowolne trzy nie były współliniowe. Punkty te wyznaczyły $36$ prostych. Oblicz $n$.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile punktów potrzeba, aby wyznaczyć jedną prostą?",
        "expression": "Każda prosta jest wyznaczona przez dokładnie $2$ punkty",
        "explanation": "Dwa różne punkty wyznaczają dokładnie jedną prostą"
      },
      {
        "step": 2,
        "hint": "Ile par punktów można utworzyć z $n$ punktów?",
        "expression": "Liczba prostych = liczba par punktów = $\\binom{n}{2}$",
        "explanation": "Wybieramy $2$ punkty spośród $n$ punktów",
        "why": "Warunek 'dowolne trzy nie są współliniowe' gwarantuje, że każda para punktów wyznacza INNĄ prostą. Gdyby trzy punkty leżały na jednej prostej, niektóre pary dawałyby tę samą prostą!"
      },
      {
        "step": 3,
        "hint": "Jak rozwinąć symbol Newtona $\\binom{n}{2}$?",
        "expression": "$\\binom{n}{2} = \\frac{n!}{2!(n-2)!} = \\frac{n(n-1)}{2}$",
        "explanation": "Stosujemy wzór na symbol $\\binom{n}{k}$"
      },
      {
        "step": 4,
        "hint": "Jakie równanie otrzymamy, wiedząc że prostych jest $36$?",
        "expression": "$\\frac{n(n-1)}{2} = 36$",
        "explanation": "Przyrównujemy liczbę prostych do danej wartości"
      },
      {
        "step": 5,
        "hint": "Jak pozbyć się ułamka w równaniu?",
        "expression": "$n(n-1) = 72$",
        "explanation": "Mnożymy obie strony przez $2$"
      },
      {
        "step": 6,
        "hint": "Do jakiej postaci możesz przekształcić to równanie?",
        "expression": "$n^2 - n - 72 = 0$",
        "explanation": "Rozwijamy i przenosimy wszystko na lewą stronę",
        "why": "Otrzymaliśmy równanie kwadratowe. Możemy je rozwiązać wzorem lub rozkładem na czynniki."
      },
      {
        "step": 7,
        "hint": "Jakie liczby w iloczynie dają $-72$, a w sumie $-1$?",
        "expression": "$(n - 9)(n + 8) = 0$",
        "explanation": "$9 \\cdot (-8) = -72$ i $9 + (-8) = 1$"
      },
      {
        "step": 8,
        "hint": "Które rozwiązanie ma sens w kontekście zadania?",
        "expression": "$n = 9$ lub $n = -8$",
        "explanation": "Z rozkładu otrzymujemy dwa rozwiązania"
      },
      {
        "step": 9,
        "hint": "Czy liczba punktów może być ujemna?",
        "expression": "$n = 9$",
        "explanation": "Odrzucamy $n = -8$, bo liczba punktów musi być dodatnia i większa od $2$",
        "why": "Warunek $n > 2$ z treści zadania wyklucza także małe wartości. Sprawdzenie: $\\frac{9 \\cdot 8}{2} = 36$ ✓"
      }
    ],
    "solutions": [
      "$n = 9$"
    ],
    "parameters": {
      "condition": "$n > 2$, dowolne trzy punkty nie są współliniowe"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:50:16.996Z"
  },
  {
    "id": "combinations_lottery_problem",
    "topic": "Kombinatoryka - kombinacje bez powtórzeń",
    "difficulty": 3,
    "statement": "Na egzaminie było $n$ tematów $\\left(n \\geq 2\\right)$, z których student losował dwa. Oblicz $n$, wiedząc, że student miał $190$ możliwości wylosowania zestawu tematów.",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność losowania tematów ma znaczenie dla zestawu?",
        "expression": "Liczba sposobów wylosowania 2 tematów z $n$ to $\\binom{n}{2}$",
        "explanation": "Zestaw tematów to kombinacja bez powtórzeń - kolejność nie ma znaczenia",
        "why": "Gdyby kolejność miała znaczenie (np. temat $1$ i temat $2$ to co innego niż temat $2$ i temat $1$), używalibyśmy wariacji. Tu zestaw $\\{A, B\\} = \\{B, A\\}$, więc kombinacje."
      },
      {
        "step": 2,
        "hint": "Jak zapisać wzór na liczbę kombinacji dwuelementowych?",
        "expression": "$\\binom{n}{2} = \\frac{n!}{2!(n-2)!} = \\frac{n(n-1)}{2}$",
        "explanation": "Upraszczamy wzór na symbol Newtona dla $k = 2$"
      },
      {
        "step": 3,
        "hint": "Jakie równanie otrzymasz, wiedząc że możliwości jest $190$?",
        "expression": "$\\frac{n(n-1)}{2} = 190$",
        "explanation": "Podstawiamy daną liczbę możliwości"
      },
      {
        "step": 4,
        "hint": "Jak pozbyć się ułamka w równaniu?",
        "expression": "$n(n-1) = 380$",
        "explanation": "Mnożymy obie strony przez $2$"
      },
      {
        "step": 5,
        "hint": "Do jakiej postaci możesz przekształcić to równanie?",
        "expression": "$n^2 - n - 380 = 0$",
        "explanation": "Rozwijamy i przenosimy wszystko na lewą stronę",
        "why": "Otrzymaliśmy równanie kwadratowe. Można je rozwiązać deltą lub szukać rozkładu na czynniki: $n(n-1) = 380 = 20 \\cdot 19$."
      },
      {
        "step": 6,
        "hint": "Jakie liczby naturalne sąsiednie dają w iloczynie $380$?",
        "expression": "$n = 20$ oraz $n = -19$",
        "explanation": "Rozwiązujemy równanie kwadratowe lub zauważamy, że $20 \\cdot 19 = 380$"
      },
      {
        "step": 7,
        "hint": "Która z wartości ma sens w kontekście zadania?",
        "expression": "$n = 20$",
        "explanation": "Liczba tematów musi być dodatnia, więc odrzucamy $n = -19$"
      }
    ],
    "solutions": [
      "$n = 20$"
    ],
    "parameters": {
      "constraint": "$n \\geq 2$, $n \\in \\mathbb{N}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T08:50:37.577Z"
  },
  {
    "id": "chess_tournament_combinatorics",
    "topic": "Równania kwadratowe - zadania kombinatoryczne",
    "difficulty": 3,
    "statement": "W turnieju szachowym każdy z zawodników rozegrał z każdym dwie partie. Ilu było zawodników, jeśli rozegrano w sumie $42$ partie?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile par zawodników można utworzyć z $n$ osób?",
        "expression": "Liczba par zawodników: $\\binom{n}{2} = \\frac{n(n-1)}{2}$",
        "explanation": "Każda para zawodników to jedno połączenie między dwoma osobami",
        "why": "Symbol Newtona $\\binom{n}{2}$ oznacza wybór $2$ osób z $n$. Wzór: $\\frac{n!}{2!(n-2)!} = \\frac{n(n-1)}{2}$. To podstawa kombinatoryki - kolejność nie ma znaczenia (para $A$-$B$ = para $B$-$A$)."
      },
      {
        "step": 2,
        "hint": "Jeśli każda para gra dwie partie, jak to wpłynie na całkowitą liczbę partii?",
        "expression": "Liczba partii: $2 \\cdot \\frac{n(n-1)}{2} = n(n-1)$",
        "explanation": "Mnożymy liczbę par przez $2$, bo każda para gra dwie partie"
      },
      {
        "step": 3,
        "hint": "Jakie równanie otrzymamy, wiedząc że rozegrano $42$ partie?",
        "expression": "$n(n-1) = 42$",
        "explanation": "Przyrównujemy liczbę partii do $42$"
      },
      {
        "step": 4,
        "hint": "Jak przekształcić to równanie do postaci standardowej?",
        "expression": "$n^2 - n - 42 = 0$",
        "explanation": "Rozwijamy nawias i przenosimy $42$ na lewą stronę",
        "why": "Równanie kwadratowe w postaci ogólnej $ax^2 + bx + c = 0$. Tu: $a = 1$, $b = -1$, $c = -42$."
      },
      {
        "step": 5,
        "hint": "Jakie liczby w iloczynie dają $-42$, a w sumie $-1$?",
        "expression": "$(n - 7)(n + 6) = 0$",
        "explanation": "Rozkładamy na czynniki: szukamy liczb, których iloczyn to $-42$, a suma to $-1$",
        "why": "Rozkład na czynniki często szybszy niż delta. Sprawdzamy: $7 \\cdot (-6) = -42$ i $7 + (-6) = 1$. Uwaga na znaki!"
      },
      {
        "step": 6,
        "hint": "Które rozwiązanie ma sens w kontekście liczby zawodników?",
        "expression": "$n = 7$ lub $n = -6$",
        "explanation": "Z rozkładu otrzymujemy dwa rozwiązania matematyczne"
      },
      {
        "step": 7,
        "hint": "Czy liczba zawodników może być ujemna?",
        "expression": "$n = 7$",
        "explanation": "Odrzucamy rozwiązanie ujemne, bo liczba zawodników musi być dodatnia"
      }
    ],
    "solutions": [
      "$7$ zawodników"
    ],
    "parameters": {
      "verification": "Sprawdzenie: $7 \\cdot 6 = 42$ partie ✓"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T08:50:57.853Z"
  },
  {
    "id": "combinatorics_balls_selection",
    "topic": "Kombinatoryka - wybór z warunkiem",
    "difficulty": 2,
    "statement": "W pudełku znajdują się cztery ponumerowane kule: $2$ białe i $2$ czarne. Na ile sposobów można wybrać $2$ kule, wśród których co najwyżej jedna będzie czarna? Wypisz wszystkie możliwości.",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza sformułowanie 'co najwyżej jedna czarna'?",
        "expression": "Co najwyżej jedna czarna = $0$ czarnych lub $1$ czarna",
        "explanation": "Rozbijamy warunek na dwa przypadki do rozpatrzenia",
        "why": "Fraza 'co najwyżej' oznacza 'nie więcej niż'. Częsty błąd: mylenie z 'co najmniej' (minimum) lub 'dokładnie' (równo). Tu: $0$ lub $1$, ale NIE $2$ czarne."
      },
      {
        "step": 2,
        "hint": "Ile sposobów jest na wybranie $2$ białych kul spośród $2$ dostępnych?",
        "expression": "Przypadek 1: $0$ czarnych ($2$ białe)\nOznaczmy białe jako $B₁$, $B₂$\nMożliwość: $(B₁, B₂)$\nLiczba sposobów: $1$",
        "explanation": "Gdy wybieramy obie białe, jest tylko jedna możliwość"
      },
      {
        "step": 3,
        "hint": "Ile par możesz utworzyć łącząc każdą białą z każdą czarną?",
        "expression": "Przypadek 2: $1$ czarna i $1$ biała\nOznaczmy czarne jako $C₁$, $C₂$\nMożliwości:\n$(B₁, C₁)$, $(B₁, C₂)$, $(B₂, C₁)$, $(B₂, C₂)$\nLiczba sposobów: $2 \\cdot 2 = 4$",
        "explanation": "Każda z $2$ białych może być sparowana z każdą z $2$ czarnych",
        "why": "Używamy reguły mnożenia: wybór białej ($2$ możliwości) ORAZ wybór czarnej ($2$ możliwości) = $2 \\cdot 2 = 4$. To iloczyn kartezjański zbiorów."
      },
      {
        "step": 4,
        "hint": "Jak połączyć wyniki z obu przypadków?",
        "expression": "Suma wszystkich sposobów: $1 + 4 = 5$",
        "explanation": "Dodajemy liczbę sposobów z obu rozłącznych przypadków"
      }
    ],
    "solutions": [
      "Liczba sposobów: $5$",
      "Wszystkie możliwości: $\\left(B_1, B_2\\right)$, $\\left(B_1, C_1\\right)$, $\\left(B_1, C_2\\right)$, $\\left(B_2, C_1\\right)$, $\\left(B_2, C_2\\right)$"
    ],
    "parameters": {
      "balls": "$2$ białe ($B_1$, $B_2$), $2$ czarne ($C_1$, $C_2$)",
      "condition": "co najwyżej $1$ czarna"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:02:18.972Z"
  },
  {
    "id": "combinatorics_counting_error",
    "topic": "Kombinatoryka - błędy w zliczaniu",
    "difficulty": 3,
    "statement": "W pudełku znajdują się cztery ponumerowane kule: 2 białe i 2 czarne. Dlaczego liczby sposobów nie można obliczyć w następujący sposób: wybieramy jedną kulę białą na $\\binom{2}{1}$ sposoby i drugą kulę jakąkolwiek z pozostałych kul na $\\binom{3}{1}$ sposoby, czyli razem mamy $2 \\cdot 3 = 6$ sposobów?",
    "steps": [
      {
        "step": 1,
        "hint": "Co dokładnie liczymy w tym zadaniu - pary kul czy coś innego?",
        "expression": "Liczymy sposoby wyboru dwóch kul z czterech ponumerowanych: $2$ białych i $2$ czarnych",
        "explanation": "Ustalamy, że interesują nas wszystkie możliwe pary kul"
      },
      {
        "step": 2,
        "hint": "Ile tak naprawdę jest wszystkich możliwych par kul?",
        "expression": "$\\binom{4}{2} = \\frac{4!}{2! \\cdot 2!} = 6$ par",
        "explanation": "Wybieramy $2$ kule z $4$, więc jest dokładnie $6$ różnych par",
        "why": "To jest poprawny wynik! Skoro błędne rozumowanie też dało $6$, musi być w nim ukryty błąd - liczby się zgadzają przypadkowo."
      },
      {
        "step": 3,
        "hint": "Co się stanie, gdy najpierw wybierzemy białą kulę nr $1$, a potem białą kulę nr $2$?",
        "expression": "Para ($biała_1$, $biała_2$) zostanie policzona dwukrotnie",
        "explanation": "Raz gdy wybieramy $białą₁$ jako pierwszą, drugi raz gdy $białą₂$ jako pierwszą"
      },
      {
        "step": 4,
        "hint": "Czy podobny problem wystąpi dla innych par kul?",
        "expression": "Para ($czarna_1$, $czarna_2$) też zostanie policzona dwukrotnie",
        "explanation": "Ten sam mechanizm - możemy wybrać czarną₁ lub czarną₂ jako pierwszą",
        "why": "Błędne rozumowanie zakłada, że kolejność wyboru ma znaczenie (najpierw biała, potem dowolna), ale w rzeczywistości liczymy nieuporządkowane pary. To prowadzi do podwójnego liczenia par tego samego koloru."
      },
      {
        "step": 5,
        "hint": "Ile razy policzyliśmy każdą parę w błędnym rozumowaniu?",
        "expression": "Błędne rozumowanie daje: $2 \\cdot 3 = 6$, ale pary jednokolorowe policzone $2$ razy",
        "explanation": "Metoda $\\binom{2}{1} \\cdot \\binom{3}{1}$ liczy uporządkowane wybory, nie pary"
      },
      {
        "step": 6,
        "hint": "Dlaczego mimo błędu wyszedł poprawny wynik $6$?",
        "expression": "Przypadkowe szczęście: $4$ pary różnokolorowe (raz) + $2$ pary jednokolorowe ($2$ razy) = $4 + 2 \\cdot 2 = 8$, ale $\\frac{8}{?} \\neq 6$",
        "explanation": "Faktycznie błędna metoda daje $8$ uporządkowanych wyborów, nie $6$ par",
        "why": "Poprawne rozumowanie: pary różnokolorowe $2 \\cdot 2 = 4$ (każda biała z każdą czarną) + pary jednokolorowe $\\binom{2}{2} + \\binom{2}{2} = 2$, razem $4 + 2 = 6$. Błędna metoda miesza uporządkowane wybory z nieuporządkowanymi parami."
      }
    ],
    "solutions": [
      "Błąd polega na podwójnym liczeniu par jednokolorowych. Metoda $\\binom{2}{1} \\cdot \\binom{3}{1}$ zakłada, że kolejność wyboru ma znaczenie (najpierw biała, potem dowolna), co prowadzi do liczenia uporządkowanych wyborów zamiast nieuporządkowanych par. Para $(biała_1, biała_2)$ jest liczona dwukrotnie, podobnie para $(czarna_1, czarna_2)$."
    ],
    "parameters": {
      "note": "Zadanie demonstruje różnicę między uporządkowanymi wyborami a nieuporządkowanymi parami oraz problem podwójnego liczenia w kombinatoryce"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:02:42.893Z"
  },
  {
    "id": "combinatorics_subsets",
    "topic": "Kombinatoryka - podzbiory zbioru",
    "difficulty": 4,
    "statement": "Pewien niepusty zbiór ma $211$ co najwyżej dwuelementowych podzbiorów. Ile elementów ma ten zbiór?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie rodzaje podzbiorów są co najwyżej dwuelementowe?",
        "expression": "Podzbiory co najwyżej dwuelementowe to: zbiór pusty, jednoelementowe i dwuelementowe",
        "explanation": "Identyfikujemy wszystkie możliwe typy podzbiorów spełniających warunek"
      },
      {
        "step": 2,
        "hint": "Ile jest podzbiorów każdego typu dla zbioru $n$-elementowego?",
        "expression": "Dla zbioru $n$-elementowego: $1$ pusty + $n$ jednoelementowych + $\\binom{n}{2}$ dwuelementowych",
        "explanation": "Liczymy podzbiory według ich mocy",
        "why": "Symbol $\\binom{n}{2}$ to liczba dwuelementowych podzbiorów (kombinacje bez powtórzeń). Zbiór pusty jest zawsze jeden, jednoelementowych jest tyle, ile elementów."
      },
      {
        "step": 3,
        "hint": "Jak zapisać sumę wszystkich tych podzbiorów?",
        "expression": "$1 + n + \\binom{n}{2} = 211$",
        "explanation": "Suma wszystkich co najwyżej dwuelementowych podzbiorów wynosi $211$"
      },
      {
        "step": 4,
        "hint": "Jak rozwinąć symbol Newtona $\\binom{n}{2}$?",
        "expression": "$1 + n + \\frac{n(n-1)}{2} = 211$",
        "explanation": "Podstawiamy wzór na liczbę kombinacji",
        "why": "$\\binom{n}{2} = \\frac{n!}{2!(n-2)!} = \\frac{n(n-1)}{2}$. To wzór na wybór $2$ elementów z $n$."
      },
      {
        "step": 5,
        "hint": "Jak pozbyć się ułamka w równaniu?",
        "expression": "$2 + 2n + n(n-1) = 422$",
        "explanation": "Mnożymy obie strony przez $2$"
      },
      {
        "step": 6,
        "hint": "Co otrzymasz po rozwinięciu nawiasu i uporządkowaniu?",
        "expression": "$2 + 2n + n^2 - n = 422$, czyli $n^2 + n + 2 = 422$",
        "explanation": "Upraszczamy wyrażenie"
      },
      {
        "step": 7,
        "hint": "Jak sprowadzić to do standardowej postaci równania kwadratowego?",
        "expression": "$n^2 + n - 420 = 0$",
        "explanation": "Przenosimy $422$ na lewą stronę"
      },
      {
        "step": 8,
        "hint": "Czy możesz rozłożyć to równanie na czynniki zamiast używać delty?",
        "expression": "$(n + 21)(n - 20) = 0$",
        "explanation": "Rozkładamy na czynniki: szukamy liczb o sumie $1$ i iloczynie $-420$",
        "why": "Rozkład na czynniki jest szybszy niż delta, gdy da się znaleźć odpowiednie liczby. Tutaj: $21 + (-20) = 1$ i $21 \\cdot (-20) = -420$."
      },
      {
        "step": 9,
        "hint": "Które rozwiązanie ma sens w kontekście liczby elementów zbioru?",
        "expression": "$n = -21$ lub $n = 20$",
        "explanation": "Otrzymujemy dwa rozwiązania matematyczne"
      },
      {
        "step": 10,
        "hint": "Czy liczba elementów może być ujemna?",
        "expression": "$n = 20$",
        "explanation": "Odrzucamy rozwiązanie ujemne, bo liczba elementów musi być dodatnia"
      }
    ],
    "solutions": [
      "$n = 20$"
    ],
    "parameters": {
      "answer": "Zbiór ma $20$ elementów"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 10,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:03:06.694Z"
  },
  {
    "id": "combinatorics_delegation",
    "topic": "Kombinatoryka - kombinacje",
    "difficulty": 3,
    "statement": "W klasie jest 15 dziewcząt i 16 chłopców. Spośród uczniów tej klasy trzeba wybrać czteroosobową delegację. Na ile sposobów można to zrobić, tak aby w delegacji znalazły się tylko $2$ dziewczynki?",
    "steps": [
      {
        "step": 1,
        "hint": "Jeśli w delegacji mają być dwie dziewczynki, to ile będzie chłopców?",
        "expression": "Delegacja: $2$ dziewczynki + $2$ chłopców = $4$ osoby",
        "explanation": "Ustalamy skład delegacji"
      },
      {
        "step": 2,
        "hint": "Czy kolejność wyboru osób ma znaczenie w delegacji?",
        "expression": "Używamy kombinacji (bez powtórzeń), bo kolejność nie ma znaczenia",
        "explanation": "Wybieramy grupy osób, nie ustawiamy ich w kolejności",
        "why": "W kombinacjach liczy się tylko to, kto został wybrany, nie w jakiej kolejności. Gdyby kolejność miała znaczenie (np. prezes, wiceprezes), użylibyśmy wariacji."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów możesz wybrać $2$ dziewczynki spośród $15$?",
        "expression": "Liczba sposobów wyboru dziewczynek: $\\binom{15}{2} = \\frac{15!}{2! \\cdot 13!} = \\frac{15 \\cdot 14}{2 \\cdot 1} = \\frac{210}{2} = 105$",
        "explanation": "Obliczamy liczbę kombinacji $2$ z $15$"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów możesz wybrać $2$ chłopców spośród $16$?",
        "expression": "Liczba sposobów wyboru chłopców: $\\binom{16}{2} = \\frac{16!}{2! \\cdot 14!} = \\frac{16 \\cdot 15}{2 \\cdot 1} = \\frac{240}{2} = 120$",
        "explanation": "Obliczamy liczbę kombinacji $\\binom{16}{2}$"
      },
      {
        "step": 5,
        "hint": "Czy wybór dziewczynek zależy od wyboru chłopców? Co to oznacza dla obliczeń?",
        "expression": "Całkowita liczba sposobów: $\\binom{15}{2} \\cdot \\binom{16}{2} = 105 \\cdot 120 = 12600$",
        "explanation": "Mnożymy liczby sposobów, bo wybory są niezależne",
        "why": "Zasada mnożenia: jeśli mamy $m$ sposobów na wykonanie pierwszej czynności i $n$ sposobów na drugą (niezależnie), to łącznie mamy $m \\cdot n$ sposobów. Każdy wybór dziewczynek można połączyć z każdym wyborem chłopców."
      }
    ],
    "solutions": [
      "$12600$"
    ],
    "parameters": {
      "girls": 15,
      "boys": 16,
      "delegation_size": 4,
      "girls_in_delegation": 2
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:03:23.700Z"
  },
  {
    "id": "combinatorics_delegation",
    "topic": "Kombinatoryka - wybory z warunkiem",
    "difficulty": 4,
    "statement": "W klasie jest $15$ dziewcząt i $16$ chłopców. Spośród uczniów tej klasy trzeba wybrać czteroosobową delegację. Na ile sposobów można to zrobić, tak aby w delegacji znalazły się co najmniej dwie dziewczynki?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile uczniów łącznie jest w klasie?",
        "expression": "$15 + 16 = 31$ uczniów",
        "explanation": "Sumujemy liczbę dziewcząt i chłopców"
      },
      {
        "step": 2,
        "hint": "Jakie możliwe składy delegacji spełniają warunek 'co najmniej dwie dziewczynki'?",
        "expression": "Możliwe składy: $2D+2Ch$, $3D+1Ch$, $4D+0Ch$",
        "explanation": "Rozbijamy problem na przypadki według liczby dziewcząt",
        "why": "Warunek 'co najmniej dwie' oznacza: dokładnie $2$, dokładnie $3$ lub dokładnie $4$ dziewczynki. Alternatywa: obliczyć wszystkie delegacje i odjąć te z $0$ lub $1$ dziewczynką."
      },
      {
        "step": 3,
        "hint": "Którym wzorem obliczysz liczbę sposobów wyboru $k$ osób z $n$?",
        "expression": "Używamy symbolu Newtona: $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$",
        "explanation": "To wzór na kombinacje bez powtórzeń $\\binom{n}{k}$",
        "why": "Kolejność nie ma znaczenia w delegacji, więc używamy kombinacji, nie permutacji. Symbol $\\binom{n}{k}$ czytamy 'n nad k'."
      },
      {
        "step": 4,
        "hint": "Ile jest sposobów na wybranie dokładnie $2$ dziewcząt i $2$ chłopców?",
        "expression": "$\\binom{15}{2} \\cdot \\binom{16}{2} = \\frac{15 \\cdot 14}{2} \\cdot \\frac{16 \\cdot 15}{2} = 105 \\cdot 120 = 12600$",
        "explanation": "Mnożymy liczbę sposobów wyboru dziewcząt przez liczbę sposobów wyboru chłopców"
      },
      {
        "step": 5,
        "hint": "Ile jest sposobów na wybranie dokładnie $3$ dziewcząt i $1$ chłopca?",
        "expression": "$\\binom{15}{3} \\cdot \\binom{16}{1} = \\frac{15 \\cdot 14 \\cdot 13}{6} \\cdot 16 = 455 \\cdot 16 = 7280$",
        "explanation": "Analogicznie: wybieramy $3$ z $15$ dziewcząt i $1$ z $16$ chłopców"
      },
      {
        "step": 6,
        "hint": "Ile jest sposobów na wybranie dokładnie $4$ dziewcząt i $0$ chłopców?",
        "expression": "$\\binom{15}{4} \\cdot \\binom{16}{0} = \\frac{15 \\cdot 14 \\cdot 13 \\cdot 12}{24} \\cdot 1 = 1365$",
        "explanation": "Wybieramy wszystkie $4$ osoby spośród dziewcząt"
      },
      {
        "step": 7,
        "hint": "Dlaczego dodajemy wyniki z poszczególnych przypadków?",
        "expression": "$12600 + 7280 + 1365 = 21245$",
        "explanation": "Sumujemy wszystkie rozłączne przypadki spełniające warunek",
        "why": "Przypadki są rozłączne (delegacja nie może mieć jednocześnie $2$ i $3$ dziewcząt), więc stosujemy regułę sumy. Gdyby przypadki mogły zachodzić jednocześnie, musielibyśmy odjąć część wspólną."
      }
    ],
    "solutions": [
      "$21245$ sposobów"
    ],
    "parameters": {
      "girls": 15,
      "boys": 16,
      "delegation_size": 4,
      "min_girls": 2
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:03:43.093Z"
  },
  {
    "id": "combinatorics_delegation",
    "topic": "Kombinatoryka - zasada dodawania",
    "difficulty": 3,
    "statement": "W klasie jest $15$ dziewcząt i $16$ chłopców. Spośród uczniów tej klasy trzeba wybrać czteroosobową delegację. Na ile sposobów można to zrobić, tak aby w delegacji znalazły się co najwyżej dwie dziewczynki?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza \"co najwyżej dwie dziewczynki\"? Jakie mamy możliwości?",
        "expression": "Co najwyżej 2 dziewczynki = $0$ dziewczynek LUB $1$ dziewczynka LUB $2$ dziewczynki",
        "explanation": "Rozbijamy problem na trzy rozłączne przypadki",
        "why": "\"Co najwyżej\" to kluczowe słowo - nie oznacza \"dokładnie\". Musimy rozpatrzyć wszystkie możliwości od $0$ do $2$. Przypadki są rozłączne, więc użyjemy zasady dodawania."
      },
      {
        "step": 2,
        "hint": "Jeśli nie ma dziewczynek, to kogo wybieramy? Ilu chłopców?",
        "expression": "Przypadek 1: $0$ dziewczynek i $4$ chłopców = $\\binom{15}{0} \\cdot \\binom{16}{4}$",
        "explanation": "Wybieramy $0$ z $15$ dziewcząt i $4$ z $16$ chłopców"
      },
      {
        "step": 3,
        "hint": "Ile wynosi $\\binom{15}{0}$? Czy to ma sens intuicyjnie?",
        "expression": "$\\binom{15}{0} \\cdot \\binom{16}{4} = 1 \\cdot \\frac{16!}{4! \\cdot 12!} = 1 \\cdot \\frac{16 \\cdot 15 \\cdot 14 \\cdot 13}{4 \\cdot 3 \\cdot 2 \\cdot 1} = 1820$",
        "explanation": "Obliczamy liczbę sposobów dla pierwszego przypadku",
        "why": "$\\binom{n}{0} = 1$ zawsze - jest dokładnie jeden sposób na wybranie niczego. To nie błąd!"
      },
      {
        "step": 4,
        "hint": "Gdy jest $1$ dziewczynka, ilu musi być chłopców, żeby było $4$ osoby?",
        "expression": "Przypadek 2: $1$ dziewczynka i $3$ chłopców = $\\binom{15}{1} \\cdot \\binom{16}{3}$",
        "explanation": "Wybieramy $1$ z $15$ dziewcząt i $3$ z $16$ chłopców"
      },
      {
        "step": 5,
        "hint": "Dlaczego mnożymy te symbole Newtona, a nie dodajemy?",
        "expression": "$\\binom{15}{1} \\cdot \\binom{16}{3} = 15 \\cdot \\frac{16 \\cdot 15 \\cdot 14}{3 \\cdot 2 \\cdot 1} = 15 \\cdot 560 = 8400$",
        "explanation": "Obliczamy liczbę sposobów dla drugiego przypadku",
        "why": "Mnożymy, bo wybory są niezależne - dla KAŻDEJ wybranej dziewczynki mamy wszystkie możliwości wyboru chłopców. Gdybyśmy dodawali, policzylibyśmy \"dziewczynka LUB chłopcy\", a nie \"dziewczynka I chłopcy\"."
      },
      {
        "step": 6,
        "hint": "Jaki jest ostatni przypadek spełniający warunek?",
        "expression": "Przypadek 3: $2$ dziewczynki i $2$ chłopców = $\\binom{15}{2} \\cdot \\binom{16}{2}$",
        "explanation": "Wybieramy $2$ z $15$ dziewcząt i $2$ z $16$ chłopców"
      },
      {
        "step": 7,
        "hint": "Jak szybko obliczyć $\\binom{n}{2}$ bez pełnego wzoru?",
        "expression": "$\\binom{15}{2} \\cdot \\binom{16}{2} = \\frac{15 \\cdot 14}{2} \\cdot \\frac{16 \\cdot 15}{2} = 105 \\cdot 120 = 12600$",
        "explanation": "Obliczamy liczbę sposobów dla trzeciego przypadku"
      },
      {
        "step": 8,
        "hint": "Skoro przypadki są rozłączne, jak połączyć wyniki?",
        "expression": "$1820 + 8400 + 12600 = 22820$",
        "explanation": "Sumujemy wszystkie przypadki według zasady dodawania"
      }
    ],
    "solutions": [
      "$22820$"
    ],
    "parameters": {
      "girls": 15,
      "boys": 16,
      "delegation_size": 4,
      "max_girls": 2
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:04:07.516Z"
  },
  {
    "id": "combinatorics_delegation",
    "topic": "Kombinatoryka - wybór z warunkiem",
    "difficulty": 4,
    "statement": "W grupie 20 osób jest $12$ kobiet. Ile jest sposobów wybrania $5$-osobowej delegacji z tej grupy, tak aby znalazły się tam co najwyżej $2$ kobiety?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza 'co najwyżej dwie kobiety' w kontekście delegacji?",
        "expression": "Co najwyżej 2 kobiety = $0$ kobiet LUB $1$ kobieta LUB $2$ kobiety",
        "explanation": "Rozbijamy problem na trzy rozłączne przypadki",
        "why": "Warunek 'co najwyżej' wymaga rozpatrzenia wszystkich możliwości od $0$ do podanej liczby. Przypadki są rozłączne, więc wyniki dodajemy. Częsty błąd: myślenie że 'co najwyżej $2$' = 'dokładnie $2$'."
      },
      {
        "step": 2,
        "hint": "Ile jest mężczyzn w grupie?",
        "expression": "Liczba mężczyzn: $20 - 12 = 8$",
        "explanation": "Obliczamy liczbę mężczyzn z całkowitej liczby osób"
      },
      {
        "step": 3,
        "hint": "Jak wygląda delegacja z $0$ kobiet? Ilu mężczyzn trzeba wybrać?",
        "expression": "Przypadek 1: $0$ kobiet i $5$ mężczyzn = $\\binom{12}{0} \\cdot \\binom{8}{5}$",
        "explanation": "Wybieramy $0$ kobiet z $12$ i $5$ mężczyzn z $8$",
        "why": "Symbol Newtona $\\binom{n}{k}$ oznacza liczbę sposobów wyboru $k$ elementów z $n$. Mnożymy, bo wybory są niezależne: najpierw kobiety, potem mężczyźni."
      },
      {
        "step": 4,
        "hint": "Ile wynosi $\\binom{12}{0}$ i $\\binom{8}{5}$?",
        "expression": "$\\binom{12}{0} = 1$ oraz $\\binom{8}{5} = \\binom{8}{3} = \\frac{8 \\cdot 7 \\cdot 6}{3 \\cdot 2 \\cdot 1} = 56$",
        "explanation": "Obliczamy symbole Newtona, wykorzystując $\\binom{n}{k} = \\binom{n}{n-k}$"
      },
      {
        "step": 5,
        "hint": "Jaki jest wynik dla pierwszego przypadku?",
        "expression": "Przypadek 1: $1 \\cdot 56 = 56$ sposobów",
        "explanation": "Mnożymy liczby wyborów kobiet i mężczyzn"
      },
      {
        "step": 6,
        "hint": "Jak zmieni się sytuacja gdy wybierzemy $1$ kobietę?",
        "expression": "Przypadek 2: 1 kobieta i 4 mężczyzn = $\\binom{12}{1} \\cdot \\binom{8}{4}$",
        "explanation": "Wybieramy $1$ kobietę z $12$ i $4$ mężczyzn z $8$"
      },
      {
        "step": 7,
        "hint": "Ile wynosi $\\binom{12}{1}$ i $\\binom{8}{4}$?",
        "expression": "$\\binom{12}{1} = 12$ oraz $\\binom{8}{4} = \\frac{8 \\cdot 7 \\cdot 6 \\cdot 5}{4 \\cdot 3 \\cdot 2 \\cdot 1} = 70$",
        "explanation": "Obliczamy symbole Newtona"
      },
      {
        "step": 8,
        "hint": "Jaki jest wynik dla drugiego przypadku?",
        "expression": "Przypadek 2: $12 \\cdot 70 = 840$ sposobów",
        "explanation": "Mnożymy liczby wyborów"
      },
      {
        "step": 9,
        "hint": "Co z przypadkiem dwóch kobiet?",
        "expression": "Przypadek 3: $2$ kobiety i $3$ mężczyzn = $\\binom{12}{2} \\cdot \\binom{8}{3}$",
        "explanation": "Wybieramy $2$ kobiety z $12$ i $3$ mężczyzn z $8$"
      },
      {
        "step": 10,
        "hint": "Ile wynosi $\\binom{12}{2}$ i $\\binom{8}{3}$?",
        "expression": "$\\binom{12}{2} = \\frac{12 \\cdot 11}{2 \\cdot 1} = 66$ oraz $\\binom{8}{3} = 56$",
        "explanation": "Obliczamy symbole Newtona"
      },
      {
        "step": 11,
        "hint": "Jaki jest wynik dla trzeciego przypadku?",
        "expression": "Przypadek 3: $66 \\cdot 56 = 3696$ sposobów",
        "explanation": "Mnożymy liczby wyborów"
      },
      {
        "step": 12,
        "hint": "Jak połączyć wyniki z trzech rozłącznych przypadków?",
        "expression": "$56 + 840 + 3696 = 4592$",
        "explanation": "Sumujemy wszystkie możliwości, bo przypadki są rozłączne"
      }
    ],
    "solutions": [
      "$4592$ sposoby"
    ],
    "parameters": {
      "total_people": 20,
      "women": 12,
      "men": 8,
      "delegation_size": 5,
      "max_women": 2
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:04:29.959Z"
  },
  {
    "id": "combinatorics_delegation",
    "topic": "Kombinatoryka - zasada dopełnienia",
    "difficulty": 3,
    "statement": "W grupie 20 osób jest $12$ kobiet. Ile jest sposobów wybrania $5$-osobowej delegacji z tej grupy, tak aby znalazła się tam co najmniej jedna kobieta?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile mężczyzn jest w grupie, skoro kobiet jest $12$?",
        "expression": "Liczba mężczyzn: $20 - 12 = 8$",
        "explanation": "Ustalamy skład grupy: $12$ kobiet i $8$ mężczyzn"
      },
      {
        "step": 2,
        "hint": "Czy łatwiej policzyć delegacje Z kobietą, czy BEZ kobiety?",
        "expression": "Użyjemy zasady dopełnienia: wszystkie delegacje minus delegacje bez kobiet",
        "explanation": "Co najmniej jedna kobieta = wszystkie możliwości minus same mężczyźni",
        "why": "Bezpośrednie liczenie 'co najmniej jednej' wymagałoby sumowania wielu przypadków (dokładnie $1$, $2$, $3$, $4$ lub $5$ kobiet). Zasada dopełnienia daje jeden prosty przypadek do odjęcia."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można wybrać dowolną pięcioosobową delegację z $20$ osób?",
        "expression": "Wszystkie delegacje: $\\binom{20}{5} = \\frac{20!}{5! \\cdot 15!} = \\frac{20 \\cdot 19 \\cdot 18 \\cdot 17 \\cdot 16}{5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1} = 15504$",
        "explanation": "Liczymy kombinacje bez powtórzeń (kolejność nie ma znaczenia)"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można wybrać delegację składającą się TYLKO z mężczyzn?",
        "expression": "Delegacje bez kobiet: $\\binom{8}{5} = \\frac{8!}{5! \\cdot 3!} = \\frac{8 \\cdot 7 \\cdot 6}{3 \\cdot 2 \\cdot 1} = 56$",
        "explanation": "Wybieramy $5$ osób spośród $8$ mężczyzn"
      },
      {
        "step": 5,
        "hint": "Co otrzymasz odejmując niechciane przypadki od wszystkich możliwości?",
        "expression": "Delegacje z co najmniej jedną kobietą: $15504 - 56 = 15448$",
        "explanation": "Odejmujemy delegacje bez kobiet od wszystkich możliwych delegacji"
      }
    ],
    "solutions": [
      "$15448$"
    ],
    "parameters": {
      "total_people": 20,
      "women": 12,
      "men": 8,
      "delegation_size": 5
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 1
      }
    },
    "timestamp": "2025-10-03T09:04:47.433Z"
  },
  {
    "id": "combinatorics_delegation",
    "topic": "Kombinatoryka - kombinacje z warunkami",
    "difficulty": 4,
    "statement": "W grupie 20 osób jest $12$ kobiet. Ile jest sposobów wybrania $5$-osobowej delegacji z tej grupy, tak aby znalazły się tam co najmniej $2$ i nie więcej niż $4$ kobiety?",
    "steps": [
      {
        "step": 1,
        "hint": "Ilu mężczyzn jest w grupie, skoro kobiet jest $12$?",
        "expression": "Liczba mężczyzn: $20 - 12 = 8$",
        "explanation": "Ustalamy skład grupy: $12$ kobiet i $8$ mężczyzn"
      },
      {
        "step": 2,
        "hint": "Jakie dokładnie składy delegacji spełniają warunek 'co najmniej $2$ i nie więcej niż $4$ kobiety'?",
        "expression": "Możliwe składy: $2K+3M$, $3K+2M$, $4K+1M$",
        "explanation": "Warunek oznacza: $2$, $3$ lub $4$ kobiety (reszta to mężczyźni)",
        "why": "Delegacja ma $5$ osób. 'Co najmniej $2$' wyklucza $0K$ i $1K$. 'Nie więcej niż $4$' wyklucza $5K$. Częsty błąd: zapomnienie o uzupełnieniu mężczyznami do $5$ osób."
      },
      {
        "step": 3,
        "hint": "Którym wzorem kombinatorycznym obliczysz liczbę sposobów wyboru $k$ osób z $n$?",
        "expression": "Wzór na kombinacje: $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$",
        "explanation": "Kolejność nie ma znaczenia, więc używamy kombinacji",
        "why": "Kombinacje, nie permutacje, bo delegacja $\\{Anna, Ewa, Jan\\} = \\{Jan, Anna, Ewa\\}$. Gdyby kolejność miała znaczenie (np. prezes, wiceprezes), byłyby to wariacje."
      },
      {
        "step": 4,
        "hint": "Ile jest sposobów wybrania $2$ kobiet z $12$ i $3$ mężczyzn z $8$?",
        "expression": "Skład 2K+3M: $\\binom{12}{2} \\cdot \\binom{8}{3} = \\frac{12!}{2! \\cdot 10!} \\cdot \\frac{8!}{3! \\cdot 5!} = 66 \\cdot 56 = 3696$",
        "explanation": "Mnożymy, bo wybieramy ORAZ kobiety ORAZ mężczyzn"
      },
      {
        "step": 5,
        "hint": "Ile jest sposobów wybrania $3$ kobiet z $12$ i $2$ mężczyzn z $8$?",
        "expression": "Skład 3K+2M: $\\binom{12}{3} \\cdot \\binom{8}{2} = \\frac{12!}{3! \\cdot 9!} \\cdot \\frac{8!}{2! \\cdot 6!} = 220 \\cdot 28 = 6160$",
        "explanation": "Analogicznie dla drugiego możliwego składu"
      },
      {
        "step": 6,
        "hint": "Ile jest sposobów wybrania $4$ kobiet z $12$ i $1$ mężczyzny z $8$?",
        "expression": "Skład 4K+1M: $\\binom{12}{4} \\cdot \\binom{8}{1} = \\frac{12!}{4! \\cdot 8!} \\cdot \\frac{8!}{1! \\cdot 7!} = 495 \\cdot 8 = 3960$",
        "explanation": "Obliczamy trzeci możliwy skład"
      },
      {
        "step": 7,
        "hint": "Jak połączyć wyniki dla różnych składów delegacji?",
        "expression": "$3696 + 6160 + 3960 = 13816$",
        "explanation": "Sumujemy, bo delegacja może mieć ALBO skład $2K+3M$, ALBO $3K+2M$, ALBO $4K+1M$",
        "why": "Dodajemy, bo to rozłączne przypadki (delegacja nie może mieć jednocześnie 2 i 3 kobiet). Reguła sumy: jeśli zdarzenia wykluczają się, dodajemy możliwości."
      }
    ],
    "solutions": [
      "$13816$"
    ],
    "parameters": {
      "total_people": 20,
      "women": 12,
      "men": 8,
      "delegation_size": 5,
      "women_min": 2,
      "women_max": 4
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:05:08.414Z"
  },
  {
    "id": "combinations_boys_only",
    "topic": "Kombinacje",
    "difficulty": 2,
    "statement": "W klasie jest 8 chłopców i $9$ dziewcząt. Wybieramy $4$ osoby. Ile jest możliwych sposobów wyboru tych $4$ osób, tak by wśród nich byli sami chłopcy?",
    "steps": [
      {
        "step": 1,
        "hint": "Skoro wybieramy samych chłopców, z ilu osób faktycznie wybieramy?",
        "expression": "Wybieramy $4$ osoby spośród $8$ chłopców",
        "explanation": "Dziewczęta nie biorą udziału w wyborze, więc liczy się tylko liczba chłopców"
      },
      {
        "step": 2,
        "hint": "Czy kolejność wyboru ma znaczenie w tym problemie?",
        "expression": "Kolejność nie ma znaczenia, więc używamy kombinacji: $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$",
        "explanation": "Wybieramy grupę osób, nie ustawiamy ich w kolejności",
        "why": "Kombinacje używamy gdy kolejność nie ma znaczenia (wybór grupy). Permutacje gdy kolejność ma znaczenie (ustawienie w rzędzie). Tutaj nie ma różnicy czy wybierzemy najpierw Adama czy Bartka."
      },
      {
        "step": 3,
        "hint": "Jakie wartości podstawisz do wzoru na kombinacje?",
        "expression": "$\\binom{8}{4} = \\frac{8!}{4!(8-4)!} = \\frac{8!}{4! \\cdot 4!}$",
        "explanation": "Podstawiamy $n = 8$ (liczba chłopców) i $k = 4$ (liczba wybieranych osób)"
      },
      {
        "step": 4,
        "hint": "Jak uprościć ten ułamek bez liczenia całych silni?",
        "expression": "$\\binom{8}{4} = \\frac{8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4!}{4! \\cdot 4!} = \\frac{8 \\cdot 7 \\cdot 6 \\cdot 5}{4!}$",
        "explanation": "Skracamy $4!$ w liczniku i mianowniku",
        "why": "Zamiast liczyć $8! = 40320$, rozwijamy tylko potrzebną część: $8! = 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4!$. To oszczędza mnóstwo obliczeń!"
      },
      {
        "step": 5,
        "hint": "Ile wynosi $4!$ i jaki będzie końcowy wynik?",
        "expression": "$\\binom{8}{4} = \\frac{8 \\cdot 7 \\cdot 6 \\cdot 5}{24} = \\frac{1680}{24} = 70$",
        "explanation": "Obliczamy: $4! = 24$, licznik: $8 \\cdot 7 \\cdot 6 \\cdot 5 = 1680$, dzielimy: $1680 : 24 = 70$"
      }
    ],
    "solutions": [
      "$70$"
    ],
    "parameters": {
      "boys": 8,
      "girls": 9,
      "selected": 4
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:05:24.045Z"
  },
  {
    "id": "combinatorics_girls_boys",
    "topic": "Kombinatoryka - wybór z warunkiem",
    "difficulty": 3,
    "statement": "W klasie jest 8 chłopców i $9$ dziewcząt. Wybieramy $4$ osoby. Ile jest możliwych sposobów wyboru tych $4$ osób, tak by połowę stanowiły dziewczęta?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza, że połowę stanowią dziewczęta przy wyborze czterech osób?",
        "expression": "Połowa z $4$ osób to $2$ osoby, więc wybieramy $2$ dziewczęta i $2$ chłopców",
        "explanation": "Interpretujemy warunek zadania"
      },
      {
        "step": 2,
        "hint": "Czy kolejność wyboru ma znaczenie, czy liczy się tylko to, kto został wybrany?",
        "expression": "Używamy kombinacji (symbolu Newtona), bo kolejność nie ma znaczenia",
        "explanation": "Wybór bez zwracania uwagi na kolejność",
        "why": "Gdyby kolejność miała znaczenie (np. wybór prezesa, wiceprezesa), użylibyśmy wariacji. Tu liczy się tylko skład grupy, więc kombinacje: $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów możesz wybrać $2$ dziewczęta spośród $9$?",
        "expression": "$\\binom{9}{2} = \\frac{9!}{2! \\cdot 7!} = \\frac{9 \\cdot 8}{2 \\cdot 1} = \\frac{72}{2} = 36$",
        "explanation": "Obliczamy liczbę sposobów wyboru dziewcząt"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów możesz wybrać $2$ chłopców spośród $8$?",
        "expression": "$\\binom{8}{2} = \\frac{8!}{2! \\cdot 6!} = \\frac{8 \\cdot 7}{2 \\cdot 1} = \\frac{56}{2} = 28$",
        "explanation": "Obliczamy liczbę sposobów wyboru chłopców"
      },
      {
        "step": 5,
        "hint": "Jak połączyć wybór dziewcząt z wyborem chłopców w jeden kompletny wybór?",
        "expression": "$\\binom{9}{2} \\cdot \\binom{8}{2} = 36 \\cdot 28 = 1008$",
        "explanation": "Mnożymy liczby możliwości, bo każdy wybór dziewcząt można połączyć z każdym wyborem chłopców",
        "why": "Używamy reguły mnożenia: jeśli zdarzenie $A$ można wykonać na $m$ sposobów, a zdarzenie $B$ na $n$ sposobów, to oba razem na $m \\cdot n$ sposobów. Częsty błąd: dodawanie zamiast mnożenia!"
      }
    ],
    "solutions": [
      "$1008$"
    ],
    "parameters": {
      "boys": 8,
      "girls": 9,
      "total_selected": 4,
      "girls_selected": 2
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:05:40.338Z"
  },
  {
    "id": "combinatorics_selection",
    "topic": "Kombinatoryka - wybór z podziałem",
    "difficulty": 3,
    "statement": "W klasie jest 8 chłopców i 9 dziewcząt. Wybieramy cztery osoby. Ile jest możliwych sposobów wyboru tych czterech osób, tak by były $3$ dziewczynki i $1$ chłopiec?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność wyboru osób ma znaczenie w tym zadaniu?",
        "expression": "Wybieramy $4$ osoby bez znaczenia kolejności - używamy kombinacji",
        "explanation": "To problem kombinatoryczny, gdzie liczy się tylko skład grupy, nie kolejność",
        "why": "Gdyby kolejność miała znaczenie (np. wybór przewodniczącego, zastępcy...), użylibyśmy wariacji. Tu wybieramy po prostu grupę - to kombinacje."
      },
      {
        "step": 2,
        "hint": "Na ile niezależnych wyborów możemy podzielić ten problem?",
        "expression": "Wybór dzieli się na dwa niezależne etapy: wybór $3$ dziewczynek oraz wybór $1$ chłopca",
        "explanation": "Rozbijamy problem na prostsze części"
      },
      {
        "step": 3,
        "hint": "Ile jest sposobów wybrania trzech dziewczynek z dziewięciu?",
        "expression": "$\\binom{9}{3} = \\frac{9!}{3! \\cdot 6!} = \\frac{9 \\cdot 8 \\cdot 7}{3 \\cdot 2 \\cdot 1} = \\frac{504}{6} = 84$",
        "explanation": "Obliczamy liczbę kombinacji $3$ z $9$",
        "why": "Symbol $\\binom{n}{k}$ to liczba sposobów wyboru $k$ elementów z $n$. Skracamy silnie: $\\frac{9!}{6!} = 9 \\cdot 8 \\cdot 7$, bo reszta się skraca."
      },
      {
        "step": 4,
        "hint": "Ile jest sposobów wybrania jednego chłopca z $8$?",
        "expression": "$\\binom{8}{1} = 8$",
        "explanation": "Wybór jednego elementu z ośmiu to po prostu $8$ możliwości"
      },
      {
        "step": 5,
        "hint": "Jak połączyć te dwa niezależne wybory w jeden wynik?",
        "expression": "$\\binom{9}{3} \\cdot \\binom{8}{1} = 84 \\cdot 8 = 672$",
        "explanation": "Mnożymy liczby możliwości, bo wybory są niezależne",
        "why": "Zasada mnożenia: jeśli mamy $m$ sposobów na pierwszy wybór i $n$ na drugi, to razem $m \\cdot n$ sposobów. Każdy wybór dziewczynek można połączyć z każdym wyborem chłopca."
      }
    ],
    "solutions": [
      "$672$"
    ],
    "parameters": {
      "boys": 8,
      "girls": 9,
      "selected_boys": 1,
      "selected_girls": 3
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:05:58.715Z"
  },
  {
    "id": "combinatorics_complement",
    "topic": "Kombinatoryka - zasada dopełnienia",
    "difficulty": 3,
    "statement": "W klasie jest 8 chłopców i $9$ dziewcząt. Wybieramy $4$ osoby. Ile jest możliwych sposobów wyboru tych $4$ osób, tak by był co najmniej jeden chłopiec?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile osób łącznie jest w klasie?",
        "expression": "$8 + 9 = 17$ osób",
        "explanation": "Sumujemy liczbę chłopców i dziewcząt"
      },
      {
        "step": 2,
        "hint": "Czy łatwiej policzyć wszystkie możliwości z warunkiem, czy może te bez warunku?",
        "expression": "Wszystkie możliwe wybory 4 osób z 17: $\\binom{17}{4}$",
        "explanation": "Obliczamy liczbę wszystkich możliwych wyborów bez żadnych ograniczeń",
        "why": "Gdy warunek brzmi 'co najmniej jeden', często łatwiej użyć zasady dopełnienia: oblicz wszystkie przypadki, potem odejmij te niechciane. Alternatywa: sumowanie przypadków ($1$, $2$, $3$ lub $4$ chłopców) byłoby dużo dłuższe."
      },
      {
        "step": 3,
        "hint": "Jaki jest przeciwny przypadek do 'co najmniej jeden chłopiec'?",
        "expression": "Wybory bez żadnego chłopca (same dziewczęta): $\\binom{9}{4}$",
        "explanation": "Liczymy przypadki, których NIE chcemy - wybór $4$ osób tylko spośród $9$ dziewcząt"
      },
      {
        "step": 4,
        "hint": "Jak obliczyć symbol Newtona $\\binom{17}{4}$?",
        "expression": "$\\binom{17}{4} = \\frac{17!}{4! \\cdot 13!} = \\frac{17 \\cdot 16 \\cdot 15 \\cdot 14}{4 \\cdot 3 \\cdot 2 \\cdot 1} = \\frac{17 \\cdot 16 \\cdot 15 \\cdot 14}{24} = 2380$",
        "explanation": "Obliczamy liczbę wszystkich możliwych wyborów"
      },
      {
        "step": 5,
        "hint": "Jak obliczyć $\\binom{9}{4}$?",
        "expression": "$\\binom{9}{4} = \\frac{9!}{4! \\cdot 5!} = \\frac{9 \\cdot 8 \\cdot 7 \\cdot 6}{24} = \\frac{3024}{24} = 126$",
        "explanation": "Obliczamy liczbę wyborów samych dziewcząt"
      },
      {
        "step": 6,
        "hint": "Jak otrzymać liczbę wyborów z co najmniej jednym chłopcem?",
        "expression": "$2380 - 126 = 2254$",
        "explanation": "Od wszystkich możliwości odejmujemy te niechciane (same dziewczęta)",
        "why": "Zasada dopełnienia: jeśli $A$ to zbiór wszystkich przypadków, a $B$ to przypadki niechciane, to szukane rozwiązanie to $|A| - |B|$. Sprawdzenie: czy $2254 < 2380$? Tak, więc wynik sensowny."
      }
    ],
    "solutions": [
      "$2254$"
    ],
    "parameters": {
      "boys": 8,
      "girls": 9,
      "selected": 4
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:06:20.527Z"
  },
  {
    "id": "combinatorics_family_photos",
    "topic": "Reguła mnożenia w kombinatoryce",
    "difficulty": 2,
    "statement": "Rodzina składająca się z rodziców i trojga dzieci: Ady, Mai i Filipa mają w pudełku zdjęcia ze wspólnych wakacji. Rodzice: $2$ zdjęcia, Cała rodzina: $3$ zdjęcia, Ada, Maja i Filip: $4$ zdjęcia, Ada i Maja: $5$ zdjęć, Ada i Filip: $6$ zdjęć, Maja i Filip: $7$ zdjęć. Oblicz, na ile sposobów można wybrać trzy zdjęcia do oprawy w ramki tak, aby na jednym zdjęciu byli tylko rodzice, na drugim było tylko troje dzieci, a na trzecim - cała rodzina w komplecie.",
    "steps": [
      {
        "step": 1,
        "hint": "Które zdjęcia spełniają warunek 'tylko rodzice'?",
        "expression": "Zdjęcia z samymi rodzicami: $2$ zdjęcia",
        "explanation": "Mamy $2$ zdjęcia pokazujące wyłącznie rodziców"
      },
      {
        "step": 2,
        "hint": "Które zdjęcia pokazują tylko troje dzieci razem?",
        "expression": "Zdjęcia z Adą, Mają i Filipem: $4$ zdjęcia",
        "explanation": "Mamy $4$ zdjęcia pokazujące wszystkie troje dzieci bez rodziców"
      },
      {
        "step": 3,
        "hint": "Ile jest zdjęć z całą rodziną?",
        "expression": "Zdjęcia z całą rodziną: $3$ zdjęcia",
        "explanation": "Mamy $3$ zdjęcia pokazujące wszystkich członków rodziny"
      },
      {
        "step": 4,
        "hint": "Czy wybory zdjęć do poszczególnych ramek są od siebie zależne?",
        "expression": "Liczba sposobów = $2 \\cdot 4 \\cdot 3$",
        "explanation": "Wybory są niezależne, więc mnożymy liczby możliwości",
        "why": "Reguła mnożenia: gdy wykonujemy kilka niezależnych wyborów, mnożymy liczby możliwości. Dla każdego z $2$ wyborów pierwszego zdjęcia mamy $4$ możliwości drugiego i $3$ możliwości trzeciego."
      },
      {
        "step": 5,
        "hint": "Jaki jest końcowy wynik mnożenia?",
        "expression": "$2 \\cdot 4 \\cdot 3 = 24$",
        "explanation": "Otrzymujemy $24$ różne sposoby wyboru trzech zdjęć"
      }
    ],
    "solutions": [
      "$24$ sposoby"
    ],
    "parameters": {
      "photos_parents": 2,
      "photos_all_family": 3,
      "photos_three_children": 4
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 1
      }
    },
    "timestamp": "2025-10-03T09:06:34.609Z"
  },
  {
    "id": "combinatorics_photos",
    "topic": "Kombinatoryka - zasada dodawania i mnożenia",
    "difficulty": 4,
    "statement": "Rodzina składająca się z rodziców i trojga dzieci: Ady, Mai i Filipa mają w pudełku zdjęcia ze wspólnych wakacji. Rodzice: $2$ zdjęcia, Cała rodzina: $3$ zdjęcia, Ada, Maja i Filip: $4$ zdjęcia, Ada i Maja: $5$ zdjęć, Ada i Filip: $6$ zdjęć, Maja i Filip: $7$ zdjęć. Oblicz, na ile sposobów można wybrać trzy zdjęcia do oprawy w ramki tak, aby na każdym wybranym zdjęciu było co najmniej dwoje dzieci.",
    "steps": [
      {
        "step": 1,
        "hint": "Które kategorie zdjęć spełniają warunek 'co najmniej dwoje dzieci'?",
        "expression": "Zdjęcia spełniające warunek: Cała rodzina $3$, Ada, Maja i Filip $4$, Ada i Maja $5$, Ada i Filip $6$, Maja i Filip $7$",
        "explanation": "Wykluczamy tylko kategorię 'Rodzice' ($2$ zdjęcia), bo tam nie ma dzieci",
        "why": "Warunek 'co najmniej dwoje dzieci' oznacza $2$ lub więcej dzieci. Kategoria 'Cała rodzina' też się liczy, bo są tam wszystkie trzy dzieci. Łącznie mamy $3 + 4 + 5 + 6 + 7 = 25$ zdjęć spełniających warunek."
      },
      {
        "step": 2,
        "hint": "Czy możemy po prostu wybrać $3$ zdjęcia z tych $25$?",
        "expression": "Liczba sposobów wyboru $3$ zdjęć z $25$: $\\binom{25}{3} = \\frac{25!}{3! \\cdot 22!} = \\frac{25 \\cdot 24 \\cdot 23}{6}$",
        "explanation": "Używamy symbolu Newtona, bo kolejność wyboru nie ma znaczenia"
      },
      {
        "step": 3,
        "hint": "Jak obliczyć wartość tego wyrażenia krok po kroku?",
        "expression": "$\\binom{25}{3} = \\frac{25 \\cdot 24 \\cdot 23}{6} = \\frac{13800}{6} = 2300$",
        "explanation": "Najpierw mnożymy licznik, potem dzielimy przez mianownik"
      }
    ],
    "solutions": [
      "$2300$"
    ],
    "parameters": {
      "categories": {
        "Rodzice": 2,
        "Cała rodzina": 3,
        "Ada, Maja i Filip": 4,
        "Ada i Maja": 5,
        "Ada i Filip": 6,
        "Maja i Filip": 7
      },
      "condition": "co najmniej dwoje dzieci na każdym zdjęciu"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 3,
        "stepsWithWhy": 1
      }
    },
    "timestamp": "2025-10-03T09:06:48.476Z"
  },
  {
    "id": "combinatorics_photos_ada",
    "topic": "Kombinatoryka - zasada dodawania i mnożenia",
    "difficulty": 4,
    "statement": "Rodzina składająca się z rodziców i trojga dzieci: Ady, Mai i Filipa mają w pudełku zdjęcia ze wspólnych wakacji. Rodzice: $2$ zdjęcia, Cała rodzina: $3$ zdjęcia, Ada, Maja i Filip: $4$ zdjęcia, Ada i Maja: $5$ zdjęć, Ada i Filip: $6$ zdjęć, Maja i Filip: $7$ zdjęć. Oblicz, na ile sposobów można wybrać trzy zdjęcia do oprawy w ramki tak, aby na co najmniej dwóch zdjęciach była Ada.",
    "steps": [
      {
        "step": 1,
        "hint": "Na których zdjęciach pojawia się Ada?",
        "expression": "Ada jest na zdjęciach: Cała rodzina ($3$), Ada, Maja i Filip ($4$), Ada i Maja ($5$), Ada i Filip ($6$). Razem: $3 + 4 + 5 + 6 = 18$ zdjęć z Adą",
        "explanation": "Identyfikujemy wszystkie kategorie zdjęć, na których jest $Ada$"
      },
      {
        "step": 2,
        "hint": "Jak rozbić warunek 'co najmniej dwa zdjęcia z Adą' na prostsze przypadki?",
        "expression": "Przypadek A: dokładnie $2$ zdjęcia z Adą i $1$ bez Ady. Przypadek B: wszystkie $3$ zdjęcia z Adą",
        "explanation": "Dzielimy problem na rozłączne przypadki",
        "why": "Warunek 'co najmniej dwa' oznacza 'dwa lub trzy'. Rozłączne przypadki możemy dodać (zasada sumy). Alternatywa: dopełnienie - wszystkie kombinacje minus te z $0$ lub $1$ zdjęciem Ady."
      },
      {
        "step": 3,
        "hint": "Ile jest zdjęć bez Ady?",
        "expression": "Zdjęcia bez Ady: Rodzice $(2)$ i Maja z Filipem $(7)$. Razem: $2 + 7 = 9$ zdjęć bez Ady",
        "explanation": "Potrzebujemy tego do przypadku $A$"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów wybierzesz $2$ zdjęcia z $18$ zdjęć z Adą?",
        "expression": "Przypadek A - wybór 2 z Adą: $\\binom{18}{2} = \\frac{18 \\cdot 17}{2} = 153$",
        "explanation": "Używamy symbolu Newtona do wyboru $2$ zdjęć z $18$"
      },
      {
        "step": 5,
        "hint": "Ile możliwości masz dla trzeciego zdjęcia w przypadku $A$?",
        "expression": "Przypadek A - wybór 1 bez Ady: $\\binom{9}{1} = 9$",
        "explanation": "Wybieramy $1$ zdjęcie z $9$ bez Ady"
      },
      {
        "step": 6,
        "hint": "Jak połączyć wybory w przypadku $A$?",
        "expression": "Przypadek A razem: $153 \\cdot 9 = 1377$",
        "explanation": "Mnożymy liczbę sposobów (zasada mnożenia)",
        "why": "Zasada mnożenia: gdy wykonujemy kolejne niezależne wybory, mnożymy liczby możliwości. Tutaj: najpierw wybieramy $2$ z Adą, potem $1$ bez Ady."
      },
      {
        "step": 7,
        "hint": "Na ile sposobów wybierzesz wszystkie 3 zdjęcia z tych z Adą?",
        "expression": "Przypadek B: $\\binom{18}{3} = \\frac{18 \\cdot 17 \\cdot 16}{6} = \\frac{4896}{6} = 816$",
        "explanation": "Wybieramy $3$ zdjęcia z $18$ zdjęć z Adą"
      },
      {
        "step": 8,
        "hint": "Jak zsumować rozłączne przypadki $A$ i $B$?",
        "expression": "Razem: $1377 + 816 = 2193$",
        "explanation": "Dodajemy oba przypadki (zasada dodawania)"
      }
    ],
    "solutions": [
      "$2193$"
    ],
    "parameters": {
      "categories": {
        "Rodzice": 2,
        "Cała rodzina": 3,
        "Ada, Maja i Filip": 4,
        "Ada i Maja": 5,
        "Ada i Filip": 6,
        "Maja i Filip": 7
      }
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:07:10.346Z"
  },
  {
    "id": "combinatorics_family_photos",
    "topic": "Kombinatoryka - zasada włączeń i wyłączeń",
    "difficulty": 4,
    "statement": "Rodzina składająca się z rodziców i trojga dzieci: Ady, Mai i Filipa mają w pudełku zdjęcia ze wspólnych wakacji. Rodzice: $2$ zdjęcia, Cała rodzina: $3$ zdjęcia, Ada, Maja i Filip: $4$ zdjęcia, Ada i Maja: $5$ zdjęć, Ada i Filip: $6$ zdjęć, Maja i Filip: $7$ zdjęć. Oblicz, na ile sposobów można wybrać trzy zdjęcia do oprawy w ramki tak, aby rodzice byli co najwyżej na dwóch zdjęciach.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile w sumie jest zdjęć w pudełku?",
        "expression": "$2 + 3 + 4 + 5 + 6 + 7 = 27$ zdjęć",
        "explanation": "Sumujemy wszystkie zdjęcia z różnych kategorii"
      },
      {
        "step": 2,
        "hint": "Co oznacza warunek 'co najwyżej na dwóch zdjęciach'?",
        "expression": "Rodzice mogą być na $0$, $1$ lub $2$ zdjęciach (ale NIE na wszystkich trzech)",
        "explanation": "Wykluczamy sytuację, gdy wszystkie $3$ wybrane zdjęcia zawierają rodziców",
        "why": "Łatwiej obliczyć wszystkie możliwości i odjąć te zabronione (zasada dopełnienia), niż liczyć każdy przypadek osobno."
      },
      {
        "step": 3,
        "hint": "Na ilu zdjęciach w pudełku są rodzice?",
        "expression": "Rodzice są na: $2$ (tylko rodzice) + $3$ (cała rodzina) = $5$ zdjęciach",
        "explanation": "Identyfikujemy zdjęcia z rodzicami"
      },
      {
        "step": 4,
        "hint": "Ile jest zdjęć BEZ rodziców?",
        "expression": "$27 - 5 = 22$ zdjęcia bez rodziców",
        "explanation": "Pozostałe zdjęcia to tylko dzieci w różnych konfiguracjach"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można wybrać dowolne $3$ zdjęcia z $27$?",
        "expression": "$\\binom{27}{3} = \\frac{27!}{3! \\cdot 24!} = \\frac{27 \\cdot 26 \\cdot 25}{6} = 2925$",
        "explanation": "Wszystkie możliwe wybory $3$ zdjęć z $27$"
      },
      {
        "step": 6,
        "hint": "Kiedy warunek NIE jest spełniony? Jakie wybory musimy wykluczyć?",
        "expression": "Wykluczamy: wszystkie $3$ zdjęcia zawierają rodziców",
        "explanation": "To sytuacja, gdy wybieramy $3$ zdjęcia z $5$ zdjęć z rodzicami",
        "why": "Używamy zasady dopełnienia: łatwiej odjąć zabronione przypadki niż sumować dozwolone. Warunek 'co najwyżej $2$' = 'wszystkie OPRÓCZ $3$'."
      },
      {
        "step": 7,
        "hint": "Na ile sposobów można wybrać $3$ zdjęcia z $5$ zdjęć z rodzicami?",
        "expression": "$\\binom{5}{3} = \\frac{5!}{3! \\cdot 2!} = \\frac{5 \\cdot 4}{2} = 10$",
        "explanation": "Liczba zabronionych wyborów"
      },
      {
        "step": 8,
        "hint": "Jak otrzymać liczbę dobrych wyborów?",
        "expression": "$2925 - 10 = 2915$",
        "explanation": "Od wszystkich możliwości odejmujemy zabronione"
      }
    ],
    "solutions": [
      "$2915$"
    ],
    "parameters": {
      "method": "Zasada dopełnienia"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:07:29.588Z"
  },
  {
    "id": "combinatorics_balls_colors",
    "topic": "Kombinatoryka - wybór z warunkiem",
    "difficulty": 3,
    "statement": "W pudełku znajdują się ponumerowane kule: $7$ białych, $2$ czarne i $1$ zielona. Na ile sposobów można wybrać dwie kule tak, aby kule były różnych kolorów?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie pary kolorów spełniają warunek 'różne kolory'?",
        "expression": "Możliwe pary: $(biała, czarna)$, $(biała, zielona)$, $(czarna, zielona)$",
        "explanation": "Identyfikujemy wszystkie kombinacje dwóch różnych kolorów",
        "why": "Kluczowe jest rozbicie problemu na rozłączne przypadki. Nie możemy wybrać dwóch kul tego samego koloru, więc analizujemy każdą parę kolorów osobno."
      },
      {
        "step": 2,
        "hint": "Ile sposobów jest na wybranie jednej białej i jednej czarnej kuli?",
        "expression": "Para (biała, czarna): $7 \\cdot 2 = 14$ sposobów",
        "explanation": "Mnożymy liczbę białych kul przez liczbę czarnych",
        "why": "Dla każdej z $7$ białych kul możemy wybrać dowolną z $2$ czarnych - to zasada mnożenia. Kule są ponumerowane, więc każdy wybór jest unikalny."
      },
      {
        "step": 3,
        "hint": "A ile jest możliwości dla pary biała-zielona?",
        "expression": "Para (biała, zielona): $7 \\cdot 1 = 7$ sposobów",
        "explanation": "Każdą z $7$ białych kul możemy połączyć z jedyną zieloną"
      },
      {
        "step": 4,
        "hint": "Czy para czarna-zielona daje nam więcej opcji?",
        "expression": "Para (czarna, zielona): $2 \\cdot 1 = 2$ sposoby",
        "explanation": "Każdą z $2$ czarnych kul możemy połączyć z jedyną zieloną"
      },
      {
        "step": 5,
        "hint": "Jak połączyć wyniki z rozłącznych przypadków?",
        "expression": "$14 + 7 + 2 = 23$",
        "explanation": "Sumujemy wszystkie możliwości, bo przypadki się wykluczają"
      }
    ],
    "solutions": [
      "23 sposoby"
    ],
    "parameters": {
      "white_balls": 7,
      "black_balls": 2,
      "green_balls": 1
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:07:47.483Z"
  },
  {
    "id": "combinatorics_white_balls",
    "topic": "Kombinatoryka - kombinacje",
    "difficulty": 2,
    "statement": "W pudełku znajdują się ponumerowane kule: $7$ białych, $2$ czarne i $1$ zielona. Na ile sposobów można wybrać $2$ kule tak, aby obie kule były białe?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność wybierania kul ma znaczenie?",
        "expression": "Wybieramy $2$ kule spośród $7$ białych, kolejność nie ma znaczenia",
        "explanation": "To problem kombinacji, nie permutacji",
        "why": "Gdy kolejność nie ma znaczenia (wybieramy zbiór kul), używamy kombinacji $\\binom{n}{k}$. Gdyby kolejność miała znaczenie (np. pierwsza i druga kula), byłyby to wariacje."
      },
      {
        "step": 2,
        "hint": "Jaki wzór pozwala wybrać $k$ elementów z $n$ elementów?",
        "expression": "$\\binom{7}{2} = \\frac{7!}{2!(7-2)!} = \\frac{7!}{2! \\cdot 5!}$",
        "explanation": "Stosujemy wzór na liczbę kombinacji $\\binom{n}{k}$",
        "why": "Symbol $\\binom{n}{k}$ czytamy 'n po k' lub 'n nad k'. Wzór $\\frac{n!}{k!(n-k)!}$ eliminuje powtórzenia wynikające z kolejności."
      },
      {
        "step": 3,
        "hint": "Które silnie można skrócić przed obliczeniem?",
        "expression": "$\\binom{7}{2} = \\frac{7 \\cdot 6 \\cdot 5!}{2! \\cdot 5!} = \\frac{7 \\cdot 6}{2 \\cdot 1}$",
        "explanation": "Skracamy $5!$ w liczniku i mianowniku"
      },
      {
        "step": 4,
        "hint": "Jaki jest wynik tego dzielenia?",
        "expression": "$\\binom{7}{2} = \\frac{42}{2} = 21$",
        "explanation": "Otrzymujemy liczbę sposobów wyboru dwóch białych kul"
      }
    ],
    "solutions": [
      "$21$"
    ],
    "parameters": {
      "white_balls": 7,
      "black_balls": 2,
      "green_balls": 1,
      "balls_to_choose": 2
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:07:59.038Z"
  },
  {
    "id": "combinatorics_same_color",
    "topic": "Kombinatoryka - wybór bez zwracania",
    "difficulty": 3,
    "statement": "W pudełku znajdują się ponumerowane kule: $7$ białych, $2$ czarne i $1$ zielona. Na ile sposobów można wybrać dwie kule tak, aby kule były tego samego koloru?",
    "steps": [
      {
        "step": 1,
        "hint": "Które kolory kul w ogóle pozwalają na wybranie dwóch tego samego koloru?",
        "expression": "Możliwe kolory: białe ($7$ kul) i czarne ($2$ kule). Zielona odpada (tylko $1$ kula).",
        "explanation": "Analizujemy, z których kolorów można wybrać parę",
        "why": "Aby wybrać dwie kule tego samego koloru, musimy mieć co najmniej dwie kule danego koloru. Zielona kula nie spełnia tego warunku."
      },
      {
        "step": 2,
        "hint": "Czy kolejność wyboru kul ma znaczenie w tym zadaniu?",
        "expression": "Nie ma znaczenia kolejność - liczy się tylko to, które kule wybierzemy",
        "explanation": "Używamy kombinacji, nie permutacji",
        "why": "Wybór $(kula 1, kula 2)$ to to samo co $(kula 2, kula 1)$. Stosujemy wzór na kombinacje: $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można wybrać $2$ białe kule spośród $7$?",
        "expression": "$\\binom{7}{2} = \\frac{7!}{2!(7-2)!} = \\frac{7 \\cdot 6}{2 \\cdot 1} = \\frac{42}{2} = 21$",
        "explanation": "Obliczamy liczbę sposobów wyboru dwóch białych kul"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można wybrać $2$ czarne kule spośród $2$?",
        "expression": "$\\binom{2}{2} = \\frac{2!}{2!(2-2)!} = \\frac{2!}{2! \\cdot 0!} = 1$",
        "explanation": "Jest tylko jeden sposób wybrania obu czarnych kul"
      },
      {
        "step": 5,
        "hint": "Czy wybory białych i czarnych kul wykluczają się wzajemnie?",
        "expression": "$21 + 1 = 22$",
        "explanation": "Sumujemy możliwości, bo wybieramy ALBO białe ALBO czarne",
        "why": "Zdarzenia rozłączne dodajemy (zasada sumy). Nie możemy jednocześnie wybrać dwóch białych i dwóch czarnych kul."
      }
    ],
    "solutions": [
      "$22$"
    ],
    "parameters": {
      "white_balls": 7,
      "black_balls": 2,
      "green_balls": 1
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:08:15.948Z"
  },
  {
    "id": "combinatorics_balls_white",
    "topic": "Kombinatoryka - zasada dopełnienia",
    "difficulty": 3,
    "statement": "W pudełku znajdują się ponumerowane kule: $7$ białych, $2$ czarne i $1$ zielona. Na ile sposobów można wybrać $2$ kule tak, aby przynajmniej jedna z nich była biała?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile w sumie mamy kul do wyboru?",
        "expression": "Łącznie: $7 + 2 + 1 = 10$ kul",
        "explanation": "Sumujemy wszystkie kule w pudełku"
      },
      {
        "step": 2,
        "hint": "Czy łatwiej policzyć przypadki z białą kulą, czy bez białej?",
        "expression": "Użyjemy zasady dopełnienia: wszystkie wybory minus wybory bez białych kul",
        "explanation": "Zamiast liczyć wiele przypadków z białą kulą, policzymy łatwiejszy przypadek przeciwny",
        "why": "\"Przynajmniej jedna biała\" oznacza: (1 biała, 1 nie-biała) lub (2 białe). Łatwiej policzyć dopełnienie: $(0$ białych$)$ = $(2$ nie-białe$)$, a potem odjąć od wszystkich możliwości."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można wybrać $2$ kule spośród wszystkich $10$?",
        "expression": "Wszystkie możliwości: $\\binom{10}{2} = \\frac{10 \\cdot 9}{2} = 45$",
        "explanation": "Liczba wszystkich możliwych par kul"
      },
      {
        "step": 4,
        "hint": "Ile jest kul nie-białych i jak wybrać z nich parę?",
        "expression": "Kule nie-białe: $2 + 1 = 3$ (czarne i zielona)",
        "explanation": "Identyfikujemy kule, które nie są białe"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można wybrać $2$ kule spośród $3$ nie-białych?",
        "expression": "Wybory bez białych: $\\binom{3}{2} = \\frac{3 \\cdot 2}{2} = 3$",
        "explanation": "Liczba par składających się tylko z kul nie-białych"
      },
      {
        "step": 6,
        "hint": "Jak otrzymać liczbę wyborów z przynajmniej jedną białą kulą?",
        "expression": "Wybory z przynajmniej jedną białą: $45 - 3 = 42$",
        "explanation": "Od wszystkich możliwości odejmujemy te bez białych kul",
        "why": "Zasada dopełnienia: jeśli trudno policzyć zdarzenie $A$, licz $|U| - |A'|$, gdzie $A'$ to dopełnienie. Tu: (z białą) = (wszystkie) - (bez białej)."
      }
    ],
    "solutions": [
      "$42$"
    ],
    "parameters": {
      "white_balls": 7,
      "black_balls": 2,
      "green_balls": 1,
      "total_balls": 10,
      "balls_to_choose": 2
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:08:33.803Z"
  },
  {
    "id": "combinatorics_pens_colors",
    "topic": "Kombinatoryka - reguła mnożenia",
    "difficulty": 2,
    "statement": "W szufladzie znajdują się rozróżnialne cienkopisy: $5$ zielonych, $4$ czarne i $6$ niebieskich. Na ile sposobów można wybrać trzy cienkopisy tak, aby każdy z nich był innego koloru?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność wybierania cienkopisów ma znaczenie dla wyniku?",
        "expression": "Wybieramy jeden cienkopis każdego koloru: zielony, czarny i niebieski",
        "explanation": "Musimy wybrać po jednym cienkopisie z każdej grupy kolorów",
        "why": "To nie jest permutacja ani kombinacja - wybieramy z różnych grup niezależnie. Używamy reguły mnożenia, bo każdy wybór jest niezależny od pozostałych."
      },
      {
        "step": 2,
        "hint": "Na ile sposobów możesz wybrać jeden zielony cienkopis z pięciu dostępnych?",
        "expression": "Liczba sposobów wyboru zielonego cienkopisu: $5$",
        "explanation": "Mamy $5$ różnych zielonych cienkopisów do wyboru"
      },
      {
        "step": 3,
        "hint": "A ile masz możliwości wyboru czarnego cienkopisu?",
        "expression": "Liczba sposobów wyboru czarnego cienkopisu: $4$",
        "explanation": "Mamy $4$ różne czarne cienkopisy do wyboru"
      },
      {
        "step": 4,
        "hint": "Ile niebieskich cienkopisów możesz wybrać?",
        "expression": "Liczba sposobów wyboru niebieskiego cienkopisu: $6$",
        "explanation": "Mamy $6$ różnych niebieskich cienkopisów do wyboru"
      },
      {
        "step": 5,
        "hint": "Jak połączyć te niezależne wybory w jeden wynik?",
        "expression": "$5 \\cdot 4 \\cdot 6 = 120$",
        "explanation": "Mnożymy liczby możliwości, ponieważ wybory są niezależne",
        "why": "Reguła mnożenia: jeśli czynność $A$ można wykonać na $m$ sposobów, a $B$ na $n$ sposobów, to obie razem na $m \\cdot n$ sposobów. Każdy zielony można połączyć z każdym czarnym i każdym niebieskim."
      }
    ],
    "solutions": [
      "$120$"
    ],
    "parameters": {
      "green_pens": 5,
      "black_pens": 4,
      "blue_pens": 6
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:08:49.281Z"
  },
  {
    "id": "combinatorics_same_color",
    "topic": "Kombinatoryka - kombinacje",
    "difficulty": 2,
    "statement": "W szufladzie znajdują się rozróżnialne cienkopisy: $5$ zielonych, $4$ czarne i $6$ niebieskich. Na ile sposobów można wybrać trzy cienkopisy tak, aby wszystkie były tego samego koloru?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność wybierania cienkopisów ma znaczenie?",
        "expression": "Wybieramy $3$ cienkopisy bez znaczenia kolejności - używamy kombinacji",
        "explanation": "To problem kombinacji, ponieważ liczy się tylko zestaw, nie kolejność",
        "why": "Gdyby kolejność miała znaczenie (np. pierwszy do lewej kieszeni, drugi do prawej), użylibyśmy wariacji. Tu liczy się tylko to, KTÓRE cienkopisy wybierzemy, nie W JAKIEJ kolejności."
      },
      {
        "step": 2,
        "hint": "Jak podzielić problem na niezależne przypadki?",
        "expression": "Przypadek 1: $3$ zielone, Przypadek 2: $3$ czarne, Przypadek 3: $3$ niebieskie",
        "explanation": "Warunek 'wszystkie tego samego koloru' dzieli problem na trzy rozłączne sytuacje"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów wybierzesz $3$ z $5$ zielonych cienkopisów?",
        "expression": "$\\binom{5}{3} = \\frac{5!}{3! \\cdot 2!} = \\frac{5 \\cdot 4}{2 \\cdot 1} = 10$",
        "explanation": "Liczba sposobów wyboru $3$ zielonych cienkopisów"
      },
      {
        "step": 4,
        "hint": "A ile możliwości dają czarne cienkopisy?",
        "expression": "$\\binom{4}{3} = \\frac{4!}{3! \\cdot 1!} = 4$",
        "explanation": "Liczba sposobów wyboru $3$ czarnych cienkopisów"
      },
      {
        "step": 5,
        "hint": "Ile kombinacji utworzysz z niebieskich?",
        "expression": "$\\binom{6}{3} = \\frac{6!}{3! \\cdot 3!} = \\frac{6 \\cdot 5 \\cdot 4}{3 \\cdot 2 \\cdot 1} = 20$",
        "explanation": "Liczba sposobów wyboru $3$ niebieskich cienkopisów"
      },
      {
        "step": 6,
        "hint": "Czy te przypadki mogą wystąpić jednocześnie, czy wykluczają się?",
        "expression": "$10 + 4 + 20 = 34$",
        "explanation": "Sumujemy możliwości, bo przypadki się wykluczają",
        "why": "Używamy sumy, bo nie możemy wybrać jednocześnie 3 zielonych I 3 czarnych - to rozłączne zdarzenia. Gdyby warunek był 'LUB zielone LUB czarne', też sumowalibyśmy."
      }
    ],
    "solutions": [
      "$34$"
    ],
    "parameters": {
      "green_pens": 5,
      "black_pens": 4,
      "blue_pens": 6,
      "selected": 3
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:09:06.774Z"
  },
  {
    "id": "combinatorics_pens_selection",
    "topic": "Kombinatoryka - wybór z warunkiem",
    "difficulty": 4,
    "statement": "W szufladzie znajdują się rozróżnialne cienkopisy: $5$ zielonych, $4$ czarne i $6$ niebieskich. Na ile sposobów można wybrać trzy cienkopisy tak, aby tylko dwa z nich były tego samego koloru?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie kombinacje kolorów spełniają warunek 'dokładnie dwa tego samego koloru'?",
        "expression": "Możliwe przypadki: $2$ zielone + $1$ inny, $2$ czarne + $1$ inny, $2$ niebieskie + $1$ inny",
        "explanation": "Identyfikujemy wszystkie możliwe konfiguracje kolorów",
        "why": "Warunek 'tylko dwa tego samego' oznacza dokładnie jedną parę. Musimy rozpatrzyć każdy kolor jako potencjalną parę, a trzeci długopis musi być innego koloru."
      },
      {
        "step": 2,
        "hint": "Ile sposobów jest na wybranie $2$ zielonych spośród $5$?",
        "expression": "$\\binom{5}{2} = \\frac{5!}{2! \\cdot 3!} = \\frac{5 \\cdot 4}{2} = 10$",
        "explanation": "Liczba sposobów wyboru pary zielonych cienkopisów"
      },
      {
        "step": 3,
        "hint": "Skąd możemy wybrać trzeci długopis, jeśli mamy już $2$ zielone?",
        "expression": "Trzeci długopis: $4$ czarne + $6$ niebieskich = $10$ możliwości",
        "explanation": "Trzeci długopis musi być innego koloru niż para",
        "why": "Cienkopisy są rozróżnialne, więc każdy z $10$ długopisów (czarnych lub niebieskich) daje inny wybór. Nie używamy symbolu Newtona, bo wybieramy $1$ konkretny długopis."
      },
      {
        "step": 4,
        "hint": "Ile wynosi całkowita liczba sposobów dla przypadku '$2$ zielone + $1$ inny'?",
        "expression": "$10 \\cdot 10 = 100$ sposobów",
        "explanation": "Mnożymy liczbę sposobów wyboru pary przez liczbę możliwości dla trzeciego długopisu"
      },
      {
        "step": 5,
        "hint": "Jak obliczyć liczbę sposobów dla przypadku '2 czarne + 1 inny'?",
        "expression": "$\\binom{4}{2} \\cdot (5 + 6) = 6 \\cdot 11 = 66$ sposobów",
        "explanation": "Para czarnych: $\\binom{4}{2} = 6$, trzeci z $11$ pozostałych (zielone lub niebieskie)"
      },
      {
        "step": 6,
        "hint": "Jak obliczyć liczbę sposobów dla przypadku '2 $\\text{niebieskie} + 1$ inny'?",
        "expression": "$\\binom{6}{2} \\cdot (5 + 4) = 15 \\cdot 9 = 135$ sposobów",
        "explanation": "Para niebieskich: $\\binom{6}{2} = 15$, trzeci z $9$ pozostałych (zielone lub czarne)"
      },
      {
        "step": 7,
        "hint": "Czy przypadki się wykluczają? Jak je połączyć?",
        "expression": "$100 + 66 + 135 = 301$",
        "explanation": "Sumujemy wszystkie rozłączne przypadki",
        "why": "Przypadki są rozłączne (długopis nie może być jednocześnie w dwóch parach), więc stosujemy regułę sumy. Gdyby przypadki się pokrywały, musielibyśmy odjąć część wspólną."
      }
    ],
    "solutions": [
      "$301$ sposobów"
    ],
    "parameters": {
      "green_pens": 5,
      "black_pens": 4,
      "blue_pens": 6,
      "total_selected": 3,
      "condition": "dokładnie dwa tego samego koloru"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:09:27.106Z"
  },
  {
    "id": "combinatorics_same_color",
    "topic": "Kombinatoryka - kombinacje",
    "difficulty": 3,
    "statement": "Na biurku leżą ponumerowane kartki w różnych kolorach: $3$ kartki czerwone z numerami od $1$ do $3$, $5$ kartek żółtych z numerami od $1$ do $5$, $6$ kartek niebieskich z numerami od $1$ do $6$ i $7$ kartek białych z numerami od $1$ do $7$. Na ile sposobów można wybrać cztery kartki tak, aby wszystkie były tego samego koloru?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy możemy wybrać 4 kartki z każdego koloru?",
        "expression": "Czerwone: $3$ kartki (za mało), Żółte: $5$ kartek, Niebieskie: $6$ kartek, Białe: $7$ kartek",
        "explanation": "Sprawdzamy, które kolory mają co najmniej $4$ kartki",
        "why": "Nie możemy wybrać $4$ kartek z $3$ czerwonych - to fizycznie niemożliwe. Zostają nam tylko $3$ kolory do rozważenia."
      },
      {
        "step": 2,
        "hint": "Czy kolejność wyboru kartek ma znaczenie?",
        "expression": "Używamy kombinacji $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$",
        "explanation": "Wybieramy $4$ kartki bez zwracania uwagi na kolejność",
        "why": "Wybór $\\{1,2,3,4\\}$ to to samo co $\\{4,3,2,1\\}$. Gdyby kolejność miała znaczenie, używalibyśmy wariacji."
      },
      {
        "step": 3,
        "hint": "Ile jest sposobów wyboru $4$ kartek żółtych z $5$ dostępnych?",
        "expression": "$\\binom{5}{4} = \\frac{5!}{4! \\cdot 1!} = \\frac{5 \\cdot 4!}{4! \\cdot 1} = 5$",
        "explanation": "Obliczamy liczbę kombinacji dla kartek żółtych"
      },
      {
        "step": 4,
        "hint": "Ile jest sposobów wyboru $4$ kartek niebieskich z $6$ dostępnych?",
        "expression": "$\\binom{6}{4} = \\frac{6!}{4! \\cdot 2!} = \\frac{6 \\cdot 5 \\cdot 4!}{4! \\cdot 2 \\cdot 1} = \\frac{30}{2} = 15$",
        "explanation": "Obliczamy liczbę kombinacji dla kartek niebieskich"
      },
      {
        "step": 5,
        "hint": "Ile jest sposobów wyboru $4$ kartek białych z $7$ dostępnych?",
        "expression": "$\\binom{7}{4} = \\frac{7!}{4! \\cdot 3!} = \\frac{7 \\cdot 6 \\cdot 5 \\cdot 4!}{4! \\cdot 6} = \\frac{210}{6} = 35$",
        "explanation": "Obliczamy liczbę kombinacji dla kartek białych"
      },
      {
        "step": 6,
        "hint": "Czy wybory z różnych kolorów wykluczają się wzajemnie?",
        "expression": "$5 + 15 + 35 = 55$",
        "explanation": "Sumujemy wszystkie możliwości, bo wybieramy ALBO żółte, ALBO niebieskie, ALBO białe",
        "why": "Używamy reguły sumy, bo zdarzenia są rozłączne - nie możemy jednocześnie wybrać $4$ żółte i $4$ niebieskie kartki."
      }
    ],
    "solutions": [
      "$55$"
    ],
    "parameters": {
      "note": "Kartki czerwone zostały wykluczone, gdyż jest ich tylko $3$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:09:44.326Z"
  },
  {
    "id": "combinatorics_cards_selection",
    "topic": "Kombinatoryka - wybór z warunkiem",
    "difficulty": 4,
    "statement": "Na biurku leżą ponumerowane kartki w różnych kolorach: $3$ kartki czerwone z numerami od $1$ do $3$, $5$ kartek żółtych z numerami od $1$ do $5$, $6$ kartek niebieskich z numerami od $1$ do $6$ i $7$ kartek białych z numerami od $1$ do $7$. Na ile sposobów można wybrać cztery kartki tak, aby co najwyżej jedna kartka była biała?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza warunek 'co najwyżej jedna biała'?",
        "expression": "Co najwyżej jedna biała = $0$ białych LUB $1$ biała",
        "explanation": "Rozbijamy problem na dwa rozłączne przypadki",
        "why": "W kombinatoryce 'co najwyżej $k$' oznacza: $0$, $1$, $2$, ..., $k$ elementów. Tutaj: $0$ lub $1$. To kluczowe, bo przypadki są rozłączne - możemy je dodać."
      },
      {
        "step": 2,
        "hint": "Ile mamy kartek niebiałych do wyboru?",
        "expression": "Kartki niebiałe: $3 + 5 + 6 = 14$ kartek (czerwone + żółte + niebieskie)",
        "explanation": "Sumujemy wszystkie kartki oprócz białych"
      },
      {
        "step": 3,
        "hint": "Jak wybrać $4$ kartki z $14$, gdy żadna nie może być biała?",
        "expression": "Przypadek 1 (0 białych): $\\binom{14}{4}$ sposobów",
        "explanation": "Wybieramy wszystkie $4$ kartki spośród $14$ niebiałych",
        "why": "Używamy symbolu Newtona $\\binom{n}{k}$, bo kolejność nie ma znaczenia. Gdyby miała, użylibyśmy wariacji."
      },
      {
        "step": 4,
        "hint": "Ile wynosi $\\binom{14}{4}$?",
        "expression": "$\\binom{14}{4} = \\frac{14!}{4! \\cdot 10!} = \\frac{14 \\cdot 13 \\cdot 12 \\cdot 11}{4 \\cdot 3 \\cdot 2 \\cdot 1} = \\frac{24024}{24} = 1001$",
        "explanation": "Obliczamy liczbę kombinacji"
      },
      {
        "step": 5,
        "hint": "Gdy wybieramy dokładnie 1 białą, ile pozostaje miejsc na niebiałe?",
        "expression": "Przypadek 2 (1 biała): wybieramy $1$ białą z $7$ i $3$ niebiałe z $14$",
        "explanation": "Dzielimy wybór na dwa niezależne etapy"
      },
      {
        "step": 6,
        "hint": "Dlaczego mnożymy, a nie dodajemy liczby sposobów?",
        "expression": "$\\binom{7}{1} \\cdot \\binom{14}{3}$ sposobów",
        "explanation": "Dla każdego wyboru białej kartki mamy wszystkie możliwości wyboru niebiałych",
        "why": "Reguła mnożenia: gdy wykonujemy czynności kolejno (najpierw wybór białej, potem niebiałych), mnożymy. Gdyby to były alternatywy (albo-albo), dodawalibyśmy."
      },
      {
        "step": 7,
        "hint": "Ile wynoszą te kombinacje?",
        "expression": "$\\binom{7}{1} = 7$ oraz $\\binom{14}{3} = \\frac{14 \\cdot 13 \\cdot 12}{3 \\cdot 2 \\cdot 1} = \\frac{2184}{6} = 364$",
        "explanation": "Obliczamy obie kombinacje"
      },
      {
        "step": 8,
        "hint": "Jaki jest wynik dla przypadku z $1$ białą kartką?",
        "expression": "$7 \\cdot 364 = 2548$ sposobów",
        "explanation": "Mnożymy liczbę sposobów wyboru białej i niebiałych"
      },
      {
        "step": 9,
        "hint": "Jak połączyć oba rozłączne przypadki?",
        "expression": "$1001 + 2548 = 3549$ sposobów",
        "explanation": "Dodajemy wyniki z obu przypadków, bo są rozłączne"
      }
    ],
    "solutions": [
      "$3549$ sposobów"
    ],
    "parameters": {
      "cards": {
        "red": 3,
        "yellow": 5,
        "blue": 6,
        "white": 7
      },
      "condition": "co najwyżej jedna biała"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:10:14.936Z"
  },
  {
    "id": "combinatorics_colored_cards",
    "topic": "Kombinatoryka - zliczanie z warunkami",
    "difficulty": 4,
    "statement": "Na biurku leżą ponumerowane kartki w różnych kolorach: $3$ kartki czerwone z numerami od $1$ do $3$, $5$ kartek żółtych z numerami od $1$ do $5$, $6$ kartek niebieskich z numerami od $1$ do $6$ i $7$ kartek białych z numerami od $1$ do $7$. Na ile sposobów można wybrać cztery kartki tak, aby miały różne numery od $1$ do $4$?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie numery muszą mieć wybrane kartki?",
        "expression": "Musimy wybrać dokładnie $4$ kartki z numerami: $1$, $2$, $3$, $4$",
        "explanation": "Warunek wymaga różnych numerów od $1$ do $4$, więc każdy numer musi wystąpić dokładnie raz"
      },
      {
        "step": 2,
        "hint": "Czy wybór koloru dla każdego numeru jest niezależny od pozostałych?",
        "expression": "Wybieramy kolor dla każdego numeru niezależnie: kartkę z numerem $1$, potem z numerem $2$, potem z numerem $3$, potem z numerem $4$",
        "explanation": "Możemy zastosować regułę mnożenia, bo wybory są niezależne",
        "why": "Reguła mnożenia: jeśli mamy $k$ niezależnych wyborów z $n_1, n_2, ..., n_k$ możliwościami, to łącznie jest $n_1 \\cdot n_2 \\cdot ... \\cdot n_k$ sposobów. Kluczowe: wybory muszą być niezależne!"
      },
      {
        "step": 3,
        "hint": "Ile kolorów ma dostępnych kartka z numerem $1$?",
        "expression": "Numer 1: czerwona LUB żółta LUB niebieska LUB biała = $4$ możliwości",
        "explanation": "Wszystkie $4$ kolory mają kartkę z numerem $1$ (bo $1 \\leq 3$, $1 \\leq 5$, $1 \\leq 6$, $1 \\leq 7$)"
      },
      {
        "step": 4,
        "hint": "Które kolory mają kartkę z numerem $2$?",
        "expression": "Numer 2: czerwona LUB żółta LUB niebieska LUB biała = $4$ możliwości",
        "explanation": "Wszystkie $4$ kolory mają kartkę z numerem $2$ (bo $2 \\leq 3$, $2 \\leq 5$, $2 \\leq 6$, $2 \\leq 7$)"
      },
      {
        "step": 5,
        "hint": "Czy czerwona kartka może mieć numer $4$?",
        "expression": "Numer 3: czerwona LUB żółta LUB niebieska LUB biała = $4$ możliwości",
        "explanation": "Wszystkie $4$ kolory mają kartkę z numerem $3$ (bo $3 \\leq 3$, $3 \\leq 5$, $3 \\leq 6$, $3 \\leq 7$)"
      },
      {
        "step": 6,
        "hint": "Które kolory mają wystarczająco dużo numerów, aby mieć kartkę $4$?",
        "expression": "Numer 4: żółta LUB niebieska LUB biała = $3$ możliwości",
        "explanation": "Tylko $3$ kolory mają kartkę z numerem $4$ (bo $4 > 3$, ale $4 \\leq 5$, $4 \\leq 6$, $4 \\leq 7$)",
        "why": "Czerwone kartki są tylko $3$ (numery $1-3$), więc nie ma czerwonej kartki z numerem $4$. To kluczowy moment - nie wszystkie numery mają wszystkie kolory!"
      },
      {
        "step": 7,
        "hint": "Jak połączyć liczbę możliwości dla każdego numeru?",
        "expression": "$4 \\cdot 4 \\cdot 4 \\cdot 3 = 192$",
        "explanation": "Mnożymy liczby możliwości dla każdego numeru zgodnie z regułą mnożenia"
      }
    ],
    "solutions": [
      "$192$"
    ],
    "parameters": {
      "colors": {
        "czerwone": "numery 1-3",
        "żółte": "numery 1-5",
        "niebieskie": "numery 1-6",
        "białe": "numery 1-7"
      }
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:10:35.248Z"
  },
  {
    "id": "combinatorics_cards_even",
    "topic": "Kombinatoryka - zasada dopełnienia",
    "difficulty": 4,
    "statement": "Na biurku leżą ponumerowane kartki w różnych kolorach: $3$ kartki czerwone z numerami od $1$ do $3$, $5$ kartek żółtych z numerami od $1$ do $5$, $6$ kartek niebieskich z numerami od $1$ do $6$ i $7$ kartek białych z numerami od $1$ do $7$. Na ile sposobów można wybrać cztery kartki tak, aby co najmniej dwie miały parzysty numer?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile w sumie mamy kartek i jak je policzyć?",
        "expression": "Łącznie: $3 + 5 + 6 + 7 = 21$ kartek",
        "explanation": "Sumujemy wszystkie kartki niezależnie od koloru"
      },
      {
        "step": 2,
        "hint": "Które kartki mają numery parzyste, a które nieparzyste?",
        "expression": "Parzyste: czerwone ($1$), żółte ($2$), niebieskie ($3$), białe ($3$) → razem $1 + 2 + 3 + 3 = 9$ kartek\nNieparzyste: czerwone ($2$), żółte ($3$), niebieskie ($3$), białe ($4$) → razem $2 + 3 + 3 + 4 = 12$ kartek",
        "explanation": "Rozdzielamy kartki według parzystości numerów",
        "why": "Czerwone: $2$ (parzysta), $1$, $3$ (nieparzyste). Żółte: $2$, $4$ (parzyste), $1$, $3$, $5$ (nieparzyste). Niebieskie: $2$, $4$, $6$ (parzyste), $1$, $3$, $5$ (nieparzyste). Białe: $2$, $4$, $6$ (parzyste), $1$, $3$, $5$, $7$ (nieparzyste)."
      },
      {
        "step": 3,
        "hint": "Czy łatwiej policzyć \"co najmniej dwie parzyste\" wprost, czy przez dopełnienie?",
        "expression": "Warunek \"co najmniej 2 parzyste\" = wszystkie możliwości MINUS \"0 parzystych\" MINUS \"1 parzysta\"",
        "explanation": "Używamy zasady dopełnienia",
        "why": "\"Co najmniej $2$\" oznacza: $2$, $3$ lub $4$ parzyste. Łatwiej odjąć przypadki z $0$ i $1$ parzystą niż liczyć trzy osobne przypadki."
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można wybrać dowolne $4$ kartki z $21$?",
        "expression": "$\\binom{21}{4} = \\frac{21!}{4! \\cdot 17!} = \\frac{21 \\cdot 20 \\cdot 19 \\cdot 18}{4 \\cdot 3 \\cdot 2 \\cdot 1} = \\frac{143640}{24} = 5985$",
        "explanation": "Wszystkie możliwe wybory $4$ kartek z $21$"
      },
      {
        "step": 5,
        "hint": "Ile jest sposobów wybrania $4$ kartek, gdy wszystkie mają numery nieparzyste?",
        "expression": "$\\binom{12}{4} = \\frac{12!}{4! \\cdot 8!} = \\frac{12 \\cdot 11 \\cdot 10 \\cdot 9}{24} = \\frac{11880}{24} = 495$",
        "explanation": "Wybieramy $4$ kartki spośród $12$ nieparzystych ($0$ parzystych)"
      },
      {
        "step": 6,
        "hint": "Jak wybrać dokładnie $1$ parzystą i $3$ nieparzyste?",
        "expression": "$\\binom{9}{1} \\cdot \\binom{12}{3} = 9 \\cdot \\frac{12 \\cdot 11 \\cdot 10}{6} = 9 \\cdot 220 = 1980$",
        "explanation": "Wybieramy $1$ z $9$ parzystych i $3$ z $12$ nieparzystych",
        "why": "Mnożymy, bo wybory są niezależne: najpierw wybieramy parzystą, potem nieparzyste. To reguła iloczynu w kombinatoryce."
      },
      {
        "step": 7,
        "hint": "Jak połączyć wszystkie obliczenia, żeby otrzymać odpowiedź?",
        "expression": "$5985 - 495 - 1980 = 3510$",
        "explanation": "Od wszystkich możliwości odejmujemy przypadki z $0$ i $1$ parzystą"
      }
    ],
    "solutions": [
      "$3510$"
    ],
    "parameters": {
      "method": "zasada dopełnienia"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:11:09.983Z"
  },
  {
    "id": "combinatorics_cards_example",
    "topic": "Kombinatoryka - kombinacje",
    "difficulty": 3,
    "statement": "Z talii $52$ kart losujemy cztery karty. Ile jest możliwych wyników losowania, jeśli wśród tych czterech kart mają być dwie damy i dwa asy?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność wylosowanych kart ma znaczenie w tym zadaniu?",
        "expression": "Losujemy $4$ karty bez zwracania, kolejność nie ma znaczenia - używamy kombinacji",
        "explanation": "To problem kombinatoryczny, ponieważ interesuje nas tylko skład wylosowanych kart",
        "why": "Gdyby kolejność miała znaczenie (np. pierwsza karta, druga karta...), używalibyśmy wariacji. Tu liczy się tylko to, KTÓRE karty wylosowaliśmy, nie W JAKIEJ kolejności."
      },
      {
        "step": 2,
        "hint": "Ile dam jest w standardowej talii kart?",
        "expression": "W talii jest $4$ damy (kier, karo, trefl, pik)",
        "explanation": "Identyfikujemy liczbę dostępnych dam"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów możesz wybrać $2$ damy spośród $4$ dostępnych?",
        "expression": "$\\binom{4}{2} = \\frac{4!}{2! \\cdot 2!} = \\frac{4 \\cdot 3}{2 \\cdot 1} = 6$",
        "explanation": "Obliczamy liczbę sposobów wyboru $2$ dam z $4$",
        "why": "Symbol $\\binom{n}{k}$ to liczba kombinacji - wybieramy $k$ elementów z $n$ bez względu na kolejność. Wzór: $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$"
      },
      {
        "step": 4,
        "hint": "Ile asów jest w talii i na ile sposobów wybierzesz $2$ z nich?",
        "expression": "$\\binom{4}{2} = \\frac{4!}{2! \\cdot 2!} = 6$",
        "explanation": "Analogicznie dla asów - też jest ich $4$ w talii"
      },
      {
        "step": 5,
        "hint": "Czy wybór dam i asów to zdarzenia niezależne? Jak je połączyć?",
        "expression": "$\\binom{4}{2} \\cdot \\binom{4}{2} = 6 \\cdot 6 = 36$",
        "explanation": "Mnożymy liczbę sposobów, bo wybory są niezależne",
        "why": "Zasada mnożenia: jeśli pierwsze zdarzenie może zajść na $m$ sposobów, a drugie na $n$ sposobów, to oba razem mogą zajść na $m \\cdot n$ sposobów. Każdy wybór $2$ dam można połączyć z każdym wyborem $2$ asów."
      }
    ],
    "solutions": [
      "$36$"
    ],
    "parameters": {
      "context": "Standardowa talia $52$ kart ($4$ kolory $\\times 13$ wartości)"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:11:32.902Z"
  },
  {
    "id": "combinatorics_cards_example",
    "topic": "Kombinatoryka - kombinacje",
    "difficulty": 3,
    "statement": "Z talii $52$ kart losujemy cztery karty. Ile jest możliwych wyników losowania, jeśli wśród tych czterech kart mają być trzy karty młodsze od dziewiątki i jeden król?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie karty w talii są młodsze od dziewiątki?",
        "expression": "Karty młodsze od dziewiątki to: $2$, $3$, $4$, $5$, $6$, $7$, $8$ - czyli $7$ wartości w każdym z $4$ kolorów",
        "explanation": "Ustalamy, które karty spełniają warunek 'młodsze od dziewiątki'"
      },
      {
        "step": 2,
        "hint": "Ile łącznie jest kart młodszych od dziewiątki w całej talii?",
        "expression": "$7 \\cdot 4 = 28$ kart",
        "explanation": "Mnożymy liczbę wartości przez liczbę kolorów"
      },
      {
        "step": 3,
        "hint": "Ile jest króli w standardowej talii kart?",
        "expression": "$4$ króli (po jednym w każdym kolorze)",
        "explanation": "Każdy kolor ma dokładnie jednego króla"
      },
      {
        "step": 4,
        "hint": "Czy kolejność wybierania kart ma znaczenie w tym zadaniu?",
        "expression": "Używamy kombinacji, bo kolejność nie ma znaczenia",
        "explanation": "Liczy się tylko to, które karty wylosujemy, nie w jakiej kolejności",
        "why": "Gdyby kolejność miała znaczenie (np. 'pierwsza karta to król'), użylibyśmy wariacji. Tu interesuje nas tylko zestaw czterech kart."
      },
      {
        "step": 5,
        "hint": "Na ile sposobów możesz wybrać $3$ karty spośród $28$ młodszych kart?",
        "expression": "$\\binom{28}{3} = \\frac{28!}{3! \\cdot 25!} = \\frac{28 \\cdot 27 \\cdot 26}{3 \\cdot 2 \\cdot 1} = \\frac{19656}{6} = 3276$",
        "explanation": "Obliczamy liczbę kombinacji $3$ z $28$"
      },
      {
        "step": 6,
        "hint": "Na ile sposobów możesz wybrać $1$ króla spośród $4$ dostępnych?",
        "expression": "$\\binom{4}{1} = 4$",
        "explanation": "Wybieramy jednego króla z czterech możliwych"
      },
      {
        "step": 7,
        "hint": "Czy wybory młodszych kart i króla są od siebie zależne?",
        "expression": "$3276 \\cdot 4 = 13104$",
        "explanation": "Mnożymy liczby możliwości, bo wybory są niezależne",
        "why": "Zasada mnożenia: gdy mamy dwa niezależne wybory, całkowitą liczbę możliwości otrzymujemy przez ich pomnożenie. Każdy wybór $3$ młodszych kart może być połączony z każdym wyborem króla."
      }
    ],
    "solutions": [
      "$13104$"
    ],
    "parameters": {
      "cards_less_than_9": 28,
      "kings": 4,
      "cards_to_draw": 4
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:11:51.212Z"
  },
  {
    "id": "combinatorics_cards_figures",
    "topic": "Kombinatoryka - kombinacje",
    "difficulty": 3,
    "statement": "Z talii $52$ kart losujemy cztery karty. Ile jest możliwych wyników losowania, jeśli wśród tych czterech kart mają być trzy figury (figury to: as, dama, król i walet) i jedna karta nie będąca figurą?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile figur jest w standardowej talii kart?",
        "expression": "W talii jest $4 \\cdot 4 = 16$ figur (4 kolory × 4 rodzaje: as, król, dama, walet)",
        "explanation": "Ustalamy liczbę figur dostępnych do wyboru"
      },
      {
        "step": 2,
        "hint": "Ile kart nie jest figurami?",
        "expression": "$52 - 16 = 36$ kart nie jest figurami",
        "explanation": "Obliczamy liczbę kart, które nie są figurami"
      },
      {
        "step": 3,
        "hint": "Czy kolejność wybieranych kart ma znaczenie w tym losowaniu?",
        "expression": "Używamy kombinacji, bo kolejność nie ma znaczenia: $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$",
        "explanation": "Losujemy zbiór kart, nie ciąg kart",
        "why": "Gdy kolejność nie ma znaczenia, używamy kombinacji $\\binom{n}{k}$. Gdyby miała (np. rozdawanie po kolei), użylibyśmy wariacji. Tutaj $\\{$As♠, Król♥, Dama♦, 5♣$\\} = \\{$5♣, As♠, Dama♦, Król♥$\\}$."
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można wybrać $3$ figury spośród $16$?",
        "expression": "$\\binom{16}{3} = \\frac{16!}{3! \\cdot 13!} = \\frac{16 \\cdot 15 \\cdot 14}{3 \\cdot 2 \\cdot 1} = \\frac{3360}{6} = 560$",
        "explanation": "Obliczamy liczbę sposobów wyboru trzech figur"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można wybrać 1 kartę nie będącą figurą spośród $36$?",
        "expression": "$\\binom{36}{1} = 36$",
        "explanation": "Obliczamy liczbę sposobów wyboru jednej karty spośród nie-figur"
      },
      {
        "step": 6,
        "hint": "Jak połączyć wybór figur z wyborem nie-figury?",
        "expression": "$560 \\cdot 36 = 20160$",
        "explanation": "Mnożymy liczbę sposobów, bo wybory są niezależne",
        "why": "Zasada mnożenia: dla każdego z $560$ sposobów wyboru figur mamy $36$ możliwości wyboru nie-figury. Gdyby były to zdarzenia wykluczające się (albo-albo), dodawalibyśmy."
      }
    ],
    "solutions": [
      "$20160$"
    ],
    "parameters": {
      "total_cards": 52,
      "figures": 16,
      "non_figures": 36,
      "cards_to_draw": 4,
      "figures_to_draw": 3,
      "non_figures_to_draw": 1
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:12:07.775Z"
  },
  {
    "id": "combinatorics_cards_three_hearts",
    "topic": "Kombinatoryka - kombinacje",
    "difficulty": 3,
    "statement": "Z talii $52$ kart losujemy cztery karty. Ile jest możliwych wyników losowania, jeśli wśród nich mają być trzy kiery?",
    "steps": [
      {
        "step": 1,
        "hint": "Na ile niezależnych części możesz podzielić to losowanie?",
        "expression": "Losowanie dzielimy na dwie części: wybór $3$ kierów oraz wybór $1$ karty spoza kierów",
        "explanation": "Musimy wybrać dokładnie $3$ kiery i dokładnie $1$ kartę, która nie jest kierem",
        "why": "W kombinatoryce złożone problemy rozbijamy na prostsze części. Tutaj warunek 'trzy kiery' wymusza podział: $3$ kiery + $1$ nie-kier. Częsty błąd: próba liczenia wszystkich $4$ kart naraz."
      },
      {
        "step": 2,
        "hint": "Ile kierów jest w talii i czy kolejność ich wyboru ma znaczenie?",
        "expression": "Liczba sposobów wyboru 3 kierów z 13: $\\binom{13}{3}$",
        "explanation": "W talii jest $13$ kierów, wybieramy $3$ bez znaczenia kolejności",
        "why": "Używamy kombinacji $\\binom{n}{k}$, bo kolejność nie ma znaczenia - zestaw {$As♥$, $2♥$, $3♥$} to to samo co {$3♥$, $As♥$, $2♥$}. Gdyby kolejność miała znaczenie, użylibyśmy wariacji."
      },
      {
        "step": 3,
        "hint": "Ile kart nie jest kierami i ile z nich wybieramy?",
        "expression": "Liczba sposobów wyboru $1$ karty spoza kierów: $\\binom{39}{1}$",
        "explanation": "Kart nie będących kierami jest $52 - 13 = 39$, wybieramy z nich $1$",
        "why": "W talii są 4 kolory po 13 kart, więc nie-kiery to $3 \\times 13 = 39$ kart."
      },
      {
        "step": 4,
        "hint": "Jak połączyć liczbę sposobów z obu niezależnych wyborów?",
        "expression": "Całkowita liczba możliwości: $\\binom{13}{3} \\cdot \\binom{39}{1}$",
        "explanation": "Mnożymy liczby możliwości, bo wybory są niezależne",
        "why": "Reguła mnożenia: jeśli mamy $m$ sposobów na pierwszą czynność i $n$ na drugą, to łącznie $m \\cdot n$ sposobów. Każdy wybór $3$ kierów można połączyć z każdym wyborem $1$ nie-kiera."
      },
      {
        "step": 5,
        "hint": "Jak obliczyć $\\binom{13}{3}$ używając wzoru?",
        "expression": "$\\binom{13}{3} = \\frac{13!}{3! \\cdot 10!} = \\frac{13 \\cdot 12 \\cdot 11}{3 \\cdot 2 \\cdot 1} = \\frac{1716}{6} = 286$",
        "explanation": "Obliczamy liczbę kombinacji $3$ z $13$"
      },
      {
        "step": 6,
        "hint": "Ile wynosi $\\binom{39}{1}$?",
        "expression": "$\\binom{39}{1} = 39$",
        "explanation": "Wybór $1$ elementu z $39$ to po prostu $39$ możliwości"
      },
      {
        "step": 7,
        "hint": "Jaki jest końcowy wynik mnożenia?",
        "expression": "$286 \\cdot 39 = 11154$",
        "explanation": "Mnożymy obie liczby, aby otrzymać ostateczną odpowiedź"
      }
    ],
    "solutions": [
      "$11154$"
    ],
    "parameters": {
      "context": "Talia $52$ kart, $13$ kierów, $39$ nie-kierów"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T09:12:37.099Z"
  },
  {
    "id": "combinatorics_cards_complement",
    "topic": "Kombinatoryka - zasada dopełnienia",
    "difficulty": 4,
    "statement": "Z talii $52$ kart losujemy cztery karty. Ile jest możliwych wyników losowania, jeśli wśród nich mają być co najwyżej trzy kiery?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza 'co najwyżej trzy kiery' - ile dokładnie kierów może być?",
        "expression": "Co najwyżej $3$ kiery = $0$ lub $1$ lub $2$ lub $3$ kiery",
        "explanation": "Rozbijamy warunek na możliwe przypadki"
      },
      {
        "step": 2,
        "hint": "Czy łatwiej policzyć wszystkie dobre przypadki, czy może te złe?",
        "expression": "Użyjemy zasady dopełnienia: wszystkie sposoby - sposoby z $4$ kierami",
        "explanation": "Zamiast sumować $4$ przypadki, odejmiemy $1$ zły przypadek",
        "why": "Zasada dopełnienia: gdy łatwiej policzyć przypadki 'złe' niż 'dobre'. Tu: $1$ zły przypadek ($4$ kiery) vs $4$ dobre ($0,1,2,3$ kiery). Typowy błąd: próba sumowania wszystkich przypadków prowadzi do długich obliczeń."
      },
      {
        "step": 3,
        "hint": "Czy kolejność wylosowanych kart ma znaczenie?",
        "expression": "Losujemy bez zwracania, kolejność nie ma znaczenia → kombinacje",
        "explanation": "Używamy symbolu Newtona $\\binom{n}{k}$"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można wybrać dowolne $4$ karty z $52$?",
        "expression": "$\\binom{52}{4} = \\frac{52!}{4! \\cdot 48!} = \\frac{52 \\cdot 51 \\cdot 50 \\cdot 49}{4 \\cdot 3 \\cdot 2 \\cdot 1} = \\frac{6497400}{24} = 270725$",
        "explanation": "Wszystkie możliwe sposoby wylosowania $4$ kart"
      },
      {
        "step": 5,
        "hint": "Ile kierów jest w talii i jak wybrać z nich wszystkie $4$ karty?",
        "expression": "$\\binom{13}{4} = \\frac{13!}{4! \\cdot 9!} = \\frac{13 \\cdot 12 \\cdot 11 \\cdot 10}{24} = \\frac{17160}{24} = 715$",
        "explanation": "Sposoby wylosowania dokładnie 4 kierów (przypadek 'zły')",
        "why": "W talii jest $13$ kart każdego koloru. Wybieramy wszystkie $4$ karty spośród $13$ kierów - to jedyny przypadek, którego nie chcemy."
      },
      {
        "step": 6,
        "hint": "Jak otrzymać liczbę dobrych wyników używając zasady dopełnienia?",
        "expression": "$270725 - 715 = 270010$",
        "explanation": "Odejmujemy przypadki z $4$ kierami od wszystkich możliwych"
      }
    ],
    "solutions": [
      "$270010$"
    ],
    "parameters": {
      "method": "Zasada dopełnienia"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:12:54.512Z"
  },
  {
    "id": "combinatorics_cards_example",
    "topic": "Kombinatoryka - wybór z podziałem na grupy",
    "difficulty": 3,
    "statement": "Z talii $52$ kart losujemy cztery karty. Ile jest możliwych wyników losowania, jeśli wśród nich mają być dwa kiery, jeden pik i jeden trefl?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile kart każdego koloru jest w standardowej talii?",
        "expression": "W talii jest $13$ kierów, $13$ pików i $13$ trefli",
        "explanation": "Identyfikujemy dostępne karty dla każdego koloru"
      },
      {
        "step": 2,
        "hint": "Czy kolejność wybieranych kart ma znaczenie w tym zadaniu?",
        "expression": "Używamy kombinacji (bez powtórzeń), bo kolejność nie ma znaczenia",
        "explanation": "Liczy się tylko to, które karty wylosujemy, nie w jakiej kolejności",
        "why": "Gdyby kolejność miała znaczenie (np. 'pierwsza karta to kier'), użylibyśmy wariacji. Tu wybieramy zbiór $4$ kart, więc kombinacje."
      },
      {
        "step": 3,
        "hint": "Jak obliczyć liczbę sposobów wyboru dwóch kierów z trzynastu?",
        "expression": "Liczba sposobów wyboru $2$ kierów: $\\binom{13}{2} = \\frac{13!}{2! \\cdot 11!} = \\frac{13 \\cdot 12}{2} = 78$",
        "explanation": "Wybieramy $2$ kiery z $13$ dostępnych"
      },
      {
        "step": 4,
        "hint": "Ile jest sposobów wyboru jednego pika? A jednego trefla?",
        "expression": "Liczba sposobów wyboru 1 pika: $\\binom{13}{1} = 13$\n\nLiczba sposobów wyboru 1 trefla: $\\binom{13}{1} = 13$",
        "explanation": "Dla każdego koloru osobno liczymy możliwości"
      },
      {
        "step": 5,
        "hint": "Czy wybory z różnych kolorów są od siebie zależne?",
        "expression": "Całkowita liczba wyników: $78 \\cdot 13 \\cdot 13 = 13\\,182$",
        "explanation": "Mnożymy liczby możliwości, bo wybory są niezależne",
        "why": "Zasada mnożenia: gdy mamy kilka niezależnych wyborów, mnożymy ich liczności. Każdy wybór kierów można połączyć z każdym pikiem i każdym treflem."
      }
    ],
    "solutions": [
      "$13\\,182$"
    ],
    "parameters": {
      "cards_total": 52,
      "hearts_needed": 2,
      "spades_needed": 1,
      "clubs_needed": 1
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:13:14.576Z"
  },
  {
    "id": "combinatorics_cards_aces_queens",
    "topic": "Kombinatoryka - rozmieszczanie kart",
    "difficulty": 4,
    "statement": "Każdemu z czterech graczy należy przydzielić $13$ kart z talii $52$-kartowej. Na ile sposobów można to zrobić, tak aby gracze $A$ i $B$ otrzymali po $2$ asy, a gracze $C$ i $D$ po $2$ damy?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy rozdanie asów i dam zależy od rozdania pozostałych kart?",
        "expression": "Rozdzielamy problem na niezależne etapy: rozdanie asów, rozdanie dam, rozdanie pozostałych kart",
        "explanation": "Dzielimy zadanie na prostsze części, które możemy rozwiązać osobno",
        "why": "W kombinatoryce złożone problemy rozbijamy na niezależne etapy, a wyniki mnożymy (reguła iloczynu). Tutaj: $asy$ → $damy$ → reszta kart."
      },
      {
        "step": 2,
        "hint": "Na ile sposobów możesz wybrać $2$ asy z $4$ dla gracza $A$?",
        "expression": "Gracz A dostaje 2 asy z 4: $\\binom{4}{2}$ sposobów",
        "explanation": "Wybieramy $2$ asy z $4$ dostępnych dla pierwszego gracza"
      },
      {
        "step": 3,
        "hint": "Ile asów zostało dla gracza B po wyborze dla gracza A?",
        "expression": "Gracz B dostaje 2 asy z pozostałych 2: $\\binom{2}{2} = 1$ sposób",
        "explanation": "Po przydzieleniu $2$ asów graczowi $A$, zostały tylko $2$ asy dla gracza $B$"
      },
      {
        "step": 4,
        "hint": "Ile sposobów jest na rozdanie wszystkich asów?",
        "expression": "Liczba sposobów rozdania asów: $\\binom{4}{2} \\cdot \\binom{2}{2} = 6 \\cdot 1 = 6$",
        "explanation": "Mnożymy liczbę sposobów dla obu graczy"
      },
      {
        "step": 5,
        "hint": "Czy rozdanie dam przebiega analogicznie do asów?",
        "expression": "Liczba sposobów rozdania dam: $\\binom{4}{2} \\cdot \\binom{2}{2} = 6 \\cdot 1 = 6$",
        "explanation": "Identyczny proces dla $4$ dam między graczy $C$ i $D$"
      },
      {
        "step": 6,
        "hint": "Ile kart pozostało do rozdania i ilu graczom?",
        "expression": "Pozostało $52 - 4 - 4 = 44$ karty do rozdania",
        "explanation": "Po rozdaniu 4 asów i 4 dam zostaje $44$ karty",
        "why": "Każdy gracz potrzebuje $13$ kart. A i B mają już po $2$, C i D też po $2$. Więc A i B potrzebują jeszcze po $11$, C i D po $11$. Razem: $4 \\times 11 = 44$ karty."
      },
      {
        "step": 7,
        "hint": "W jakiej kolejności rozdajemy pozostałe karty graczom?",
        "expression": "Gracz A: wybiera $11$ z $44$ kart: $\\binom{44}{11}$",
        "explanation": "Gracz A musi dostać jeszcze $11$ kart (ma już $2$ asy)"
      },
      {
        "step": 8,
        "hint": "Ile kart zostało dla gracza B po wyborze dla A?",
        "expression": "Gracz B: wybiera 11 z 33 kart: $\\binom{33}{11}$",
        "explanation": "Po przydzieleniu $11$ kart graczowi $A$, zostało $33$ karty"
      },
      {
        "step": 9,
        "hint": "Kontynuując ten schemat, ile kart dostanie gracz C?",
        "expression": "Gracz C: wybiera 11 z 22 kart: $\\binom{22}{11}$",
        "explanation": "Po przydzieleniu kart $A$ i $B$, zostało $22$ karty"
      },
      {
        "step": 10,
        "hint": "Czy gracz D ma wybór, jeśli zostało dokładnie $11$ kart?",
        "expression": "Gracz D: dostaje ostatnie $11$ kart: $\\binom{11}{11} = 1$",
        "explanation": "Ostatni gracz dostaje wszystkie pozostałe karty"
      },
      {
        "step": 11,
        "hint": "Jak połączyć wszystkie etapy w jeden wynik?",
        "expression": "Całkowita liczba sposobów: $6 \\cdot 6 \\cdot \\binom{44}{11} \\cdot \\binom{33}{11} \\cdot \\binom{22}{11} \\cdot 1$",
        "explanation": "Mnożymy liczby sposobów ze wszystkich niezależnych etapów"
      },
      {
        "step": 12,
        "hint": "Czy możesz uprościć ten iloczyn symboli Newtona?",
        "expression": "$36 \\cdot \\binom{44}{11} \\cdot \\binom{33}{11} \\cdot \\binom{22}{11}$",
        "explanation": "Upraszczamy: $6 \\cdot 6 = 36$ oraz $\\binom{11}{11} = 1$"
      }
    ],
    "solutions": [
      "$36 \\cdot \\binom{44}{11} \\cdot \\binom{33}{11} \\cdot \\binom{22}{11}$"
    ],
    "parameters": {
      "note": "Wynik można też zapisać jako $36 \\cdot \\frac{44!}{11! \\cdot 33!} \\cdot \\frac{33!}{11! \\cdot 22!} \\cdot \\frac{22!}{11! \\cdot 11!} = 36 \\cdot \\frac{44!}{(11!)^4}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:13:44.588Z"
  },
  {
    "id": "combinatorics_groups_abc",
    "topic": "Kombinatoryka - podział na grupy z warunkami",
    "difficulty": 4,
    "statement": "Grupę $12$ drużyn sportowych, wśród których są drużyny $A$, $B$, $C$, dzielimy na trzy równe podgrupy w taki sposób, że każda z drużyn $A$, $B$, $C$ znajduje się w innej podgrupie. Ile jest sposobów takiego podziału?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile drużyn będzie w każdej podgrupie?",
        "expression": "$12 : 3 = 4$ drużyny w każdej podgrupie",
        "explanation": "Dzielimy $12$ drużyn równo na $3$ podgrupy"
      },
      {
        "step": 2,
        "hint": "Czy możemy najpierw rozdzielić drużyny $A$, $B$, $C$, a potem resztę?",
        "expression": "Umieszczamy $A$ w pierwszej podgrupie, $B$ w drugiej, $C$ w trzeciej",
        "explanation": "Ustalamy pozycje drużyn $A$, $B$, $C$ - każda w innej podgrupie",
        "why": "To kluczowy warunek zadania. Możemy bez straty ogólności ustalić, że $A$ jest w grupie $1$, $B$ w grupie $2$, $C$ w grupie $3$ (później uwzględnimy wszystkie możliwości). Alternatywnie: moglibyśmy najpierw wybrać, która drużyna do której grupy ($3! = 6$ sposobów)."
      },
      {
        "step": 3,
        "hint": "Ile pozostało drużyn do rozdzielenia i ile miejsc w każdej podgrupie?",
        "expression": "$12 - 3 = 9$ pozostałych drużyn, po $4 - 1 = 3$ miejsca w każdej podgrupie",
        "explanation": "Po umieszczeniu $A$, $B$, $C$ zostaje $9$ drużyn i po $3$ wolne miejsca w każdej grupie"
      },
      {
        "step": 4,
        "hint": "Jak wybrać $3$ drużyny z $9$ do pierwszej podgrupy?",
        "expression": "$\\binom{9}{3}$ sposobów wyboru do pierwszej podgrupy",
        "explanation": "Wybieramy $3$ drużyny z $9$ pozostałych do grupy z drużyną $A$"
      },
      {
        "step": 5,
        "hint": "Po wyborze do pierwszej grupy, ile drużyn zostaje i ile trzeba wybrać do drugiej?",
        "expression": "$\\binom{6}{3}$ sposobów wyboru do drugiej podgrupy",
        "explanation": "Z pozostałych 6 drużyn wybieramy $3$ do grupy z drużyną $B$"
      },
      {
        "step": 6,
        "hint": "Co dzieje się z ostatnimi trzema drużynami?",
        "expression": "$\\binom{3}{3} = 1$ sposób - ostatnie 3 drużyny trafiają do trzeciej podgrupy",
        "explanation": "Pozostałe $3$ drużyny automatycznie trafiają do grupy z drużyną $C$"
      },
      {
        "step": 7,
        "hint": "Jak połączyć wszystkie wybory w jeden wynik?",
        "expression": "$\\binom{9}{3} \\cdot \\binom{6}{3} \\cdot \\binom{3}{3} = \\frac{9!}{3! \\cdot 6!} \\cdot \\frac{6!}{3! \\cdot 3!} \\cdot 1$",
        "explanation": "Mnożymy liczbę sposobów dla każdego etapu wyboru",
        "why": "Stosujemy regułę mnożenia: jeśli operacje wykonujemy kolejno i niezależnie, to mnożymy liczby możliwości. Wzór $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$ liczy kombinacje bez powtórzeń."
      },
      {
        "step": 8,
        "hint": "Jak uprościć ten iloczyn symboli Newtona?",
        "expression": "$\\frac{9!}{3! \\cdot 6!} \\cdot \\frac{6!}{3! \\cdot 3!} \\cdot 1 = \\frac{9!}{3! \\cdot 3! \\cdot 3!}$",
        "explanation": "Silnie $6!$ się skracają, zostaje $9!$ w liczniku i trzy $3!$ w mianowniku"
      },
      {
        "step": 9,
        "hint": "Jakie wartości mają te silnie?",
        "expression": "$\\frac{9!}{(3!)^3} = \\frac{362880}{6^3} = \\frac{362880}{216} = 1680$",
        "explanation": "$9! = 362880$, $3! = 6$, więc $(3!)^3 = 216$"
      }
    ],
    "solutions": [
      "$1680$"
    ],
    "parameters": {
      "total_teams": 12,
      "groups": 3,
      "special_teams": "$A$, $B$, $C$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:14:15.222Z"
  },
  {
    "id": "chess_tournament_combinatorics",
    "topic": "Kombinatoryka - liczba par",
    "difficulty": 4,
    "statement": "W turnieju szachowym startowało $10$ zawodników. W pierwszej fazie każdy z zawodników rozegrał po $2$ partie z każdym z pozostałych, po czym pewna liczba zawodników musiała wyjechać na zgrupowanie kadry i w drugiej fazie każdy z pozostałych rozegrał z każdym po $1$ partii. Ilu uczestników wyjechało na zgrupowanie kadry, jeśli w obu fazach turnieju rozegrano łącznie $111$ partii?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile par zawodników można utworzyć z $10$ osób?",
        "expression": "Liczba par z 10 zawodników: $\\binom{10}{2} = \\frac{10 \\cdot 9}{2} = 45$",
        "explanation": "Każda para zawodników to jedno połączenie między dwoma osobami",
        "why": "Wzór $\\binom{n}{2} = \\frac{n(n-1)}{2}$ liczy wszystkie możliwe pary z $n$ osób. Dzielimy przez $2$, bo para $(A,B)$ to to samo co $(B,A)$. To podstawa do liczenia partii w turniejach."
      },
      {
        "step": 2,
        "hint": "Skoro każda para grała dwie partie, ile partii rozegrano w fazie $1$?",
        "expression": "Liczba partii w fazie 1: $2 \\cdot 45 = 90$",
        "explanation": "Każda z $45$ par rozegrała po $2$ partie"
      },
      {
        "step": 3,
        "hint": "Ile partii pozostało na fazę 2?",
        "expression": "Liczba partii w fazie 2: $111 - 90 = 21$",
        "explanation": "Od łącznej liczby partii odejmujemy partie z fazy $1$"
      },
      {
        "step": 4,
        "hint": "Jeśli $x$ zawodników wyjechało, ilu zostało?",
        "expression": "Niech $x$ = liczba zawodników, którzy wyjechali. Zostało: $10 - x$ zawodników",
        "explanation": "Oznaczamy niewiadomą $i$ wyrażamy liczbę pozostałych"
      },
      {
        "step": 5,
        "hint": "Ile par można utworzyć z pozostałych zawodników?",
        "expression": "Liczba par z pozostałych: $\\binom{10-x}{2} = \\frac{(10-x)(10-x-1)}{2} = \\frac{(10-x)(9-x)}{2}$",
        "explanation": "W fazie 2 każda para grała jedną partię, więc liczba par = $\\text{liczbie partii}$"
      },
      {
        "step": 6,
        "hint": "Jak połączyć liczbę par z liczbą partii w fazie 2?",
        "expression": "$\\frac{(10-x)(9-x)}{2} = 21$",
        "explanation": "Liczba par w fazie 2 musi równać się $21$ partiom",
        "why": "W fazie 2 każda para grała dokładnie jedną partię, więc liczba partii = liczbie par. To kluczowe równanie do rozwiązania problemu.\n\n(Note: No mathematical expressions were found that require LaTeX dollar formatting.)"
      },
      {
        "step": 7,
        "hint": "Co otrzymasz mnożąc obie strony przez $2$?",
        "expression": "$(10-x)(9-x) = 42$",
        "explanation": "Mnożymy przez $2$, aby pozbyć się ułamka"
      },
      {
        "step": 8,
        "hint": "Jak rozwinąć ten iloczyn?",
        "expression": "$90 - 10x - 9x + x^2 = 42$",
        "explanation": "Rozwijamy nawias używając wzoru $(a-b)(c-d)$"
      },
      {
        "step": 9,
        "hint": "Jak uporządkować to równanie do postaci standardowej?",
        "expression": "$x^2 - 19x + 90 = 42$",
        "explanation": "Łączymy wyrazy podobne"
      },
      {
        "step": 10,
        "hint": "Co trzeba zrobić, aby otrzymać równanie kwadratowe w postaci ogólnej?",
        "expression": "$x^2 - 19x + 48 = 0$",
        "explanation": "Przenosimy $42$ na lewą stronę"
      },
      {
        "step": 11,
        "hint": "Jakie liczby w sumie dają $-19$, a w iloczynie $48$?",
        "expression": "$x^2 - 19x + 48 = (x - 3)(x - 16) = 0$",
        "explanation": "Rozkładamy na czynniki: $-3 + (-16) = -19$ i $(-3) \\cdot (-16) = 48$",
        "why": "Szukamy dwóch liczb, które dodane dają $b = -19$, a pomnożone dają $c = 48$. To szybsza metoda niż delta dla równań z całkowitymi pierwiastkami."
      },
      {
        "step": 12,
        "hint": "Jakie wartości $x$ spełniają to równanie?",
        "expression": "$x = 3$ lub $x = 16$",
        "explanation": "Iloczyn równy zero, gdy któryś czynnik jest zerem"
      },
      {
        "step": 13,
        "hint": "Które rozwiązanie ma sens w kontekście zadania?",
        "expression": "$x = 3$ (bo $x = 16 > 10$ jest niemożliwe)",
        "explanation": "Nie może wyjechać więcej zawodników niż startowało",
        "why": "Zawsze sprawdzaj sensowność rozwiązań! Tutaj $x \\leq 10$ (nie może wyjechać więcej niż było) i $x < 10$ (ktoś musiał zostać na fazę 2)."
      }
    ],
    "solutions": [
      "3 zawodników wyjechało na zgrupowanie"
    ],
    "parameters": {
      "verification": "Sprawdzenie: zostało $7$ zawodników, $\\binom{7}{2} = 21$ partii w fazie 2, razem $90 + 21 = 111$ ✓"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 13,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T09:14:56.575Z"
  },
  {
    "id": "functions_counting",
    "topic": "Liczba funkcji między zbiorami",
    "difficulty": 2,
    "statement": "Zbiór $A$ ma $4$ liczby, a zbiór $B$ - $9$ liczb. Ile jest funkcji odwzorowujących zbiór $A$ w zbiór $B$ dowolnych?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza, że funkcja odwzorowuje zbiór $A$ w zbiór $B$?",
        "expression": "Funkcja $f: A \\to B$ przyporządkowuje każdemu elementowi ze zbioru $A$ dokładnie jeden element ze zbioru $B$",
        "explanation": "Każdy element z $A$ musi mieć swój obraz w $B$",
        "why": "To definicja funkcji - każdy element dziedziny ma dokładnie jeden obraz. Uwaga: element z $B$ może być obrazem wielu elementów z $A$ lub żadnego!"
      },
      {
        "step": 2,
        "hint": "Ile możliwości wyboru ma pierwszy element ze zbioru $A$?",
        "expression": "Dla pierwszego elementu z $A$ mamy $9$ możliwości wyboru obrazu w $B$",
        "explanation": "Możemy przypisać mu dowolny z $9$ elementów zbioru $B$"
      },
      {
        "step": 3,
        "hint": "Czy wybór obrazu dla drugiego elementu zależy od pierwszego?",
        "expression": "Dla drugiego elementu z $A$ również mamy $9$ możliwości",
        "explanation": "Wybory są niezależne - każdy element może mieć dowolny obraz",
        "why": "W funkcjach różne elementy mogą mieć ten sam obraz! To nie jest różnowartościowość. Gdyby było 'na', musielibyśmy używać $9 \\cdot 8 \\cdot 7 \\cdot 6$."
      },
      {
        "step": 4,
        "hint": "Jak połączyć liczbę wyborów dla wszystkich czterech elementów?",
        "expression": "$9 \\cdot 9 \\cdot 9 \\cdot 9 = 9^4$",
        "explanation": "Mnożymy liczbę możliwości dla każdego elementu (reguła mnożenia)"
      },
      {
        "step": 5,
        "hint": "Ile wynosi $9^4$?",
        "expression": "$9^4 = 6561$",
        "explanation": "Obliczamy potęgę"
      }
    ],
    "solutions": [
      "$6561$"
    ],
    "parameters": {
      "set_A_size": 4,
      "set_B_size": 9
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:15:10.502Z"
  },
  {
    "id": "injective_functions_count",
    "topic": "Funkcje różnowartościowe - kombinatoryka",
    "difficulty": 3,
    "statement": "Zbiór $A$ ma 4 liczby, a zbiór $B$ - 9 liczb. Ile jest funkcji odwzorowujących zbiór $A$ w zbiór $B$ różnowartościowych?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza, że funkcja jest różnowartościowa?",
        "expression": "Funkcja różnowartościowa (injekcja): różnym elementom z $A$ odpowiadają różne elementy w $B$",
        "explanation": "Żadne dwa elementy z dziedziny nie mogą mieć tego samego obrazu",
        "why": "To kluczowa różnica! Dla funkcji zwykłej mielibyśmy $9^4$ możliwości. Dla różnowartościowej: każdy element z $A$ musi mieć unikalny obraz w $B$."
      },
      {
        "step": 2,
        "hint": "Ile wyborów masz dla obrazu pierwszego elementu z $A$?",
        "expression": "Dla pierwszego elementu z $A$: $9$ możliwości w $B$",
        "explanation": "Możemy wybrać dowolny element ze zbioru $B$"
      },
      {
        "step": 3,
        "hint": "Skoro pierwszy element zajął jedno miejsce w $B$, ile zostało dla drugiego?",
        "expression": "Dla drugiego elementu z $A$: $8$ możliwości w $B$",
        "explanation": "Musi być inny niż pierwszy, więc zostaje $8$ elementów"
      },
      {
        "step": 4,
        "hint": "Widzisz już schemat? Co z trzecim i czwartym elementem?",
        "expression": "Dla trzeciego elementu z $A$: $7$ możliwości, dla czwartego: $6$ możliwości",
        "explanation": "Każdy kolejny element ma o jedną możliwość mniej"
      },
      {
        "step": 5,
        "hint": "Jak połączyć te wszystkie wybory w jedną liczbę?",
        "expression": "$9 \\cdot 8 \\cdot 7 \\cdot 6 = 3024$",
        "explanation": "Mnożymy liczbę możliwości dla każdego elementu (reguła mnożenia)",
        "why": "To wariacja bez powtórzeń: $V_9^4 = \\frac{9!}{(9-4)!} = \\frac{9!}{5!}$. Alternatywnie można zapisać jako $\\frac{9!}{5!}$, ale bezpośrednie mnożenie jest prostsze."
      }
    ],
    "solutions": [
      "$3024$"
    ],
    "parameters": {
      "set_A_size": 4,
      "set_B_size": 9,
      "formula": "$V_9^4 = 9 \\cdot 8 \\cdot 7 \\cdot 6$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:15:26.947Z"
  },
  {
    "id": "increasing_functions_combinatorics",
    "topic": "Funkcje rosnące - kombinatoryka",
    "difficulty": 4,
    "statement": "Zbiór $A$ ma $4$ liczby, a zbiór $B$ - $9$ liczb. Ile jest funkcji odwzorowujących zbiór $A$ w zbiór $B$ rosnących?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza, że funkcja jest rosnąca dla elementów ze zbioru $A$?",
        "expression": "Jeśli $a_1 < a_2 < a_3 < a_4$ to elementy zbioru $A$, to $f(a_1) < f(a_2) < f(a_3) < f(a_4)$",
        "explanation": "Funkcja rosnąca zachowuje porządek elementów",
        "why": "Kluczowe: funkcja rosnąca to różnowartościowość + zachowanie porządku. Każdy element $A$ musi mieć inny obraz w $B$, i te obrazy muszą być uporządkowane rosnąco."
      },
      {
        "step": 2,
        "hint": "Ile różnych wartości musi przyjąć funkcja rosnąca dla $4$ elementów?",
        "expression": "Funkcja musi przypisać $4$ różne wartości ze zbioru $B$",
        "explanation": "Z definicji funkcji rosnącej: $f(a_1) < f(a_2) < f(a_3) < f(a_4)$ - wszystkie różne"
      },
      {
        "step": 3,
        "hint": "Czy wybór $4$ liczb ze zbioru $B$ jednoznacznie określa funkcję rosnącą?",
        "expression": "Wybieramy $4$-elementowy podzbiór ze zbioru $9$-elementowego",
        "explanation": "Po wyborze 4 liczb z $B$, porządek jest już ustalony - najmniejsza dla $a_1$, największa dla $a_4$",
        "why": "To jest sedno problemu! Gdy wybierzemy np. {2, 5, 7, 8} z $B$, funkcja rosnąca jest już określona: $f(a_1)=2$, $f(a_2)=5$, $f(a_3)=7$, $f(a_4)=8$. Nie ma wyboru kolejności!"
      },
      {
        "step": 4,
        "hint": "Jaki wzór kombinatoryczny liczy liczbę $k$-elementowych podzbiorów zbioru $n$-elementowego?",
        "expression": "Liczba funkcji = $\\binom{9}{4}$",
        "explanation": "Stosujemy wzór na kombinacje bez powtórzeń"
      },
      {
        "step": 5,
        "hint": "Jak obliczyć $\\binom{9}{4}$ korzystając ze wzoru?",
        "expression": "$\\binom{9}{4} = \\frac{9!}{4! \\cdot 5!} = \\frac{9 \\cdot 8 \\cdot 7 \\cdot 6}{4 \\cdot 3 \\cdot 2 \\cdot 1}$",
        "explanation": "Podstawiamy do wzoru na symbol Newtona"
      },
      {
        "step": 6,
        "hint": "Jak uprościć to wyrażenie krok po kroku?",
        "expression": "$\\frac{9 \\cdot 8 \\cdot 7 \\cdot 6}{24} = \\frac{3024}{24} = 126$",
        "explanation": "Wykonujemy obliczenia"
      }
    ],
    "solutions": [
      "$126$"
    ],
    "parameters": {
      "set_A_size": 4,
      "set_B_size": 9
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:15:46.863Z"
  },
  {
    "id": "sequences_counting_basic",
    "topic": "Kombinatoryka - reguła mnożenia",
    "difficulty": 2,
    "statement": "Ile jest ciągów ośmioelementowych o wartościach należących do zbioru $\\{0,1,2,3,4,5,6,7,8,9\\}$ dowolnych?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr możesz wybrać na pierwszą pozycję w ciągu?",
        "expression": "Na pierwszej pozycji: $10$ możliwości (cyfry od $0$ do $9$)",
        "explanation": "Każda z dziesięciu cyfr może być na pierwszym miejscu"
      },
      {
        "step": 2,
        "hint": "Czy wybór cyfry na drugiej pozycji zależy od tego, co wybrałeś wcześniej?",
        "expression": "Na drugiej pozycji: również $10$ możliwości",
        "explanation": "Cyfry mogą się powtarzać, więc znów mamy pełen wybór",
        "why": "W ciągach 'dowolnych' elementy mogą się powtarzać - to kluczowa różnica od permutacji bez powtórzeń. Gdyby były 'różne', mielibyśmy $9$ możliwości na drugiej pozycji."
      },
      {
        "step": 3,
        "hint": "Jak połączyć wybory na wszystkich ośmiu pozycjach?",
        "expression": "Dla każdej z $8$ pozycji: $10$ możliwości",
        "explanation": "Sytuacja powtarza się dla wszystkich ośmiu miejsc w ciągu"
      },
      {
        "step": 4,
        "hint": "Którą regułę kombinatoryki zastosujesz do niezależnych wyborów?",
        "expression": "Całkowita liczba ciągów: $10 \\cdot 10 \\cdot 10 \\cdot 10 \\cdot 10 \\cdot 10 \\cdot 10 \\cdot 10 = 10^8$",
        "explanation": "Reguła mnożenia: mnożymy liczbę możliwości na każdej pozycji",
        "why": "Reguła mnożenia działa, gdy wybory są niezależne. Każdy ciąg to sekwencja $8$ niezależnych decyzji. Wynik $10^8 = 100\\,000\\,000$ - sto milionów różnych ciągów!"
      }
    ],
    "solutions": [
      "$10^8 = 100\\,000\\,000$"
    ],
    "parameters": {
      "set_size": "$|\\{0,1,2,3,4,5,6,7,8,9\\}| = 10$",
      "sequence_length": "$8$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:16:10.915Z"
  },
  {
    "id": "permutations_8_from_10",
    "topic": "Permutacje bez powtórzeń",
    "difficulty": 2,
    "statement": "Ile jest ciągów ośmioelementowych o wartościach należących do zbioru $\\{0,1,2,3,4,5,6,7,8,9\\}$ różnowartościowych?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza, że ciąg jest różnowartościowy?",
        "expression": "Ciąg różnowartościowy to taki, w którym każda cyfra występuje co najwyżej raz",
        "explanation": "Musimy wybrać $8$ różnych cyfr z $10$ dostępnych i ustawić je w kolejności"
      },
      {
        "step": 2,
        "hint": "Czy kolejność wyboru cyfr ma znaczenie w ciągu?",
        "expression": "Tak, kolejność ma znaczenie - ciąg $(1,2,3,...)$ różni się od $(3,2,1,...)$",
        "explanation": "To problem permutacji, nie kombinacji",
        "why": "W ciągach kolejność jest istotna! Gdyby pytano o zbiory, użylibyśmy kombinacji $\\binom{n}{k}$. Tu potrzebujemy permutacji."
      },
      {
        "step": 3,
        "hint": "Ile masz możliwości wyboru pierwszej cyfry? A drugiej?",
        "expression": "Pierwsza cyfra: $10$ możliwości, druga: $9$ możliwości, trzecia: $8$ możliwości, ..., ósma: $3$ możliwości",
        "explanation": "Z każdym wyborem zmniejsza się liczba dostępnych cyfr"
      },
      {
        "step": 4,
        "hint": "Jak połączyć te wszystkie możliwości w jeden wynik?",
        "expression": "$10 \\cdot 9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3$",
        "explanation": "Mnożymy liczbę możliwości na każdej pozycji (reguła mnożenia)",
        "why": "To wzór na permutacje bez powtórzeń: $P(n,k) = \\frac{n!}{(n-k)!}$. Tu: $\\frac{10!}{2!} = 10 \\cdot 9 \\cdot ... \\cdot 3$"
      },
      {
        "step": 5,
        "hint": "Jaki jest wynik tego mnożenia?",
        "expression": "$10 \\cdot 9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3 = 1\\,814\\,400$",
        "explanation": "Obliczamy iloczyn kolejnych liczb"
      }
    ],
    "solutions": [
      "$1\\,814\\,400$"
    ],
    "parameters": {
      "n": 10,
      "k": 8,
      "formula": "$P(10,8) = \\frac{10!}{2!}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:16:29.195Z"
  },
  {
    "id": "monotonic_sequences_combinatorics",
    "topic": "Kombinatoryka - ciągi monotoniczne",
    "difficulty": 4,
    "statement": "Ile jest ciągów ośmioelementowych o wartościach należących do zbioru $\\{0,1,2,3,4,5,6,7,8,9\\}$ ściśle monotonicznych (tzn. rosnących, malejących lub stałych)?",
    "steps": [
      {
        "step": 1,
        "hint": "Co dokładnie oznacza 'ściśle monotoniczny' - czy to rosnący, malejący, czy może coś więcej?",
        "expression": "Ciąg jest ściśle monotoniczny, gdy jest: ściśle rosnący ($a_1 < a_2 < ... < a_8$) lub ściśle malejący ($a_1 > a_2 > ... > a_8$) lub stały ($a_1 = a_2 = ... = a_8$)",
        "explanation": "Rozróżniamy trzy typy ciągów monotonicznych",
        "why": "Uwaga na terminologię! 'Ściśle monotoniczny' to termin zbiorczy obejmujący wszystkie trzy przypadki. Często mylony z 'ściśle rosnącym'."
      },
      {
        "step": 2,
        "hint": "Ile jest ciągów stałych, gdzie wszystkie elementy są takie same?",
        "expression": "Liczba ciągów stałych: $10$",
        "explanation": "Każdy z $10$ elementów zbioru daje jeden ciąg stały",
        "why": "Ciąg stały to wybór jednej wartości ze zbioru: $(0,0,0,0,0,0,0,0)$, $(1,1,1,1,1,1,1,1)$, ..., $(9,9,9,9,9,9,9,9)$"
      },
      {
        "step": 3,
        "hint": "Jak wybrać $8$ różnych liczb z $10$ dostępnych dla ciągu ściśle rosnącego?",
        "expression": "Liczba ciągów ściśle rosnących: $\\binom{10}{8}$",
        "explanation": "Wybieramy $8$ elementów z $10$, kolejność jest wymuszona rosnąco",
        "why": "Kluczowa obserwacja: gdy wybierzemy $8$ różnych liczb, jest tylko JEDEN sposób ich uporządkowania rosnąco! Np. wybór $\\{1,3,4,5,6,7,8,9\\}$ daje tylko ciąg $(1,3,4,5,6,7,8,9)$."
      },
      {
        "step": 4,
        "hint": "Czy liczba ciągów malejących będzie taka sama jak rosnących? Dlaczego?",
        "expression": "Liczba ciągów ściśle malejących: $\\binom{10}{8}$",
        "explanation": "Symetria: każdy wybór $8$ liczb daje dokładnie jeden ciąg malejący",
        "why": "Istnieje bijekcja między ciągami rosnącymi i malejącymi - odwrócenie kolejności. Ten sam wybór $\\{1,3,4,5,6,7,8,9\\}$ daje ciąg $(9,8,7,6,5,4,3,1)$."
      },
      {
        "step": 5,
        "hint": "Jak obliczyć $\\binom{10}{8}$ najszybciej?",
        "expression": "$\\binom{10}{8} = \\binom{10}{2} = \\frac{10 \\cdot 9}{2 \\cdot 1} = 45$",
        "explanation": "Wykorzystujemy symetrię symbolu Newtona",
        "why": "Własność: $\\binom{n}{k} = \\binom{n}{n-k}$. Obliczanie $\\binom{10}{2}$ jest prostsze niż $\\binom{10}{8}$."
      },
      {
        "step": 6,
        "hint": "Czy ciągi różnych typów mogą się pokrywać? Jak zsumować wyniki?",
        "expression": "Suma: $10 + 45 + 45 = 100$",
        "explanation": "Dodajemy wszystkie przypadki - są rozłączne"
      }
    ],
    "solutions": [
      "$100$"
    ],
    "parameters": {
      "set_size": "$10$",
      "sequence_length": "$8$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [
        "Zbyt wiele kroków z polem \"why\" (5/6). Używaj tylko dla kluczowych kroków."
      ],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 5
      }
    },
    "timestamp": "2025-10-03T09:16:49.933Z"
  },
  {
    "id": "combinatorics_sequences",
    "topic": "Kombinatoryka - ciągi z powtórzeniami",
    "difficulty": 4,
    "statement": "Ile jest ciągów ośmioelementowych o wartościach należących do zbioru $\\{0,1,2,3,4,5,6,7,8,9\\}$, których tylko jeden wyraz jest równy $1$, tylko dwa wyrazy są równe $2$, a pozostałe są różne od siebie?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile miejsc w ciągu musimy obsadzić i jakie mamy ograniczenia?",
        "expression": "Ciąg ma $8$ pozycji: $1$ pozycja dla cyfry $1$, $2$ pozycje dla cyfry $2$, pozostałe $5$ pozycji dla różnych cyfr",
        "explanation": "Analizujemy strukturę problemu: $1 + 2 + 5 = 8$ pozycji"
      },
      {
        "step": 2,
        "hint": "Na ile sposobów możemy wybrać pozycje dla jedynki i dwójek w ciągu?",
        "expression": "Wybór pozycji: $\\binom{8}{1} \\cdot \\binom{7}{2}$",
        "explanation": "Najpierw wybieramy $1$ pozycję z $8$ dla cyfry $1$, potem $2$ pozycje z pozostałych $7$ dla cyfr $2$",
        "why": "Kolejność wyboru ma znaczenie! Gdybyśmy najpierw wybrali pozycje dla dwójek, byłoby $\\binom{8}{2} \\cdot \\binom{6}{1}$, co daje ten sam wynik. To ilustruje symetrię w kombinatoryce."
      },
      {
        "step": 3,
        "hint": "Ile cyfr pozostało do wyboru na $5$ pozostałych pozycjach?",
        "expression": "Dostępne cyfry: $\\{0,1,2,3,4,5,6,7,8,9\\} \\setminus \\{1,2\\} = \\{0,3,4,5,6,7,8,9\\}$",
        "explanation": "Usuwamy cyfry $1$ i $2$, zostaje $8$ cyfr",
        "why": "Cyfry $1$ i $2$ są już użyte! Pozostałe $5$ pozycji musi być wypełnionych różnymi cyframi z pozostałych $8$ opcji."
      },
      {
        "step": 4,
        "hint": "Czy kolejność wyboru cyfr na pozostałe pozycje ma znaczenie?",
        "expression": "Wybór $5$ różnych cyfr z $8$ z uwzględnieniem kolejności: $\\frac{8!}{(8-5)!} = \\frac{8!}{3!}$",
        "explanation": "To wariacja bez powtórzeń, bo cyfry muszą być różne i kolejność ma znaczenie",
        "why": "Używamy wariacji, nie kombinacji! Ciąg $(0,3,4,5,6)$ to co innego niż $(3,0,4,5,6)$. Wzór: $V_n^k = \\frac{n!}{(n-k)!}$. Alternatywa: $8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4$."
      },
      {
        "step": 5,
        "hint": "Jak połączyć wszystkie sposoby wyboru w jeden wynik?",
        "expression": "$\\binom{8}{1} \\cdot \\binom{7}{2} \\cdot \\frac{8!}{3!} = 8 \\cdot 21 \\cdot \\frac{8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3!}{3!}$",
        "explanation": "Mnożymy niezależne wybory zgodnie z regułą iloczynu"
      },
      {
        "step": 6,
        "hint": "Jakie uproszczenia możesz wykonać w tym wyrażeniu?",
        "expression": "$8 \\cdot 21 \\cdot (8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4) = 8 \\cdot 21 \\cdot 6720$",
        "explanation": "Skracamy $3!$ i obliczamy iloczyn $8 \\cdot 7 \\cdot 6 \\cdot 5 \\cdot 4 = 6720$"
      },
      {
        "step": 7,
        "hint": "Jaki jest końcowy wynik mnożenia?",
        "expression": "$8 \\cdot 21 \\cdot 6720 = 168 \\cdot 6720 = 1\\,128\\,960$",
        "explanation": "Obliczamy ostateczną liczbę ciągów"
      }
    ],
    "solutions": [
      "$1\\,128\\,960$"
    ],
    "parameters": {
      "set_size": 10,
      "sequence_length": 8,
      "ones": 1,
      "twos": 2,
      "different": 5
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:17:14.014Z"
  },
  {
    "id": "combinatorics_increasing_digits",
    "topic": "Kombinatoryka - ciągi rosnące cyfr",
    "difficulty": 4,
    "statement": "Ile jest liczb sześciocyfrowych, w których zapisie cyfry tworzą ciąg rosnący?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą wystąpić w liczbie sześciocyfrowej?",
        "expression": "Cyfry od $1$ do $9$ (pierwsza cyfra nie może być $0$)",
        "explanation": "Liczba sześciocyfrowa zaczyna się od cyfry różnej od zera"
      },
      {
        "step": 2,
        "hint": "Co oznacza, że cyfry tworzą ciąg rosnący?",
        "expression": "Jeśli liczba to $c_1c_2c_3c_4c_5c_6$, to $c_1 < c_2 < c_3 < c_4 < c_5 < c_6$",
        "explanation": "Każda kolejna cyfra musi być większa od poprzedniej",
        "why": "Ciąg rosnący oznacza OSTRO rosnący - cyfry muszą być różne i uporządkowane. To kluczowe dla dalszego rozwiązania!"
      },
      {
        "step": 3,
        "hint": "Czy wybór $6$ różnych cyfr z $9$ dostępnych jednoznacznie określa liczbę?",
        "expression": "Każdy zbiór $6$ cyfr z $\\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}$ daje dokładnie jedną liczbę",
        "explanation": "Po wyborze cyfr jest tylko jeden sposób ich uporządkowania - rosnąco",
        "why": "To jest sedno zadania! Nie musimy się martwić kolejnością - cyfry MUSZĄ być ułożone rosnąco. Więc problem sprowadza się do wyboru, które 6 cyfr użyjemy."
      },
      {
        "step": 4,
        "hint": "Ile jest sposobów wyboru $6$ elementów z $9$-elementowego zbioru?",
        "expression": "$\\binom{9}{6} = \\frac{9!}{6! \\cdot 3!}$",
        "explanation": "Używamy symbolu Newtona (kombinacje bez powtórzeń)",
        "why": "Kombinacje, nie permutacje! Kolejność nie ma znaczenia przy wyborze, bo jest narzucona przez warunek rosnący."
      },
      {
        "step": 5,
        "hint": "Jak obliczyć wartość tego symbolu Newtona?",
        "expression": "$\\binom{9}{6} = \\frac{9 \\cdot 8 \\cdot 7}{3 \\cdot 2 \\cdot 1} = \\frac{504}{6} = 84$",
        "explanation": "Skracamy silnie i obliczamy wynik"
      },
      {
        "step": 6,
        "hint": "Czy każdy wybrany zbiór cyfr daje poprawną liczbę sześciocyfrową?",
        "expression": "Tak, bo najmniejsza możliwa liczba to $123456$, a największa to $456789$",
        "explanation": "Wszystkie utworzone liczby są sześciocyfrowe, więc odpowiedź to $84$"
      }
    ],
    "solutions": [
      "$84$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:17:33.656Z"
  },
  {
    "id": "decreasing_digits_count",
    "topic": "Kombinatoryka - ciągi malejące",
    "difficulty": 4,
    "statement": "Ile jest liczb sześciocyfrowych, w których zapisie cyfry tworzą ciąg malejący?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą wystąpić w liczbie sześciocyfrowej?",
        "expression": "Cyfry od $0$ do $9$, ale pierwsza cyfra nie może być $0$",
        "explanation": "Liczba sześciocyfrowa ma cyfry z zakresu $0$-$9$, z ograniczeniem dla pierwszej pozycji"
      },
      {
        "step": 2,
        "hint": "Co oznacza, że cyfry tworzą ciąg malejący?",
        "expression": "Jeśli liczba to $c_1c_2c_3c_4c_5c_6$, to $c_1 > c_2 > c_3 > c_4 > c_5 > c_6$",
        "explanation": "Każda kolejna cyfra musi być mniejsza od poprzedniej",
        "why": "Ciąg MALEJĄCY oznacza ostrą nierówność $(>)$, nie $\\geq$. Cyfry muszą być różne! To kluczowe dla dalszego rozwiązania."
      },
      {
        "step": 3,
        "hint": "Czy wybierając $6$ różnych cyfr z $10$ możliwych, możemy je ułożyć na więcej niż jeden sposób malejąco?",
        "expression": "Każdy zbiór $6$ różnych cyfr można ułożyć malejąco na dokładnie jeden sposób",
        "explanation": "Malejący porządek jest jednoznaczny - największa cyfra na początku, najmniejsza na końcu",
        "why": "To transformuje problem! Zamiast liczyć permutacje, wystarczy policzyć WYBORY $6$ cyfr. Każdy wybór daje dokładnie jedną liczbę malejącą."
      },
      {
        "step": 4,
        "hint": "Ile jest sposobów wyboru $6$ cyfr z $10$ dostępnych?",
        "expression": "$\\binom{10}{6} = \\frac{10!}{6! \\cdot 4!} = \\frac{10 \\cdot 9 \\cdot 8 \\cdot 7}{4 \\cdot 3 \\cdot 2 \\cdot 1} = 210$",
        "explanation": "Liczba kombinacji $6$-elementowych z $10$-elementowego zbioru"
      },
      {
        "step": 5,
        "hint": "Czy wszystkie te $210$ wyborów dają liczby sześciocyfrowe?",
        "expression": "NIE - musimy wykluczyć wybory zawierające cyfry $\\{0,1,2,3,4,5\\}$",
        "explanation": "Jeśli wybierzemy cyfry $0$, $1$, $2$, $3$, $4$, $5$, to malejąco będzie to $543210$, co jest liczbą sześciocyfrową, ale...",
        "why": "Uwaga! Jeśli w wyborze jest $0$, to $0$ będzie na końcu (najmniejsza cyfra). Problem pojawia się tylko gdy wybierzemy cyfry $0,1,2,3,4,5$ - wtedy największa to $5$, co daje liczbę pięciocyfrową $543210$. Czekaj... $543210$ MA $6$ cyfr!"
      },
      {
        "step": 6,
        "hint": "Kiedy dokładnie otrzymamy liczbę pięciocyfrową zamiast sześciocyfrowej?",
        "expression": "Tylko gdy największa wybrana cyfra to $5$ lub mniej",
        "explanation": "Jeśli największa cyfra $\\leq 5$, liczba zaczyna się od cyfry $\\leq 5$",
        "why": "Poprawka: liczba $543210$ JEST sześciocyfrowa! Problem jest tylko gdy największa cyfra < $5$. Czyli wybory z $\\{0,1,2,3,4\\}$, $\\{0,1,2,3,5\\}$ itd. gdzie brak cyfr $6,7,8,9$."
      },
      {
        "step": 7,
        "hint": "Ile jest wyborów $6$ cyfr ze zbioru $\\{0,1,2,3,4,5\\}$?",
        "expression": "$\\binom{6}{6} = 1$",
        "explanation": "Jest tylko jeden taki wybór: wszystkie cyfry $0$, $1$, $2$, $3$, $4$, $5$",
        "why": "Ten wybór daje $543210$, co JEST liczbą sześciocyfrową. Więc nie musimy nic odejmować!"
      },
      {
        "step": 8,
        "hint": "Czy istnieją inne przypadki do wykluczenia?",
        "expression": "Wszystkie $210$ wyborów dają liczby sześciocyfrowe",
        "explanation": "Nawet minimalny wybór $\\{0,1,2,3,4,5\\}$ daje $543210$, która ma $6$ cyfr",
        "why": "Kluczowa obserwacja: liczba sześciocyfrowa to liczba od $100000$ do $999999$. Najmniejsza możliwa liczba malejąca to $543210 > 100000$. Wszystkie są sześciocyfrowe!"
      }
    ],
    "solutions": [
      "$210$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 6
      }
    },
    "timestamp": "2025-10-03T09:18:04.019Z"
  },
  {
    "id": "combinatorics_increasing_digits_with_7",
    "topic": "Kombinatoryka - ciągi rosnące cyfr",
    "difficulty": 4,
    "statement": "Ile jest liczb pięciocyfrowych, w których zapisie występuje cyfra $7$ i cyfry tworzą ciąg rosnący?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza, że cyfry tworzą ciąg rosnący?",
        "expression": "Cyfry muszą spełniać: $c_1 < c_2 < c_3 < c_4 < c_5$",
        "explanation": "Każda kolejna cyfra musi być większa od poprzedniej",
        "why": "Ciąg rosnący to nierówności ostre, nie $\\leq$. To oznacza, że wszystkie cyfry są różne! Dodatkowo pierwsza cyfra nie może być $0$ (liczba pięciocyfrowa)."
      },
      {
        "step": 2,
        "hint": "Skoro cyfry są różne i rosnące, co tak naprawdę wybieramy?",
        "expression": "Wybieramy $5$ różnych cyfr z dostępnych, a ich kolejność jest już określona",
        "explanation": "Rosnący układ cyfr jest jednoznaczny - wystarczy wybrać zbiór cyfr",
        "why": "Kluczowa obserwacja: jeśli mamy cyfry $\\{1,3,5,7,9\\}$, to jest tylko jeden sposób ich ułożenia rosnąco: $13579$. Problem sprowadza się do wyboru $5$-elementowego podzbioru cyfr."
      },
      {
        "step": 3,
        "hint": "Z jakich cyfr możemy wybierać dla liczby pięciocyfrowej?",
        "expression": "Cyfry dostępne: $\\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}$ (9 cyfr)",
        "explanation": "Nie możemy użyć $0$, bo byłaby na początku (ciąg rosnący)",
        "why": "Gdyby $0$ było w zbiorze, musiałoby być pierwszą cyfrą (najmniejsza), ale wtedy liczba nie byłaby pięciocyfrowa."
      },
      {
        "step": 4,
        "hint": "Ile jest wszystkich sposobów wyboru $5$ cyfr z $9$?",
        "expression": "$\\binom{9}{5} = \\frac{9!}{5! \\cdot 4!} = \\frac{9 \\cdot 8 \\cdot 7 \\cdot 6}{4 \\cdot 3 \\cdot 2 \\cdot 1} = 126$",
        "explanation": "Liczba wszystkich pięciocyfrowych liczb z rosnącymi cyframi"
      },
      {
        "step": 5,
        "hint": "Jak obliczyć ile z nich zawiera cyfrę 7?",
        "expression": "Liczby z $7 = $ Wszystkie $-$ Liczby bez $7$",
        "explanation": "Używamy zasady dopełnienia",
        "why": "Łatwiej policzyć ile jest liczb BEZ cyfry 7, niż bezpośrednio z cyfrą 7 (musielibyśmy rozpatrywać $5$ przypadków: $7$ na $1$., $2$., $3$., $4$. lub $5$. pozycji)."
      },
      {
        "step": 6,
        "hint": "Ile cyfr zostaje do wyboru, gdy wykluczamy $7$?",
        "expression": "Cyfry bez 7: $\\{1, 2, 3, 4, 5, 6, 8, 9\\}$ (8 cyfr)",
        "explanation": "Usuwamy cyfrę $7$ ze zbioru dostępnych cyfr"
      },
      {
        "step": 7,
        "hint": "Ile jest sposobów wyboru $5$ cyfr z tych $8$?",
        "expression": "$\\binom{8}{5} = \\frac{8!}{5! \\cdot 3!} = \\frac{8 \\cdot 7 \\cdot 6}{3 \\cdot 2 \\cdot 1} = 56$",
        "explanation": "Liczba pięciocyfrowych liczb rosnących bez cyfry $7$"
      },
      {
        "step": 8,
        "hint": "Jak teraz otrzymać odpowiedź końcową?",
        "expression": "$126 - 56 = 70$",
        "explanation": "Odejmujemy liczby bez $7$ od wszystkich liczb rosnących"
      }
    ],
    "solutions": [
      "$70$"
    ],
    "parameters": {
      "method": "Zasada dopełnienia i kombinacje"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T09:18:26.523Z"
  },
  {
    "id": "combinatorics_decreasing_digits",
    "topic": "Kombinatoryka - ciągi cyfr",
    "difficulty": 4,
    "statement": "Ile jest liczb pięciocyfrowych, w których zapisie występuje cyfra $6$ i cyfry tworzą ciąg malejący?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza, że cyfry tworzą ciąg malejący?",
        "expression": "Cyfry muszą być uporządkowane: $c_1 > c_2 > c_3 > c_4 > c_5$",
        "explanation": "Każda kolejna cyfra musi być mniejsza od poprzedniej"
      },
      {
        "step": 2,
        "hint": "Czy w ciągu malejącym cyfry mogą się powtarzać?",
        "expression": "Wszystkie cyfry muszą być różne (nierówności ostre)",
        "explanation": "Ciąg malejący wymaga różnych cyfr",
        "why": "Gdyby $c_i = c_{i+1}$, to nie byłoby $c_i > c_{i+1}$. To kluczowe: wybieramy $5$ różnych cyfr, a ich kolejność jest automatycznie określona!"
      },
      {
        "step": 3,
        "hint": "Z ilu cyfr możemy wybierać dla liczby pięciocyfrowej?",
        "expression": "Cyfry od $0$ do $9$, ale pierwsza cyfra nie może być $0$",
        "explanation": "Mamy cyfry: $0$, $1$, $2$, $3$, $4$, $5$, $6$, $7$, $8$, $9$"
      },
      {
        "step": 4,
        "hint": "Jeśli wybierzemy $5$ różnych cyfr, ile jest sposobów ich uporządkowania malejąco?",
        "expression": "Dokładnie jeden sposób - malejąco od największej do najmniejszej",
        "explanation": "Wybór $5$ cyfr jednoznacznie określa liczbę",
        "why": "To upraszcza problem! Zamiast liczyć permutacje, wystarczy policzyć wybory $5$ cyfr z $10$. Każdy wybór daje dokładnie jedną liczbę."
      },
      {
        "step": 5,
        "hint": "Ile jest sposobów wyboru $5$ cyfr z $10$, gdy musi być cyfra $6$?",
        "expression": "Cyfra $6$ jest wybrana, więc wybieramy $4$ cyfry z pozostałych $9$: $\\binom{9}{4}$",
        "explanation": "Fiksujemy cyfrę $6$, wybieramy $4$ z pozostałych"
      },
      {
        "step": 6,
        "hint": "Czy wszystkie te wybory dają liczby pięciocyfrowe?",
        "expression": "$\\binom{9}{4} = \\frac{9!}{4! \\cdot 5!} = \\frac{9 \\cdot 8 \\cdot 7 \\cdot 6}{4 \\cdot 3 \\cdot 2 \\cdot 1} = 126$",
        "explanation": "Obliczamy liczbę kombinacji",
        "why": "Musimy sprawdzić przypadek z $0$! Jeśli $0$ jest w zbiorze, to będzie na końcu (najmniejsza cyfra). Cyfra $6$ gwarantuje, że pierwsza cyfra $\\geq 6 > 0$, więc wszystkie $126$ liczb jest pięciocyfrowych."
      },
      {
        "step": 7,
        "hint": "Dlaczego nie musimy odejmować przypadków z zerem na początku?",
        "expression": "W ciągu malejącym $0$ zawsze jest na końcu, nigdy na początku",
        "explanation": "Zero jako najmniejsza cyfra zawsze zajmuje ostatnią pozycję"
      }
    ],
    "solutions": [
      "$126$"
    ],
    "parameters": {
      "conditions": [
        "liczba pięciocyfrowa",
        "cyfry tworzą ciąg malejący",
        "występuje cyfra 6"
      ]
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:18:51.789Z"
  },
  {
    "id": "permutations_spaniel",
    "topic": "Permutacje",
    "difficulty": 2,
    "statement": "Ile wyrazów, mających sens lub nie, można ułożyć, przestawiając litery wyrazu $SPANIEL$?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile liter ma wyraz SPANIEL?",
        "expression": "Wyraz SPANIEL składa się z $7$ liter",
        "explanation": "Liczymy wszystkie litery: $S$, $P$, $A$, $N$, $I$, $E$, $L$"
      },
      {
        "step": 2,
        "hint": "Czy wszystkie litery są różne, czy może jakieś się powtarzają?",
        "expression": "Wszystkie $7$ liter jest różnych: $S$, $P$, $A$, $N$, $I$, $E$, $L$",
        "explanation": "Sprawdzamy, że każda litera występuje dokładnie raz",
        "why": "To kluczowe! Gdyby litery się powtarzały (np. ANNA), musielibyśmy dzielić przez liczbę powtórzeń. Tu wszystkie są różne, więc używamy zwykłej permutacji."
      },
      {
        "step": 3,
        "hint": "Jak obliczyć liczbę sposobów ustawienia $n$ różnych elementów?",
        "expression": "Liczba permutacji $n$ różnych elementów to $n!$",
        "explanation": "Dla $7$ różnych liter stosujemy wzór $P_7 = 7!$"
      },
      {
        "step": 4,
        "hint": "Ile wynosi $7!$ ?",
        "expression": "$7! = 7 \\cdot 6 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 5040$",
        "explanation": "Obliczamy silnię z $7$"
      }
    ],
    "solutions": [
      "$5040$"
    ],
    "parameters": {
      "word": "SPANIEL",
      "letters_count": 7,
      "distinct_letters": true
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 1
      }
    },
    "timestamp": "2025-10-03T09:19:06.093Z"
  },
  {
    "id": "permutations_temat",
    "topic": "Permutacje z powtórzeniami",
    "difficulty": 3,
    "statement": "Ile wyrazów, mających sens lub nie, można ułożyć, przestawiając litery wyrazu $TEMAT$?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile liter ma wyraz TEMAT i czy wszystkie są różne?",
        "expression": "Wyraz TEMAT ma $5$ liter: T, E, M, A, T",
        "explanation": "Liczymy wszystkie litery w wyrazie"
      },
      {
        "step": 2,
        "hint": "Które litery się powtarzają i ile razy?",
        "expression": "Litera $T$ występuje $2$ razy, pozostałe ($E$, $M$, $A$) po $1$ razie",
        "explanation": "Identyfikujemy powtórzenia - to kluczowe dla dalszych obliczeń",
        "why": "Powtórzenia zmniejszają liczbę różnych permutacji. Gdyby wszystkie litery były różne, mielibyśmy $5! = 120$ permutacji. Ale zamiany identycznych liter $T$ nie tworzą nowych wyrazów!"
      },
      {
        "step": 3,
        "hint": "Jaki wzór użyjemy, gdy mamy powtarzające się elementy?",
        "expression": "$P = \\frac{n!}{n_1! \\cdot n_2! \\cdot ... \\cdot n_k!}$",
        "explanation": "Wzór na permutacje z powtórzeniami, gdzie $n$ to liczba wszystkich elementów, a $n_1, n_2, ..., n_k$ to liczby powtórzeń",
        "why": "Dzielimy przez silnie powtórzeń, bo zamiany identycznych elementów między sobą nie dają nowych ustawień. Np. $T₁$EMAT₂ i $T₂$EMAT₁ to ten sam wyraz."
      },
      {
        "step": 4,
        "hint": "Jakie wartości podstawimy do wzoru dla naszego wyrazu?",
        "expression": "$P = \\frac{5!}{2! \\cdot 1! \\cdot 1! \\cdot 1!} = \\frac{5!}{2!}$",
        "explanation": "Mamy $n = 5$ liter, litera T powtarza się $2$ razy ($n_1 = 2$), pozostałe po $1$ razie"
      },
      {
        "step": 5,
        "hint": "Ile wynoszą te silnie?",
        "expression": "$P = \\frac{120}{2} = 60$",
        "explanation": "Obliczamy: $5! = 120$ i $2! = 2$"
      }
    ],
    "solutions": [
      "$60$"
    ],
    "parameters": {},
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:19:19.812Z"
  },
  {
    "id": "permutations_agawa",
    "topic": "Permutacje z powtórzeniami",
    "difficulty": 3,
    "statement": "Ile wyrazów, mających sens lub nie, można ułożyć, przestawiając litery wyrazu $AGAWA$?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile liter ma wyraz $AGAWA$ i czy wszystkie są różne?",
        "expression": "Wyraz AGAWA ma $5$ liter: $A$, $G$, $A$, $W$, $A$",
        "explanation": "Liczymy wszystkie litery i sprawdzamy, które się powtarzają"
      },
      {
        "step": 2,
        "hint": "Ile razy występuje każda litera w tym wyrazie?",
        "expression": "Litera $A$ występuje $3$ razy, $G$ występuje $1$ raz, $W$ występuje $1$ raz",
        "explanation": "Identyfikujemy powtórzenia: $A$ pojawia się trzykrotnie",
        "why": "Powtórzenia są kluczowe! Gdyby wszystkie litery były różne, mielibyśmy $5! = 120$ permutacji. Ale identyczne litery tworzą te same wyrazy przy przestawieniu."
      },
      {
        "step": 3,
        "hint": "Jaki wzór użyjemy, gdy mamy powtarzające się elementy?",
        "expression": "$P = \\frac{n!}{n_1! \\cdot n_2! \\cdot ... \\cdot n_k!}$",
        "explanation": "Wzór na permutacje z powtórzeniami, gdzie $n$ to liczba wszystkich elementów, a $n_1, n_2, ..., n_k$ to liczby powtórzeń",
        "why": "Dzielimy przez silnie powtórzeń, bo przestawienie identycznych liter nie tworzy nowego wyrazu. Np. $AAA$ można przestawić na $3! = 6$ sposobów, ale to wciąż $AAA$."
      },
      {
        "step": 4,
        "hint": "Jakie wartości podstawimy do wzoru dla naszego problemu?",
        "expression": "$P = \\frac{5!}{3! \\cdot 1! \\cdot 1!}$",
        "explanation": "Podstawiamy: $n = 5$ (wszystkie litery), $n_1 = 3$ (litera A), $n_2 = 1$ (litera G), $n_3 = 1$ (litera W)"
      },
      {
        "step": 5,
        "hint": "Ile wynoszą poszczególne silnie w tym wyrażeniu?",
        "expression": "$P = \\frac{120}{6 \\cdot 1 \\cdot 1} = \\frac{120}{6}$",
        "explanation": "Obliczamy: $5! = 120$, $3! = 6$, $1! = 1$"
      },
      {
        "step": 6,
        "hint": "Jaki jest końcowy wynik dzielenia?",
        "expression": "$P = 20$",
        "explanation": "Można ułożyć $20$ różnych wyrazów z liter słowa AGAWA"
      }
    ],
    "solutions": [
      "$20$"
    ],
    "parameters": {
      "word": "AGAWA",
      "total_letters": 5,
      "repetitions": {
        "A": 3,
        "G": 1,
        "W": 1
      }
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:19:35.731Z"
  },
  {
    "id": "permutations_repetitions_potop",
    "topic": "Permutacje z powtórzeniami",
    "difficulty": 3,
    "statement": "Ile wyrazów, mających sens lub nie, można ułożyć, przestawiając litery wyrazu $POTOP$?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile liter ma wyraz POTOP i czy wszystkie są różne?",
        "expression": "Wyraz POTOP ma $5$ liter: P, O, T, O, P",
        "explanation": "Identyfikujemy wszystkie litery w wyrazie"
      },
      {
        "step": 2,
        "hint": "Które litery się powtarzają i ile razy każda?",
        "expression": "$P$ występuje $2$ razy, $O$ występuje $2$ razy, $T$ występuje $1$ raz",
        "explanation": "Zliczamy powtórzenia każdej litery",
        "why": "Powtórzenia są kluczowe! Gdyby wszystkie litery były różne, mielibyśmy $5! = 120$ permutacji. Ale zamiana identycznych liter nie tworzy nowego wyrazu."
      },
      {
        "step": 3,
        "hint": "Jaki wzór użyjemy, gdy mamy powtarzające się elementy?",
        "expression": "$\\frac{n!}{n_1! \\cdot n_2! \\cdot ... \\cdot n_k!}$, gdzie $n$ to liczba wszystkich elementów, a $n_1, n_2, ..., n_k$ to liczby powtórzeń",
        "explanation": "Wzór na permutacje z powtórzeniami",
        "why": "Dzielimy przez silnie liczb powtórzeń, bo przestawienie identycznych liter nie zmienia wyrazu. Np. zamiana $P₁$ z $P₂$ daje ten sam wyraz."
      },
      {
        "step": 4,
        "hint": "Jakie wartości podstawimy do wzoru dla naszego problemu?",
        "expression": "$n = 5$, $n_P = 2$, $n_O = 2$, $n_T = 1$",
        "explanation": "Identyfikujemy parametry: $5$ liter całkowicie, $P$ powtarza się $2$ razy, $O$ powtarza się $2$ razy"
      },
      {
        "step": 5,
        "hint": "Co otrzymamy po podstawieniu do wzoru?",
        "expression": "$\\frac{5!}{2! \\cdot 2! \\cdot 1!} = \\frac{120}{2 \\cdot 2 \\cdot 1} = \\frac{120}{4} = 30$",
        "explanation": "Obliczamy liczbę permutacji"
      }
    ],
    "solutions": [
      "$30$"
    ],
    "parameters": {
      "word": "POTOP",
      "total_letters": 5,
      "repetitions": "$P$: $2$, $O$: $2$, $T$: $1$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:19:49.746Z"
  },
  {
    "id": "permutations_totalizator",
    "topic": "Permutacje z powtórzeniami",
    "difficulty": 3,
    "statement": "Ile wyrazów, mających sens lub nie, można ułożyć, przestawiając litery wyrazu TOTALIZATOR?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile liter ma wyraz TOTALIZATOR?",
        "expression": "Wyraz ma $11$ liter",
        "explanation": "Liczymy wszystkie litery w wyrazie"
      },
      {
        "step": 2,
        "hint": "Które litery się powtarzają i ile razy każda?",
        "expression": "T - $3$ razy, O - $2$ razy, A - $2$ razy, L - $1$ raz, I - $1$ raz, Z - $1$ raz, R - $1$ raz",
        "explanation": "Analizujemy częstość występowania każdej litery",
        "why": "Powtórzenia są kluczowe! Gdyby wszystkie litery były różne, mielibyśmy $11!$ permutacji. Ale identyczne litery tworzą te same układy - musimy to uwzględnić."
      },
      {
        "step": 3,
        "hint": "Jaki wzór stosujemy, gdy elementy się powtarzają?",
        "expression": "$P = \\frac{n!}{n_1! \\cdot n_2! \\cdot ... \\cdot n_k!}$",
        "explanation": "Wzór na permutacje z powtórzeniami, gdzie $n$ to liczba wszystkich elementów, a $n_1, n_2, ..., n_k$ to liczby powtórzeń",
        "why": "Dzielimy przez silnie powtórzeń, bo przestawienie identycznych liter nie tworzy nowego wyrazu. Np. zamiana $T₁$ z $T₂$ daje ten sam układ."
      },
      {
        "step": 4,
        "hint": "Co podstawimy do wzoru za $n$ i za powtórzenia?",
        "expression": "$P = \\frac{11!}{3! \\cdot 2! \\cdot 2!}$",
        "explanation": "Podstawiamy: $n = 11$ (wszystkie litery), dzielimy przez $3!$ (T), $2!$ (O), $2!$ (A)"
      },
      {
        "step": 5,
        "hint": "Ile wynoszą te silnie w mianowniku?",
        "expression": "$3! = 6$, $2! = 2$, $2! = 2$",
        "explanation": "Obliczamy wartości silni"
      },
      {
        "step": 6,
        "hint": "Jaki jest wynik końcowy?",
        "expression": "$P = \\frac{11!}{6 \\cdot 2 \\cdot 2} = \\frac{39916800}{24} = 1663200$",
        "explanation": "Obliczamy liczbę wszystkich możliwych permutacji"
      }
    ],
    "solutions": [
      "$1663200$"
    ],
    "parameters": {
      "word": "TOTALIZATOR",
      "total_letters": 11,
      "repetitions": {
        "T": 3,
        "O": 2,
        "A": 2
      }
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:20:21.350Z"
  },
  {
    "id": "permutations_repetitions",
    "topic": "Permutacje z powtórzeniami",
    "difficulty": 3,
    "statement": "Ile wyrazów, mających sens lub nie, można ułożyć, przestawiając litery wyrazu $ABRAKADABRA$?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile łącznie liter ma wyraz $ABRAKADABRA$?",
        "expression": "Wyraz ma $n = 11$ liter",
        "explanation": "Liczymy wszystkie litery w wyrazie"
      },
      {
        "step": 2,
        "hint": "Które litery się powtarzają i ile razy każda?",
        "expression": "A - 5 razy, B - $2$ razy, R - $2$ razy, K - $1$ raz, D - $1$ raz",
        "explanation": "Analizujemy częstość występowania każdej litery",
        "why": "Powtórzenia są kluczowe! Gdyby wszystkie litery były różne, mielibyśmy $11!$ permutacji. Ale identyczne litery tworzą te same układy, więc musimy podzielić przez liczbę ich permutacji."
      },
      {
        "step": 3,
        "hint": "Jaki wzór użyjemy, gdy mamy powtarzające się elementy?",
        "expression": "Wzór na permutacje z powtórzeniami: $P(n; n_1, n_2, ..., n_k) = \\frac{n!}{n_1! \\cdot n_2! \\cdot ... \\cdot n_k!}$",
        "explanation": "Dla $n$ elementów, gdzie $n_1$ powtarza się pierwszy typ, $n_2$ drugi typ, itd.",
        "why": "Dzielimy przez silnie powtórzeń, bo przestawienie identycznych liter nie tworzy nowego wyrazu. Np. zamiana dwóch $A$ między sobą daje ten sam wyraz."
      },
      {
        "step": 4,
        "hint": "Jak podstawić nasze wartości do wzoru?",
        "expression": "$P(11; 5, 2, 2, 1, 1) = \\frac{11!}{5! \\cdot 2! \\cdot 2! \\cdot 1! \\cdot 1!}$",
        "explanation": "Podstawiamy: $11$ liter całkowicie, A powtarza się $5$ razy, B i R po $2$ razy, K i D po $1$ razie"
      },
      {
        "step": 5,
        "hint": "Jakie wartości mają te silnie?",
        "expression": "$\\frac{11!}{5! \\cdot 2! \\cdot 2!} = \\frac{39916800}{120 \\cdot 2 \\cdot 2} = \\frac{39916800}{480}$",
        "explanation": "$11! = 39916800$, $5! = 120$, $2! = 2$, $1! = 1$"
      },
      {
        "step": 6,
        "hint": "Jaki jest wynik końcowego dzielenia?",
        "expression": "$\\frac{39916800}{480} = 83160$",
        "explanation": "Otrzymujemy liczbę wszystkich możliwych przestawień"
      }
    ],
    "solutions": [
      "$83160$"
    ],
    "parameters": {
      "word": "ABRAKADABRA",
      "total_letters": 11,
      "repetitions": {
        "A": 5,
        "B": 2,
        "R": 2,
        "K": 1,
        "D": 1
      }
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:20:42.414Z"
  },
  {
    "id": "combinatorics_permutations_synapses",
    "topic": "Permutacje z powtórzeniami",
    "difficulty": 4,
    "statement": "Podczas rozwiązywania zadań z kombinatoryki jeden z uczniów klasy biologicznej zauważył, że liczba możliwych wyrazów mających sens lub nie, utworzonych z przestawiania liter wyrazu PRAWDOPODOBIEŃSTWO, jest równa liczbie synaps neuronów (czyli styków pomiędzy neuronami) w korze mózgowej człowieka. Ile synaps ma kora mózgowa człowieka?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile liter ma wyraz PRAWDOPODOBIEŃSTWO?",
        "expression": "Wyraz PRAWDOPODOBIEŃSTWO ma $17$ liter",
        "explanation": "Liczymy wszystkie litery w wyrazie"
      },
      {
        "step": 2,
        "hint": "Które litery się powtarzają i ile razy każda?",
        "expression": "P - $2$ razy, R - $2$ razy, A - $2$ razy, W - $2$ razy, D - $2$ razy, O - $3$ razy, B - $2$ razy, I - $1$ raz, E - $1$ raz, Ń - $1$ raz, S - $1$ raz, T - $1$ raz",
        "explanation": "Analizujemy częstość występowania każdej litery",
        "why": "W permutacjach z powtórzeniami musimy uwzględnić, że przestawienie identycznych liter nie tworzy nowego wyrazu. Gdyby wszystkie litery były różne, byłoby $17!$ permutacji."
      },
      {
        "step": 3,
        "hint": "Jaki wzór stosujemy gdy mamy powtarzające się elementy?",
        "expression": "Liczba permutacji = $\\frac{n!}{n_1! \\cdot n_2! \\cdot ... \\cdot n_k!}$",
        "explanation": "Wzór na permutacje z powtórzeniami, gdzie $n$ to liczba wszystkich elementów, a $n_i$ to liczby powtórzeń",
        "why": "Dzielimy przez silnie liczb powtórzeń, bo przestawienia identycznych liter między sobą dają ten sam wyraz. To kluczowa różnica od zwykłych permutacji!"
      },
      {
        "step": 4,
        "hint": "Jak podstawić nasze dane do wzoru?",
        "expression": "Liczba permutacji = $\\frac{17!}{2! \\cdot 2! \\cdot 2! \\cdot 2! \\cdot 2! \\cdot 3! \\cdot 2! \\cdot 1! \\cdot 1! \\cdot 1! \\cdot 1! \\cdot 1!}$",
        "explanation": "Podstawiamy: $17$ liter w liczniku, w mianowniku silnie z liczb powtórzeń każdej litery"
      },
      {
        "step": 5,
        "hint": "Co możemy uprościć w mianowniku?",
        "expression": "Liczba permutacji = $\\frac{17!}{2! \\cdot 2! \\cdot 2! \\cdot 2! \\cdot 2! \\cdot 3! \\cdot 2!} = \\frac{17!}{2^6 \\cdot 6}$",
        "explanation": "Upraszczamy: $2!$ występuje $6$ razy, $3! = 6$, a $1! = 1$ możemy pominąć",
        "why": "Zauważ, że $2! = 2$ i mamy sześć takich czynników: $2^6 = 64$. Dodatkowo $3! = 6$, więc mianownik to $64 \\cdot 6 = 384$."
      },
      {
        "step": 6,
        "hint": "Jaki jest wynik tego dzielenia?",
        "expression": "Liczba permutacji = $\\frac{17!}{384} = \\frac{355687428096000}{384} = 926540175250000$",
        "explanation": "Obliczamy wartość liczbową"
      },
      {
        "step": 7,
        "hint": "Jak zapisać tę liczbę w notacji naukowej?",
        "expression": "Liczba synaps = $9{,}27 \\cdot 10^{14}$ (w przybliżeniu)",
        "explanation": "Zapisujemy wynik w bardziej czytelnej formie"
      }
    ],
    "solutions": [
      "$926540175250000$ synaps",
      "$9{,}27 \\cdot 10^{14}$ synaps"
    ],
    "parameters": {
      "word": "PRAWDOPODOBIEŃSTWO",
      "total_letters": 17,
      "repetitions": "$P(2)$, $R(2)$, $A(2)$, $W(2)$, $D(2)$, $O(3)$, $B(2)$, $I(1)$, $E(1)$, $Ń(1)$, $S(1)$, $T(1)$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:21:06.853Z"
  },
  {
    "id": "combinatorics_digits_example",
    "topic": "Kombinatoryka - permutacje z powtórzeniami",
    "difficulty": 4,
    "statement": "Ile jest liczb siedmiocyfrowych, w których zapisie cyfra $4$ występuje trzy razy, cyfra $5$ - dwa razy, a cyfra $0$ ani razu?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr mamy do rozdysponowania i ile z nich jest już określonych?",
        "expression": "Mamy $7$ pozycji, cyfra $4$ występuje $3$ razy, cyfra $5$ występuje $2$ razy, czyli $3 + 2 = 5$ pozycji zajętych",
        "explanation": "Analizujemy strukturę problemu - ile pozycji jest już określonych"
      },
      {
        "step": 2,
        "hint": "Jakie cyfry mogą znaleźć się na pozostałych dwóch pozycjach?",
        "expression": "Pozostałe $7 - 5 = 2$ pozycje muszą być wypełnione cyframi różnymi od $0$, $4$, $5$",
        "explanation": "Dostępne cyfry to: $1$, $2$, $3$, $6$, $7$, $8$, $9$ ($7$ możliwości)",
        "why": "Cyfra $0$ nie może wystąpić (warunek zadania), cyfry $4$ i $5$ mają już określoną liczbę wystąpień. Pozostaje $7$ cyfr do wyboru."
      },
      {
        "step": 3,
        "hint": "Czy cyfry na tych dwóch pozycjach mogą się powtarzać?",
        "expression": "Na każdej z $2$ pozostałych pozycji możemy niezależnie wybrać jedną z $7$ cyfr: $7 \\cdot 7 = 49$ możliwości",
        "explanation": "Cyfry mogą się powtarzać, więc mamy $49$ sposobów wypełnienia dwóch pozycji"
      },
      {
        "step": 4,
        "hint": "Jak policzyć liczbę sposobów ustawienia $7$ cyfr, gdy niektóre się powtarzają?",
        "expression": "Dla każdego z $49$ wyborów cyfr, liczba permutacji $7$ elementów ($3$ czwórki, $2$ piątki, $2$ inne) wynosi $\\frac{7!}{3! \\cdot 2!}$",
        "explanation": "Używamy wzoru na permutacje z powtórzeniami",
        "why": "Gdy mamy $n$ elementów, z których $k_1$ jest jednego rodzaju, $k_2$ drugiego itd., liczba permutacji to $\\frac{n!}{k_1! \\cdot k_2! \\cdot ... }$. Dzielimy przez $3!$ bo trzy czwórki są nierozróżnialne, przez $2!$ bo dwie piątki są nierozróżnialne."
      },
      {
        "step": 5,
        "hint": "Ale czy wszystkie te liczby są siedmiocyfrowe?",
        "expression": "Musimy odjąć przypadki, gdy na pierwszej pozycji jest $0$... ale $0$ nie występuje w naszych liczbach!",
        "explanation": "Warunek zadania gwarantuje, że $0$ nie występuje, więc wszystkie liczby są siedmiocyfrowe",
        "why": "W typowych zadaniach musielibyśmy wykluczyć liczby zaczynające się od $0$. Tutaj cyfra $0$ w ogóle nie występuje, więc ten problem nie istnieje."
      },
      {
        "step": 6,
        "hint": "Jak połączyć wybór dwóch cyfr z ich permutacjami?",
        "expression": "$49 \\cdot \\frac{7!}{3! \\cdot 2!} = 49 \\cdot \\frac{5040}{6 \\cdot 2} = 49 \\cdot \\frac{5040}{12} = 49 \\cdot 420$",
        "explanation": "Mnożymy liczbę sposobów wyboru cyfr przez liczbę ich permutacji"
      },
      {
        "step": 7,
        "hint": "Jaki jest końcowy wynik tego mnożenia?",
        "expression": "$49 \\cdot 420 = 20580$",
        "explanation": "Obliczamy ostateczną liczbę siedmiocyfrowych liczb spełniających warunki"
      }
    ],
    "solutions": [
      "$20580$"
    ],
    "parameters": {
      "constraints": "cyfra $4$ występuje $3$ razy, cyfra $5$ występuje $2$ razy, cyfra $0$ nie występuje"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:21:32.937Z"
  },
  {
    "id": "combinatorics_digits_zeros",
    "topic": "Kombinatoryka - liczby z ograniczeniami",
    "difficulty": 4,
    "statement": "Ile jest liczb ośmiocyfrowych, w których zapisie $0$ występuje $5$ razy, a pozostałe cyfry są nieparzyste?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile cyfr musimy wybrać i jakie mają być?",
        "expression": "Liczba ośmiocyfrowa: $8$ cyfr, w tym $5$ zer i $3$ cyfry nieparzyste ($1$, $3$, $5$, $7$, $9$)",
        "explanation": "Analizujemy strukturę liczby - mamy $8$ pozycji do wypełnienia"
      },
      {
        "step": 2,
        "hint": "Czy zero może być pierwszą cyfrą liczby?",
        "expression": "Pierwsza cyfra NIE może być zerem (liczba przestałaby być ośmiocyfrowa)",
        "explanation": "To kluczowe ograniczenie - pierwsza pozycja jest specjalna",
        "why": "Liczba $01234567$ to tak naprawdę $1234567$ (siedmiocyfrowa). W liczbach wielocyfrowych pierwsza cyfra musi być różna od zera."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów możemy wybrać $3$ cyfry nieparzyste z powtórzeniami?",
        "expression": "Każda z $3$ cyfr nieparzystych: $5$ możliwości, więc $5^3 = 125$ kombinacji",
        "explanation": "Cyfry mogą się powtarzać, więc dla każdej pozycji mamy $5$ wyborów",
        "why": "To wariacje z powtórzeniami: dla każdej z $3$ pozycji niezależnie wybieramy jedną z $5$ cyfr ($1$, $3$, $5$, $7$, $9$)."
      },
      {
        "step": 4,
        "hint": "Ile jest sposobów rozmieszczenia $3$ cyfr nieparzystych na $7$ pozycjach (bez pierwszej)?",
        "expression": "$\\binom{7}{3} = \\frac{7!}{3! \\cdot 4!} = \\frac{7 \\cdot 6 \\cdot 5}{3 \\cdot 2 \\cdot 1} = 35$",
        "explanation": "Wybieramy $3$ pozycje spośród $7$ (pozycje $2$-$8$) dla cyfr nieparzystych",
        "why": "Pierwsza pozycja MUSI być nieparzysta, więc zostaje $7$ pozycji. Wybieramy z nich $3$ dla pozostałych cyfr nieparzystych, reszta to zera. Uwaga: to kombinacje (kolejność nie ma znaczenia), nie permutacje!"
      },
      {
        "step": 5,
        "hint": "Jak połączyć wybór cyfr z ich rozmieszczeniem?",
        "expression": "$125 \\cdot 35 = 4375$",
        "explanation": "Mnożymy liczbę sposobów wyboru cyfr przez liczbę sposobów ich rozmieszczenia"
      },
      {
        "step": 6,
        "hint": "Czy uwzględniliśmy wszystkie ograniczenia?",
        "expression": "Weryfikacja: pierwsza cyfra nieparzysta ✓, $5$ zer na pozycjach $2$-$8$ ✓, $3$ cyfry nieparzyste ✓",
        "explanation": "Sprawdzamy poprawność rozwiązania"
      }
    ],
    "solutions": [
      "$4375$"
    ],
    "parameters": {
      "constraints": "8 cyfr, 5 zer, 3 cyfry nieparzyste, pierwsza cyfra $\\neq 0$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:21:52.933Z"
  },
  {
    "id": "combinatorics_five_digit_zero_unit",
    "topic": "Kombinatoryka - liczby pięciocyfrowe z warunkami",
    "difficulty": 4,
    "statement": "Ile jest liczb pięciocyfrowych, w których zapisie $0$ występuje co najwyżej raz, a cyfra jedności jest większa od $6$?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry spełniają warunek 'większa od $6$' na pozycji jedności?",
        "expression": "Cyfra jedności: $7, 8, 9$ (3 możliwości)",
        "explanation": "Cyfry większe od $6$ to $7$, $8$ i $9$"
      },
      {
        "step": 2,
        "hint": "Czy zero może pojawić się na pierwszej pozycji liczby pięciocyfrowej?",
        "expression": "Pierwsza cyfra: $1, 2, 3, 4, 5, 6, 7, 8, 9$ (9 możliwości, bez $0$)",
        "explanation": "Liczba pięciocyfrowa nie może zaczynać się od zera $0$",
        "why": "Zero na początku sprawiłoby, że liczba byłaby czterocyfrowa. To kluczowe ograniczenie w zadaniach z liczbami wielocyfrowymi."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów zero może wystąpić 'co najwyżej raz'?",
        "expression": "Dwa przypadki: zero nie występuje ALBO zero występuje dokładnie raz",
        "explanation": "Rozdzielamy problem na dwa rozłączne przypadki",
        "why": "'Co najwyżej raz' oznacza $0$ lub $1$ wystąpienie. Przypadki są rozłączne, więc na końcu je dodamy."
      },
      {
        "step": 4,
        "hint": "Ile cyfr możesz wybrać na środkowe pozycje, gdy zero w ogóle nie występuje?",
        "expression": "PRZYPADEK 1 (bez zera): środkowe 3 pozycje mają po $9$ możliwości każda (cyfry $1-9$)",
        "explanation": "Pozycje $2$, $3$, $4$ mogą mieć dowolną cyfrę oprócz zera"
      },
      {
        "step": 5,
        "hint": "Jak obliczyć liczbę możliwości w pierwszym przypadku?",
        "expression": "Przypadek 1: $9 \\cdot 9 \\cdot 9 \\cdot 9 \\cdot 3 = 9^4 \\cdot 3 = 19\\,683$",
        "explanation": "Mnożymy liczby możliwości dla każdej pozycji"
      },
      {
        "step": 6,
        "hint": "Na których pozycjach może wystąpić dokładnie jedno $0$?",
        "expression": "PRZYPADEK 2 (jedno zero): zero może być na pozycji $2$, $3$ lub $4$ ($3$ możliwości)",
        "explanation": "Zero nie może być na pozycji $1$ (początek) ani $5$ (jedności > $6$)",
        "why": "Pozycja 1 wykluczona (liczba pięciocyfrowa), pozycja 5 wykluczona (warunek $> 6$). Zostają środkowe 3 pozycje."
      },
      {
        "step": 7,
        "hint": "Ile cyfr możesz wybrać na pozostałe środkowe pozycje, gdy jedno zero już jest?",
        "expression": "Gdy zero zajmuje jedną środkową pozycję: pozostałe 2 środkowe mają po $9$ możliwości (cyfry $1-9$)",
        "explanation": "Dwie wolne środkowe pozycje, każda z $9$ cyframi bez zera"
      },
      {
        "step": 8,
        "hint": "Jak połączyć wszystkie wybory w drugim przypadku?",
        "expression": "Przypadek 2: $3 \\cdot 9 \\cdot 9^2 \\cdot 3 = 3 \\cdot 9 \\cdot 81 \\cdot 3 = 6\\,561$",
        "explanation": "3 pozycje dla zera, $9$ wyborów na pierwszą cyfrę, $81$ na dwie środkowe, $3$ na jedności",
        "why": "Mnożymy: wybór miejsca dla zera $(3)$ × pierwsza cyfra $(9)$ × dwie wolne środkowe $(9^2)$ × jedności $(3)$"
      },
      {
        "step": 9,
        "hint": "Jak połączyć oba rozłączne przypadki?",
        "expression": "Suma: $19\\,683 + 6\\,561 = 26\\,244$",
        "explanation": "Dodajemy liczby z obu przypadków, bo są rozłączne"
      }
    ],
    "solutions": [
      "$26\\,244$"
    ],
    "parameters": {
      "constraints": "liczba pięciocyfrowa, zero co najwyżej raz, cyfra jedności $> 6$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T09:22:24.268Z"
  },
  {
    "id": "combinatorics_eight_digit",
    "topic": "Kombinatoryka - liczby wielocyfrowe z warunkami",
    "difficulty": 4,
    "statement": "Ile jest liczb ośmiocyfrowych, w których zapisie cyfra $2$ występuje trzy razy, cyfrą dziesiątek jest $7$, a pozostałe cyfry są różne i inne niż wymienione cyfry?",
    "steps": [
      {
        "step": 1,
        "hint": "Które pozycje w liczbie są już zajęte przez konkretne cyfry?",
        "expression": "Cyfra dziesiątek (pozycja $2$ od prawej) = $7$, oraz trzy pozycje zajęte przez cyfrę $2$",
        "explanation": "Ustalamy stałe elementy: jedna pozycja to $7$, trzy pozycje to $2$",
        "why": "W liczbie ośmiocyfrowej mamy $8$ pozycji. Pozycja dziesiątek jest konkretna ($2$. od prawej), ale pozycje dla cyfr $2$ musimy wybrać. Uwaga: pierwsza cyfra nie może być zerem!"
      },
      {
        "step": 2,
        "hint": "Ile pozycji pozostaje do wypełnienia po umieszczeniu $7$ i trzech $2$?",
        "expression": "$8 - 1 - 3 = 4$ pozycje do wypełnienia",
        "explanation": "Po zajęciu $4$ pozycji (jedna siódemka i trzy dwójki), zostają $4$ wolne miejsca"
      },
      {
        "step": 3,
        "hint": "Czy pozycja dziesiątek może być zajęta przez cyfrę $2$?",
        "expression": "Pozycja dziesiątek jest zajęta przez $7$, więc cyfry $2$ rozmieszczamy na pozostałych $7$ pozycjach",
        "explanation": "Musimy wybrać $3$ pozycje spośród $7$ dostępnych (wszystkie oprócz pozycji dziesiątek)",
        "why": "Cyfra $7$ jest już na pozycji dziesiątek, więc cyfry $2$ nie mogą tam być. To ogranicza wybór pozycji dla dwójek."
      },
      {
        "step": 4,
        "hint": "Na ile sposobów możesz wybrać $3$ pozycje dla cyfr $2$ z $7$ dostępnych miejsc?",
        "expression": "$\\binom{7}{3} = \\frac{7!}{3! \\cdot 4!} = \\frac{7 \\cdot 6 \\cdot 5}{3 \\cdot 2 \\cdot 1} = 35$",
        "explanation": "Liczba sposobów wyboru $3$ pozycji dla cyfr $2$"
      },
      {
        "step": 5,
        "hint": "Które cyfry są już użyte i nie mogą pojawić się na pozostałych pozycjach?",
        "expression": "Użyte cyfry: $2$ i $7$. Dostępne cyfry: $\\{0, 1, 3, 4, 5, 6, 8, 9\\}$ - razem $8$ cyfr",
        "explanation": "Pozostałe $4$ pozycje muszą być wypełnione różnymi cyframi spośród $8$ dostępnych"
      },
      {
        "step": 6,
        "hint": "Czy pierwsza cyfra liczby może być zerem?",
        "expression": "Rozważamy dwa przypadki: gdy pierwsza pozycja jest zajęta przez $2$ lub $7$, oraz gdy jest wolna",
        "explanation": "Musimy sprawdzić, czy pierwsza pozycja jest wśród wybranych dla cyfr $2$ lub zajęta przez $7$",
        "why": "Liczba ośmiocyfrowa nie może zaczynać się od zera! To kluczowy warunek, który dzieli problem na przypadki."
      },
      {
        "step": 7,
        "hint": "Ile jest sposobów rozmieszczenia cyfr $2$ i $7$, gdy pierwsza pozycja NIE jest zerem?",
        "expression": "Przypadek A: Pierwsza pozycja zajęta przez $2$ lub $7$ (już zapewnione, że $\\neq 0$)",
        "explanation": "Jeśli pierwsza pozycja ma cyfrę $2$ lub $7$, warunek jest spełniony automatycznie"
      },
      {
        "step": 8,
        "hint": "Na ile sposobów można wybrać $3$ pozycje dla cyfr $2$, gdy jedna z nich jest na pierwszej pozycji?",
        "expression": "Pierwsza pozycja = $2$: wybieramy $2$ pozycje z pozostałych $6$ (bez pozycji dziesiątek): $\\binom{6}{2} = 15$",
        "explanation": "Liczba konfiguracji, gdy pierwsza cyfra to $2$"
      },
      {
        "step": 9,
        "hint": "Co jeśli pierwsza pozycja jest wolna - ile wtedy mamy możliwości?",
        "expression": "Pierwsza pozycja wolna: wybieramy $3$ pozycje dla cyfr $2$ z $6$ środkowych (bez pierwszej i dziesiątek): $\\binom{6}{3} = 20$",
        "explanation": "Liczba konfiguracji, gdy pierwsza pozycja jest do wypełnienia inną cyfrą"
      },
      {
        "step": 10,
        "hint": "Ile cyfr możemy użyć na pierwszej pozycji, gdy jest wolna?",
        "expression": "Pierwsza pozycja wolna: można użyć 7 cyfr (nie $0$, nie $2$, nie $7$): $\\{1, 3, 4, 5, 6, 8, 9\\}$",
        "explanation": "Dla każdej z $20$ konfiguracji mamy $7$ wyborów na pierwszą cyfrę",
        "why": "Zero nie może być pierwszą cyfrą! Z $8$ dostępnych cyfr wykluczamy $0$, zostaje $7$ możliwości."
      },
      {
        "step": 11,
        "hint": "Jak obliczyć liczbę sposobów wypełnienia pozostałych $4$ pozycji różnymi cyframi?",
        "expression": "Przypadek A (pierwsza = $2$): $4$ wolne pozycje, $8$ dostępnych cyfr: $8 \\cdot 7 \\cdot 6 \\cdot 5 = 1680$",
        "explanation": "Permutacje bez powtórzeń: pierwsza wolna pozycja - $8$ wyborów, druga - $7$, itd."
      },
      {
        "step": 12,
        "hint": "Jak zmienia się liczba możliwości, gdy pierwsza pozycja jest już zajęta?",
        "expression": "Przypadek B (pierwsza wolna): $4$ wolne pozycje (w tym pierwsza), ale pierwsza ma tylko $7$ opcji: $7 \\cdot 7 \\cdot 6 \\cdot 5 = 1470$",
        "explanation": "Pierwsza pozycja: $7$ wyborów (bez $0$), pozostałe $3$: $7 \\cdot 6 \\cdot 5$"
      },
      {
        "step": 13,
        "hint": "Jak połączyć liczbę konfiguracji cyfr $2$ z liczbą sposobów wypełnienia pozostałych pozycji?",
        "expression": "Przypadek A: $15 \\cdot 1680 = 25200$",
        "explanation": "Mnożymy liczbę konfiguracji przez liczbę sposobów wypełnienia"
      },
      {
        "step": 14,
        "hint": "Jaki jest wynik dla drugiego przypadku?",
        "expression": "Przypadek B: $20 \\cdot 1470 = 29400$",
        "explanation": "Analogicznie dla przypadku, gdy pierwsza pozycja jest wolna"
      },
      {
        "step": 15,
        "hint": "Czy przypadki się wykluczają? Jak je połączyć?",
        "expression": "$25200 + 29400 = 54600$",
        "explanation": "Sumujemy rozłączne przypadki"
      }
    ],
    "solutions": [
      "$54600$"
    ],
    "parameters": {
      "constraints": "Liczba ośmiocyfrowa, cyfra $2$ występuje $3$ razy, cyfra dziesiątek = $7$, pozostałe cyfry różne i różne od $2$ i $7$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 15,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T09:23:09.130Z"
  },
  {
    "id": "combinatorics_even_sum",
    "topic": "Kombinatoryka - wybór par liczb",
    "difficulty": 3,
    "statement": "Oblicz, na ile sposobów można ze zbioru $\\{1,2,3, \\ldots, 15\\}$ wybrać dwie różne liczby tak, aby suma tych liczb była parzysta.",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy suma dwóch liczb jest parzysta?",
        "expression": "Suma jest parzysta, gdy: parzysta + parzysta lub nieparzysta + nieparzysta",
        "explanation": "Analizujemy parzystość sumy dwóch liczb",
        "why": "To kluczowa obserwacja! Parzysta + nieparzysta = nieparzysta, więc takie pary nas nie interesują. Musimy liczyć tylko pary tego samego typu."
      },
      {
        "step": 2,
        "hint": "Ile jest liczb parzystych i nieparzystych w zbiorze $\\{1,2,3, \\ldots, 15\\}$?",
        "expression": "Parzyste: $\\{2,4,6,8,10,12,14\\}$ - jest ich $7$\n\nNieparzyste: $\\{1,3,5,7,9,11,13,15\\}$ - jest ich $8$",
        "explanation": "Dzielimy zbiór na dwa rozłączne podzbiory"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można wybrać $2$ liczby z $7$ parzystych?",
        "expression": "$\\binom{7}{2} = \\frac{7!}{2!(7-2)!} = \\frac{7 \\cdot 6}{2 \\cdot 1} = 21$",
        "explanation": "Liczba par złożonych z dwóch liczb parzystych",
        "why": "Używamy symbolu Newtona $\\binom{n}{k}$, bo kolejność wyboru nie ma znaczenia - para $(2,4)$ to to samo co $(4,2)$."
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można wybrać $2$ liczby z $8$ nieparzystych?",
        "expression": "$\\binom{8}{2} = \\frac{8!}{2!(8-2)!} = \\frac{8 \\cdot 7}{2 \\cdot 1} = 28$",
        "explanation": "Liczba par złożonych z dwóch liczb nieparzystych"
      },
      {
        "step": 5,
        "hint": "Czy te dwa przypadki się wykluczają? Jak je połączyć?",
        "expression": "$21 + 28 = 49$",
        "explanation": "Sumujemy liczbę par parzystych i nieparzystych",
        "why": "Przypadki są rozłączne (para nie może być jednocześnie parzysta i nieparzysta), więc dodajemy. Gdyby się pokrywały, musielibyśmy użyć zasady włączeń i wyłączeń."
      }
    ],
    "solutions": [
      "$49$"
    ],
    "parameters": {
      "set": "$\\{1,2,3, \\ldots, 15\\}$",
      "condition": "suma parzysta"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:23:24.991Z"
  },
  {
    "id": "combinatorics_odd_sum",
    "topic": "Kombinatoryka - wybór par liczb",
    "difficulty": 3,
    "statement": "Oblicz, na ile sposobów można ze zbioru $\\{1,2,3, \\ldots, 15\\}$ wybrać dwie różne liczby tak, aby suma tych liczb była nieparzysta.",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy suma dwóch liczb jest nieparzysta?",
        "expression": "Suma jest nieparzysta, gdy jedna liczba jest parzysta, a druga nieparzysta",
        "explanation": "Analizujemy warunek parzystości sumy",
        "why": "To kluczowa obserwacja: parzysta + parzysta = parzysta, nieparzysta + nieparzysta = parzysta, ale parzysta + nieparzysta = nieparzysta. Bez tego nie rozwiążemy zadania!"
      },
      {
        "step": 2,
        "hint": "Ile jest liczb parzystych i nieparzystych w zbiorze $\\{1,2,3, \\ldots, 15\\}$?",
        "expression": "Liczby parzyste: $\\{2,4,6,8,10,12,14\\}$ - jest ich $7$\n\nLiczby nieparzyste: $\\{1,3,5,7,9,11,13,15\\}$ - jest ich $8$",
        "explanation": "Dzielimy zbiór na dwie grupy według parzystości"
      },
      {
        "step": 3,
        "hint": "Jak wybrać jedną liczbę parzystą i jedną nieparzystą?",
        "expression": "Liczba sposobów = $(\\text{liczba parzystych}) \\times (\\text{liczba nieparzystych})$",
        "explanation": "Stosujemy regułę mnożenia",
        "why": "Dla każdej z $7$ liczb parzystych możemy wybrać dowolną z $8$ nieparzystych - to niezależne wybory, więc mnożymy."
      },
      {
        "step": 4,
        "hint": "Jaki jest końcowy wynik mnożenia?",
        "expression": "$7 \\times 8 = 56$",
        "explanation": "Obliczamy liczbę wszystkich możliwych par"
      }
    ],
    "solutions": [
      "$56$"
    ],
    "parameters": {
      "set": "$\\{1,2,3, \\ldots, 15\\}$",
      "condition": "suma nieparzysta"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:23:41.478Z"
  },
  {
    "id": "combinatorics_even_product",
    "topic": "Kombinatoryka - zliczanie z warunkiem parzystości",
    "difficulty": 3,
    "statement": "Oblicz, na ile sposobów można ze zbioru $\\{1,2,3, \\ldots, 15\\}$ wybrać dwie różne liczby tak, aby iloczyn tych liczb był parzysty.",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy iloczyn dwóch liczb jest parzysty?",
        "expression": "Iloczyn jest parzysty, gdy przynajmniej jedna z liczb jest parzysta",
        "explanation": "Analizujemy warunek parzystości iloczynu",
        "why": "Kluczowa obserwacja: iloczyn nieparzysty tylko gdy OBE liczby nieparzyste. Łatwiej policzyć dopełnienie!"
      },
      {
        "step": 2,
        "hint": "Ile jest liczb parzystych i nieparzystych w zbiorze $\\{1,2,3, \\ldots, 15\\}$?",
        "expression": "Liczby parzyste: $2, 4, 6, 8, 10, 12, 14$ (7 liczb), Liczby nieparzyste: $1, 3, 5, 7, 9, 11, 13, 15$ (8 liczb)",
        "explanation": "Dzielimy zbiór na parzyste i nieparzyste"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można wybrać dowolne dwie różne liczby z $15$?",
        "expression": "$\\binom{15}{2} = \\frac{15 \\cdot 14}{2} = 105$",
        "explanation": "Wszystkie możliwe pary z $15$ elementów"
      },
      {
        "step": 4,
        "hint": "Kiedy iloczyn będzie NIEparzysty? Ile jest takich par?",
        "expression": "$\\binom{8}{2} = \\frac{8 \\cdot 7}{2} = 28$",
        "explanation": "Iloczyn nieparzysty tylko gdy obie liczby nieparzyste - wybieramy $2$ z $8$ nieparzystych",
        "why": "Metoda dopełnienia: łatwiej policzyć pary niepożądane i odjąć od wszystkich. Alternatywa: sumować pary $(parzysta, parzysta)$ + $(parzysta, nieparzysta)$ + $(nieparzysta, parzysta)$."
      },
      {
        "step": 5,
        "hint": "Jak otrzymać liczbę par z iloczynem parzystym?",
        "expression": "$105 - 28 = 77$",
        "explanation": "Od wszystkich par odejmujemy pary z iloczynem $nieparzystym$"
      }
    ],
    "solutions": [
      "$77$"
    ],
    "parameters": {
      "set": "$\\{1,2,3, \\ldots, 15\\}$",
      "condition": "iloczyn parzysty"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:23:58.272Z"
  },
  {
    "id": "combinatorics_divisibility_8",
    "topic": "Kombinatoryka z warunkiem podzielności",
    "difficulty": 4,
    "statement": "Oblicz, na ile sposobów można ze zbioru $\\{1,2,3, \\ldots, 15\\}$ wybrać dwie różne liczby tak, aby iloczyn tych liczb był podzielny przez $8$.",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy iloczyn dwóch liczb jest podzielny przez $8$?",
        "expression": "Iloczyn $a \\cdot b$ jest podzielny przez $8 = 2^3$, gdy łączna liczba czynników 2 w rozkładzie obu liczb wynosi co najmniej 3",
        "explanation": "Analizujemy warunek podzielności przez potęgę liczby pierwszej",
        "why": "Kluczowe: $8 = 2^3$, więc potrzebujemy co najmniej trzech dwójek w rozkładzie iloczynu. Jedna liczba może mieć $0$, $1$, $2$ lub $3+$ dwójki."
      },
      {
        "step": 2,
        "hint": "Jak pogrupować liczby ze zbioru według liczby czynników $2$ w ich rozkładzie?",
        "expression": "Nieparzyste (0 dwójek): $\\{1,3,5,7,9,11,13,15\\}$ - 8 liczb\nParzyste $\\equiv 2 \\pmod{4}$ (1 dwójka): $\\{2,6,10,14\\}$ - 4 liczby\nParzyste $\\equiv 0 \\pmod{4}$, ale $\\not\\equiv 0 \\pmod{8}$ (2 dwójki): $\\{4,12\\}$ - 2 liczby\nPodzielne przez 8 (3+ dwójki): $\\{8\\}$ - 1 liczba",
        "explanation": "Dzielimy zbiór na cztery grupy według potęgi $2$ w rozkładzie"
      },
      {
        "step": 3,
        "hint": "Które pary grup dadzą iloczyn podzielny przez $8$?",
        "expression": "Potrzebujemy par, gdzie suma wykładników dwójki $\\geq 3$:\n• Grupa $0$ + Grupa $3+$: $0 + 3 = 3$ ✓\n• Grupa $1$ + Grupa $2$: $1 + 2 = 3$ ✓\n• Grupa $1$ + Grupa $3+$: $1 + 3 = 4$ ✓\n• Grupa $2$ + Grupa $2$: $2 + 2 = 4$ ✓\n• Grupa $2$ + Grupa $3+$: $2 + 3 = 5$ ✓\n• Grupa $3+$ + Grupa $3+$: $3 + 3 = 6$ ✓",
        "explanation": "Identyfikujemy wszystkie kombinacje grup spełniające warunek",
        "why": "Systematyczne podejście: sprawdzamy wszystkie możliwe pary grup. Uwaga: para z tej samej grupy (np. $2+2$) też się liczy!"
      },
      {
        "step": 4,
        "hint": "Ile par możemy utworzyć z każdej kombinacji grup?",
        "expression": "• Nieparzyste × Podzielne przez 8: $8 \\cdot 1 = 8$ par\n• (1 dwójka) × (2 dwójki): $4 \\cdot 2 = 8$ par\n• (1 dwójka) × Podzielne przez 8: $4 \\cdot 1 = 4$ pary\n• (2 dwójki) × (2 dwójki): $\\binom{2}{2} = 1$ para\n• (2 dwójki) × Podzielne przez 8: $2 \\cdot 1 = 2$ pary\n• Podzielne przez 8 × Podzielne przez 8: $\\binom{1}{2} = 0$ par",
        "explanation": "Obliczamy liczbę par dla każdej kombinacji grup",
        "why": "Dla różnych grup: mnożymy liczności. Dla tej samej grupy: używamy symbolu Newtona $\\binom{n}{2}$, bo wybieramy $2$ z $n$ elementów."
      },
      {
        "step": 5,
        "hint": "Jaka jest suma wszystkich możliwych par?",
        "expression": "$8 + 8 + 4 + 1 + 2 + 0 = 23$",
        "explanation": "Sumujemy wszystkie przypadki spełniające warunek"
      }
    ],
    "solutions": [
      "$23$"
    ],
    "parameters": {
      "set": "$\\{1,2,3, \\ldots, 15\\}$",
      "condition": "iloczyn podzielny przez $8$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:24:22.578Z"
  },
  {
    "id": "combinatorics_odd_sum",
    "topic": "Kombinatoryka - sumy liczb",
    "difficulty": 4,
    "statement": "Oblicz, na ile sposobów można ze zbioru $\\{1,2,3, \\ldots, 11\\}$ wybrać trzy różne liczby tak, aby suma tych liczb była nieparzysta.",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy suma trzech liczb jest nieparzysta?",
        "expression": "Suma trzech liczb jest nieparzysta, gdy mamy nieparzystą liczbę liczb nieparzystych",
        "explanation": "Analizujemy parzystość sumy",
        "why": "Kluczowa obserwacja: nieparzysta + nieparzysta = parzysta, parzysta + nieparzysta = nieparzysta. Więc suma trzech liczb jest nieparzysta gdy: ($1$ nieparzysta + $2$ parzyste) lub ($3$ nieparzyste + $0$ parzystych)."
      },
      {
        "step": 2,
        "hint": "Ile liczb parzystych i nieparzystych jest w zbiorze $\\{1,2,3, \\ldots, 11\\}$?",
        "expression": "Liczby nieparzyste: $\\{1,3,5,7,9,11\\}$ - jest ich $6$. Liczby parzyste: $\\{2,4,6,8,10\\}$ - jest ich $5$",
        "explanation": "Dzielimy zbiór na dwie grupy według parzystości"
      },
      {
        "step": 3,
        "hint": "Jakie są możliwe kombinacje parzystości dla nieparzystej sumy?",
        "expression": "Przypadek A: $1$ nieparzysta i $2$ parzyste. Przypadek B: $3$ nieparzyste i $0$ parzystych",
        "explanation": "Identyfikujemy dwa rozłączne przypadki"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można wybrać $1$ liczbę z $6$ i $2$ liczby z $5$?",
        "expression": "Przypadek A: $\\binom{6}{1} \\cdot \\binom{5}{2} = 6 \\cdot 10 = 60$",
        "explanation": "Wybieramy $1$ nieparzystą z $6$ dostępnych i $2$ parzyste z $5$ dostępnych",
        "why": "Używamy reguły mnożenia: wybory są niezależne. $\\binom{5}{2} = \\frac{5 \\cdot 4}{2} = 10$ sposobów wyboru 2 z 5."
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można wybrać $3$ liczby z $6$ nieparzystych?",
        "expression": "Przypadek B: $\\binom{6}{3} = \\frac{6 \\cdot 5 \\cdot 4}{3 \\cdot 2 \\cdot 1} = \\frac{120}{6} = 20$",
        "explanation": "Wybieramy $3$ nieparzyste z $6$ dostępnych"
      },
      {
        "step": 6,
        "hint": "Czy przypadki $A$ i $B$ mogą zajść jednocześnie?",
        "expression": "Łączna liczba sposobów: $60 + 20 = 80$",
        "explanation": "Przypadki są rozłączne, więc dodajemy ich liczności",
        "why": "Reguła sumy: gdy zdarzenia wykluczają się wzajemnie, prawdopodobieństwa (lub liczności) się dodają. Nie można jednocześnie wybrać $1$ i $3$ liczb nieparzystych."
      }
    ],
    "solutions": [
      "$80$"
    ],
    "parameters": {
      "set": "$\\{1,2,3, \\ldots, 11\\}$",
      "condition": "suma trzech różnych liczb nieparzystych"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:24:39.436Z"
  },
  {
    "id": "combinatorics_odd_product",
    "topic": "Kombinatoryka - wybór elementów ze zbioru",
    "difficulty": 3,
    "statement": "Oblicz, na ile sposobów można ze zbioru $\\{1,2,3, \\ldots, 11\\}$ wybrać trzy różne liczby tak, aby iloczyn tych liczb był nieparzysty.",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy iloczyn liczb jest nieparzysty?",
        "expression": "Iloczyn jest nieparzysty $\\Leftrightarrow$ wszystkie czynniki są nieparzyste",
        "explanation": "Jeśli choć jedna liczba jest parzysta, cały iloczyn będzie parzysty",
        "why": "To kluczowa obserwacja! Iloczyn $a \\cdot b \\cdot c$ jest nieparzysty tylko gdy $a$, $b$ i $c$ są nieparzyste. Wystarczy jedna parzysta liczba, by iloczyn był parzysty."
      },
      {
        "step": 2,
        "hint": "Ile liczb nieparzystych znajduje się w zbiorze $\\{1,2,3, \\ldots, 11\\}$?",
        "expression": "Liczby nieparzyste: $\\{1, 3, 5, 7, 9, 11\\}$, czyli $6$ liczb",
        "explanation": "Wypisujemy wszystkie nieparzyste liczby ze zbioru"
      },
      {
        "step": 3,
        "hint": "Czy kolejność wyboru liczb ma znaczenie w tym zadaniu?",
        "expression": "Wybieramy $3$ liczby z $6$ nieparzystych, kolejność nie ma znaczenia",
        "explanation": "To problem kombinacji bez powtórzeń",
        "why": "Iloczyn nie zależy od kolejności: $3 \\cdot 5 \\cdot 7 = 5 \\cdot 3 \\cdot 7$. Gdyby chodziło o permutacje (np. hasła), kolejność by się liczyła."
      },
      {
        "step": 4,
        "hint": "Jaki wzór pozwala obliczyć liczbę kombinacji?",
        "expression": "$\\binom{6}{3} = \\frac{6!}{3! \\cdot (6-3)!} = \\frac{6!}{3! \\cdot 3!}$",
        "explanation": "Stosujemy wzór na liczbę kombinacji $k$ elementów z $n$ elementów"
      },
      {
        "step": 5,
        "hint": "Jak uprościć to wyrażenie?",
        "expression": "$\\binom{6}{3} = \\frac{6 \\cdot 5 \\cdot 4 \\cdot 3!}{3! \\cdot 3!} = \\frac{6 \\cdot 5 \\cdot 4}{3 \\cdot 2 \\cdot 1} = \\frac{120}{6} = 20$",
        "explanation": "Skracamy silnie i wykonujemy obliczenia"
      }
    ],
    "solutions": [
      "$20$"
    ],
    "parameters": {
      "set": "$\\{1,2,3, \\ldots, 11\\}$",
      "condition": "iloczyn nieparzysty"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:24:55.103Z"
  },
  {
    "id": "combinatorics_even_product",
    "topic": "Kombinatoryka - zliczanie z warunkiem parzystości",
    "difficulty": 4,
    "statement": "Oblicz, na ile sposobów można ze zbioru $\\{1,2,3, \\ldots, 11\\}$ wybrać trzy różne liczby tak, aby iloczyn tych liczb był parzysty.",
    "steps": [
      {
        "step": 1,
        "hint": "Kiedy iloczyn trzech liczb jest parzysty?",
        "expression": "Iloczyn jest parzysty, gdy przynajmniej jedna z liczb jest parzysta",
        "explanation": "Iloczyn nieparzysty tylko gdy wszystkie czynniki nieparzyste",
        "why": "To kluczowa obserwacja! Zamiast liczyć bezpośrednio przypadki parzyste (skomplikowane), policzymy nieparzyste i odejmiemy od wszystkich. To typowa strategia w kombinatoryce."
      },
      {
        "step": 2,
        "hint": "Ile jest liczb parzystych i nieparzystych w zbiorze $\\{1,2,3, \\ldots, 11\\}$?",
        "expression": "Parzyste: $\\{2,4,6,8,10\\}$ - jest ich $5$. Nieparzyste: $\\{1,3,5,7,9,11\\}$ - jest ich $6$",
        "explanation": "Dzielimy zbiór na dwa rozłączne podzbiory"
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można wybrać $3$ liczby spośród wszystkich $11$?",
        "expression": "$\\binom{11}{3} = \\frac{11!}{3! \\cdot 8!} = \\frac{11 \\cdot 10 \\cdot 9}{3 \\cdot 2 \\cdot 1} = \\frac{990}{6} = 165$",
        "explanation": "Obliczamy liczbę wszystkich możliwych trójek"
      },
      {
        "step": 4,
        "hint": "Kiedy iloczyn trzech liczb będzie nieparzysty?",
        "expression": "Iloczyn nieparzysty $\\Leftrightarrow$ wszystkie trzy liczby nieparzyste",
        "explanation": "Musimy wybrać $3$ liczby ze zbioru $6$ liczb nieparzystych"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można wybrać $3$ liczby nieparzyste z $6$ dostępnych?",
        "expression": "$\\binom{6}{3} = \\frac{6!}{3! \\cdot 3!} = \\frac{6 \\cdot 5 \\cdot 4}{3 \\cdot 2 \\cdot 1} = \\frac{120}{6} = 20$",
        "explanation": "Liczba trójek dających iloczyn nieparzysty"
      },
      {
        "step": 6,
        "hint": "Jak z liczby wszystkich trójek otrzymać liczbę trójek o parzystym iloczynie?",
        "expression": "$165 - 20 = 145$",
        "explanation": "Od wszystkich możliwości odejmujemy te z iloczynem $nieparzystym$",
        "why": "Zasada dopełnienia: łatwiej policzyć przypadki 'złe' (wszystkie nieparzyste) niż 'dobre' (co najmniej jedna parzysta). Sprawdzenie: $145 + 20 = 165$ ✓"
      }
    ],
    "solutions": [
      "$145$"
    ],
    "parameters": {
      "method": "Zasada dopełnienia (zliczanie przez uzupełnienie)"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:25:13.433Z"
  },
  {
    "id": "combinatorics_divisibility_10",
    "topic": "Kombinatoryka z warunkiem podzielności",
    "difficulty": 4,
    "statement": "Oblicz, na ile sposobów można ze zbioru $\\{1,2,3, \\ldots, 11\\}$ wybrać trzy różne liczby tak, aby iloczyn tych liczb był podzielny przez $10$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie liczby pierwsze muszą dzielić iloczyn, żeby był podzielny przez $10$?",
        "expression": "$10 = 2 \\cdot 5$",
        "explanation": "Iloczyn trzech liczb musi być podzielny przez $2$ i przez $5$",
        "why": "Podzielność przez $10$ oznacza podzielność przez wszystkie jego czynniki pierwsze. Musimy więc wybrać liczby tak, aby w ich iloczynie znalazły się zarówno $2$, jak i $5$."
      },
      {
        "step": 2,
        "hint": "Które liczby ze zbioru są podzielne przez $5$?",
        "expression": "Liczby podzielne przez 5: $\\{5, 10\\}$",
        "explanation": "W zbiorze $\\{1,2,3,\\ldots,11\\}$ tylko dwie liczby są podzielne przez $5$"
      },
      {
        "step": 3,
        "hint": "Czy łatwiej policzyć przypadki z piątką, czy bez piątki?",
        "expression": "Rozważamy dwa przypadki: gdy wybieramy liczbę podzielną przez $5$ i gdy nie",
        "explanation": "Dzielimy problem na rozłączne przypadki",
        "why": "Skoro tylko $5$ i $10$ dają podzielność przez $5$, wygodnie jest rozpatrzyć: (A) wybieramy przynajmniej jedną z nich, (B) nie wybieramy żadnej - ale wtedy iloczyn nie będzie podzielny przez $5$, więc przypadek B odpada!"
      },
      {
        "step": 4,
        "hint": "Ile jest liczb parzystych w naszym zbiorze?",
        "expression": "Liczby parzyste: $\\{2, 4, 6, 8, 10\\}$ - jest ich $5$",
        "explanation": "Potrzebujemy też podzielności przez $2$"
      },
      {
        "step": 5,
        "hint": "Co się stanie, gdy wybierzemy liczbę $10$?",
        "expression": "Przypadek 1: Wybieramy $10$ (podzielne przez $2$ i $5$)",
        "explanation": "Liczba $10 = 2 \\cdot 5$ zapewnia obie potrzebne podzielności",
        "why": "Gdy w trójce jest $10$, warunek podzielności przez $10$ jest automatycznie spełniony! Pozostałe dwie liczby możemy wybrać dowolnie z pozostałych $10$ liczb."
      },
      {
        "step": 6,
        "hint": "Na ile sposobów można wybrać dwie liczby z $10$ pozostałych?",
        "expression": "$\\binom{10}{2} = \\frac{10 \\cdot 9}{2} = 45$",
        "explanation": "Gdy mamy $10$, wybieramy dowolne $2$ z pozostałych $10$ liczb"
      },
      {
        "step": 7,
        "hint": "Co musi być prawdą o pozostałych dwóch liczbach, gdy wybieramy $5$ zamiast $10$?",
        "expression": "Przypadek 2: Wybieramy $5$ (ale nie $10$)",
        "explanation": "Liczba $5$ daje podzielność przez $5$, ale potrzebujemy jeszcze podzielności przez $2$",
        "why": "Skoro $5$ nie jest parzyste, przynajmniej jedna z dwóch pozostałych liczb musi być parzysta. Łatwiej policzyć wszystkie możliwości i odjąć te złe (gdy obie pozostałe są nieparzyste)."
      },
      {
        "step": 8,
        "hint": "Ile jest sposobów wyboru dwóch liczb z pozostałych dziewięciu (bez $5$ i $10$)?",
        "expression": "Pozostałe liczby: $\\{1,2,3,4,6,7,8,9,11\\}$ - jest ich $9$",
        "explanation": "$\\binom{9}{2} = \\frac{9 \\cdot 8}{2} = 36$ sposobów wyboru dwóch liczb"
      },
      {
        "step": 9,
        "hint": "Które pary liczb NIE dadzą podzielności przez $2$?",
        "expression": "Liczby nieparzyste (bez 5): $\\{1, 3, 7, 9, 11\\}$ - jest ich $5$",
        "explanation": "Gdy obie wybrane liczby są nieparzyste, iloczyn nie będzie podzielny przez $2$"
      },
      {
        "step": 10,
        "hint": "Ile jest par złożonych z dwóch liczb nieparzystych?",
        "expression": "$\\binom{5}{2} = \\frac{5 \\cdot 4}{2} = 10$",
        "explanation": "To są przypadki, które musimy wykluczyć"
      },
      {
        "step": 11,
        "hint": "Ile dobrych trójek otrzymamy z piątką?",
        "expression": "$36 - 10 = 26$",
        "explanation": "Od wszystkich możliwości z $5$ odejmujemy te bez liczby parzystej"
      },
      {
        "step": 12,
        "hint": "Jak połączyć oba przypadki w końcowy wynik?",
        "expression": "$45 + 26 = 71$",
        "explanation": "Sumujemy przypadki z dziesiątką i z piątką (bez dziesiątki)"
      }
    ],
    "solutions": [
      "$71$"
    ],
    "parameters": {
      "set": "$\\{1,2,3,\\ldots,11\\}$",
      "condition": "iloczyn podzielny przez $10$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 12,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T09:25:41.169Z"
  },
  {
    "id": "combinatorics_nondecreasing_digits",
    "topic": "Kombinatoryka - ciągi niemalejące",
    "difficulty": 4,
    "statement": "Ile jest liczb trzycyfrowych, w których zapisie cyfry tworzą ciąg niemalejący?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza, że cyfry tworzą ciąg niemalejący?",
        "expression": "Szukamy liczb postaci $abc$, gdzie $a \\leq b \\leq c$ oraz $a \\geq 1$",
        "explanation": "Cyfry nie maleją od lewej do prawej, pierwsza cyfra nie może być $0$",
        "why": "W liczbie trzycyfrowej pierwsza cyfra musi być z zakresu $1$-$9$, pozostałe z $0$-$9$. Niemalejący oznacza, że każda kolejna cyfra jest większa lub równa poprzedniej."
      },
      {
        "step": 2,
        "hint": "Czy możemy wybrać dowolne trzy cyfry z powtórzeniami?",
        "expression": "Problem sprowadza się do wyboru $3$ cyfr z powtórzeniami ze zbioru $\\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}$",
        "explanation": "Gdy wybierzemy cyfry, możemy je uporządkować rosnąco - otrzymamy dokładnie jedną liczbę",
        "why": "Kluczowa obserwacja: każdy zbiór cyfr (z powtórzeniami) daje dokładnie jedną liczbę niemalejącą. Np. wybór $\\{2,5,5\\}$ → tylko $255$."
      },
      {
        "step": 3,
        "hint": "Jaki wzór kombinatoryczny pozwala wybierać z powtórzeniami?",
        "expression": "Liczba kombinacji z powtórzeniami: $\\binom{n+k-1}{k}$, gdzie $n=9$ (cyfry 1-9), $k=3$ (pozycje)",
        "explanation": "Stosujemy wzór na kombinacje z powtórzeniami",
        "why": "Kombinacje z powtórzeniami to klasyczny problem 'kule i przegrody'. Alternatywa: bezpośrednie zliczanie przypadków, ale to bardzo czasochłonne."
      },
      {
        "step": 4,
        "hint": "Jak obliczyć $\\binom{11}{3}$?",
        "expression": "$\\binom{9+3-1}{3} = \\binom{11}{3} = \\frac{11!}{3! \\cdot 8!} = \\frac{11 \\cdot 10 \\cdot 9}{3 \\cdot 2 \\cdot 1}$",
        "explanation": "Podstawiamy do wzoru na symbol Newtona"
      },
      {
        "step": 5,
        "hint": "Jak uprościć to wyrażenie krok po kroku?",
        "expression": "$\\frac{11 \\cdot 10 \\cdot 9}{6} = \\frac{990}{6} = 165$",
        "explanation": "Wykonujemy obliczenia"
      }
    ],
    "solutions": [
      "165"
    ],
    "parameters": {
      "note": "Liczby trzycyfrowe od $100$ do $999$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:25:57.945Z"
  },
  {
    "id": "combinatorics_digit_sum",
    "topic": "Kombinatoryka - rozmieszczanie identycznych obiektów",
    "difficulty": 4,
    "statement": "Ile jest liczb piętnastocyfrowych, w których suma cyfr jest równa $3$?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą wystąpić w liczbie, której suma cyfr wynosi $3$?",
        "expression": "Cyfry: $0$, $1$, $2$, $3$ (oraz kombinacje: trzy jedynki, jedna dwójka i jedna jedynka, jedna trójka)",
        "explanation": "Suma cyfr równa $3$ ogranicza możliwe cyfry do małych wartości"
      },
      {
        "step": 2,
        "hint": "Dlaczego pierwsza cyfra nie może być zerem?",
        "expression": "Pierwsza cyfra musi być z zbioru $\\{1, 2, 3\\}$, pozostałe 14 cyfr z $\\{0, 1, 2, 3\\}$",
        "explanation": "Liczba piętnastocyfrowa nie może zaczynać się od zera",
        "why": "To kluczowe ograniczenie! Liczba zaczynająca się od $0$ byłaby krótsza. Musimy osobno rozpatrzyć przypadki w zależności od pierwszej cyfry."
      },
      {
        "step": 3,
        "hint": "Co się stanie z pozostałymi cyframi, gdy pierwsza cyfra to $3$?",
        "expression": "Przypadek 1: Pierwsza cyfra = $3$, pozostałe $14$ cyfr = $0$",
        "explanation": "Jeśli pierwsza cyfra to $3$, suma jest już osiągnięta",
        "why": "Gdy zużyjemy całą sumę na pierwszą cyfrę, pozostałe muszą być zerami. To daje dokładnie $1$ liczbę."
      },
      {
        "step": 4,
        "hint": "Ile zer i ile jedynek potrzebujemy, gdy pierwsza cyfra to $2$?",
        "expression": "Przypadek 2: Pierwsza cyfra = $2$, w pozostałych $14$ pozycjach dokładnie jedna $1$ i trzynaście $0$",
        "explanation": "Suma: $2 + 1 = 3$, wybieramy pozycję dla jedynki",
        "why": "Mamy $14$ pozycji i wybieramy $1$ dla jedynki. To klasyczne $\\binom{14}{1}$ - kombinacje bez powtórzeń."
      },
      {
        "step": 5,
        "hint": "Na ile sposobów możesz rozmieścić jedną jedynkę na $14$ pozycjach?",
        "expression": "$\\binom{14}{1} = 14$ liczb",
        "explanation": "Jedynka może być na dowolnej z $14$ pozostałych pozycji"
      },
      {
        "step": 6,
        "hint": "Ile jedynek musi być w liczbie, gdy pierwsza cyfra to $1$?",
        "expression": "Przypadek 3: Pierwsza cyfra = $1$, w pozostałych $14$ pozycjach dokładnie dwie $1$ i dwanaście $0$",
        "explanation": "Suma: $1 + 1 + 1 = 3$, wybieramy $2$ pozycje dla jedynek"
      },
      {
        "step": 7,
        "hint": "Na ile sposobów możesz wybrać $2$ pozycje z $14$ dla dwóch jedynek?",
        "expression": "$\\binom{14}{2} = \\frac{14 \\cdot 13}{2} = \\frac{182}{2} = 91$ liczb",
        "explanation": "Wybieramy $2$ pozycje z $14$ dla jedynek, reszta to zera",
        "why": "Używamy symbolu Newtona (kombinacje). Wzór: $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$. Kolejność nie ma znaczenia - wybieramy pozycje, nie ustawiamy."
      },
      {
        "step": 8,
        "hint": "Jak połączyć wszystkie przypadki w jedną odpowiedź?",
        "expression": "$1 + 14 + 91 = 106$",
        "explanation": "Sumujemy wszystkie rozłączne przypadki"
      }
    ],
    "solutions": [
      "$106$"
    ],
    "parameters": {
      "note": "Liczba piętnastocyfrowa: od $10^{14}$ do $10^{15} - 1$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T09:26:27.430Z"
  },
  {
    "id": "combinatorics_digits_sum",
    "topic": "Kombinatoryka - rozmieszczenie cyfr",
    "difficulty": 4,
    "statement": "Ile jest liczb dwudziestocyfrowych, w których suma cyfr jest równa $4$?",
    "steps": [
      {
        "step": 1,
        "hint": "Czym różni się pierwsza cyfra od pozostałych w liczbie dwudziestocyfrowej?",
        "expression": "Pierwsza cyfra: $c_1 \\in \\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}$, pozostałe: $c_2, c_3, ..., c_{20} \\in \\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\\}$",
        "explanation": "Liczba dwudziestocyfrowa nie może zaczynać się od zera",
        "why": "To kluczowe ograniczenie! Gdyby pierwsza cyfra mogła być zerem, mielibyśmy liczbę dziewiętnastocyfrową. Musimy rozpatrzyć przypadki osobno."
      },
      {
        "step": 2,
        "hint": "Jakie są możliwe wartości pierwszej cyfry, jeśli suma wszystkich ma wynosić $4$?",
        "expression": "Przypadki: $c_1 = 1$, $c_1 = 2$, $c_1 = 3$ lub $c_1 = 4$",
        "explanation": "Pierwsza cyfra nie może być większa niż $4$, bo wtedy suma przekroczyłaby $4$"
      },
      {
        "step": 3,
        "hint": "Jeśli pierwsza cyfra to $1$, ile muszą wynosić pozostałe $19$ cyfr?",
        "expression": "Dla $c_1 = 1$: suma pozostałych 19 cyfr = $4 - 1 = 3$",
        "explanation": "Rozkładamy problem na mniejszy: ile jest sposobów zapisania $3$ jako sumy $19$ cyfr (każda od $0$ do $9$)?",
        "why": "To klasyczny problem kombinatoryczny: rozmieszczenie $k$ identycznych obiektów w $n$ pudełkach. Użyjemy metody 'stars and bars' (gwiazdki i kreski)."
      },
      {
        "step": 4,
        "hint": "Jak przekształcić problem sumy cyfr na problem kombinatoryczny?",
        "expression": "Liczba rozwiązań równania $x_1 + x_2 + ... + x_{19} = 3$, gdzie $x_i \\geq 0$",
        "explanation": "To równoważne pytaniu: na ile sposobów można rozdzielić $3$ jedynki między $19$ pozycji",
        "why": "Wzór na liczbę rozwiązań to $\\binom{n+k-1}{k}$, gdzie $n$ to liczba pozycji, $k$ to suma. Tu: $\\binom{19+3-1}{3} = \\binom{21}{3}$."
      },
      {
        "step": 5,
        "hint": "Ile wynosi $\\binom{21}{3}$?",
        "expression": "$\\binom{21}{3} = \\frac{21!}{3! \\cdot 18!} = \\frac{21 \\cdot 20 \\cdot 19}{3 \\cdot 2 \\cdot 1} = \\frac{7980}{6} = 1330$",
        "explanation": "Dla $c_1 = 1$ mamy $1330$ możliwości"
      },
      {
        "step": 6,
        "hint": "Jak obliczyć liczbę możliwości dla pozostałych wartości pierwszej cyfry?",
        "expression": "Dla $c_1 = 2$: $\\binom{19+2-1}{2} = \\binom{20}{2} = \\frac{20 \\cdot 19}{2} = 190$",
        "explanation": "Suma pozostałych $19$ cyfr = $2$"
      },
      {
        "step": 7,
        "hint": "Co z przypadkami gdy pierwsza cyfra to $3$ lub $4$?",
        "expression": "Dla $c_1 = 3$: $\\binom{19+1-1}{1} = \\binom{19}{1} = 19$\n\nDla $c_1 = 4$: $\\binom{19+0-1}{0} = \\binom{18}{0} = 1$",
        "explanation": "Dla $c_1 = 3$ suma pozostałych = $1$, dla $c_1 = 4$ suma pozostałych = $0$"
      },
      {
        "step": 8,
        "hint": "Jak połączyć wszystkie przypadki w jedną odpowiedź?",
        "expression": "$1330 + 190 + 19 + 1 = 1540$",
        "explanation": "Sumujemy wszystkie możliwe przypadki dla różnych wartości pierwszej cyfry"
      }
    ],
    "solutions": [
      "$1540$"
    ],
    "parameters": {
      "method": "Kombinatoryka - metoda stars and bars",
      "key_formula": "$\\binom{n+k-1}{k}$ dla rozkładu $k$ obiektów na $n$ pozycji"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:26:51.076Z"
  },
  {
    "id": "combinatorics_books_boxes",
    "topic": "Kombinatoryka z warunkami",
    "difficulty": 4,
    "statement": "Mamy $12$ książek, wśród których są książki $A$, $B$, $C$. Wkładamy je do trzech ponumerowanych pudełek, do każdego po $4$ książki. Ile jest możliwości takiego ułożenia książek w pudełkach, aby w pierwszym pudełku znalazły się książki $A$ i $B$, a w trzecim - książka $C$?",
    "steps": [
      {
        "step": 1,
        "hint": "Które książki mają już ustalone miejsca według warunków zadania?",
        "expression": "Pudełko 1: $A$, $B$, ?, ? \nPudełko 2: ?, ?, ?, ? \nPudełko 3: $C$, ?, ?, ?",
        "explanation": "Książki $A$ i $B$ muszą być w pudełku 1, książka $C$ w pudełku 3",
        "why": "Warunki zadania to ograniczenia, które redukują liczbę możliwości. Najpierw ustalamy wymuszone pozycje, potem liczymy warianty dla pozostałych."
      },
      {
        "step": 2,
        "hint": "Ile książek pozostało do rozlokowania i ile wolnych miejsc mamy?",
        "expression": "Pozostałych książek: $12 - 3 = 9$ \nWolnych miejsc: pudełko 1 ma $2$, pudełko 2 ma $4$, pudełko 3 ma $3$",
        "explanation": "Po umieszczeniu $A$, $B$, $C$ zostaje $9$ książek do rozdzielenia"
      },
      {
        "step": 3,
        "hint": "Które pudełko wypełnimy najpierw i dlaczego to ułatwi liczenie?",
        "expression": "Pudełko 1: wybieramy 2 książki z 9 pozostałych: $\\binom{9}{2}$",
        "explanation": "Uzupełniamy pudełko $1$ do pełnych $4$ książek",
        "why": "Zaczynamy od pudełka z najmniejszą liczbą wolnych miejsc. To strategia 'od najbardziej ograniczonego' - minimalizuje błędy w liczeniu."
      },
      {
        "step": 4,
        "hint": "Po wypełnieniu pudełka 1, ile książek zostało i jak je rozdzielić?",
        "expression": "Pozostało $9 - 2 = 7$ książek \nPudełko 3: wybieramy 3 książki z 7: $\\binom{7}{3}$",
        "explanation": "Uzupełniamy pudełko $3$ do pełnych $4$ książek ($C + 3$ nowe)"
      },
      {
        "step": 5,
        "hint": "Co dzieje się z ostatnimi książkami - czy mamy wybór?",
        "expression": "Pozostałe $7 - 3 = 4$ książki trafiają do pudełka 2: $\\binom{4}{4} = 1$",
        "explanation": "Wszystkie pozostałe książki muszą trafić do pudełka $2$",
        "why": "Gdy zostaje dokładnie tyle elementów, ile miejsc, nie ma wyboru - to $\\binom{n}{n} = 1$. Nie trzeba tego mnożyć!"
      },
      {
        "step": 6,
        "hint": "Jak połączyć wszystkie etapy wyboru w jedną liczbę możliwości?",
        "expression": "$\\binom{9}{2} \\cdot \\binom{7}{3} \\cdot \\binom{4}{4}$",
        "explanation": "Mnożymy liczby możliwości z każdego etapu (reguła iloczynu)",
        "why": "Reguła iloczynu: gdy wybory są niezależne i sekwencyjne, mnożymy liczby możliwości. Każdy wybór dla pudełka $1$ może być połączony z każdym wyborem dla pudełka $3$."
      },
      {
        "step": 7,
        "hint": "Jakie wartości przyjmują poszczególne symbole Newtona?",
        "expression": "$\\binom{9}{2} = \\frac{9!}{2! \\cdot 7!} = \\frac{9 \\cdot 8}{2} = 36$ \n$\\binom{7}{3} = \\frac{7!}{3! \\cdot 4!} = \\frac{7 \\cdot 6 \\cdot 5}{6} = 35$ \n$\\binom{4}{4} = 1$",
        "explanation": "Obliczamy wartości symboli Newtona"
      },
      {
        "step": 8,
        "hint": "Jaki jest końcowy wynik po przemnożeniu wszystkich możliwości?",
        "expression": "$36 \\cdot 35 \\cdot 1 = 1260$",
        "explanation": "Otrzymujemy całkowitą liczbę możliwości ułożenia książek"
      }
    ],
    "solutions": [
      "$1260$"
    ],
    "parameters": {
      "total_books": 12,
      "books_per_box": 4,
      "special_books": "$A$, $B$ w pudełku 1; $C$ w pudełku 3"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T09:27:15.805Z"
  },
  {
    "id": "combinatorics_books_boxes",
    "topic": "Kombinatoryka - rozmieszczenia z warunkiem",
    "difficulty": 4,
    "statement": "Mamy $12$ książek, wśród których są książki $A$, $B$, $C$. Wkładamy je do trzech ponumerowanych pudełek, do każdego po $4$ książki. Ile jest możliwości takiego ułożenia książek w pudełkach, aby książki $A$, $B$ i $C$ znalazły się w tym samym pudełku?",
    "steps": [
      {
        "step": 1,
        "hint": "Do którego pudełka mogą trafić książki $A$, $B$, $C$ razem?",
        "expression": "Książki $A$, $B$, $C$ mogą trafić do pudełka $1$, $2$ lub $3$, czyli mamy $3$ możliwości wyboru pudełka",
        "explanation": "Pudełka są ponumerowane, więc wybór pudełka ma znaczenie",
        "why": "To kluczowy moment: pudełka są rozróżnialne (ponumerowane), więc wybór pudełka nr $1$ to inna sytuacja niż wybór pudełka nr $2$. Gdyby pudełka były identyczne, mielibyśmy tylko $1$ możliwość."
      },
      {
        "step": 2,
        "hint": "Ile książek jeszcze musi trafić do pudełka z $A$, $B$, $C$?",
        "expression": "W pudełku z $A$, $B$, $C$ są już $3$ książki, więc potrzebujemy jeszcze $4 - 3 = 1$ książki",
        "explanation": "Każde pudełko musi zawierać dokładnie $4$ książki"
      },
      {
        "step": 3,
        "hint": "Z ilu pozostałych książek wybieramy tę jedną dodatkową?\n\n(No mathematical expressions were found in this text, so it remains unchanged.)",
        "expression": "Mamy $12 - 3 = 9$ pozostałych książek, więc wybieramy $1$ z $9$: $\\binom{9}{1} = 9$ sposobów",
        "explanation": "Wybieramy $1$ książkę spośród $9$ pozostałych do pudełka z $A$, $B$, $C$"
      },
      {
        "step": 4,
        "hint": "Ile książek zostało do rozdzielenia między dwa pozostałe pudełka?",
        "expression": "Pozostało $9 - 1 = 8$ książek do rozdzielenia między $2$ pudełka po $4$ książki każde",
        "explanation": "Jedno pudełko jest już zapełnione, zostały $2$ puste"
      },
      {
        "step": 5,
        "hint": "Jak podzielić $8$ książek na dwie grupy po $4$?",
        "expression": "Wybieramy 4 książki do pierwszego z pozostałych pudełek: $\\binom{8}{4} = \\frac{8!}{4! \\cdot 4!} = \\frac{8 \\cdot 7 \\cdot 6 \\cdot 5}{4 \\cdot 3 \\cdot 2 \\cdot 1} = 70$",
        "explanation": "Reszta automatycznie trafia do ostatniego pudełka",
        "why": "Gdy wybierzemy $4$ książki do jednego pudełka, pozostałe $4$ muszą trafić do drugiego - nie ma już wyboru. Pudełka są rozróżnialne, więc nie dzielimy przez $2!$"
      },
      {
        "step": 6,
        "hint": "Jak połączyć wszystkie niezależne wybory w jeden wynik?",
        "expression": "$3 \\cdot 9 \\cdot 70 = 1890$",
        "explanation": "Mnożymy liczbę możliwości na każdym etapie",
        "why": "Używamy reguły mnożenia, bo każdy wybór jest niezależny: najpierw wybieramy pudełko ($3$), potem dodatkową książkę ($9$), na końcu rozdzielamy resztę ($70$)."
      }
    ],
    "solutions": [
      "1890"
    ],
    "parameters": {
      "total_books": 12,
      "books_per_box": 4,
      "special_books": "$A$, $B$, $C$",
      "boxes": 3
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:27:35.049Z"
  },
  {
    "id": "combinatorics_groups_ordered",
    "topic": "Kombinatoryka - podział na grupy",
    "difficulty": 4,
    "statement": "Piętnaście osób trzeba podzielić na trzy grupy, po $5$ osób w każdej grupie. Na ile sposobów można to zrobić, jeśli uporządkowanie w grupie nie ma znaczenia oraz kolejność grup jest istotna?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy kolejność osób w grupie ma znaczenie, czy tylko to, kto z kim jest?",
        "expression": "Uporządkowanie w grupie nie ma znaczenia, więc używamy kombinacji, nie permutacji",
        "explanation": "Rozpoznajemy, że wybieramy podzbiory bez kolejności wewnętrznej"
      },
      {
        "step": 2,
        "hint": "Ile osób zostaje do wyboru po utworzeniu pierwszej grupy?",
        "expression": "Grupa 1: $\\binom{15}{5}$ sposobów wyboru $5$ osób z $15$",
        "explanation": "Wybieramy pierwszą grupę $5$ osób spośród wszystkich $15$",
        "why": "Używamy symbolu Newtona $\\binom{n}{k}$, bo kolejność w grupie nie ma znaczenia. Gdyby miała, byłoby to $A_{15}^5$ (wariacje)."
      },
      {
        "step": 3,
        "hint": "Po wybraniu pierwszej grupy, z ilu osób wybierasz drugą?",
        "expression": "Grupa 2: $\\binom{10}{5}$ sposobów wyboru $5$ osób z pozostałych $10$",
        "explanation": "Po wybraniu pierwszej grupy zostało $10$ osób, z których wybieramy kolejne $5$"
      },
      {
        "step": 4,
        "hint": "Czy trzecią grupę jeszcze wybieramy, czy jest już określona?",
        "expression": "Grupa 3: $\\binom{5}{5} = 1$ sposób - pozostałe $5$ osób automatycznie trafia do trzeciej grupy",
        "explanation": "Ostatnia grupa jest już zdeterminowana przez wcześniejsze wybory"
      },
      {
        "step": 5,
        "hint": "Jak połączyć liczbę sposobów dla poszczególnych grup?",
        "expression": "$\\binom{15}{5} \\cdot \\binom{10}{5} \\cdot \\binom{5}{5}$",
        "explanation": "Mnożymy liczby sposobów, bo wybory są niezależne i następują po sobie",
        "why": "Reguła mnożenia: jeśli mamy $k$ etapów, gdzie etap $i$ można wykonać na $n_i$ sposobów, to łącznie jest $n_1 \\cdot n_2 \\cdot ... \\cdot n_k$ sposobów. Kolejność grup JEST istotna, więc nie dzielimy przez $3!$"
      },
      {
        "step": 6,
        "hint": "Jak obliczyć wartości symboli Newtona?",
        "expression": "$\\binom{15}{5} = \\frac{15!}{5! \\cdot 10!} = 3003$, $\\binom{10}{5} = \\frac{10!}{5! \\cdot 5!} = 252$, $\\binom{5}{5} = 1$",
        "explanation": "Obliczamy wartości poszczególnych symboli Newtona"
      },
      {
        "step": 7,
        "hint": "Jaki będzie końcowy wynik po przemnożeniu wszystkich wartości?",
        "expression": "$3003 \\cdot 252 \\cdot 1 = 756756$",
        "explanation": "Mnożymy wszystkie wartości, aby otrzymać ostateczną liczbę sposobów"
      }
    ],
    "solutions": [
      "$756756$"
    ],
    "parameters": {
      "note": "Kolejność grup jest istotna (grupa $1$, $2$, $3$ są rozróżnialne)"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:27:57.686Z"
  },
  {
    "id": "combinatorics_groups_division",
    "topic": "Kombinatoryka - podział na grupy",
    "difficulty": 4,
    "statement": "Piętnaście osób trzeba podzielić na trzy grupy, po $5$ osób w każdej grupie. Na ile sposobów można to zrobić, jeśli uporządkowanie w grupie nie ma znaczenia oraz kolejność grup nie jest istotna?",
    "steps": [
      {
        "step": 1,
        "hint": "Gdyby grupy były rozróżnialne (np. grupa $A$, $B$, $C$), jak wybrałbyś pierwszą grupę?",
        "expression": "Pierwszą grupę wybieramy na $\\binom{15}{5}$ sposobów",
        "explanation": "Z $15$ osób wybieramy $5$ do pierwszej grupy, kolejność nie ma znaczenia"
      },
      {
        "step": 2,
        "hint": "Po wybraniu pierwszej grupy, ile osób zostało i jak wybierzesz drugą grupę?",
        "expression": "Drugą grupę wybieramy na $\\binom{10}{5}$ sposobów",
        "explanation": "Zostało $10$ osób, z których wybieramy $5$ do drugiej grupy"
      },
      {
        "step": 3,
        "hint": "Co się stanie z ostatnimi pięcioma osobami?",
        "expression": "Trzecią grupę tworzymy na $\\binom{5}{5} = 1$ sposób",
        "explanation": "Pozostałe $5$ osób automatycznie trafia do trzeciej grupy"
      },
      {
        "step": 4,
        "hint": "Ile sposobów daje pomnożenie tych wszystkich wyborów?",
        "expression": "$\\binom{15}{5} \\cdot \\binom{10}{5} \\cdot \\binom{5}{5} = \\frac{15!}{5! \\cdot 10!} \\cdot \\frac{10!}{5! \\cdot 5!} \\cdot 1$",
        "explanation": "Mnożymy liczbę sposobów dla każdego wyboru",
        "why": "Reguła mnożenia: jeśli czynność $A$ można wykonać na $m$ sposobów, a $B$ na $n$ sposobów, to obie razem na $m \\cdot n$ sposobów."
      },
      {
        "step": 5,
        "hint": "Co można skrócić w tym wyrażeniu?",
        "expression": "$\\frac{15!}{5! \\cdot 5! \\cdot 5!}$",
        "explanation": "Po uproszczeniu otrzymujemy jeden ułamek"
      },
      {
        "step": 6,
        "hint": "Czy grupy $A$, $B$, $C$ różnią się czymś od siebie? Co to oznacza dla naszego wyniku?",
        "expression": "$\\frac{15!}{5! \\cdot 5! \\cdot 5! \\cdot 3!}$",
        "explanation": "Dzielimy przez $3!$, bo kolejność grup nie ma znaczenia",
        "why": "Kluczowy moment! Policzyliśmy każdy podział $6$ razy (bo $3! = 6$), traktując grupy jako rozróżnialne. Np. $\\{A,B,C|D,E,F|G,H,I\\}$ to ten sam podział co $\\{D,E,F|A,B,C|G,H,I\\}$. Częsty błąd: zapomnienie o tym podzieleniu."
      },
      {
        "step": 7,
        "hint": "Ile wynosi $3!$ i jaki będzie końcowy wynik?",
        "expression": "$\\frac{15!}{5! \\cdot 5! \\cdot 5! \\cdot 6} = \\frac{15!}{(5!)^3 \\cdot 6}$",
        "explanation": "Podstawiamy $3! = 6$ i zapisujemy w zwartej formie"
      },
      {
        "step": 8,
        "hint": "Jak obliczyć tę wartość liczbowo?",
        "expression": "$\\frac{1307674368000}{120 \\cdot 120 \\cdot 120 \\cdot 6} = \\frac{1307674368000}{10368000} = 126126$",
        "explanation": "Obliczamy wartość: $15! = 1307674368000$, $5! = 120$"
      }
    ],
    "solutions": [
      "$126126$"
    ],
    "parameters": {
      "formula": "$\\frac{15!}{(5!)^3 \\cdot 3!}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:28:18.457Z"
  },
  {
    "id": "combinatorics_socks",
    "topic": "Kombinatoryka - kombinacje",
    "difficulty": 3,
    "statement": "W szufladzie znajduje się $16$ różnych skarpetek - po dwie w tym samym kolorze. Oblicz, na ile sposobów można wybrać $5$ skarpetek tak, aby wszystkie wybrane skarpetki były w różnych kolorach.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile różnych kolorów skarpetek jest w szufladzie?",
        "expression": "$16$ skarpetek = $8$ par = $8$ różnych kolorów",
        "explanation": "Skoro są po dwie skarpetki w tym samym kolorze, to mamy $8$ kolorów"
      },
      {
        "step": 2,
        "hint": "Co tak naprawdę wybieramy - skarpetki czy kolory?",
        "expression": "Wybieramy $5$ kolorów spośród $8$ dostępnych",
        "explanation": "Skoro wszystkie skarpetki mają być w różnych kolorach, najpierw musimy wybrać które kolory",
        "why": "To kluczowa obserwacja! Zamiast myśleć o $16$ skarpetach, myślimy o $8$ kolorach. Każdy wybrany kolor da nam jedną skarpetę."
      },
      {
        "step": 3,
        "hint": "Czy kolejność wyboru kolorów ma znaczenie?",
        "expression": "Liczba sposobów wyboru $5$ kolorów z $8$: $\\binom{8}{5}$",
        "explanation": "Używamy kombinacji, bo kolejność nie ma znaczenia",
        "why": "Kombinacje $\\binom{n}{k}$ używamy gdy kolejność nie ma znaczenia. Gdyby miała (np. 'pierwsza, druga...'), użylibyśmy wariacji."
      },
      {
        "step": 4,
        "hint": "Dla każdego wybranego koloru, ile mamy możliwości wyboru skarpetki?",
        "expression": "Dla każdego z $5$ kolorów: $2$ możliwości (lewa lub prawa skarpetka)",
        "explanation": "Z każdego koloru możemy wybrać jedną z $2$ skarpetek"
      },
      {
        "step": 5,
        "hint": "Jak połączyć wybór kolorów z wyborem konkretnych skarpetek?",
        "expression": "$\\binom{8}{5} \\cdot 2^5$",
        "explanation": "Mnożymy liczbę sposobów wyboru kolorów przez liczbę sposobów wyboru konkretnych skarpetek",
        "why": "Reguła mnożenia: jeśli mamy $m$ sposobów na pierwszy wybór i $n$ na drugi, to łącznie $m \\cdot n$ sposobów. Tu: $2 \\cdot 2 \\cdot 2 \\cdot 2 \\cdot 2 = 2^5$."
      },
      {
        "step": 6,
        "hint": "Ile wynosi $\\binom{8}{5}$?",
        "expression": "$\\binom{8}{5} = \\frac{8!}{5! \\cdot 3!} = \\frac{8 \\cdot 7 \\cdot 6}{3 \\cdot 2 \\cdot 1} = \\frac{336}{6} = 56$",
        "explanation": "Obliczamy wartość symbolu Newtona"
      },
      {
        "step": 7,
        "hint": "Jaki jest końcowy wynik?",
        "expression": "$56 \\cdot 2^5 = 56 \\cdot 32 = 1792$",
        "explanation": "Otrzymujemy ostateczną liczbę sposobów"
      }
    ],
    "solutions": [
      "1792"
    ],
    "parameters": {
      "total_socks": 16,
      "colors": 8,
      "socks_to_choose": 5
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:28:38.008Z"
  },
  {
    "id": "combinatorics_socks_pairs",
    "topic": "Kombinatoryka - wybór z powtórzeniami",
    "difficulty": 4,
    "statement": "W szufladzie znajduje się $16$ różnych skarpetek - po dwie w tym samym kolorze. Oblicz, na ile sposobów można wybrać $5$ skarpetek tak, aby otrzymać dwie pary (para to dwie skarpetki w tym samym kolorze).",
    "steps": [
      {
        "step": 1,
        "hint": "Ile mamy kolorów skarpetek, skoro jest $16$ skarpetek po $2$ w każdym kolorze?",
        "expression": "Mamy $8$ różnych kolorów skarpetek (po $2$ skarpetki każdego koloru)",
        "explanation": "Ustalamy podstawowe dane: $16$ skarpetek = $8$ par kolorów"
      },
      {
        "step": 2,
        "hint": "Jeśli wybieramy $5$ skarpetek i chcemy mieć dokładnie $2$ pary, ile skarpetek będzie bez pary?",
        "expression": "Wybieramy $5$ skarpetek: $2$ pary (po $2$ skarpetki) + $1$ pojedyncza skarpetka",
        "explanation": "Rozkładamy wybór: $2 + 2 + 1 = 5$ skarpetek",
        "why": "To kluczowa obserwacja! Dwie pary to $4$ skarpetki, więc piąta musi być w innym kolorze niż te pary. Częsty błąd: zapomnienie o tej pojedynczej skarpetce."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów możemy wybrać kolory dla dwóch par z $8$ dostępnych kolorów?",
        "expression": "$\\binom{8}{2} = \\frac{8!}{2! \\cdot 6!} = \\frac{8 \\cdot 7}{2} = 28$",
        "explanation": "Wybieramy $2$ kolory spośród $8$ na pary",
        "why": "Używamy kombinacji bez powtórzeń, bo kolory par muszą być różne. Kolejność wyboru nie ma znaczenia - para czerwona i niebieska to to samo co niebieska i czerwona."
      },
      {
        "step": 4,
        "hint": "Gdy już wybraliśmy kolory dla par, ile kolorów zostaje dla pojedynczej skarpetki?",
        "expression": "Pozostaje $8 - 2 = 6$ kolorów do wyboru dla pojedynczej skarpetki",
        "explanation": "Pojedyncza skarpetka musi być w innym kolorze niż wybrane pary"
      },
      {
        "step": 5,
        "hint": "Ile mamy skarpetek każdego z $6$ pozostałych kolorów?",
        "expression": "Z każdego z $6$ pozostałych kolorów możemy wybrać jedną z $2$ skarpetek",
        "explanation": "Dla każdego koloru mamy $2$ skarpetki do wyboru"
      },
      {
        "step": 6,
        "hint": "Jak połączyć wszystkie możliwości wyboru w jeden wynik?",
        "expression": "$\\binom{8}{2} \\cdot 6 \\cdot 2 = 28 \\cdot 6 \\cdot 2$",
        "explanation": "Mnożymy: (wybór $2$ kolorów na pary) × (wybór koloru dla pojedynczej) × (wybór konkretnej skarpetki tego koloru)",
        "why": "Stosujemy regułę mnożenia, bo to niezależne wybory następujące po sobie. Alternatywa: można też myśleć o tym jako drzewie decyzyjnym - każda gałąź to kolejny wybór."
      },
      {
        "step": 7,
        "hint": "Jaki jest końcowy wynik mnożenia?",
        "expression": "$28 \\cdot 6 \\cdot 2 = 28 \\cdot 12 = 336$",
        "explanation": "Obliczamy ostateczną liczbę sposobów"
      }
    ],
    "solutions": [
      "$336$"
    ],
    "parameters": {
      "total_socks": "$16$",
      "colors": "$8$",
      "selected": "$5$",
      "pairs_needed": "$2$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:28:59.674Z"
  },
  {
    "id": "combinatorics_socks_pair",
    "topic": "Kombinatoryka - wybór z warunkiem",
    "difficulty": 4,
    "statement": "W szufladzie znajduje się $16$ różnych skarpetek - po $2$ w tym samym kolorze. Oblicz, na ile sposobów można wybrać $5$ skarpetek tak, aby otrzymać tylko jedną parę.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile mamy kolorów skarpetek, skoro jest $16$ skarpetek po $2$ w każdym kolorze?",
        "expression": "Mamy $8$ różnych kolorów skarpetek ($16$ skarpetek : $2$ = $8$ kolorów)",
        "explanation": "Ustalamy podstawowe dane problemu"
      },
      {
        "step": 2,
        "hint": "Co oznacza 'tylko jedna para' - ile skarpetek musi być tego samego koloru, a ile różnych?\n\n(No mathematical expressions to format in this text.)",
        "expression": "Wybieramy: $2$ skarpetki jednego koloru (para) + $3$ skarpetki różnych kolorów (niepasujące)",
        "explanation": "Rozkładamy problem na części: jedna para i trzy pojedyncze",
        "why": "Kluczowe jest zrozumienie warunku: 'tylko jedna para' znaczy dokładnie $2$ skarpetki jednego koloru i pozostałe $3$ muszą być różnych kolorów (inaczej byłyby dwie pary!)."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów możemy wybrać kolor, który utworzy parę?",
        "expression": "Wybór koloru dla pary: $\\binom{8}{1} = 8$ sposobów",
        "explanation": "Wybieramy jeden kolor spośród $8$ dostępnych"
      },
      {
        "step": 4,
        "hint": "Skoro mamy parę z jednego koloru, ile kolorów zostaje dla pozostałych $3$ skarpetek?",
        "expression": "Zostaje $7$ kolorów $(8 - 1 = 7)$",
        "explanation": "Po wybraniu koloru dla pary, pozostaje $7$ kolorów"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów wybierzemy $3$ różne kolory z pozostałych $7$?",
        "expression": "Wybór 3 kolorów z 7: $\\binom{7}{3} = \\frac{7!}{3! \\cdot 4!} = \\frac{7 \\cdot 6 \\cdot 5}{3 \\cdot 2 \\cdot 1} = 35$ sposobów",
        "explanation": "Kombinacja bez powtórzeń dla wyboru kolorów",
        "why": "Używamy kombinacji, bo kolejność kolorów nie ma znaczenia. Uwaga: wybieramy kolory, nie konkretne skarpetki!"
      },
      {
        "step": 6,
        "hint": "Dla każdego z $3$ wybranych kolorów - ile mamy możliwości wyboru skarpetki?",
        "expression": "Dla każdego z $3$ kolorów wybieramy $1$ skarpetkę z $2$ dostępnych: $2 \\cdot 2 \\cdot 2 = 2^3 = 8$ sposobów",
        "explanation": "Dla każdego koloru mamy $2$ skarpetki do wyboru",
        "why": "To częsty błąd! Nie wystarczy wybrać kolory - dla każdego koloru mamy $2$ konkretne skarpetki (np. lewa i prawa) i musimy wybrać którą bierzemy."
      },
      {
        "step": 7,
        "hint": "Jak połączyć wszystkie etapy wyboru w jeden wynik?",
        "expression": "$8 \\cdot 35 \\cdot 8 = 8 \\cdot 280 = 2240$",
        "explanation": "Mnożymy liczbę sposobów na każdym etapie (reguła mnożenia)",
        "why": "Reguła mnożenia: jeśli mamy $k$ niezależnych etapów z $n_1, n_2, ..., n_k$ możliwościami, to łącznie jest $n_1 \\cdot n_2 \\cdot ... \\cdot n_k$ sposobów."
      }
    ],
    "solutions": [
      "$2240$"
    ],
    "parameters": {
      "total_socks": 16,
      "colors": 8,
      "socks_per_color": 2,
      "selected": 5,
      "pairs": 1
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T09:29:22.462Z"
  },
  {
    "id": "socks_complementary_counting",
    "topic": "Kombinatoryka - zasada dopełnienia",
    "difficulty": 4,
    "statement": "W szufladzie znajduje się $16$ różnych skarpetek - po $2$ w tym samym kolorze. Oblicz, na ile sposobów można wybrać $5$ skarpetek tak, aby wśród wybranych skarpetek była co najmniej jedna para.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile mamy kolorów skarpetek, skoro jest $16$ skarpetek po $2$ w każdym kolorze?",
        "expression": "Mamy $8$ różnych kolorów skarpetek ($16$ skarpetek : $2$ = $8$ kolorów)",
        "explanation": "Ustalamy podstawowe dane zadania"
      },
      {
        "step": 2,
        "hint": "Czy łatwiej policzyć sytuacje z parą, czy bez pary?",
        "expression": "Użyjemy zasady dopełnienia: $(z \\text{ parą}) = (wszystkie) - (bez \\text{ pary})$",
        "explanation": "Obliczenie bezpośrednie byłoby bardzo skomplikowane",
        "why": "Zasada dopełnienia: gdy trudno policzyć zdarzenie $A$, liczymy wszystkie możliwości minus zdarzenie przeciwne. Tu: łatwiej policzyć sytuacje BEZ pary niż wszystkie przypadki Z parą."
      },
      {
        "step": 3,
        "hint": "Na ile sposobów można wybrać dowolne $5$ skarpetek z $16$?",
        "expression": "$\\binom{16}{5} = \\frac{16!}{5! \\cdot 11!} = \\frac{16 \\cdot 15 \\cdot 14 \\cdot 13 \\cdot 12}{5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1} = 4368$",
        "explanation": "Liczba wszystkich możliwych wyborów $5$ skarpetek"
      },
      {
        "step": 4,
        "hint": "Co musi być prawdą, aby wśród $5$ skarpetek NIE było żadnej pary?",
        "expression": "Każda z $5$ skarpetek musi być innego koloru",
        "explanation": "Brak pary oznacza $5$ różnych kolorów",
        "why": "Jeśli wybierzemy $5$ skarpetek z $8$ kolorów i każda ma być innego koloru, to najpierw wybieramy KTÓRE $5$ kolorów, potem KTÓRĄ skarpetkę z każdego koloru."
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można wybrać $5$ różnych kolorów z $8$ dostępnych?",
        "expression": "$\\binom{8}{5} = \\frac{8!}{5! \\cdot 3!} = \\frac{8 \\cdot 7 \\cdot 6}{3 \\cdot 2 \\cdot 1} = 56$",
        "explanation": "Wybieramy które 5 kolorów użyjemy"
      },
      {
        "step": 6,
        "hint": "Dla każdego wybranego koloru, ile mamy możliwości wyboru konkretnej skarpetki?",
        "expression": "Dla każdego z $5$ kolorów mamy $2$ możliwości (lewa lub prawa skarpetka)",
        "explanation": "Z każdego koloru wybieramy jedną z dwóch skarpetek"
      },
      {
        "step": 7,
        "hint": "Jak połączyć wybór kolorów z wyborem konkretnych skarpetek?",
        "expression": "Liczba wyborów bez pary = $56 \\cdot 2^5 = 56 \\cdot 32 = 1792$",
        "explanation": "Mnożymy liczbę wyborów kolorów przez liczbę wyborów skarpetek",
        "why": "Zasada mnożenia: najpierw wybieramy $5$ kolorów ($56$ sposobów), potem dla każdego koloru niezależnie wybieramy którą skarpetkę ($2$ możliwości), co daje $2 \\cdot 2 \\cdot 2 \\cdot 2 \\cdot 2 = 2^5$."
      },
      {
        "step": 8,
        "hint": "Jak teraz otrzymać liczbę wyborów z co najmniej jedną parą?",
        "expression": "Liczba wyborów z parą = $4368 - 1792 = 2576$",
        "explanation": "Odejmujemy przypadki bez pary od wszystkich możliwości"
      }
    ],
    "solutions": [
      "$2576$"
    ],
    "parameters": {
      "total_socks": 16,
      "colors": 8,
      "selected": 5
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:30:02.284Z"
  },
  {
    "id": "slippers_arrangement",
    "topic": "Permutacje z warunkami",
    "difficulty": 3,
    "statement": "Mamy $6$ par pantofli w różnych kolorach. Oblicz, na ile sposobów można ustawić je w szeregu tak, aby pantofle w jednym kolorze stały obok siebie w kolejności lewy - prawy.",
    "steps": [
      {
        "step": 1,
        "hint": "Co możemy potraktować jako jeden obiekt, skoro pantofle muszą być obok siebie?",
        "expression": "Każdą parę pantofli (lewy-prawy) traktujemy jako jeden nierozerwalny obiekt",
        "explanation": "Zamiast $12$ pojedynczych pantofli mamy $6$ par do ustawienia"
      },
      {
        "step": 2,
        "hint": "Na ile sposobów można ustawić $6$ różnych obiektów w szeregu?",
        "expression": "$6!$ sposobów ustawienia $6$ par",
        "explanation": "Permutacja $6$ elementów bez powtórzeń",
        "why": "Permutacja to uporządkowanie wszystkich elementów. Dla $n$ różnych obiektów mamy $n!$ permutacji. Tu każda para ma inny kolor, więc są rozróżnialne."
      },
      {
        "step": 3,
        "hint": "Czy w każdej parze kolejność lewy-prawy jest już ustalona?",
        "expression": "Kolejność w każdej parze jest USTALONA (lewy-prawy)",
        "explanation": "Warunek zadania wymaga konkretnej kolejności w parze",
        "why": "Gdyby kolejność była dowolna, mnożylibyśmy przez $2^6$. Tu jednak warunek 'lewy-prawy' eliminuje tę swobodę - nie możemy zamieniać pantofli w parze."
      },
      {
        "step": 4,
        "hint": "Jaki jest wynik $6!$?",
        "expression": "$6! = 6 \\cdot 5 \\cdot 4 \\cdot 3 \\cdot 2 \\cdot 1 = 720$",
        "explanation": "Obliczamy silnię"
      }
    ],
    "solutions": [
      "$720$"
    ],
    "parameters": {
      "pairs": 6,
      "constraint": "lewy-prawy w każdej parze"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:30:16.764Z"
  },
  {
    "id": "slippers_arrangement",
    "topic": "Kombinatoryka - permutacje z warunkami",
    "difficulty": 4,
    "statement": "Mamy $6$ par pantofli w różnych kolorach. Oblicz, na ile sposobów można ustawić je w szeregu tak, aby pantofle stały na zmianę w kolejności lewy - prawy lub prawy - lewy i niekoniecznie w tych samych kolorach obok siebie.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile mamy w sumie pojedynczych pantofli do ustawienia?",
        "expression": "Mamy $6$ par, czyli $6 \\cdot 2 = 12$ pojedynczych pantofli",
        "explanation": "Każda para składa się z lewego i prawego pantofel"
      },
      {
        "step": 2,
        "hint": "Jakie są możliwe wzorce ustawienia, jeśli pantofle mają stać na zmianę?",
        "expression": "Dwa wzorce: $L$-$P$-$L$-$P$-$L$-$P$-$L$-$P$-$L$-$P$-$L$ lub $P$-$L$-$P$-$L$-$P$-$L$-$P$-$L$-$P$-$L$-$P$",
        "explanation": "Możemy zacząć od lewego albo od prawego pantofel",
        "why": "Warunek 'na zmianę' oznacza sztywny wzorzec pozycji. To kluczowe ograniczenie - nie możemy dowolnie mieszać lewych i prawych!"
      },
      {
        "step": 3,
        "hint": "Ile mamy lewych pantofli i na ile sposobów możemy je ustawić na swoich pozycjach?",
        "expression": "Mamy $6$ lewych pantofli, które możemy ustawić na $6!$ sposobów",
        "explanation": "Lewe pantofle zajmują pozycje $1$, $3$, $5$, $7$, $9$, $11$ (lub $2$, $4$, $6$, $8$, $10$, $12$)",
        "why": "Pozycje dla lewych są już ustalone przez wzorzec. Pozostaje tylko wybrać, który kolor na którą pozycję - to klasyczna permutacja $6$ elementów."
      },
      {
        "step": 4,
        "hint": "A ile mamy prawych pantofli i jak je możemy ustawić?",
        "expression": "Mamy $6$ prawych pantofli, które możemy ustawić na $6!$ sposobów",
        "explanation": "Prawe pantofle zajmują pozostałe pozycje niezależnie od lewych"
      },
      {
        "step": 5,
        "hint": "Czy wybór ustawienia lewych wpływa na wybór ustawienia prawych?",
        "expression": "Dla jednego wzorca: $6! \\cdot 6!$ sposobów",
        "explanation": "Mnożymy, bo wybory są niezależne - każde ustawienie lewych można połączyć z każdym ustawieniem prawych",
        "why": "Warunek mówi 'niekoniecznie w tych samych kolorach obok siebie', więc lewe i prawe ustawiamy całkowicie niezależnie. To nie są pary!"
      },
      {
        "step": 6,
        "hint": "Jak uwzględnić oba możliwe wzorce startowe?",
        "expression": "$2 \\cdot 6! \\cdot 6! = 2 \\cdot 720 \\cdot 720$",
        "explanation": "Mnożymy przez $2$, bo mamy dwa równoprawne wzorce (start od L lub P)"
      },
      {
        "step": 7,
        "hint": "Jaki jest końcowy wynik obliczeń?",
        "expression": "$2 \\cdot 720 \\cdot 720 = 2 \\cdot 518400 = 1036800$",
        "explanation": "Obliczamy wartość liczbową"
      }
    ],
    "solutions": [
      "$1036800$"
    ],
    "parameters": {
      "pairs": 6,
      "total_slippers": 12
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:30:36.312Z"
  },
  {
    "id": "combinatorics_slippers",
    "topic": "Kombinatoryka - wybór z podziałem na grupy",
    "difficulty": 4,
    "statement": "Mamy $6$ par pantofli w różnych kolorach. Oblicz, na ile sposobów można wybrać $4$ pantofle, w tym dwa prawe, dwa lewe.",
    "steps": [
      {
        "step": 1,
        "hint": "Czy wybór prawych pantofli wpływa na wybór lewych?",
        "expression": "Wybieramy niezależnie: $2$ prawe pantofle z $6$ dostępnych oraz $2$ lewe pantofle z $6$ dostępnych",
        "explanation": "Rozbijamy problem na dwa niezależne wybory",
        "why": "Kluczowa obserwacja: mamy dwie niezależne grupy (prawe i lewe). Gdy wybory są niezależne, mnożymy liczby możliwości. Gdyby były zależne (np. 'para tego samego koloru'), musielibyśmy użyć innej metody."
      },
      {
        "step": 2,
        "hint": "Czy kolejność wybieranych pantofli ma znaczenie?",
        "expression": "Liczba sposobów wyboru $2$ prawych pantofli: $\\binom{6}{2}$",
        "explanation": "Używamy kombinacji, bo kolejność nie ma znaczenia",
        "why": "Wybieramy zbiór pantofli, nie ustawiamy ich w kolejce. Kombinacja $\\binom{n}{k}$ to wybór $k$ elementów z $n$ bez znaczenia kolejności. Gdyby kolejność miała znaczenie, użylibyśmy wariacji."
      },
      {
        "step": 3,
        "hint": "Jak obliczyć $\\binom{6}{2}$ ze wzoru?",
        "expression": "$\\binom{6}{2} = \\frac{6!}{2!(6-2)!} = \\frac{6!}{2! \\cdot 4!}$",
        "explanation": "Podstawiamy do wzoru na symbol Newtona"
      },
      {
        "step": 4,
        "hint": "Które silnie można skrócić przed obliczeniem?",
        "expression": "$\\binom{6}{2} = \\frac{6 \\cdot 5 \\cdot 4!}{2 \\cdot 1 \\cdot 4!} = \\frac{6 \\cdot 5}{2} = \\frac{30}{2} = 15$",
        "explanation": "Skracamy $4!$ i obliczamy wynik"
      },
      {
        "step": 5,
        "hint": "Czy wybór lewych pantofli różni się od prawych?",
        "expression": "Liczba sposobów wyboru 2 lewych pantofli: $\\binom{6}{2} = 15$",
        "explanation": "Analogicznie jak dla prawych pantofli"
      },
      {
        "step": 6,
        "hint": "Jak połączyć wyniki z dwóch niezależnych wyborów?",
        "expression": "$15 \\cdot 15 = 225$",
        "explanation": "Mnożymy liczby możliwości dla niezależnych wyborów",
        "why": "Reguła mnożenia: jeśli czynność $A$ można wykonać na $m$ sposobów, a niezależną czynność $B$ na $n$ sposobów, to obie razem można wykonać na $m \\cdot n$ sposobów. Każdy wybór prawych można połączyć z każdym wyborem lewych."
      }
    ],
    "solutions": [
      "$225$"
    ],
    "parameters": {
      "method": "Kombinacje z niezależnymi wyborami"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:30:54.048Z"
  },
  {
    "id": "combinatorics_slippers",
    "topic": "Kombinatoryka - zasada dopełnienia",
    "difficulty": 4,
    "statement": "Mamy $6$ par pantofli w różnych kolorach. Oblicz, na ile sposobów można wybrać $8$ pantofli, wśród których będą co najmniej dwie pary.",
    "steps": [
      {
        "step": 1,
        "hint": "Czy łatwiej policzyć sytuacje z co najmniej dwiema parami, czy te bez dwóch par?",
        "expression": "Wszystkie sposoby - sposoby z mniej niż $2$ parami",
        "explanation": "Używamy zasady dopełnienia: łatwiej odjąć niepożądane przypadki",
        "why": "Zliczanie 'co najmniej' bezpośrednio wymaga wielu przypadków (dokładnie $2$ pary, $3$ pary, $4$ pary). Zasada dopełnienia upraszcza to do jednego odejmowania."
      },
      {
        "step": 2,
        "hint": "Na ile sposobów można wybrać dowolne $8$ pantofli z $12$?",
        "expression": "$\\binom{12}{8} = \\frac{12!}{8! \\cdot 4!} = 495$",
        "explanation": "Mamy $6$ par, czyli $12$ pantofli łącznie"
      },
      {
        "step": 3,
        "hint": "Co oznacza 'mniej niż dwie pary' - ile dokładnie par może być?",
        "expression": "Mniej niż $2$ pary = $0$ par lub $1$ para",
        "explanation": "Musimy policzyć oba przypadki osobno"
      },
      {
        "step": 4,
        "hint": "Czy możliwe jest wybranie $8$ pantofli bez żadnej pary?",
        "expression": "$0$ par: niemożliwe",
        "explanation": "Mamy tylko $6$ kolorów, więc wybierając $8$ pantofli, przynajmniej jeden kolor się powtórzy",
        "why": "Zasada szufladkowa Dirichleta: $8$ pantofli w $6$ kolorach oznacza, że co najmniej jeden kolor wystąpi dwukrotnie."
      },
      {
        "step": 5,
        "hint": "Jak wybrać $8$ pantofli z dokładnie jedną parą?",
        "expression": "Wybieramy 1 parę z 6: $\\binom{6}{1} = 6$ sposobów",
        "explanation": "Najpierw wybieramy, który kolor będzie kompletną parą"
      },
      {
        "step": 6,
        "hint": "Skoro mamy już parę ($2$ pantofle), ile jeszcze pantofli musimy wybrać i z ilu kolorów?",
        "expression": "Pozostałe $6$ pantofli z $5$ pozostałych par ($10$ pantofli), po $1$ z każdego koloru",
        "explanation": "Musimy wybrać $6$ pantofli z $10$ dostępnych, ale maksymalnie $1$ z każdej pary"
      },
      {
        "step": 7,
        "hint": "Jeśli wybieramy po 1 pantoflu z 5 par, ile par musimy wybrać dla $6$ pantofli?",
        "expression": "Niemożliwe: potrzebujemy $6$ pantofli z $5$ par po $1$ z każdej",
        "explanation": "Z $5$ par możemy wziąć maksymalnie $5$ pantofli (po $1$ z każdej)",
        "why": "To kluczowe spostrzeżenie! Jeśli mamy dokładnie $1$ parę i $6$ pozostałych pantofli, to z $5$ pozostałych kolorów nie da się wybrać $6$ pantofli bez utworzenia drugiej pary."
      },
      {
        "step": 8,
        "hint": "Ile wynosi suma przypadków z mniej niż dwiema parami?",
        "expression": "$0$ par + $1$ para = $0 + 0 = 0$",
        "explanation": "Oba przypadki są niemożliwe"
      },
      {
        "step": 9,
        "hint": "Jaki jest ostateczny wynik po zastosowaniu zasady dopełnienia?",
        "expression": "$495 - 0 = 495$",
        "explanation": "Wszystkie możliwe wybory $8$ pantofli zawierają co najmniej dwie pary"
      }
    ],
    "solutions": [
      "$495$"
    ],
    "parameters": {
      "total_pairs": 6,
      "total_slippers": 12,
      "selected": 8
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:31:21.977Z"
  },
  {
    "id": "combinatorics_divisibility_example",
    "topic": "Kombinatoryka i podzielność",
    "difficulty": 2,
    "statement": "Ze zbioru $\\{1,2,3,4,5\\}$ wybieramy dwie cyfry ze zwracaniem i tworzymy liczbę dwucyfrową. Zapisz w tabeli wszystkie liczby, jakie możemy w ten sposób otrzymać. Ile jest wśród nich liczb podzielnych przez $3$?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza \"ze zwracaniem\" przy wyborze cyfr?",
        "expression": "Możemy wybrać tę samą cyfrę dwa razy, np. $11$, $22$, $33$, $44$, $55$",
        "explanation": "Wybór ze zwracaniem pozwala na powtórzenia cyfr",
        "why": "\"Ze zwracaniem\" znaczy, że po wybraniu pierwszej cyfry wracamy ją do zbioru. Gdyby było \"bez zwracania\", nie moglibyśmy utworzyć $11$, $22$ itd."
      },
      {
        "step": 2,
        "hint": "Ile mamy możliwości wyboru pierwszej cyfry? A drugiej?",
        "expression": "Pierwsza cyfra: $5$ możliwości, druga cyfra: $5$ możliwości, razem: $5 \\cdot 5 = 25$ liczb",
        "explanation": "Każda cyfra może być wybrana niezależnie"
      },
      {
        "step": 3,
        "hint": "Jak systematycznie zapisać wszystkie możliwe liczby?",
        "expression": "Tabela wszystkich liczb dwucyfrowych:\n$\\begin{array}{|c|c|c|c|c|c|}\n\\hline\n & 1 & 2 & 3 & 4 & 5 \\\\\n\\hline\n1 & 11 & 12 & 13 & 14 & 15 \\\\\n\\hline\n2 & 21 & 22 & 23 & 24 & 25 \\\\\n\\hline\n3 & 31 & 32 & 33 & 34 & 35 \\\\\n\\hline\n4 & 41 & 42 & 43 & 44 & 45 \\\\\n\\hline\n5 & 51 & 52 & 53 & 54 & 55 \\\\\n\\hline\n\\end{array}$",
        "explanation": "Wiersz to pierwsza cyfra, kolumna to druga cyfra"
      },
      {
        "step": 4,
        "hint": "Kiedy liczba jest podzielna przez $3$?",
        "expression": "Liczba jest podzielna przez $3$, gdy suma jej cyfr jest podzielna przez $3$",
        "explanation": "Stosujemy cechę podzielności przez $3$",
        "why": "Cecha podzielności: liczba dzieli się przez $3$ ⟺ suma cyfr dzieli się przez $3$. Np. $12$: $1+2=3$ ✓, ale $13$: $1+3=4$ ✗"
      },
      {
        "step": 5,
        "hint": "Które sumy cyfr z przedziału $[2, 10]$ dzielą się przez $3$?",
        "expression": "Sumy podzielne przez 3: $3$, $6$, $9$",
        "explanation": "Minimalna suma to $1+1=2$, maksymalna to $5+5=10$"
      },
      {
        "step": 6,
        "hint": "Które pary cyfr dają sumę równą $3$?",
        "expression": "Suma = 3: $(1,2)$, $(2,1)$ → liczby: $12$, $21$",
        "explanation": "Dwie liczby o sumie cyfr równej $3$"
      },
      {
        "step": 7,
        "hint": "Które pary cyfr dają sumę równą $6$?",
        "expression": "Suma = 6: $(1,5)$, $(2,4)$, $(3,3)$, $(4,2)$, $(5,1)$ → liczby: $15$, $24$, $33$, $42$, $51$",
        "explanation": "Pięć liczb o sumie cyfr równej $6$"
      },
      {
        "step": 8,
        "hint": "Które pary cyfr dają sumę równą $9$?",
        "expression": "Suma = 9: $(4,5)$, $(5,4)$ → liczby: $45$, $54$",
        "explanation": "Dwie liczby o sumie cyfr równej $9$"
      },
      {
        "step": 9,
        "hint": "Ile łącznie liczb spełnia warunek podzielności?",
        "expression": "Liczby podzielne przez 3: $12$, $15$, $21$, $24$, $33$, $42$, $45$, $51$, $54$\n\nRazem: $2 + 5 + 2 = 9$ liczb",
        "explanation": "Sumujemy liczby z każdej grupy"
      }
    ],
    "solutions": [
      "Wszystkie możliwe liczby ($25$): patrz tabela w kroku 3",
      "Liczby podzielne przez 3 (9): $12$, $15$, $21$, $24$, $33$, $42$, $45$, $51$, $54$"
    ],
    "parameters": {
      "total_numbers": 25,
      "divisible_by_3": 9
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:31:46.927Z"
  },
  {
    "id": "combinatorics_tree_three_digit",
    "topic": "Kombinatoryka - drzewo możliwości",
    "difficulty": 3,
    "statement": "Ze zbioru cyfr $\\{0,1,2,3\\}$ wybieramy kolejno trzy cyfry bez zwracania i tworzymy liczbę trzycyfrową. Posługując się drzewem wypisz wszystkie liczby, jakie możemy w ten sposób otrzymać. Ile jest wśród nich liczb parzystych?",
    "steps": [
      {
        "step": 1,
        "hint": "Która cyfra NIE może być na pierwszym miejscu liczby trzycyfrowej?",
        "expression": "Pierwsza cyfra: $\\{1, 2, 3\\}$",
        "explanation": "Liczba trzycyfrowa nie może zaczynać się od $0$",
        "why": "To kluczowe ograniczenie! Liczba zaczynająca się od $0$ (np. $012$) nie jest trzycyfrowa, tylko dwucyfrowa ($12$). Częsty błąd: zapomnienie o tym warunku."
      },
      {
        "step": 2,
        "hint": "Ile cyfr zostaje do wyboru na drugie miejsce, gdy pierwsza jest już zajęta?",
        "expression": "Dla każdej pierwszej cyfry mamy $3$ pozostałe cyfry na drugie miejsce (włącznie z $0$)",
        "explanation": "Wybieramy bez zwracania, więc jedna cyfra już została użyta"
      },
      {
        "step": 3,
        "hint": "Jak wygląda pełne drzewo dla pierwszej cyfry $1$?",
        "expression": "Gdy pierwsza cyfra = $1$:\n- $1-0-2$ → $102$\n- $1-0-3$ → $103$\n- $1-2-0$ → $120$\n- $1-2-3$ → $123$\n- $1-3-0$ → $130$\n- $1-3-2$ → $132$",
        "explanation": "Sześć liczb zaczynających się od $1$"
      },
      {
        "step": 4,
        "hint": "Czy dla cyfr $2$ i $3$ będzie taka sama liczba możliwości?",
        "expression": "Gdy pierwsza cyfra = $2$:\n- $2-0-1$ → $201$\n- $2-0-3$ → $203$\n- $2-1-0$ → $210$\n- $2-1-3$ → $213$\n- $2-3-0$ → $230$\n- $2-3-1$ → $231$\n\nGdy pierwsza cyfra = $3$:\n- $3-0-1$ → $301$\n- $3-0-2$ → $302$\n- $3-1-0$ → $310$\n- $3-1-2$ → $312$\n- $3-2-0$ → $320$\n- $3-2-1$ → $321$",
        "explanation": "Analogicznie otrzymujemy po $6$ liczb dla każdej pierwszej cyfry"
      },
      {
        "step": 5,
        "hint": "Ile łącznie otrzymaliśmy liczb trzycyfrowych?",
        "expression": "Wszystkie liczby: $102$, $103$, $120$, $123$, $130$, $132$, $201$, $203$, $210$, $213$, $230$, $231$, $301$, $302$, $310$, $312$, $320$, $321$\n\nRazem: $3 \\times 6 = 18$ liczb",
        "explanation": "Trzy możliwe pierwsze cyfry, dla każdej $6$ liczb"
      },
      {
        "step": 6,
        "hint": "Co decyduje o tym, czy liczba jest parzysta?",
        "expression": "Liczba parzysta kończy się na $0$ lub $2$",
        "explanation": "Sprawdzamy ostatnią cyfrę każdej liczby",
        "why": "Parzystość zależy TYLKO od ostatniej cyfry. Liczba jest parzysta $\\Longleftrightarrow$ ostatnia cyfra $\\in \\{0, 2, 4, 6, 8\\}$."
      },
      {
        "step": 7,
        "hint": "Które liczby z naszej listy kończą się na $0$ lub $2$?",
        "expression": "Liczby parzyste:\n- Kończące się na 0: $120$, $130$, $210$, $230$, $310$, $320$\n- Kończące się na 2: $102$, $132$, $312$\n\nRazem: $6 + 3 = 9$ liczb parzystych",
        "explanation": "Połowa wszystkich liczb ($9$ z $18$) jest parzysta"
      }
    ],
    "solutions": [
      "Wszystkie liczby trzycyfrowe: $102$, $103$, $120$, $123$, $130$, $132$, $201$, $203$, $210$, $213$, $230$, $231$, $301$, $302$, $310$, $312$, $320$, $321$",
      "Liczby parzyste: $102$, $120$, $130$, $132$, $210$, $230$, $302$, $310$, $312$, $320$",
      "Liczba liczb parzystych: $9$"
    ],
    "parameters": {
      "total_numbers": 18,
      "even_numbers": 9
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:32:16.077Z"
  },
  {
    "id": "combinatorics_dance_pairs",
    "topic": "Reguła mnożenia w kombinatoryce",
    "difficulty": 2,
    "statement": "W klasach trzecich szkoły podstawowej zorganizowano koło taneczne, na które uczęszczają dzieci. Klasa IIIa: dziewczęta $5$, chłopcy $10$. Klasa IIIb: dziewczęta $6$, chłopcy $3$. Klasa IIIc: dziewczęta $9$, chłopcy $7$. Na ile sposobów można utworzyć parę dziewczynka - chłopiec, jeśli dzieci w tej parze mają chodzić do tej samej klasy?",
    "steps": [
      {
        "step": 1,
        "hint": "Czy dzieci z różnych klas mogą tworzyć pary?",
        "expression": "Pary tworzymy TYLKO w obrębie tej samej klasy",
        "explanation": "Z warunków zadania: para musi być z tej samej klasy"
      },
      {
        "step": 2,
        "hint": "Ile par można utworzyć w klasie IIIa, jeśli każda dziewczynka może tańczyć z każdym chłopcem?",
        "expression": "Klasa IIIa: $5 \\cdot 10 = 50$ par",
        "explanation": "Każda z $5$ dziewczynek może utworzyć parę z każdym z $10$ chłopców",
        "why": "To reguła mnożenia: jeśli mamy $m$ możliwości wyboru pierwszego elementu i $n$ możliwości wyboru drugiego, to łącznie mamy $m \\cdot n$ możliwości."
      },
      {
        "step": 3,
        "hint": "A ile par można utworzyć w pozostałych klasach?",
        "expression": "Klasa IIIb: $6 \\cdot 3 = 18$ par\n\nKlasa IIIc: $9 \\cdot 7 = 63$ pary",
        "explanation": "Analogicznie liczymy dla każdej klasy osobno"
      },
      {
        "step": 4,
        "hint": "Czy wybór pary z jednej klasy wyklucza wybór z innej?",
        "expression": "$50 + 18 + 63 = 131$",
        "explanation": "Sumujemy możliwości ze wszystkich klas",
        "why": "Używamy reguły dodawania, bo wybory są rozłączne - para może być ALBO z $IIIa$, ALBO z $IIIb$, ALBO z $IIIc$."
      }
    ],
    "solutions": [
      "$131$ sposobów"
    ],
    "parameters": {
      "class_3a_girls": 5,
      "class_3a_boys": 10,
      "class_3b_girls": 6,
      "class_3b_boys": 3,
      "class_3c_girls": 9,
      "class_3c_boys": 7
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:32:35.077Z"
  },
  {
    "id": "combinatorics_dance_pairs",
    "topic": "Reguła mnożenia w kombinatoryce",
    "difficulty": 2,
    "statement": "W klasach trzecich szkoły podstawowej zorganizowano koło taneczne, na które uczęszczają dzieci. Klasa IIIa: dziewczęta $5$, chłopcy $10$. Klasa IIIb: dziewczęta $6$, chłopcy $3$. Klasa IIIc: dziewczęta $9$, chłopcy $7$. Na ile sposobów można utworzyć parę dziewczynka - chłopiec, jeśli dzieci w tej parze mają chodzić do klasy IIIa lub do klasy IIIb?",
    "steps": [
      {
        "step": 1,
        "hint": "Które klasy bierzemy pod uwagę przy tworzeniu par?",
        "expression": "Klasa IIIa: dziewczęta $5$, chłopcy $10$. Klasa IIIb: dziewczęta $6$, chłopcy $3$",
        "explanation": "Klasa $IIIc$ nie uczestniczy - warunek mówi o klasach $IIIa$ lub $IIIb$"
      },
      {
        "step": 2,
        "hint": "Czy dzieci w parze muszą być z tej samej klasy?",
        "expression": "Para może być z klasy $IIIa$ lub z klasy $IIIb$ (dzieci w parze z tej samej klasy)",
        "explanation": "Warunek 'chodzić do klasy IIIa lub IIIb' oznacza, że para jest z jednej z tych klas",
        "why": "To kluczowe! Warunek 'chodzić do klasy' (liczba pojedyncza) oznacza tę samą klasę. Gdyby mogły być z różnych klas, byłoby 'chodzić do klas $IIIa$ lub $IIIb$'."
      },
      {
        "step": 3,
        "hint": "Ile par można utworzyć w klasie IIIa?",
        "expression": "Klasa IIIa: $5 \\cdot 10 = 50$ par",
        "explanation": "Każda z $5$ dziewczynek może tańczyć z każdym z $10$ chłopców",
        "why": "Reguła mnożenia: gdy mamy $m$ możliwości wyboru pierwszego elementu i $n$ możliwości wyboru drugiego, to łącznie mamy $m \\cdot n$ możliwości."
      },
      {
        "step": 4,
        "hint": "Ile par można utworzyć w klasie IIIb?",
        "expression": "Klasa IIIb: $6 \\cdot 3 = 18$ par",
        "explanation": "Każda z $6$ dziewczynek może tańczyć z każdym z $3$ chłopców"
      },
      {
        "step": 5,
        "hint": "Jak połączyć liczbę par z obu klas?",
        "expression": "$50 + 18 = 68$ par",
        "explanation": "Dodajemy możliwości z klasy $IIIa$ i $IIIb$, bo para może być z jednej LUB drugiej klasy"
      }
    ],
    "solutions": [
      "$68$ sposobów"
    ],
    "parameters": {
      "class_3a_girls": 5,
      "class_3a_boys": 10,
      "class_3b_girls": 6,
      "class_3b_boys": 3
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:32:50.621Z"
  },
  {
    "id": "combinatorics_matching_colors",
    "topic": "Reguła mnożenia w kombinatoryce",
    "difficulty": 2,
    "statement": "W szufladzie znajdują się różne czapki, szaliki i pary rękawiczek. Kolor czarny: czapki $3$, szaliki $1$, pary rękawiczek $2$. Kolor niebieski: czapki $4$, szaliki $2$, pary rękawiczek $1$. Kolor zielony: czapki $2$, szaliki $3$, pary rękawiczek $1$. Oblicz, na ile sposobów można wybrać jedną czapkę, jeden szalik i jedną parę rękawiczek w jednakowym kolorze.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie kolory możemy wybrać dla kompletu?",
        "expression": "Możliwe kolory: czarny, niebieski, zielony",
        "explanation": "Musimy rozpatrzyć każdy kolor osobno, bo komplet ma być jednolity"
      },
      {
        "step": 2,
        "hint": "Ile kompletów czarnych możemy ułożyć, jeśli wybieramy po jednej rzeczy każdego typu?",
        "expression": "Czarny komplet: $3 \\cdot 1 \\cdot 2 = 6$ sposobów",
        "explanation": "Mnożymy liczbę czapek, szalików i par rękawiczek w kolorze czarnym",
        "why": "Używamy reguły mnożenia: jeśli mamy $n$ możliwości wyboru pierwszej rzeczy i $m$ możliwości wyboru drugiej, to łącznie mamy $n \\cdot m$ kombinacji. Tu: $3$ czapki × $1$ szalik × $2$ pary rękawiczek."
      },
      {
        "step": 3,
        "hint": "A ile niebieskich kompletów da się utworzyć?",
        "expression": "Niebieski komplet: $4 \\cdot 2 \\cdot 1 = 8$ sposobów",
        "explanation": "Analogicznie dla koloru niebieskiego"
      },
      {
        "step": 4,
        "hint": "Ile zielonych zestawów możemy wybrać?",
        "expression": "Zielony komplet: $2 \\cdot 3 \\cdot 1 = 6$ sposobów",
        "explanation": "Analogicznie dla koloru zielonego"
      },
      {
        "step": 5,
        "hint": "Czy komplety różnych kolorów wykluczają się wzajemnie?",
        "expression": "Łącznie: $6 + 8 + 6 = 20$ sposobów",
        "explanation": "Dodajemy możliwości dla każdego koloru, bo są to rozłączne przypadki",
        "why": "Gdy zdarzenia wykluczają się (nie możemy wybrać jednocześnie czarnego i niebieskiego kompletu), dodajemy liczby możliwości. Gdyby nie było warunku o jednakowym kolorze, mnożylibyśmy: $9 \\cdot 6 \\cdot 4 = 216$."
      }
    ],
    "solutions": [
      "$20$ sposobów"
    ],
    "parameters": {
      "czarny": "czapki: $3$, szaliki: $1$, rękawiczki: $2$",
      "niebieski": "czapki: $4$, szaliki: $2$, rękawiczki: $1$",
      "zielony": "czapki: $2$, szaliki: $3$, rękawiczki: $1$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:33:06.260Z"
  },
  {
    "id": "combinatorics_matching_colors",
    "topic": "Reguła mnożenia i zliczanie",
    "difficulty": 3,
    "statement": "W szufladzie znajdują się różne czapki, szaliki i pary rękawiczek. Kolor czarny: czapki $3$, szaliki $1$, pary rękawiczek $2$. Kolor niebieski: czapki $4$, szaliki $2$, pary rękawiczek $1$. Kolor zielony: czapki $2$, szaliki $3$, pary rękawiczek $1$. Oblicz, na ile sposobów można wybrać jedną czapkę, jeden szalik i jedną parę rękawiczek tak, aby czapka i szalik były w tym samym kolorze, a para rękawiczek - w innym kolorze.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie kolory może mieć zestaw czapka-szalik?",
        "expression": "Możliwe kolory zestawu czapka-szalik: czarny, niebieski lub zielony",
        "explanation": "Czapka i szalik muszą być w tym samym kolorze, więc mamy $3$ przypadki do rozpatrzenia"
      },
      {
        "step": 2,
        "hint": "Ile jest sposobów wyboru czarnej czapki i czarnego szalika?",
        "expression": "Czarny zestaw: $3 \\cdot 1 = 3$ sposoby",
        "explanation": "Mnożymy liczbę czarnych czapek przez liczbę czarnych szalików",
        "why": "Reguła mnożenia: jeśli pierwszą czynność można wykonać na $m$ sposobów, a drugą na $n$ sposobów, to obie razem można wykonać na $m \\cdot n$ sposobów."
      },
      {
        "step": 3,
        "hint": "A ile sposobów dla niebieskiego zestawu?",
        "expression": "Niebieski zestaw: $4 \\cdot 2 = 8$ sposobów",
        "explanation": "Mnożymy liczbę niebieskich czapek przez liczbę niebieskich szalików"
      },
      {
        "step": 4,
        "hint": "Ile możliwości daje zielony zestaw?",
        "expression": "Zielony zestaw: $2 \\cdot 3 = 6$ sposobów",
        "explanation": "Mnożymy liczbę zielonych czapek przez liczbę zielonych szalików"
      },
      {
        "step": 5,
        "hint": "Jeśli wybraliśmy czarny zestaw, ile par rękawiczek możemy dobrać?",
        "expression": "Do czarnego zestawu: $1 + 1 = 2$ pary rękawiczek (niebieskie lub zielone)",
        "explanation": "Rękawiczki muszą być w innym kolorze niż czapka i szalik, więc wykluczamy czarne",
        "why": "Warunek 'inny kolor' oznacza, że sumujemy pary rękawiczek wszystkich kolorów OPRÓCZ koloru zestawu czapka-szalik."
      },
      {
        "step": 6,
        "hint": "Ile par rękawiczek pasuje do niebieskiego zestawu?",
        "expression": "Do niebieskiego zestawu: $2 + 1 = 3$ pary rękawiczek (czarne lub zielone)",
        "explanation": "Wykluczamy niebieskie rękawiczki"
      },
      {
        "step": 7,
        "hint": "A do zielonego zestawu?",
        "expression": "Do zielonego zestawu: $2 + 1 = 3$ pary rękawiczek (czarne lub niebieskie)",
        "explanation": "Wykluczamy zielone rękawiczki"
      },
      {
        "step": 8,
        "hint": "Jak połączyć liczbę zestawów z liczbą par rękawiczek dla każdego koloru?",
        "expression": "Czarny: $3 \\cdot 2 = 6$, Niebieski: $8 \\cdot 3 = 24$, Zielony: $6 \\cdot 3 = 18$",
        "explanation": "Dla każdego koloru mnożymy liczbę sposobów wyboru zestawu przez liczbę dostępnych par rękawiczek"
      },
      {
        "step": 9,
        "hint": "Czy te przypadki wykluczają się wzajemnie? Jak je połączyć?",
        "expression": "$6 + 24 + 18 = 48$",
        "explanation": "Sumujemy wyniki dla wszystkich trzech kolorów",
        "why": "Reguła dodawania: gdy zdarzenia wykluczają się (nie mogą zajść jednocześnie), sumujemy ich liczności. Tu: nie możemy wybrać jednocześnie czarnego i niebieskiego zestawu."
      }
    ],
    "solutions": [
      "$48$"
    ],
    "parameters": {
      "data": {
        "czarny": {
          "czapki": 3,
          "szaliki": 1,
          "rękawiczki": 2
        },
        "niebieski": {
          "czapki": 4,
          "szaliki": 2,
          "rękawiczki": 1
        },
        "zielony": {
          "czapki": 2,
          "szaliki": 3,
          "rękawiczki": 1
        }
      }
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:33:31.956Z"
  },
  {
    "id": "combinatorics_different_colors",
    "topic": "Reguła mnożenia w kombinatoryce",
    "difficulty": 3,
    "statement": "W szufladzie znajdują się różne czapki, szaliki i pary rękawiczek. Kolor czarny: czapki $3$, szaliki $1$, pary rękawiczek $2$. Kolor niebieski: czapki $4$, szaliki $2$, pary rękawiczek $1$. Kolor zielony: czapki $2$, szaliki $3$, pary rękawiczek $1$. Oblicz, na ile sposobów można wybrać jedną czapkę, jeden szalik i jedną parę rękawiczek w różnych kolorach.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile mamy kolorów do wyboru i co oznacza warunek 'różne kolory'?",
        "expression": "Kolory: czarny ($C$), niebieski ($N$), zielony ($Z$). Warunek: czapka, szalik i rękawiczki muszą być w różnych kolorach",
        "explanation": "Identyfikujemy dostępne kolory i kluczowy warunek zadania"
      },
      {
        "step": 2,
        "hint": "Ile jest możliwych kombinacji trzech różnych kolorów dla trzech przedmiotów?",
        "expression": "Możliwe przypisania kolorów: $3! = 6$ permutacji",
        "explanation": "Musimy przypisać $3$ różne kolory do $3$ przedmiotów",
        "why": "To permutacje bez powtórzeń: pierwszy przedmiot ma $3$ kolory, drugi $2$, trzeci $1$. Stąd $3 \\cdot 2 \\cdot 1 = 6$ możliwości."
      },
      {
        "step": 3,
        "hint": "Jakie konkretnie są te $6$ kombinacji kolorów?",
        "expression": "1) $C$-$N$-$Z$, 2) $C$-$Z$-$N$, 3) $N$-$C$-$Z$, 4) $N$-$Z$-$C$, 5) $Z$-$C$-$N$, 6) $Z$-$N$-$C$ (czapka-szalik-rękawiczki)",
        "explanation": "Wypisujemy wszystkie permutacje kolorów dla kolejności: czapka, szalik, rękawiczki"
      },
      {
        "step": 4,
        "hint": "Ile sposobów wyboru daje każda kombinacja kolorów?",
        "expression": "1) C-N-Z: $3 \\cdot 2 \\cdot 1 = 6$\n2) C-Z-N: $3 \\cdot 3 \\cdot 1 = 9$\n3) N-C-Z: $4 \\cdot 1 \\cdot 1 = 4$\n4) N-Z-C: $4 \\cdot 3 \\cdot 2 = 24$\n5) Z-C-N: $2 \\cdot 1 \\cdot 1 = 2$\n6) Z-N-C: $2 \\cdot 2 \\cdot 2 = 8$",
        "explanation": "Dla każdej kombinacji kolorów mnożymy liczby przedmiotów w odpowiednich kolorach",
        "why": "Używamy reguły mnożenia: jeśli wybór $A$ można wykonać na $m$ sposobów, a wybór $B$ na $n$ sposobów, to oba wybory razem można wykonać na $m \\cdot n$ sposobów."
      },
      {
        "step": 5,
        "hint": "Jak połączyć wyniki ze wszystkich 6 przypadków?",
        "expression": "$6 + 9 + 4 + 24 + 2 + 8 = 53$",
        "explanation": "Sumujemy liczbę sposobów ze wszystkich możliwych kombinacji kolorów",
        "why": "Przypadki się wykluczają (nie można jednocześnie mieć czapki czarnej i niebieskiej), więc stosujemy regułę dodawania."
      }
    ],
    "solutions": [
      "$53$"
    ],
    "parameters": {
      "items": {
        "czarny": {
          "czapki": 3,
          "szaliki": 1,
          "rękawiczki": 2
        },
        "niebieski": {
          "czapki": 4,
          "szaliki": 2,
          "rękawiczki": 1
        },
        "zielony": {
          "czapki": 2,
          "szaliki": 3,
          "rękawiczki": 1
        }
      }
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:33:57.984Z"
  },
  {
    "id": "sets_lyric_prose",
    "topic": "Teoria zbiorów - zasada włączeń i wyłączeń",
    "difficulty": 2,
    "statement": "W pewnej grupie osób wszyscy czytają klasykę, z czego $14$ osób uwielbia lirykę, a $20$ osób chętnie czyta prozę. Oblicz, ile osób liczy ta grupa, jeżeli $9$ spośród nich czyta zarówno lirykę, jak i prozę?",
    "steps": [
      {
        "step": 1,
        "hint": "Jak oznaczyć zbiory czytelników liryki i prozy?",
        "expression": "Niech $L$ - zbiór osób czytających lirykę, $P$ - zbiór osób czytających prozę",
        "explanation": "Wprowadzamy oznaczenia dla zbiorów"
      },
      {
        "step": 2,
        "hint": "Jakie informacje mamy o liczebności zbiorów?",
        "expression": "$|L| = 14$, $|P| = 20$, $|L \\cap P| = 9$",
        "explanation": "Zapisujemy dane z zadania w języku teorii zbiorów",
        "why": "Symbol $|A|$ oznacza liczbę elementów zbioru $A$. Część wspólna $L \\cap P$ to osoby czytające OBA rodzaje literatury."
      },
      {
        "step": 3,
        "hint": "Czy możemy po prostu dodać $14 + 20$? Co się wtedy stanie z osobami czytającymi oba rodzaje?",
        "expression": "$|L \\cup P| = |L| + |P| - |L \\cap P|$",
        "explanation": "Stosujemy zasadę włączeń i wyłączeń dla sumy zbiorów",
        "why": "Gdybyśmy dodali $14 + 20 = 34$, policzylibyśmy osoby czytające oba rodzaje DWUKROTNIE. Musimy odjąć część wspólną, żeby każdą osobę zliczyć tylko raz."
      },
      {
        "step": 4,
        "hint": "Ile wynosi całkowita liczba osób w grupie?",
        "expression": "$|L \\cup P| = 14 + 20 - 9 = 25$",
        "explanation": "Obliczamy liczbę wszystkich osób w grupie"
      }
    ],
    "solutions": [
      "25 osób"
    ],
    "parameters": {
      "lyric_readers": 14,
      "prose_readers": 20,
      "both_readers": 9
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:34:11.987Z"
  },
  {
    "id": "divisibility_lcm_2021",
    "topic": "Podzielność i NWW",
    "difficulty": 2,
    "statement": "Ile jest liczb w zbiorze $\\{1,2,3,4, \\ldots, 2021\\}$, które są podzielne przez $2$ i przez $3$?",
    "steps": [
      {
        "step": 1,
        "hint": "Jeśli liczba dzieli się przez $2$ i przez $3$, to przez jaką liczbę na pewno się dzieli?",
        "expression": "Liczba podzielna przez $2$ i przez $3$ jest podzielna przez $NWW(2,3) = 6$",
        "explanation": "Szukamy liczb podzielnych jednocześnie przez $2$ i $3$",
        "why": "Gdy liczba dzieli się przez dwie liczby względnie pierwsze, dzieli się przez ich iloczyn. Tutaj $NWW(2,3) = 2 \\cdot 3 = 6$. Uwaga: gdyby to były np. $4$ i $6$, to $NWW(4,6) = 12 \\neq 4 \\cdot 6$!"
      },
      {
        "step": 2,
        "hint": "Jak zapisać wszystkie liczby podzielne przez $6$ w tym zbiorze?",
        "expression": "Liczby postaci $6k$, gdzie $k \\in \\mathbb{N}$ i $6k \\leq 2021$",
        "explanation": "Każda wielokrotność $6$ spełnia warunek"
      },
      {
        "step": 3,
        "hint": "Jaka jest największa wartość $k$, dla której $6k$ jeszcze mieści się w zbiorze?",
        "expression": "$6k \\leq 2021$ czyli $k \\leq \\frac{2021}{6} = 336{,}8\\overline{3}$",
        "explanation": "Dzielimy górną granicę przez $6$"
      },
      {
        "step": 4,
        "hint": "Ile jest liczb naturalnych od $1$ do $336$?",
        "expression": "$k \\in \\{1, 2, 3, \\ldots, 336\\}$, więc jest ich $336$",
        "explanation": "Bierzemy największą liczbę całkowitą nie większą niż $336{,}8\\overline{3}$"
      }
    ],
    "solutions": [
      "$336$"
    ],
    "parameters": {
      "set": "$\\{1,2,3,4, \\ldots, 2021\\}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 1
      }
    },
    "timestamp": "2025-10-03T09:34:24.906Z"
  },
  {
    "id": "divisibility_inclusion_exclusion",
    "topic": "Zasada włączeń i wyłączeń",
    "difficulty": 3,
    "statement": "Ile jest liczb w zbiorze $\\{1,2,3,4, \\ldots, 2021\\}$, które są podzielne przez $3$ lub przez $4$?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile liczb od $1$ do $2021$ dzieli się przez $3$?",
        "expression": "$|A| = \\left\\lfloor \\frac{2021}{3} \\right\\rfloor = 673$",
        "explanation": "Liczby podzielne przez $3$ to: $3$, $6$, $9$, ..., $2019$. Dzielimy $2021$ przez $3$ i zaokrąglamy w dół"
      },
      {
        "step": 2,
        "hint": "A ile liczb dzieli się przez $4$?",
        "expression": "$|B| = \\left\\lfloor \\frac{2021}{4} \\right\\rfloor = 505$",
        "explanation": "Liczby podzielne przez $4$ to: $4$, $8$, $12$, ..., $2020$. Dzielimy $2021$ przez $4$ i zaokrąglamy w dół"
      },
      {
        "step": 3,
        "hint": "Czy możemy po prostu dodać te dwie liczby? Co się wtedy stanie?",
        "expression": "$|A| + |B| = 673 + 505 = 1178$",
        "explanation": "Gdybyśmy dodali, policzylibyśmy niektóre liczby dwa razy",
        "why": "Niektóre liczby dzielą się zarówno przez $3$, jak i przez $4$ (np. $12$, $24$, $36$). Dodając zbiory, liczymy je podwójnie. Musimy je odjąć!"
      },
      {
        "step": 4,
        "hint": "Przez co dzielą się liczby, które są podzielne zarówno przez $3$, jak i przez $4$?",
        "expression": "Liczby podzielne przez $3$ i przez $4$ są podzielne przez $NWD(3,4) = 12$",
        "explanation": "Ponieważ $3$ i $4$ są względnie pierwsze, $NWD(3,4) = 3 \\cdot 4 = 12$",
        "why": "Gdy liczby są względnie pierwsze (nie mają wspólnych dzielników oprócz 1), ich NWD to ich iloczyn. Alternatywnie: szukamy $NWW(3,4)$."
      },
      {
        "step": 5,
        "hint": "Ile jest liczb podzielnych przez 12?",
        "expression": "$|A \\cap B| = \\left\\lfloor \\frac{2021}{12} \\right\\rfloor = 168$",
        "explanation": "Liczby podzielne przez $12$ to: $12$, $24$, $36$, ..., $2016$"
      },
      {
        "step": 6,
        "hint": "Jak zastosować zasadę włączeń i wyłączeń, żeby uniknąć podwójnego liczenia?",
        "expression": "$|A \\cup B| = |A| + |B| - |A \\cap B| = 673 + 505 - 168 = 1010$",
        "explanation": "Odejmujemy liczby policzone podwójnie, otrzymując ostateczny wynik"
      }
    ],
    "solutions": [
      "$1010$"
    ],
    "parameters": {
      "set": "$\\{1, 2, 3, \\ldots, 2021\\}$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:34:41.561Z"
  },
  {
    "id": "divisibility_inclusion_exclusion",
    "topic": "Podzielność liczb i zasada włączeń i wyłączeń",
    "difficulty": 3,
    "statement": "Ile jest liczb w zbiorze $\\{1,2,3,4, \\ldots, 2021\\}$, które są podzielne przez $5$ i jednocześnie niepodzielne przez $7$?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile liczb od $1$ do $2021$ dzieli się przez $5$?",
        "expression": "$\\left\\lfloor \\frac{2021}{5} \\right\\rfloor = \\left\\lfloor 404{,}2 \\right\\rfloor = 404$",
        "explanation": "Dzielimy $2021$ przez $5$ i zaokrąglamy w dół, aby znaleźć wszystkie wielokrotności piątki",
        "why": "Wzór $\\left\\lfloor \\frac{n}{k} \\right\\rfloor$ daje liczbę wielokrotności $k$ w zbiorze $\\{1, 2, ..., n\\}$. Przykład: dla $n=12$, $k=5$ mamy $\\lfloor 2{,}4 \\rfloor = 2$ liczby: $5$ i $10$."
      },
      {
        "step": 2,
        "hint": "Które z tych $404$ liczb są jednocześnie podzielne przez $7$?",
        "expression": "Liczby podzielne przez 5 i przez 7 to liczby podzielne przez $NWD(5,7) = 35$",
        "explanation": "Szukamy liczb podzielnych jednocześnie przez $5$ i $7$",
        "why": "Gdy liczby są względnie pierwsze (jak $5$ i $7$), ich NWD = ich iloczyn. Liczba dzieli się przez obie wtedy i tylko wtedy, gdy dzieli się przez ich NWD."
      },
      {
        "step": 3,
        "hint": "Ile jest wielokrotności liczby $35$ w naszym zbiorze?",
        "expression": "$\\left\\lfloor \\frac{2021}{35} \\right\\rfloor = \\left\\lfloor 57{,}74... \\right\\rfloor = 57$",
        "explanation": "To liczby podzielne zarówno przez $5$, jak i przez $7$"
      },
      {
        "step": 4,
        "hint": "Jak otrzymać liczby podzielne przez $5$, ale NIE przez $7$?",
        "expression": "$404 - 57 = 347$",
        "explanation": "Od wszystkich liczb podzielnych przez $5$ odejmujemy te, które są też podzielne przez $7$",
        "why": "Zasada wyłączenia: z całego zbioru $A$ (podzielne przez 5) usuwamy podzbiór $B$ (podzielne przez 5 i 7), otrzymując $A \\setminus B$ (podzielne przez 5, ale nie przez 7)."
      }
    ],
    "solutions": [
      "$347$"
    ],
    "parameters": {
      "set": "$\\{1, 2, 3, ..., 2021\\}$",
      "condition": "podzielne przez $5$ i niepodzielne przez $7$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:34:59.029Z"
  },
  {
    "id": "combinatorics_two_digit_sum",
    "topic": "Kombinatoryka - liczby dwucyfrowe z warunkami",
    "difficulty": 3,
    "statement": "Oblicz, ile jest liczb dwucyfrowych, których cyfry należą do zbioru $\\{0,1,2,3,4\\}$ i jednocześnie suma tych cyfr jest większa od $3$.",
    "steps": [
      {
        "step": 1,
        "hint": "Która cyfra w liczbie dwucyfrowej nie może być zerem?",
        "expression": "Cyfra dziesiątek: $\\{1,2,3,4\\}$ (4 możliwości), cyfra jedności: $\\{0,1,2,3,4\\}$ (5 możliwości)",
        "explanation": "Liczba dwucyfrowa nie może zaczynać się od zera",
        "why": "To kluczowe ograniczenie! Liczba $07$ to tak naprawdę $7$ (jednocyfrowa). Cyfra dziesiątek musi być niezerowa."
      },
      {
        "step": 2,
        "hint": "Ile byłoby wszystkich liczb dwucyfrowych bez warunku na sumę?",
        "expression": "$4 \\cdot 5 = 20$ liczb",
        "explanation": "Bez warunku na sumę cyfr mamy $20$ możliwych liczb"
      },
      {
        "step": 3,
        "hint": "Czy łatwiej policzyć liczby spełniające warunek, czy te które go NIE spełniają?",
        "expression": "Szukamy liczb gdzie suma cyfr $> 3$, czyli $\\geq 4$",
        "explanation": "Warunek równoważny: suma cyfr wynosi co najmniej $4$",
        "why": "Czasem łatwiej policzyć dopełnienie! Tutaj policzmy wprost - warunków do niespełnienia jest niewiele."
      },
      {
        "step": 4,
        "hint": "Jakie pary cyfr (dziesiątki, jedności) dają sumę $\\leq 3$?",
        "expression": "Suma $\\leq 3$: $(1,0), (1,1), (1,2), (2,0), (2,1), (3,0)$ - razem $6$ par",
        "explanation": "Systematycznie sprawdzamy dla każdej cyfry dziesiątek",
        "why": "Dla cyfry dziesiątek $d$: cyfra jedności może być maksymalnie $3-d$. Np. dla $d=1$: jedności to $0,1,2$ (bo $1+3=4$ już za dużo)."
      },
      {
        "step": 5,
        "hint": "Jak otrzymać liczby spełniające nasz warunek?",
        "expression": "$20 - 6 = 14$ liczb",
        "explanation": "Od wszystkich liczb odejmujemy te, które nie spełniają warunku"
      }
    ],
    "solutions": [
      "$14$"
    ],
    "parameters": {
      "digit_set": "$\\{0,1,2,3,4\\}$",
      "condition": "suma cyfr $> 3$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:35:16.390Z"
  },
  {
    "id": "combinatorics_two_digit_sum_div4",
    "topic": "Kombinatoryka - liczby dwucyfrowe z warunkiem",
    "difficulty": 3,
    "statement": "Oblicz, ile jest liczb dwucyfrowych, których cyfry należą do zbioru $\\{0,1,2,3,4\\}$ i jednocześnie suma tych cyfr jest liczbą podzielną przez $4$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą stać na pierwszym miejscu liczby dwucyfrowej?",
        "expression": "Cyfra dziesiątek: $\\{1,2,3,4\\}$, cyfra jedności: $\\{0,1,2,3,4\\}$",
        "explanation": "Liczba dwucyfrowa nie może zaczynać się od zera",
        "why": "To kluczowe ograniczenie! Gdyby pierwsza cyfra była $0$, otrzymalibyśmy liczbę jednocyfrową. Cyfra jedności może być dowolna ze zbioru."
      },
      {
        "step": 2,
        "hint": "Jakie sumy dwóch cyfr ze zbioru $\\{0,1,2,3,4\\}$ są podzielne przez $4$?",
        "expression": "Możliwe sumy podzielne przez 4: $0, 4, 8$",
        "explanation": "Minimalna suma to $0+0=0$, maksymalna to $4+4=8$",
        "why": "Suma dwóch cyfr z naszego zbioru nie przekroczy $8$, więc sprawdzamy tylko $0, 4, 8$. Liczba podzielna przez $4$ to taka, której reszta z dzielenia przez $4$ wynosi $0$."
      },
      {
        "step": 3,
        "hint": "Które pary cyfr (dziesiątki, jedności) dają sumę równą $0$?",
        "expression": "Suma = $0$: $(0,0)$ - ale $0$ nie może być cyfrą dziesiątek",
        "explanation": "Brak liczb dwucyfrowych o sumie cyfr równej $0$",
        "why": "Jedyna para to $(0,0)$, ale narusza warunek liczby dwucyfrowej."
      },
      {
        "step": 4,
        "hint": "Które pary cyfr dają sumę równą $4$?",
        "expression": "Suma = $4$: $(1,3), (2,2), (3,1), (4,0)$",
        "explanation": "Wszystkie te pary spełniają warunek liczby dwucyfrowej",
        "why": "Sprawdzamy systematycznie: dla dziesiątek $1$: $1+3=4$; dla $2$: $2+2=4$; dla $3$: $3+1=4$; dla $4$: $4+0=4$. Każda para jest poprawna."
      },
      {
        "step": 5,
        "hint": "Które pary cyfr dają sumę równą $8$?",
        "expression": "Suma = $8$: $(4,4)$",
        "explanation": "Tylko jedna para daje sumę $8$",
        "why": "Maksymalna cyfra to $4$, więc jedyna możliwość to $4+4=8$. Pary typu $(3,5)$ są niemożliwe, bo $5$ nie należy do zbioru."
      },
      {
        "step": 6,
        "hint": "Ile łącznie mamy liczb spełniających warunki?",
        "expression": "Liczby: $13$, $22$, $31$, $40$, $44$. Razem: $4 + 1 = 5$ liczb",
        "explanation": "Sumujemy liczby z sum równych $4$ i $8$"
      }
    ],
    "solutions": [
      "$5$"
    ],
    "parameters": {
      "digit_set": "$\\{0,1,2,3,4\\}$",
      "condition": "suma cyfr podzielna przez $4$",
      "numbers": "$13$, $22$, $31$, $40$, $44$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [
        "Zbyt wiele kroków z polem \"why\" (5/6). Używaj tylko dla kluczowych kroków."
      ],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 5
      }
    },
    "timestamp": "2025-10-03T09:35:35.586Z"
  },
  {
    "id": "combinatorics_two_digit_product",
    "topic": "Kombinatoryka - liczby dwucyfrowe z warunkami",
    "difficulty": 3,
    "statement": "Oblicz, ile jest liczb dwucyfrowych, o różnych cyfrach należących do zbioru $\\{0,1,2,3,4,5\\}$ i których iloczyn cyfr jest mniejszy od $8$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry mogą stać na pierwszym miejscu liczby dwucyfrowej?",
        "expression": "Cyfra dziesiątek: $\\{1,2,3,4,5\\}$ (nie może być $0$)",
        "explanation": "Liczba dwucyfrowa nie może zaczynać się od zera",
        "why": "To kluczowe ograniczenie! Liczba $07$ to nie jest liczba dwucyfrowa, tylko jednocyfrowa $7$. Cyfra dziesiątek musi być różna od $0$."
      },
      {
        "step": 2,
        "hint": "Które iloczyny dwóch różnych cyfr ze zbioru dają wynik mniejszy od $8$?",
        "expression": "Iloczyny < 8: $0 \\cdot k = 0$, $1 \\cdot k = k$ (dla $k \\leq 7$), $2 \\cdot 1 = 2$, $2 \\cdot 2 = 4$, $2 \\cdot 3 = 6$, $3 \\cdot 1 = 3$, $3 \\cdot 2 = 6$, $4 \\cdot 1 = 4$, $5 \\cdot 1 = 5$",
        "explanation": "Systematycznie sprawdzamy możliwe pary cyfr",
        "why": "Cyfry muszą być różne! Np. $2 \\cdot 2 = 4$ nie jest dozwolone. Iloczyn $2 \\cdot 4 = 8$ już nie spełnia warunku $(<8, \\text{nie } \\leq 8)$."
      },
      {
        "step": 3,
        "hint": "Które pary cyfr (dziesiątki, jedności) spełniają wszystkie warunki jednocześnie?",
        "expression": "Pary $\\left(d, j\\right)$ gdzie $d \\neq 0$, $d \\neq j$, $d \\cdot j < 8$",
        "explanation": "Łączymy trzy warunki: dwucyfrowa, różne cyfry, iloczyn $< 8$"
      },
      {
        "step": 4,
        "hint": "Ile liczb możesz utworzyć, gdy cyfra dziesiątek to $1$?",
        "expression": "$d = 1$: jedności $\\{0,2,3,4,5\\}$ → liczby: $10$, $12$, $13$, $14$, $15$ ($5$ liczb)",
        "explanation": "Dla $d = 1$ wszystkie pozostałe cyfry dają iloczyn $< 8$"
      },
      {
        "step": 5,
        "hint": "Które cyfry jedności działają dla $d = 2$?",
        "expression": "$d = 2$: jedności $\\{0,1,3\\}$ → liczby: $20$, $21$, $23$ ($3$ liczby)",
        "explanation": "Dla $d = 2$: $2 \\cdot 0 = 0$, $2 \\cdot 1 = 2$, $2 \\cdot 3 = 6$ < $8$, ale $2 \\cdot 4 = 8$ ≥ $8$"
      },
      {
        "step": 6,
        "hint": "Co z cyframi dziesiątek $3$, $4$ i $5$?",
        "expression": "d = 3: jedności $\\{0,1,2\\}$ → 30, 31, 32 (3 liczby)\nd = 4: jedności $\\{0,1\\}$ → 40, 41 (2 liczby)\nd = 5: jedności $\\{0,1\\}$ → 50, 51 (2 liczby)",
        "explanation": "Im większa cyfra dziesiątek, tym mniej możliwości dla jedności"
      },
      {
        "step": 7,
        "hint": "Ile łącznie liczb spełnia wszystkie warunki?",
        "expression": "$5 + 3 + 3 + 2 + 2 = 15$",
        "explanation": "Sumujemy liczby z każdego przypadku"
      }
    ],
    "solutions": [
      "$15$"
    ],
    "parameters": {
      "digit_set": "$\\{0,1,2,3,4,5\\}$",
      "condition": "cyfry różne, iloczyn $< 8$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:35:57.807Z"
  },
  {
    "id": "combinatorics_two_digit_even",
    "topic": "Kombinatoryka - permutacje z ograniczeniami",
    "difficulty": 3,
    "statement": "Oblicz, ile jest liczb dwucyfrowych utworzonych z różnych cyfr należących do zbioru $\\{1,2,3,4,5,6,7,8,9\\}$ i jednocześnie parzystych.",
    "steps": [
      {
        "step": 1,
        "hint": "Co decyduje o tym, czy liczba dwucyfrowa jest parzysta?",
        "expression": "Liczba jest parzysta, gdy cyfra jedności jest parzysta",
        "explanation": "W liczbie dwucyfrowej parzystość zależy tylko od ostatniej cyfry",
        "why": "Cyfra dziesiątek nie wpływa na parzystość. Np. $24$ i $84$ są parzyste przez cyfrę $4$ na końcu, niezależnie od cyfry dziesiątek."
      },
      {
        "step": 2,
        "hint": "Które cyfry ze zbioru $\\{1,2,3,4,5,6,7,8,9\\}$ są parzyste?",
        "expression": "Cyfry parzyste: $\\{2, 4, 6, 8\\}$, czyli $4$ cyfry",
        "explanation": "Identyfikujemy możliwe cyfry jedności"
      },
      {
        "step": 3,
        "hint": "Dlaczego warto zacząć od wyboru cyfry jedności, a nie dziesiątek?",
        "expression": "Cyfra jedności: $4$ możliwości (wybieramy jedną z $\\{2, 4, 6, 8\\}$)",
        "explanation": "Najpierw wybieramy cyfrę jedności, bo ma więcej ograniczeń",
        "why": "Strategia: zaczynamy od pozycji z większymi ograniczeniami. Cyfra jedności musi być parzysta ($4$ opcje), cyfra dziesiątek tylko różna od wybranej ($8$ opcji)."
      },
      {
        "step": 4,
        "hint": "Po wyborze cyfry jedności, ile cyfr pozostaje do wyboru na pozycję dziesiątek?",
        "expression": "Cyfra dziesiątek: $8$ możliwości (wszystkie z $\\{1,2,3,4,5,6,7,8,9\\}$ oprócz wybranej cyfry jedności)",
        "explanation": "Cyfry muszą być różne, więc wykluczamy już użytą cyfrę jedności"
      },
      {
        "step": 5,
        "hint": "Jak połączyć liczbę wyborów dla obu pozycji w jedną odpowiedź?",
        "expression": "$4 \\cdot 8 = 32$",
        "explanation": "Mnożymy liczbę możliwości dla każdej pozycji (reguła mnożenia)",
        "why": "Reguła mnożenia: gdy wybory są niezależne, mnożymy ich liczby. Dla każdej z $4$ cyfr jedności mamy $8$ opcji cyfry dziesiątek, razem $4 \\times 8 = 32$ liczb."
      }
    ],
    "solutions": [
      "$32$"
    ],
    "parameters": {
      "set": "$\\{1,2,3,4,5,6,7,8,9\\}$",
      "condition": "cyfry różne, liczba parzysta"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:36:31.853Z"
  },
  {
    "id": "combinatorics_two_digit_numbers",
    "topic": "Kombinatoryka - liczby dwucyfrowe z warunkami",
    "difficulty": 3,
    "statement": "Oblicz, ile jest liczb dwucyfrowych utworzonych z różnych cyfr należących do zbioru $\\{1,2,3,4,5,6,7,8,9\\}$ i jednocześnie nie większych od $56$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie warunki musi spełniać liczba dwucyfrowa, aby była nie większa od $56$?",
        "expression": "Liczba $\\overline{ab} \\leq 56$, gdzie $a, b \\in \\{1,2,3,4,5,6,7,8,9\\}$ oraz $a \\neq b$",
        "explanation": "Zapisujemy warunki zadania: liczba dwucyfrowa z różnych cyfr, nie większa od $56$"
      },
      {
        "step": 2,
        "hint": "Które cyfry dziesiątek sprawią, że liczba na pewno będzie $\\leq 56$?",
        "expression": "Cyfra dziesiątek $a \\in \\{1, 2, 3, 4\\}$ - wtedy liczba zawsze $\\leq 56$",
        "explanation": "Gdy cyfra dziesiątek to $1$, $2$, $3$ lub $4$, liczba jest mniejsza od $56$",
        "why": "Dla $a = 1, 2, 3, 4$ największe możliwe liczby to $19$, $29$, $39$, $49$ - wszystkie mniejsze od $56$. Dla $a \\geq 6$ liczba przekracza $56$. Przypadek $a = 5$ wymaga osobnej analizy!"
      },
      {
        "step": 3,
        "hint": "Ile liczb możesz utworzyć dla każdej z cyfr dziesiątek $1$, $2$, $3$, $4$?",
        "expression": "Dla każdego $a \\in \\{1, 2, 3, 4\\}$: cyfra jedności $b$ może być dowolną z $8$ pozostałych cyfr",
        "explanation": "Mamy 9 cyfr, jedna zajęta przez $a$, zostaje $8$ możliwości dla $b$"
      },
      {
        "step": 4,
        "hint": "Co z liczbami zaczynającymi się od $5$? Które z nich są $\\leq 56$?",
        "expression": "Dla $a = 5$: liczby $51$, $52$, $53$, $54$, $56$ spełniają warunek $(5$ liczb$)$",
        "explanation": "Cyfra jedności może być tylko z $\\{1, 2, 3, 4, 6\\}$, bo $55$ ma powtórzone cyfry, a $57$, $58$, $59$ > $56$",
        "why": "Uwaga: $55$ nie spełnia warunku różnych cyfr! Liczby $57$, $58$, $59$ przekraczają $56$. Zostaje dokładnie $5$ możliwości."
      },
      {
        "step": 5,
        "hint": "Jak zsumować wszystkie możliwości?",
        "expression": "$4 \\cdot 8 + 5 = 32 + 5 = 37$",
        "explanation": "Sumujemy liczby dla cyfr dziesiątek $1$-$4$ oraz dla cyfry $5$"
      }
    ],
    "solutions": [
      "$37$"
    ],
    "parameters": {
      "set": "$\\{1,2,3,4,5,6,7,8,9\\}$",
      "condition": "liczby dwucyfrowe z różnych cyfr, $\\leq 56$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 5,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:36:52.350Z"
  },
  {
    "id": "combinatorics_divisibility_example",
    "topic": "Kombinatoryka z warunkami podzielności",
    "difficulty": 4,
    "statement": "Oblicz, ile jest liczb dwucyfrowych utworzonych z różnych cyfr należących do zbioru $\\{1,2,3,4,5,6,7,8,9\\}$ i jednocześnie niepodzielnych przez $3$.",
    "steps": [
      {
        "step": 1,
        "hint": "Ile w ogóle możesz utworzyć liczb dwucyfrowych z różnych cyfr z tego zbioru?",
        "expression": "Cyfra dziesiątek: $9$ możliwości, cyfra jedności: $8$ możliwości (różne cyfry), razem: $9 \\cdot 8 = 72$ liczby",
        "explanation": "Liczymy wszystkie możliwe liczby dwucyfrowe z różnych cyfr"
      },
      {
        "step": 2,
        "hint": "Kiedy liczba jest podzielna przez $3$?",
        "expression": "Liczba podzielna przez 3 $\\Leftrightarrow$ suma jej cyfr podzielna przez 3",
        "explanation": "Wykorzystujemy cechę podzielności przez $3$",
        "why": "To kluczowa cecha: liczba i suma jej cyfr dają tę samą resztę z dzielenia przez $3$. Zamiast sprawdzać $72$ liczby, sprawdzimy sumy cyfr!"
      },
      {
        "step": 3,
        "hint": "Jak podzielić cyfry ze zbioru według reszt z dzielenia przez $3$?",
        "expression": "Reszta 0: $\\{3, 6, 9\\}$, Reszta 1: $\\{1, 4, 7\\}$, Reszta 2: $\\{2, 5, 8\\}$",
        "explanation": "Grupujemy cyfry według reszt modulo $3$",
        "why": "Suma dwóch cyfr jest podzielna przez $3$ tylko gdy: obie z grupy $0$, lub jedna z grupy $1$ i druga z grupy $2$. To pozwoli policzyć liczby podzielne przez $3$."
      },
      {
        "step": 4,
        "hint": "Ile par cyfr daje sumę podzielną przez 3?",
        "expression": "Obie z grupy $0$: $3 \\cdot 2 = 6$ par, Jedna z grupy $1$, druga z grupy $2$: $3 \\cdot 3 \\cdot 2 = 18$ par (uwzględniamy kolejność)",
        "explanation": "Liczymy pary cyfr dających liczby podzielne przez $3$"
      },
      {
        "step": 5,
        "hint": "Dlaczego dla grup $1$ i $2$ mnożymy przez $2$?",
        "expression": "Razem liczb podzielnych przez 3: $6 + 18 = 24$",
        "explanation": "Sumujemy wszystkie przypadki liczb podzielnych przez $3$",
        "why": "Dla par z różnych grup kolejność ma znaczenie: cyfra z grupy 1 może być na miejscu dziesiątek lub jedności. Stąd $3 \\cdot 3 \\cdot 2 = 18$."
      },
      {
        "step": 6,
        "hint": "Jak otrzymać liczby NIEpodzielne przez 3?",
        "expression": "Liczby niepodzielne przez 3: $72 - 24 = 48$",
        "explanation": "Od wszystkich liczb odejmujemy te podzielne przez $3$"
      }
    ],
    "solutions": [
      "$48$"
    ],
    "parameters": {
      "total_numbers": 72,
      "divisible_by_3": 24,
      "not_divisible_by_3": 48
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:37:11.156Z"
  },
  {
    "id": "combinatorics_divisibility_7",
    "topic": "Kombinatoryka z warunkiem podzielności",
    "difficulty": 4,
    "statement": "Oblicz, ile jest liczb dwucyfrowych utworzonych z różnych cyfr należących do zbioru $\\{1,2,3,4,5,6,7,8,9\\}$ i jednocześnie podzielnych przez $7$.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie liczby dwucyfrowe z tego zbioru dzielą się przez $7$?",
        "expression": "Liczby dwucyfrowe podzielne przez 7: $14, 21, 28, 35, 42, 49, 56, 63, 70, 77, 84, 91, 98$",
        "explanation": "Sprawdzamy wszystkie wielokrotności $7$ od $14$ do $98$",
        "why": "Systematyczne wypisanie wielokrotności $7$ zapobiega pominięciu rozwiązań. Zakres: najmniejsza dwucyfrowa to $10$, największa z naszych cyfr to $99$."
      },
      {
        "step": 2,
        "hint": "Które z tych liczb zawierają cyfrę $0$ lub cyfry spoza naszego zbioru?",
        "expression": "Odrzucamy: $70$ (zawiera $0$), $28$ (zawiera $8$ i $2$, ale $8$ nie jest w zbiorze... czekaj, $8$ jest!)",
        "explanation": "Sprawdzamy każdą liczbę pod kątem cyfr ze zbioru $\\{1,2,3,4,5,6,7,8,9\\}$"
      },
      {
        "step": 3,
        "hint": "Które liczby mają obie cyfry ze zbioru $\\{1,2,3,4,5,6,7,8,9\\}$?",
        "expression": "Pozostają: $14, 21, 28, 35, 42, 49, 56, 63, 77, 84, 91, 98$",
        "explanation": "Wszystkie te liczby mają cyfry z dozwolonego zbioru (odrzucamy tylko $70$)",
        "why": "Cyfra $0$ nie należy do zbioru, więc $70$ odpada. Pozostałe liczby używają tylko cyfr $1-9$."
      },
      {
        "step": 4,
        "hint": "Które liczby mają powtarzające się cyfry?",
        "expression": "Liczba $77$ ma powtarzającą się cyfrę $7$",
        "explanation": "Warunek mówi o różnych cyfrach, więc $77$ nie spełnia wymagań"
      },
      {
        "step": 5,
        "hint": "Ile liczb pozostało po odrzuceniu tych z powtarzającymi się cyframi?",
        "expression": "Liczby spełniające wszystkie warunki: $14$, $21$, $28$, $35$, $42$, $49$, $56$, $63$, $84$, $91$, $98$",
        "explanation": "Odrzuciliśmy $70$ (zawiera $0$) i $77$ (powtarzające się cyfry)"
      },
      {
        "step": 6,
        "hint": "Ile elementów ma nasza lista końcowa?",
        "expression": "Liczba takich liczb: $11$",
        "explanation": "Zliczamy wszystkie liczby spełniające warunki zadania"
      }
    ],
    "solutions": [
      "$11$"
    ],
    "parameters": {
      "valid_numbers": "$14, 21, 28, 35, 42, 49, 56, 63, 84, 91, 98$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:37:29.814Z"
  },
  {
    "id": "combinatorics_phone_numbers",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 4,
    "statement": "Oblicz, ile jest numerów telefonów komórkowych (numerów $9$-cyfrowych), których pierwszą cyfrą jest cyfra większa od $6$, ostatnie cztery cyfry są jednakowe, a każda z pozostałych cyfr jest różna od innych cyfr.",
    "steps": [
      {
        "step": 1,
        "hint": "Jaką strukturę ma numer telefonu zgodnie z warunkami zadania?",
        "expression": "Numer ma postać: $c_1 c_2 c_3 c_4 c_5 c_6 c_7 c_8 c_9$, gdzie $c_1 > 6$, $c_6 = c_7 = c_8 = c_9$, a cyfry $c_1, c_2, c_3, c_4, c_5, c_6$ są parami różne",
        "explanation": "Identyfikujemy pozycje z ograniczeniami: pierwsza cyfra, cztery ostatnie jednakowe, środkowe różne",
        "why": "Kluczowe jest zrozumienie, że ostatnie 4 cyfry to jedna wartość powtórzona, więc faktycznie wybieramy tylko $6$ różnych cyfr (nie $9$). To zmienia całe podejście do problemu."
      },
      {
        "step": 2,
        "hint": "Ile cyfr spełnia warunek dla pierwszej pozycji?",
        "expression": "Pierwsza cyfra: $c_1 \\in \\{7, 8, 9\\}$, więc $3$ możliwości",
        "explanation": "Cyfry większe od $6$ to tylko $7$, $8$ i $9$"
      },
      {
        "step": 3,
        "hint": "Którą cyfrę warto wybrać jako następną i dlaczego?",
        "expression": "Ostatnie cztery cyfry: $c_6 = c_7 = c_8 = c_9$ może być dowolną cyfrą z $\\{0, 1, 2, ..., 9\\}$ różną od $c_1$",
        "explanation": "Mamy 10 cyfr, ale jedna jest już zajęta przez $c_1$, więc zostaje $9$ możliwości",
        "why": "Wybieramy tę cyfrę wcześnie, bo wpływa na dostępne cyfry dla środkowych pozycji. Alternatywnie można by zacząć od środka, ale to komplikuje obliczenia."
      },
      {
        "step": 4,
        "hint": "Ile cyfr pozostało do wyboru dla drugiej pozycji?",
        "expression": "Druga cyfra $c_2$: różna od $c_1$ i $c_6$, więc $10 - 2 = 8$ możliwości",
        "explanation": "Dwie cyfry już użyte, pozostaje $8$ dostępnych"
      },
      {
        "step": 5,
        "hint": "Jak zmienia się liczba dostępnych cyfr dla kolejnych pozycji?",
        "expression": "Trzecia cyfra $c_3$: $10 - 3 = 7$ możliwości\nCzwarta cyfra $c_4$: $10 - 4 = 6$ możliwości\nPiąta cyfra $c_5$: $10 - 5 = 5$ możliwości",
        "explanation": "Każda kolejna cyfra musi być różna od wszystkich poprzednich"
      },
      {
        "step": 6,
        "hint": "Jak połączyć wszystkie wybory w jedną liczbę numerów?",
        "expression": "Całkowita liczba numerów: $3 \\cdot 9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5$",
        "explanation": "Stosujemy zasadę mnożenia: mnożymy liczby możliwości dla każdej pozycji",
        "why": "Zasada mnożenia działa, gdy wybory są niezależne i sekwencyjne. Każda kombinacja cyfr daje unikalny numer."
      },
      {
        "step": 7,
        "hint": "Jaki jest wynik końcowy?",
        "expression": "$3 \\cdot 9 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 = 27 \\cdot 8 \\cdot 7 \\cdot 6 \\cdot 5 = 216 \\cdot 210 = 45360$",
        "explanation": "Obliczamy iloczyn wszystkich możliwości"
      }
    ],
    "solutions": [
      "$45360$"
    ],
    "parameters": {
      "note": "Cyfry $c_1, c_2, c_3, c_4, c_5, c_6$ muszą być parami różne, gdzie $c_6 = c_7 = c_8 = c_9$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:37:56.566Z"
  },
  {
    "id": "phone_numbers_combinatorics",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 3,
    "statement": "Oblicz, ile jest numerów telefonów komórkowych (numerów dziewięciocyfrowych), których początkowe $4$ cyfry są kolejnymi liczbami nieparzystymi, ustawionymi malejąco, a ostatnie $3$ cyfry są kolejnymi liczbami parzystymi, ustawionymi rosnąco.",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie cyfry nieparzyste możemy wybrać, aby utworzyć ciąg malejący długości $4$?",
        "expression": "Cyfry nieparzyste: $1, 3, 5, 7, 9$ (5 cyfr)",
        "explanation": "Mamy $5$ cyfr nieparzystych do dyspozycji"
      },
      {
        "step": 2,
        "hint": "Ile sposobów jest na wybranie $4$ cyfr z $5$ dostępnych, jeśli kolejność jest już ustalona (malejąco)?",
        "expression": "Liczba sposobów wyboru $4$ cyfr z $5$: $\\binom{5}{4} = 5$",
        "explanation": "Wybieramy $4$ z $5$ cyfr, a kolejność (malejąca) jest automatycznie określona",
        "why": "Kluczowe: nie liczymy permutacji, bo kolejność jest narzucona (malejąco). Wybieramy tylko KTÓRE cyfry, nie JAK je ustawić. Na przykład: wybór $\\{9,7,5,3\\}$ daje tylko jeden numer: $9753$."
      },
      {
        "step": 3,
        "hint": "Jakie cyfry parzyste są dostępne dla ostatnich trzech pozycji?",
        "expression": "Cyfry parzyste: $0, 2, 4, 6, 8$ (5 cyfr)",
        "explanation": "Mamy $5$ cyfr parzystych do dyspozycji"
      },
      {
        "step": 4,
        "hint": "Ile sposobów jest na wybranie $3$ cyfr parzystych z $5$, gdy muszą być rosnąco?",
        "expression": "Liczba sposobów wyboru $3$ cyfr z $5$: $\\binom{5}{3} = 10$",
        "explanation": "Wybieramy $3$ z $5$ cyfr parzystych, kolejność (rosnąca) jest określona",
        "why": "Podobnie jak wcześniej: wybór $\\{0,4,8\\}$ daje tylko $048$, nie ma innych permutacji. Cyfra $0$ może być na początku tych trzech cyfr."
      },
      {
        "step": 5,
        "hint": "Czy wybory pierwszych $4$ cyfr i ostatnich $3$ cyfr są od siebie niezależne?",
        "expression": "Środkowe $2$ cyfry mogą być dowolne: $10 \\times 10 = 100$ możliwości",
        "explanation": "Piąta i szósta cyfra numeru nie mają ograniczeń, każda może być cyfrą od $0$ do $9$"
      },
      {
        "step": 6,
        "hint": "Jak połączyć wszystkie niezależne wybory w jeden wynik?",
        "expression": "Całkowita liczba numerów: $5 \\times 100 \\times 10 = 5000$",
        "explanation": "Mnożymy liczbę możliwości dla każdej niezależnej części numeru",
        "why": "Zasada mnożenia: gdy mamy niezależne wybory, mnożymy ich liczności. Struktura: [4 cyfry nieparzyste malejąco] [2 dowolne] [3 cyfry parzyste rosnąco]."
      }
    ],
    "solutions": [
      "$5000$ numerów"
    ],
    "parameters": {
      "note": "Numer ma strukturę: $NNNN$-$DD$-$PPP$, gdzie $N$ - nieparzyste malejąco, $D$ - dowolne, $P$ - parzyste rosnąco"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 6,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:38:18.094Z"
  },
  {
    "id": "combinatorics_arrangement_with_gap",
    "topic": "Kombinatoryka - permutacje z warunkiem",
    "difficulty": 4,
    "statement": "Na ile sposobów można $8$ osób, wśród których są osoby $A$ i $B$, posadzić w jednym rzędzie tak, aby osoby $A$ i $B$ były rozdzielone dwiema innymi osobami?",
    "steps": [
      {
        "step": 1,
        "hint": "Co dokładnie oznacza, że $A$ i $B$ są rozdzielone dwiema osobami?",
        "expression": "Między $A$ i $B$ muszą być dokładnie $2$ osoby, np: $A \\_ \\_ B$ lub $B \\_ \\_ A$",
        "explanation": "Ustalamy warunek: między $A$ i $B$ dokładnie dwie osoby"
      },
      {
        "step": 2,
        "hint": "Czy możemy traktować $A$, dwie osoby i $B$ jako jeden blok?",
        "expression": "Tworzymy blok 4 osób: $[A \\_ \\_ B]$ lub $[B \\_ \\_ A]$",
        "explanation": "Grupujemy $A$, $B$ i dwie osoby między nimi w jeden blok",
        "why": "To kluczowa technika w kombinatoryce z warunkami. Blok traktujemy jak jeden obiekt, co upraszcza problem. Pamiętaj: wewnątrz bloku też są permutacje!"
      },
      {
        "step": 3,
        "hint": "Ile obiektów mamy do ustawienia, jeśli blok to jeden obiekt?",
        "expression": "Mamy: $1$ blok + $4$ pozostałe osoby = $5$ obiektów do ustawienia",
        "explanation": "Blok plus $4$ osoby spoza bloku daje $5$ obiektów"
      },
      {
        "step": 4,
        "hint": "Na ile sposobów można ustawić te $5$ obiektów w rzędzie?",
        "expression": "$5! = 120$ sposobów",
        "explanation": "Permutacja $5$ obiektów"
      },
      {
        "step": 5,
        "hint": "W ilu konfiguracjach może być $A$ względem $B$ w bloku?",
        "expression": "$2$ konfiguracje: $A \\_ \\_ B$ lub $B \\_ \\_ A$",
        "explanation": "A może być przed $B$ lub $B$ przed $A$"
      },
      {
        "step": 6,
        "hint": "Ile osób możemy wybrać na dwa miejsca między $A$ i $B$?",
        "expression": "Wybieramy $2$ osoby z $6$ pozostałych: $\\binom{6}{2} = 15$ sposobów",
        "explanation": "Z $6$ osób ($8$ minus $A$ i $B$) wybieramy $2$ do środka bloku",
        "why": "Używamy symbolu Newtona $\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$, bo kolejność wyboru nie ma znaczenia - dopiero później ustalimy ich kolejność w bloku."
      },
      {
        "step": 7,
        "hint": "Na ile sposobów można ustawić te $2$ wybrane osoby między $A$ i $B$?",
        "expression": "$2! = 2$ sposoby ustawienia wybranych osób",
        "explanation": "Dwie wybrane osoby można przestawić między sobą"
      },
      {
        "step": 8,
        "hint": "Jak połączyć wszystkie możliwości w jeden wynik?",
        "expression": "$5! \\cdot 2 \\cdot \\binom{6}{2} \\cdot 2! = 120 \\cdot 2 \\cdot 15 \\cdot 2$",
        "explanation": "Mnożymy wszystkie niezależne wybory",
        "why": "Zasada mnożenia: jeśli mamy $k$ niezależnych etapów z $n_1, n_2, ..., n_k$ możliwościami, to łącznie jest $n_1 \\cdot n_2 \\cdot ... \\cdot n_k$ sposobów."
      },
      {
        "step": 9,
        "hint": "Jaki jest końcowy wynik obliczeń?",
        "expression": "$120 \\cdot 2 \\cdot 15 \\cdot 2 = 7200$",
        "explanation": "Obliczamy ostateczną liczbę sposobów"
      }
    ],
    "solutions": [
      "$7200$"
    ],
    "parameters": {
      "total_people": 8,
      "gap_size": 2
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 9,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:38:39.928Z"
  },
  {
    "id": "circular_permutation_opposite",
    "topic": "Permutacje przy stole okrągłym z warunkiem",
    "difficulty": 4,
    "statement": "Na ile sposobów można $8$ osób, wśród których są osoby $A$ i $B$, posadzić przy okrągłym stole tak, aby osoby $A$ i $B$ siedziały naprzeciw siebie? Przyjmij, że dwa umiejscowienia osób przy okrągłym stole są różne wtedy, gdy co najmniej jedna z tych osób ma innego sąsiada z co najmniej jednej strony.",
    "steps": [
      {
        "step": 1,
        "hint": "Czym różni się liczenie permutacji przy stole okrągłym od zwykłych permutacji?",
        "expression": "Dla $n$ osób przy stole okrągłym: $\\frac{(n-1)!}{2}$ permutacji",
        "explanation": "Przy stole okrągłym ustalamy jedną osobę, aby wyeliminować obroty",
        "why": "Przy stole okrągłym nie ma wyróżnionego miejsca - obrót całego układu daje to samo rozmieszczenie. Dlatego ustalamy jedną osobę i permutujemy pozostałe: $\\frac{n!}{n} = (n-1)!$"
      },
      {
        "step": 2,
        "hint": "Jeśli $A$ i $B$ muszą siedzieć naprzeciw siebie, czy możemy je potraktować jako jedną całość?",
        "expression": "Ustalamy osobę $A$ w dowolnym miejscu (eliminacja obrotów)",
        "explanation": "Osoba $A$ zajmuje ustalone miejsce przy stole",
        "why": "To standardowy trik dla stołu okrągłego. Skoro $A$ jest ustalone, to $B$ musi zająć miejsce dokładnie naprzeciw - przy $8$ osobach to miejsce $5$. pozycji od $A$."
      },
      {
        "step": 3,
        "hint": "Skoro $A$ jest ustalone, ile możliwości ma osoba $B$ przy warunku 'naprzeciw'?",
        "expression": "Osoba B zajmuje miejsce naprzeciw A: $1$ możliwość",
        "explanation": "Przy 8 osobach naprzeciw oznacza dokładnie jedno konkretne miejsce"
      },
      {
        "step": 4,
        "hint": "Ile osób pozostało do rozmieszczenia i ile mają wolnych miejsc?",
        "expression": "Pozostało $6$ osób na $6$ wolnych miejscach",
        "explanation": "Po usadzeniu $A$ i $B$ zostaje $6$ osób i $6$ wolnych miejsc przy stole"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów można rozmieścić $6$ osób na $6$ miejscach?",
        "expression": "$6! = 720$",
        "explanation": "Pozostałe $6$ osób możemy permutować dowolnie"
      },
      {
        "step": 6,
        "hint": "Czy osoba $A$ mogłaby siedzieć w innej orientacji względem $B$?",
        "expression": "A i B mogą zamienić się miejscami: $2 \\cdot 6!$",
        "explanation": "A może być po lewej lub prawej stronie względem $B$ (patrząc przez środek stołu)",
        "why": "Choć $A$ jest 'ustalone' dla eliminacji obrotów, to $A$ i $B$ mogą zamienić się miejscami - to daje różne sąsiedztwa dla pozostałych osób. Uwaga: nie mylić z obrotem całego układu!"
      },
      {
        "step": 7,
        "hint": "Jaki jest końcowy wynik po uwzględnieniu wszystkich możliwości?",
        "expression": "$2 \\cdot 6! = 2 \\cdot 720 = 1440$",
        "explanation": "Mnożymy liczbę permutacji pozostałych osób przez możliwości $A$ i $B$"
      }
    ],
    "solutions": [
      "$1440$"
    ],
    "parameters": {
      "n": 8,
      "condition": "$A$ i $B$ naprzeciw siebie"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 7,
        "stepsWithWhy": 3
      }
    },
    "timestamp": "2025-10-03T09:39:00.955Z"
  },
  {
    "id": "combinatorics_balls_boxes",
    "topic": "Kombinatoryka - zasada mnożenia",
    "difficulty": 2,
    "statement": "Na ile sposobów można wrzucić $5$ piłeczek w różnych kolorach do $3$ ponumerowanych szuflad dowolnie?",
    "steps": [
      {
        "step": 1,
        "hint": "Ile możliwości ma pierwsza piłeczka przy wyborze szuflady?",
        "expression": "Pierwsza piłeczka: $3$ możliwości",
        "explanation": "Każda piłeczka może trafić do szuflady $1$, $2$ lub $3$"
      },
      {
        "step": 2,
        "hint": "Czy wybór szuflady dla drugiej piłeczki zależy od pierwszej?",
        "expression": "Druga piłeczka: również $3$ możliwości",
        "explanation": "Każda kolejna piłeczka niezależnie wybiera spośród $3$ szuflad",
        "why": "Piłeczki są różne (różne kolory), więc każda podejmuje niezależną decyzję. Szuflady mogą pomieścić dowolną liczbę piłeczek - nie ma ograniczeń."
      },
      {
        "step": 3,
        "hint": "Jak połączyć wybory wszystkich piłeczek w jeden wynik?",
        "expression": "$3 \\cdot 3 \\cdot 3 \\cdot 3 \\cdot 3 = 3^5$",
        "explanation": "Zasada mnożenia: mnożymy liczbę możliwości dla każdej piłeczki",
        "why": "Zasada mnożenia działa, gdy wybory są niezależne. Gdyby piłeczki były identyczne, problem byłby zupełnie inny!"
      },
      {
        "step": 4,
        "hint": "Ile wynosi $3^5$?",
        "expression": "$3^5 = 243$",
        "explanation": "Obliczamy potęgę"
      }
    ],
    "solutions": [
      "$243$"
    ],
    "parameters": {
      "objects": "5 piłeczek w różnych kolorach",
      "containers": "$3$ ponumerowane szuflady"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 4,
        "stepsWithWhy": 2
      }
    },
    "timestamp": "2025-10-03T09:39:11.853Z"
  },
  {
    "id": "combinatorics_balls_drawers",
    "topic": "Kombinatoryka - rozmieszczenia z ograniczeniami",
    "difficulty": 4,
    "statement": "Na ile sposobów można wrzucić $5$ piłeczek w różnych kolorach do trzech ponumerowanych szuflad tak, aby co najwyżej jedna piłeczka była w pierwszej szufladzie?",
    "steps": [
      {
        "step": 1,
        "hint": "Co oznacza 'co najwyżej jedna piłeczka' w pierwszej szufladzie?",
        "expression": "Warunek: w szufladzie 1 jest $0$ lub $1$ piłeczka",
        "explanation": "Dzielimy problem na dwa przypadki do rozpatrzenia",
        "why": "'Co najwyżej jedna' to suma dwóch sytuacji: zero piłeczek LUB jedna piłeczka. Częsty błąd: myślenie że to tylko 'dokładnie jedna'."
      },
      {
        "step": 2,
        "hint": "Ile jest sposobów gdy pierwsza szuflada jest pusta?",
        "expression": "Przypadek A: $0$ piłeczek w szufladzie $1$, wszystkie $5$ w szufladach $2$ i $3$",
        "explanation": "Każda z $5$ piłeczek ma $2$ możliwe szuflady ($2$ lub $3$)"
      },
      {
        "step": 3,
        "hint": "Jak obliczyć liczbę rozmieszczeń gdy każda piłeczka ma $2$ wybory?",
        "expression": "Liczba sposobów w przypadku A: $2^5 = 32$",
        "explanation": "Reguła mnożenia: $5$ niezależnych wyborów, każdy po $2$ opcje",
        "why": "Każda piłeczka niezależnie wybiera szufladę $2$ lub $3$. To $2 \\cdot 2 \\cdot 2 \\cdot 2 \\cdot 2 = 2^5$."
      },
      {
        "step": 4,
        "hint": "Gdy dokładnie jedna piłeczka jest w szufladzie 1, ile mamy wyborów?",
        "expression": "Przypadek B: dokładnie $1$ piłeczka w szufladzie $1$, pozostałe $4$ w szufladach $2$ i $3$",
        "explanation": "Musimy wybrać którą piłeczkę wrzucić do szuflady $1$"
      },
      {
        "step": 5,
        "hint": "Na ile sposobów wybierzesz jedną piłeczkę z $5$?",
        "expression": "Wybór piłeczki do szuflady 1: $\\binom{5}{1} = 5$ sposobów",
        "explanation": "Każda z $5$ różnych piłeczek może trafić do szuflady $1$"
      },
      {
        "step": 6,
        "hint": "Co z pozostałymi $4$ piłeczkami po wyborze jednej do szuflady $1$?",
        "expression": "Pozostałe $4$ piłeczki rozmieszczamy w szufladach $2$ i $3$: $2^4 = 16$ sposobów",
        "explanation": "Każda z $4$ piłeczek ma $2$ możliwe szuflady"
      },
      {
        "step": 7,
        "hint": "Jak połączyć wybór piłeczki z rozmieszczeniem reszty?",
        "expression": "Liczba sposobów w przypadku B: $5 \\cdot 2^4 = 5 \\cdot 16 = 80$",
        "explanation": "Reguła mnożenia: najpierw wybieramy piłeczkę, potem rozmieszczamy resztę",
        "why": "To dwa kolejne etapy: (1) wybór której piłeczki, (2) rozmieszczenie pozostałych. Mnożymy bo oba muszą się wydarzyć."
      },
      {
        "step": 8,
        "hint": "Jak zsumować rozłączne przypadki $A$ i $B$?",
        "expression": "Suma: $32 + 80 = 112$",
        "explanation": "Przypadki się wykluczają (albo $0$, albo $1$ piłeczka), więc dodajemy",
        "why": "Reguła sumy: gdy sytuacje się wykluczają, dodajemy ich liczności. Szuflada 1 nie może być jednocześnie pusta i niepusta."
      }
    ],
    "solutions": [
      "$112$"
    ],
    "parameters": {
      "objects": "5 piłeczek w różnych kolorach (rozróżnialne)",
      "containers": "$3$ ponumerowane szuflady",
      "constraint": "co najwyżej $1$ piłeczka w szufladzie $1$"
    },
    "validation": {
      "isValid": true,
      "missingFields": [],
      "warnings": [],
      "stats": {
        "totalSteps": 8,
        "stepsWithWhy": 4
      }
    },
    "timestamp": "2025-10-03T09:39:37.535Z"
  }
]