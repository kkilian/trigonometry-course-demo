[
  {
    "id": "tex_problem_1",
    "topic": "Podstawy matematyki",
    "statement": "Test medyczny na rzadką chorobę ma czułość $99\\%$ (wykrywa chorobę u $99\\%$ chorych) i specyficzność $95\\%$ (daje wynik negatywny u $95\\%$ zdrowych). Jeśli choroba występuje u $0,1\\%$ populacji, jakie jest prawdopodobieństwo, że osoba z pozytywnym wynikiem testu rzeczywiście jest chora?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie zdarzenia możesz zdefiniować na podstawie danych z zadania? Pomyśl o chorobie i wyniku testu",
        "expression": "$C$ - osoba jest chora, $T^+$ - test pozytywny",
        "explanation": "Definiujemy zdarzenia podstawowe do dalszych obliczeń"
      },
      {
        "step": 2,
        "hint": "Jak możesz zapisać dane z zadania w języku prawdopodobieństwa? Zwróć uwagę na czułość, specyficzność i częstość występowania",
        "expression": "$P(C) = 0,001$, $P(T^+|C) = 0,99$, $P(T^-|C') = 0,95$",
        "explanation": "Przepisujemy dane: $0,1\\% = 0,001$, czułość $99\\% = 0,99$, specyficzność $95\\% = 0,95$"
      },
      {
        "step": 3,
        "hint": "Czego szukamy? Jak to zapisać matematycznie używając prawdopodobieństwa warunkowego?",
        "expression": "Szukamy: $P(C|T^+)$",
        "explanation": "Prawdopodobieństwo choroby przy pozytywnym wyniku testu"
      },
      {
        "step": 4,
        "hint": "Jakie dodatkowe prawdopodobieństwa możesz wyznaczyć z danych? Pamiętaj o dopełnieniach zdarzeń",
        "expression": "$P(C') = 1 - P(C) = 1 - 0,001 = 0,999$",
        "explanation": "Prawdopodobieństwo bycia zdrowym to dopełnienie prawdopodobieństwa choroby"
      },
      {
        "step": 5,
        "hint": "Jak ze specyficzności możesz wyznaczyć prawdopodobieństwo fałszywie pozytywnego wyniku?",
        "expression": "$P(T^+|C') = 1 - P(T^-|C') = 1 - 0,95 = 0,05$",
        "explanation": "Jeśli test daje wynik negatywny u $95\\%$ zdrowych, to pozytywny u $5\\%$ zdrowych"
      },
      {
        "step": 6,
        "hint": "Który wzór pozwoli ci obliczyć $P(C|T^+)$? Pomyśl o wzorze Bayesa",
        "expression": "$P(C|T^+) = \\frac{P(T^+|C) \\cdot P(C)}{P(T^+)}$",
        "explanation": "Stosujemy wzór Bayesa dla prawdopodobieństwa warunkowego"
      },
      {
        "step": 7,
        "hint": "Jak obliczyć $P(T^+)$? Zastanów się nad prawem prawdopodobieństwa całkowitego - test może być pozytywny u chorych i zdrowych",
        "expression": "$P(T^+) = P(T^+|C) \\cdot P(C) + P(T^+|C') \\cdot P(C')$",
        "explanation": "Prawdopodobieństwo pozytywnego testu to suma prawdopodobieństw dla chorych i zdrowych"
      },
      {
        "step": 8,
        "hint": "Podstaw wszystkie znane wartości do wzoru na $P(T^+)$",
        "expression": "$P(T^+) = 0,99 \\cdot 0,001 + 0,05 \\cdot 0,999 = 0,00099 + 0,04995 = 0,05094$",
        "explanation": "Obliczamy prawdopodobieństwo pozytywnego wyniku testu"
      },
      {
        "step": 9,
        "hint": "Teraz możesz podstawić wszystkie wartości do wzoru Bayesa",
        "expression": "$P(C|T^+) = \\frac{0,99 \\cdot 0,001}{0,05094} = \\frac{0,00099}{0,05094}$",
        "explanation": "Podstawiamy do wzoru Bayesa"
      },
      {
        "step": 10,
        "hint": "Wykonaj końcowe obliczenie i wyraź wynik w procentach",
        "expression": "$P(C|T^+) = \\frac{0,00099}{0,05094} \\approx 0,0194 = 1,94\\%$",
        "explanation": "Prawdopodobieństwo rzeczywistej choroby przy pozytywnym teście wynosi około $1,94\\%$"
      }
    ],
    "solutions": [
      "$P(C|T^+) \\approx 1,94\\%$"
    ],
    "parameters": {
      "interpretation": "Mimo wysokiej czułości i specyficzności testu, niska częstość występowania choroby sprawia, że większość pozytywnych wyników to fałszywe alarmy"
    },
    "feedback": {
      "warnings": [
        {
          "type": "vague_hint",
          "step": 1,
          "message": "Hint jest zbyt ogólny. Bądź bardziej konkretny.",
          "severity": "warning",
          "hint": "Jakie zdarzenia możesz zdefiniować na podstawie danych z zadania? Pomyśl o chorobie i wyniku testu",
          "vagueWords": [
            "pomyśl",
            "może"
          ]
        },
        {
          "type": "vague_hint",
          "step": 2,
          "message": "Hint jest zbyt ogólny. Bądź bardziej konkretny.",
          "severity": "warning",
          "hint": "Jak możesz zapisać dane z zadania w języku prawdopodobieństwa? Zwróć uwagę na czułość, specyficzność i częstość występowania",
          "vagueWords": [
            "może"
          ]
        },
        {
          "type": "vague_hint",
          "step": 4,
          "message": "Hint jest zbyt ogólny. Bądź bardziej konkretny.",
          "severity": "warning",
          "hint": "Jakie dodatkowe prawdopodobieństwa możesz wyznaczyć z danych? Pamiętaj o dopełnieniach zdarzeń",
          "vagueWords": [
            "może"
          ]
        },
        {
          "type": "vague_hint",
          "step": 5,
          "message": "Hint jest zbyt ogólny. Bądź bardziej konkretny.",
          "severity": "warning",
          "hint": "Jak ze specyficzności możesz wyznaczyć prawdopodobieństwo fałszywie pozytywnego wyniku?",
          "vagueWords": [
            "może"
          ]
        },
        {
          "type": "vague_hint",
          "step": 6,
          "message": "Hint jest zbyt ogólny. Bądź bardziej konkretny.",
          "severity": "warning",
          "hint": "Który wzór pozwoli ci obliczyć $P(C|T^+)$? Pomyśl o wzorze Bayesa",
          "vagueWords": [
            "pomyśl"
          ]
        },
        {
          "type": "vague_hint",
          "step": 7,
          "message": "Hint jest zbyt ogólny. Bądź bardziej konkretny.",
          "severity": "warning",
          "hint": "Jak obliczyć $P(T^+)$? Zastanów się nad prawem prawdopodobieństwa całkowitego - test może być pozytywny u chorych i zdrowych",
          "vagueWords": [
            "zastanów się",
            "może"
          ]
        },
        {
          "type": "vague_hint",
          "step": 9,
          "message": "Hint jest zbyt ogólny. Bądź bardziej konkretny.",
          "severity": "warning",
          "hint": "Teraz możesz podstawić wszystkie wartości do wzoru Bayesa",
          "vagueWords": [
            "może"
          ]
        }
      ],
      "qualityScore": 4,
      "metrics": {
        "avgExplanationLength": 65,
        "maxExplanationLength": 86,
        "vagueWordsCount": 9,
        "problematicStepsPercentage": 70,
        "warningTypeCounts": {
          "vague_hint": 7
        }
      },
      "timestamp": "2025-09-09T04:55:26.506Z"
    }
  },
  {
    "id": "tex_problem_2",
    "topic": "Podstawy matematyki",
    "statement": "Fabryka produkuje części na trzech maszynach: A ($50\\%$ produkcji), B ($30\\%$ produkcji) i C ($20\\%$ produkcji). Prawdopodobieństwo wyprodukowania wadliwej części wynosi: $2\\%$ dla maszyny A, $3\\%$ dla B i $5\\%$ dla C. Jeśli losowo wybrana część okazała się wadliwa, jakie jest prawdopodobieństwo, że została wyprodukowana na maszynie B?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie zdarzenia możesz zdefiniować w tym problemie? Pomyśl o maszynach i wadliwości części",
        "expression": "$A$ - część z maszyny A, $B$ - część z maszyny B, $C$ - część z maszyny C, $W$ - część wadliwa",
        "explanation": "Definiujemy zdarzenia dla lepszej przejrzystości obliczeń"
      },
      {
        "step": 2,
        "hint": "Jakie prawdopodobieństwa możesz odczytać bezpośrednio z treści zadania?",
        "expression": "$P(A) = 0.5$, $P(B) = 0.3$, $P(C) = 0.2$",
        "explanation": "Prawdopodobieństwa produkcji na poszczególnych maszynach"
      },
      {
        "step": 3,
        "hint": "Jakie są prawdopodobieństwa wadliwości dla każdej maszyny?",
        "expression": "$P(W|A) = 0.02$, $P(W|B) = 0.03$, $P(W|C) = 0.05$",
        "explanation": "Prawdopodobieństwa warunkowe wadliwości przy danej maszynie"
      },
      {
        "step": 4,
        "hint": "Szukasz prawdopodobieństwa warunkowego. Jaki wzór łączy prawdopodobieństwo warunkowe z prawdopodobieństwami bezwarunkowymi?",
        "expression": "$P(B|W) = \\frac{P(W|B) \\cdot P(B)}{P(W)}$",
        "explanation": "Stosujemy wzór Bayesa dla prawdopodobieństwa warunkowego"
      },
      {
        "step": 5,
        "hint": "Masz licznik wzoru Bayesa. Jak obliczyć mianownik $P(W)$? Które maszyny mogą wyprodukować wadliwą część?",
        "expression": "$P(W) = P(W|A) \\cdot P(A) + P(W|B) \\cdot P(B) + P(W|C) \\cdot P(C)$",
        "explanation": "Używamy wzoru na prawdopodobieństwo całkowite - wadliwa część może pochodzić z każdej maszyny"
      },
      {
        "step": 6,
        "hint": "Podstaw konkretne wartości do wzoru na prawdopodobieństwo całkowite",
        "expression": "$P(W) = 0.02 \\cdot 0.5 + 0.03 \\cdot 0.3 + 0.05 \\cdot 0.2$",
        "explanation": "Podstawiamy znane prawdopodobieństwa"
      },
      {
        "step": 7,
        "hint": "Wykonaj obliczenia dla każdego składnika sumy",
        "expression": "$P(W) = 0.01 + 0.009 + 0.01 = 0.029$",
        "explanation": "Obliczamy: $0.02 \\cdot 0.5 = 0.01$, $0.03 \\cdot 0.3 = 0.009$, $0.05 \\cdot 0.2 = 0.01$"
      },
      {
        "step": 8,
        "hint": "Teraz możesz obliczyć licznik wzoru Bayesa. Ile wynosi $P(W|B) \\cdot P(B)$?",
        "expression": "$P(W|B) \\cdot P(B) = 0.03 \\cdot 0.3 = 0.009$",
        "explanation": "Obliczamy licznik wzoru Bayesa"
      },
      {
        "step": 9,
        "hint": "Masz już licznik i mianownik. Podstaw do wzoru Bayesa",
        "expression": "$P(B|W) = \\frac{0.009}{0.029}$",
        "explanation": "Podstawiamy obliczone wartości do wzoru Bayesa"
      },
      {
        "step": 10,
        "hint": "Wykonaj dzielenie i wyraź wynik jako ułamek zwykły lub procent",
        "expression": "$P(B|W) = \\frac{9}{29} \\approx 0.31 = 31\\%$",
        "explanation": "Upraszczamy ułamek $\\frac{0.009}{0.029} = \\frac{9}{29}$ i obliczamy wartość przybliżoną"
      }
    ],
    "solutions": [
      "$P(B|W) = \\frac{9}{29} \\approx 31\\%$"
    ],
    "parameters": {
      "method": "Wzór Bayesa i prawdopodobieństwo całkowite"
    },
    "feedback": {
      "warnings": [
        {
          "type": "vague_hint",
          "step": 1,
          "message": "Hint jest zbyt ogólny. Bądź bardziej konkretny.",
          "severity": "warning",
          "hint": "Jakie zdarzenia możesz zdefiniować w tym problemie? Pomyśl o maszynach i wadliwości części",
          "vagueWords": [
            "pomyśl",
            "może"
          ]
        },
        {
          "type": "vague_hint",
          "step": 2,
          "message": "Hint jest zbyt ogólny. Bądź bardziej konkretny.",
          "severity": "warning",
          "hint": "Jakie prawdopodobieństwa możesz odczytać bezpośrednio z treści zadania?",
          "vagueWords": [
            "może"
          ]
        },
        {
          "type": "vague_hint",
          "step": 8,
          "message": "Hint jest zbyt ogólny. Bądź bardziej konkretny.",
          "severity": "warning",
          "hint": "Teraz możesz obliczyć licznik wzoru Bayesa. Ile wynosi $P(W|B) \\cdot P(B)$?",
          "vagueWords": [
            "może"
          ]
        }
      ],
      "qualityScore": 8,
      "metrics": {
        "avgExplanationLength": 61,
        "maxExplanationLength": 93,
        "vagueWordsCount": 4,
        "problematicStepsPercentage": 30,
        "warningTypeCounts": {
          "vague_hint": 3
        }
      },
      "timestamp": "2025-09-09T04:55:46.670Z"
    }
  },
  {
    "id": "tex_problem_3",
    "topic": "Podstawy matematyki",
    "statement": "W talii znajdują się 3 karty: jedna z dwoma czerwonymi stronami (RR), jedna z dwoma czarnymi stronami (BB) i jedna z jedną czerwoną i jedną czarną stroną (RB). Losujemy kartę i kładziemy na stole - widoczna strona jest czerwona. Jakie jest prawdopodobieństwo, że druga strona tej karty też jest czerwona?",
    "steps": [
      {
        "step": 1,
        "hint": "Skoro widzimy czerwoną stronę, które karty mogły zostać wylosowane? Zastanów się, które karty mają czerwone strony.",
        "expression": "Możliwe karty: RR lub RB",
        "explanation": "Karta BB nie może być wylosowana, bo nie ma czerwonych stron"
      },
      {
        "step": 2,
        "hint": "Ile czerwonych stron ma każda z możliwych kart? To pomoże określić prawdopodobieństwa.",
        "expression": "Karta RR: 2 czerwone strony, Karta RB: 1 czerwona strona",
        "explanation": "Liczymy wszystkie czerwone strony w możliwych kartach"
      },
      {
        "step": 3,
        "hint": "Jaka jest łączna liczba czerwonych stron w talii? To będzie mianownik w prawdopodobieństwie.",
        "expression": "Łączna liczba czerwonych stron = $2 + 1 = 3$",
        "explanation": "Sumujemy czerwone strony z kart RR i RB"
      },
      {
        "step": 4,
        "hint": "Skoro każda czerwona strona ma równe szanse bycia wylosowaną, jakie jest prawdopodobieństwo wylosowania karty RR?",
        "expression": "$P(karta RR | czerwona strona) = \\frac{2}{3}$",
        "explanation": "Karta RR ma 2 z 3 czerwonych stron, więc prawdopodobieństwo to $\\frac{2}{3}$"
      },
      {
        "step": 5,
        "hint": "Analogicznie, jakie jest prawdopodobieństwo wylosowania karty RB?",
        "expression": "$P(karta RB | czerwona strona) = \\frac{1}{3}$",
        "explanation": "Karta RB ma 1 z 3 czerwonych stron, więc prawdopodobieństwo to $\\frac{1}{3}$"
      },
      {
        "step": 6,
        "hint": "Jeśli wylosowaliśmy kartę RR i widzimy czerwoną stronę, jaka jest druga strona?",
        "expression": "Jeśli karta RR: druga strona jest czerwona z prawdopodobieństwem $1$",
        "explanation": "Karta RR ma obie strony czerwone, więc druga strona na pewno jest czerwona"
      },
      {
        "step": 7,
        "hint": "Jeśli wylosowaliśmy kartę RB i widzimy czerwoną stronę, jaka jest druga strona?",
        "expression": "Jeśli karta RB: druga strona jest czerwona z prawdopodobieństwem $0$",
        "explanation": "Karta RB ma jedną czerwoną i jedną czarną stronę, więc druga strona jest czarna"
      },
      {
        "step": 8,
        "hint": "Zastosuj wzór na prawdopodobieństwo całkowite. Jak połączyć prawdopodobieństwa z poprzednich kroków?",
        "expression": "$P(druga czerwona | pierwsza czerwona) = P(RR | czerwona) \\cdot 1 + P(RB | czerwona) \\cdot 0$",
        "explanation": "Używamy wzoru na prawdopodobieństwo całkowite"
      },
      {
        "step": 9,
        "hint": "Podstaw obliczone wartości i wykonaj końcowe obliczenie",
        "expression": "$P(druga czerwona | pierwsza czerwona) = \\frac{2}{3} \\cdot 1 + \\frac{1}{3} \\cdot 0 = \\frac{2}{3}$",
        "explanation": "Prawdopodobieństwo, że druga strona jest czerwona wynosi $\\frac{2}{3}$"
      }
    ],
    "solutions": [
      "$P = \\frac{2}{3}$"
    ],
    "parameters": {
      "method": "Wzór Bayesa / prawdopodobieństwo warunkowe"
    },
    "feedback": {
      "warnings": [
        {
          "type": "vague_hint",
          "step": 1,
          "message": "Hint jest zbyt ogólny. Bądź bardziej konkretny.",
          "severity": "warning",
          "hint": "Skoro widzimy czerwoną stronę, które karty mogły zostać wylosowane? Zastanów się, które karty mają czerwone strony.",
          "vagueWords": [
            "zastanów się"
          ]
        },
        {
          "type": "vague_hint",
          "step": 2,
          "message": "Hint jest zbyt ogólny. Bądź bardziej konkretny.",
          "severity": "warning",
          "hint": "Ile czerwonych stron ma każda z możliwych kart? To pomoże określić prawdopodobieństwa.",
          "vagueWords": [
            "może"
          ]
        }
      ],
      "qualityScore": 9,
      "metrics": {
        "avgExplanationLength": 64,
        "maxExplanationLength": 79,
        "vagueWordsCount": 2,
        "problematicStepsPercentage": 22,
        "warningTypeCounts": {
          "vague_hint": 2
        }
      },
      "timestamp": "2025-09-09T04:56:03.358Z"
    }
  },
  {
    "id": "tex_problem_4",
    "topic": "Podstawy matematyki",
    "statement": "Student rozwiązuje test wielokrotnego wyboru. Prawdopodobieństwo, że zna odpowiedź wynosi $0,7$. Jeśli zna odpowiedź, zawsze wybiera poprawną. Jeśli nie zna, zgaduje spośród $4$ opcji. Student odpowiedział poprawnie na pierwsze dwa pytania. Jakie jest prawdopodobieństwo, że znał odpowiedzi na oba pytania?",
    "steps": [
      {
        "step": 1,
        "hint": "Jakie są możliwe przyczyny udzielenia poprawnej odpowiedzi przez studenta?",
        "expression": "$P(poprawna) = P(zna) \\cdot P(poprawna|zna) + P(nie zna) \\cdot P(poprawna|nie zna)$",
        "explanation": "Używamy wzoru na prawdopodobieństwo całkowite - student może odpowiedzieć poprawnie znając odpowiedź lub zgadując"
      },
      {
        "step": 2,
        "hint": "Podstaw znane wartości prawdopodobieństw. Ile wynosi prawdopodobieństwo zgadnięcia przy 4 opcjach?",
        "expression": "$P(poprawna) = 0,7 \\cdot 1 + 0,3 \\cdot \\frac{1}{4} = 0,7 + 0,075 = 0,775$",
        "explanation": "Jeśli zna - zawsze poprawnie, jeśli nie zna - szansa $\\frac{1}{4}$ na zgadnięcie"
      },
      {
        "step": 3,
        "hint": "Skoro pytania są niezależne, jak obliczyć prawdopodobieństwo dwóch poprawnych odpowiedzi z rzędu?",
        "expression": "$P(dwie poprawne) = P(poprawna)^2 = (0,775)^2 = 0,600625$",
        "explanation": "Prawdopodobieństwo dwóch niezależnych zdarzeń to iloczyn ich prawdopodobieństw"
      },
      {
        "step": 4,
        "hint": "Teraz zastanów się: na ile sposobów student może znać odpowiedzi na oba pytania?",
        "expression": "$P(zna oba i dwie poprawne) = P(zna)^2 \\cdot P(poprawna|zna)^2 = (0,7)^2 \\cdot 1^2 = 0,49$",
        "explanation": "Jeśli zna oba pytania, to na pewno odpowie poprawnie na oba"
      },
      {
        "step": 5,
        "hint": "Masz prawdopodobieństwo zdarzenia przecięcia i prawdopodobieństwo warunku. Który wzór pozwoli ci obliczyć prawdopodobieństwo warunkowe?",
        "expression": "$P(zna oba|dwie poprawne) = \\frac{P(zna oba i dwie poprawne)}{P(dwie poprawne)}$",
        "explanation": "Stosujemy definicję prawdopodobieństwa warunkowego"
      },
      {
        "step": 6,
        "hint": "Podstaw obliczone wartości do wzoru na prawdopodobieństwo warunkowe",
        "expression": "$P(zna oba|dwie poprawne) = \\frac{0,49}{0,600625} = \\frac{49}{60,0625}$",
        "explanation": "Dzielimy prawdopodobieństwo zdarzenia przecięcia przez prawdopodobieństwo warunku"
      },
      {
        "step": 7,
        "hint": "Aby uprościć ułamek, pomnóż licznik i mianownik przez odpowiednią potęgę 10",
        "expression": "$\\frac{49}{60,0625} = \\frac{49 \\cdot 10000}{60,0625 \\cdot 10000} = \\frac{490000}{600625}$",
        "explanation": "Mnożymy przez $10000$, aby pozbyć się przecinka w mianowniku"
      },
      {
        "step": 8,
        "hint": "Sprawdź czy można skrócić otrzymany ułamek. Znajdź największy wspólny dzielnik licznika i mianownika",
        "expression": "$\\frac{490000}{600625} = \\frac{196}{241} \\approx 0,8133$",
        "explanation": "Po skróceniu przez $2500$ otrzymujemy ułamek w najprostszej postaci"
      }
    ],
    "solutions": [
      "$\\frac{196}{241} \\approx 0,8133$"
    ],
    "parameters": {
      "method": "Wzór Bayesa (prawdopodobieństwo warunkowe)"
    },
    "feedback": {
      "warnings": [
        {
          "type": "vague_hint",
          "step": 4,
          "message": "Hint jest zbyt ogólny. Bądź bardziej konkretny.",
          "severity": "warning",
          "hint": "Teraz zastanów się: na ile sposobów student może znać odpowiedzi na oba pytania?",
          "vagueWords": [
            "zastanów się",
            "może"
          ]
        }
      ],
      "qualityScore": 10,
      "metrics": {
        "avgExplanationLength": 74,
        "maxExplanationLength": 113,
        "vagueWordsCount": 2,
        "problematicStepsPercentage": 13,
        "warningTypeCounts": {
          "vague_hint": 1
        }
      },
      "timestamp": "2025-09-09T04:56:23.732Z"
    }
  },
  {
    "id": "tex_problem_5",
    "topic": "Podstawy matematyki",
    "statement": "W pewnej grze losujemy monetę z worka zawierającego 3 monety: jedną uczciwą ($P(\\text{orzeł}) = 0.5$) i dwie nieuczciwe ($P(\\text{orzeł}) = 0.6$ i $P(\\text{orzeł}) = 0.4$). Rzucamy wylosowaną monetą 5 razy i otrzymujemy sekwencję: orzeł, orzeł, reszka, orzeł, orzeł. Oblicz prawdopodobieństwo a posteriori dla każdej z trzech monet oraz prawdopodobieństwo, że szósty rzut da orła.",
    "steps": [
      {
        "step": 1,
        "hint": "Oznacz monety i ich prawdopodobieństwa. Jakie są prawdopodobieństwa a priori wylosowania każdej monety?",
        "expression": "$M_1$: uczciwa ($p_1 = 0.5$), $M_2$: nieuczciwa ($p_2 = 0.6$), $M_3$: nieuczciwa ($p_3 = 0.4$)",
        "explanation": "Prawdopodobieństwa a priori: $P(M_1) = P(M_2) = P(M_3) = \\frac{1}{3}$"
      },
      {
        "step": 2,
        "hint": "Oznacz obserwowaną sekwencję. Ile orłów i ile reszek otrzymaliśmy?",
        "expression": "Sekwencja: OORRO, czyli 4 orły i 1 reszka",
        "explanation": "Musimy obliczyć prawdopodobieństwo tej konkretnej sekwencji dla każdej monety"
      },
      {
        "step": 3,
        "hint": "Jak obliczyć prawdopodobieństwo konkretnej sekwencji dla monety $M_1$? Pamiętaj, że rzuty są niezależne",
        "expression": "$P(OORRO|M_1) = 0.5^4 \\cdot 0.5^1 = 0.5^5 = \\frac{1}{32}$",
        "explanation": "Dla monety uczciwej każdy rzut ma prawdopodobieństwo $0.5$"
      },
      {
        "step": 4,
        "hint": "Oblicz analogicznie prawdopodobieństwo sekwencji dla pozostałych monet",
        "expression": "$P(OORRO|M_2) = 0.6^4 \\cdot 0.4^1 = 0.1296 \\cdot 0.4 = 0.05184$",
        "explanation": "Dla monety $M_2$: 4 orły z prawdopodobieństwem $0.6$ i 1 reszka z prawdopodobieństwem $0.4$"
      },
      {
        "step": 5,
        "hint": "Dokończ obliczenia dla trzeciej monety",
        "expression": "$P(OORRO|M_3) = 0.4^4 \\cdot 0.6^1 = 0.0256 \\cdot 0.6 = 0.01536$",
        "explanation": "Dla monety $M_3$: 4 orły z prawdopodobieństwem $0.4$ i 1 reszka z prawdopodobieństwem $0.6$"
      },
      {
        "step": 6,
        "hint": "Aby zastosować wzór Bayesa, potrzebujesz prawdopodobieństwa całkowitego. Jak je obliczyć?",
        "expression": "$P(OORRO) = \\sum_{i=1}^{3} P(OORRO|M_i) \\cdot P(M_i)$",
        "explanation": "Prawdopodobieństwo całkowite to suma iloczynów prawdopodobieństw warunkowych i a priori"
      },
      {
        "step": 7,
        "hint": "Podstaw obliczone wartości do wzoru na prawdopodobieństwo całkowite",
        "expression": "$P(OORRO) = \\frac{1}{32} \\cdot \\frac{1}{3} + 0.05184 \\cdot \\frac{1}{3} + 0.01536 \\cdot \\frac{1}{3}$",
        "explanation": "Każda moneta ma prawdopodobieństwo a priori równe $\\frac{1}{3}$"
      },
      {
        "step": 8,
        "hint": "Oblicz wartość liczbową prawdopodobieństwa całkowitego",
        "expression": "$P(OORRO) = \\frac{1}{96} + \\frac{0.05184}{3} + \\frac{0.01536}{3} = 0.01042 + 0.01728 + 0.00512 = 0.03282$",
        "explanation": "Sumujemy wszystkie składniki po przeliczeniu na dziesiętne"
      },
      {
        "step": 9,
        "hint": "Teraz możesz zastosować wzór Bayesa. Jak wygląda prawdopodobieństwo a posteriori dla pierwszej monety?",
        "expression": "$P(M_1|OORRO) = \\frac{P(OORRO|M_1) \\cdot P(M_1)}{P(OORRO)} = \\frac{\\frac{1}{32} \\cdot \\frac{1}{3}}{0.03282} = \\frac{0.01042}{0.03282} = 0.317$",
        "explanation": "Wzór Bayesa: prawdopodobieństwo a posteriori to iloraz prawdopodobieństwa łącznego i całkowitego"
      },
      {
        "step": 10,
        "hint": "Oblicz prawdopodobieństwa a posteriori dla pozostałych monet",
        "expression": "$P(M_2|OORRO) = \\frac{0.01728}{0.03282} = 0.527$, $P(M_3|OORRO) = \\frac{0.00512}{0.03282} = 0.156$",
        "explanation": "Analogicznie stosujemy wzór Bayesa dla monet $M_2$ i $M_3$"
      },
      {
        "step": 11,
        "hint": "Aby obliczyć prawdopodobieństwo orła w szóstym rzucie, zastosuj prawo prawdopodobieństwa całkowitego. Jakie są prawdopodobieństwa orła dla każdej monety?",
        "expression": "$P(orzeł w 6. rzucie) = \\sum_{i=1}^{3} P(orzeł|M_i) \\cdot P(M_i|OORRO)$",
        "explanation": "Używamy prawdopodobieństw a posteriori jako wag dla prawdopodobieństw orła"
      },
      {
        "step": 12,
        "hint": "Podstaw wszystkie obliczone wartości do wzoru",
        "expression": "$P(orzeł w 6. rzucie) = 0.5 \\cdot 0.317 + 0.6 \\cdot 0.527 + 0.4 \\cdot 0.156$",
        "explanation": "Mnożymy prawdopodobieństwo orła dla każdej monety przez jej prawdopodobieństwo a posteriori"
      },
      {
        "step": 13,
        "hint": "Oblicz końcowy wynik",
        "expression": "$P(orzeł w 6. rzucie) = 0.1585 + 0.3162 + 0.0624 = 0.5371$",
        "explanation": "Sumujemy wszystkie składniki aby otrzymać prawdopodobieństwo orła w szóstym rzucie"
      }
    ],
    "solutions": [
      "Prawdopodobieństwa a posteriori: $P(M_1|dane) = 0.317$, $P(M_2|dane) = 0.527$, $P(M_3|dane) = 0.156$",
      "Prawdopodobieństwo orła w szóstym rzucie: $P(orzeł) = 0.537$"
    ],
    "parameters": {
      "method": "Wzór Bayesa i prawo prawdopodobieństwa całkowitego"
    },
    "feedback": {
      "warnings": [
        {
          "type": "vague_hint",
          "step": 9,
          "message": "Hint jest zbyt ogólny. Bądź bardziej konkretny.",
          "severity": "warning",
          "hint": "Teraz możesz zastosować wzór Bayesa. Jak wygląda prawdopodobieństwo a posteriori dla pierwszej monety?",
          "vagueWords": [
            "może"
          ]
        }
      ],
      "qualityScore": 9.5,
      "metrics": {
        "avgExplanationLength": 77,
        "maxExplanationLength": 96,
        "vagueWordsCount": 1,
        "problematicStepsPercentage": 8,
        "warningTypeCounts": {
          "vague_hint": 1
        }
      },
      "timestamp": "2025-09-09T04:56:58.355Z"
    }
  }
]
